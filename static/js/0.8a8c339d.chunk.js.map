{"version":3,"sources":["../node_modules/process/browser.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/lodash/lodash.js","../node_modules/inherits/inherits_browser.js","../node_modules/legoino-device-information/src/index.js","../node_modules/lodash/_root.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_getNative.js","../node_modules/events/events.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/toString.js","../node_modules/webpack/buildin/module.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_toKey.js","../node_modules/property-expr/index.js","../node_modules/pouchdb/lib/index-browser.es.js","../node_modules/lodash/has.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/isObject.js","../node_modules/lodash/_Map.js","../node_modules/lodash/isLength.js","../node_modules/lodash/keys.js","../node_modules/nanoclone/src/index.js","../node_modules/yup/es/util/printValue.js","../node_modules/yup/es/locale.js","../node_modules/yup/es/util/isSchema.js","../node_modules/yup/es/Condition.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/yup/es/util/toArray.js","../node_modules/yup/es/ValidationError.js","../node_modules/yup/es/util/runTests.js","../node_modules/yup/es/Reference.js","../node_modules/yup/es/util/createValidation.js","../node_modules/yup/es/util/reach.js","../node_modules/yup/es/util/ReferenceSet.js","../node_modules/yup/es/schema.js","../node_modules/yup/es/mixed.js","../node_modules/yup/es/util/isAbsent.js","../node_modules/yup/es/boolean.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/yup/es/string.js","../node_modules/yup/es/number.js","../node_modules/yup/es/util/isodate.js","../node_modules/yup/es/date.js","../node_modules/yup/es/util/sortFields.js","../node_modules/yup/es/util/sortByKeyOrder.js","../node_modules/yup/es/object.js","../node_modules/yup/es/array.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/eq.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/mapValues.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_createCompounder.js","../node_modules/lodash/_hasUnicode.js","../node_modules/immediate/lib/index.js","../node_modules/immediate/lib/queueMicrotask.js","../node_modules/immediate/lib/mutation.js","../node_modules/immediate/lib/messageChannel.js","../node_modules/immediate/lib/stateChange.js","../node_modules/immediate/lib/timeout.js","../node_modules/spark-md5/spark-md5.js","../node_modules/vuvuzela/index.js","../node_modules/argsarray/index.js","../node_modules/legoino-device-information/src/devices/OpenBio.js","../node_modules/legoino-device-information/src/devices/OpenBio6.js","../node_modules/legoino-device-information/src/devices/OpenSpectro.js","../node_modules/legoino-device-information/src/devices/SimpleSpectro.js","../node_modules/legoino-device-information/src/devices/Solar2015.js","../node_modules/legoino-device-information/src/devices/Beemos.js","../node_modules/legoino-device-information/src/devices/Computer.js","../node_modules/lodash/_baseHas.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/memoize.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/get.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/identity.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/snakeCase.js","../node_modules/lodash/_arrayReduce.js","../node_modules/lodash/deburr.js","../node_modules/lodash/_deburrLetter.js","../node_modules/lodash/_basePropertyOf.js","../node_modules/lodash/words.js","../node_modules/lodash/_asciiWords.js","../node_modules/lodash/_hasUnicodeWord.js","../node_modules/lodash/_unicodeWords.js","../node_modules/lodash/camelCase.js","../node_modules/lodash/capitalize.js","../node_modules/lodash/upperFirst.js","../node_modules/lodash/_createCaseFirst.js","../node_modules/lodash/_castSlice.js","../node_modules/lodash/_baseSlice.js","../node_modules/lodash/_stringToArray.js","../node_modules/lodash/_asciiToArray.js","../node_modules/lodash/_unicodeToArray.js","../node_modules/lodash/mapKeys.js","../node_modules/toposort/index.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/bytesToUuid.js","../node_modules/uuid/dist/esm-browser/v4.js"],"names":["cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","isArray","F","s","n","done","value","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","undefined","FUNC_ERROR_TEXT","HASH_UNDEFINED","PLACEHOLDER","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","INFINITY","MAX_SAFE_INTEGER","NAN","MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","source","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrimStart","reWhitespace","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsVarRange","rsBreakRange","rsMathOpRange","rsApos","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsOptVar","rsSeq","join","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","parseFloat","freeParseInt","parseInt","freeGlobal","global","Object","freeSelf","self","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","types","require","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","func","thisArg","arrayAggregator","setter","iteratee","accumulator","index","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","result","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","values","offset","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","key","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","object","basePropertyOf","baseReduce","current","baseTimes","baseTrim","string","slice","trimmedEndIndex","replace","baseUnary","baseValues","props","cacheHas","cache","has","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","test","mapToArray","map","size","forEach","overArg","transform","arg","replaceHolders","setToArray","set","setToPairs","stringSize","lastIndex","unicodeSize","stringToArray","match","unicodeToArray","split","asciiToArray","charAt","unescapeHtmlChar","_","runInContext","context","defaults","pick","Date","Math","String","arrayProto","funcProto","objectProto","coreJsData","funcToString","toString","hasOwnProperty","idCounter","maskSrcKey","uid","exec","keys","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Buffer","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","objectCreate","create","propertyIsEnumerable","splice","spreadableSymbol","isConcatSpreadable","symIterator","symToStringTag","toStringTag","defineProperty","getNative","ctxClearTimeout","ctxNow","now","ctxSetTimeout","nativeCeil","ceil","nativeFloor","floor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","max","nativeMin","min","nativeNow","nativeParseInt","nativeRandom","random","nativeReverse","reverse","DataView","Map","Promise","Set","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","isObject","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","add","Stack","data","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","get","number","lower","upper","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","constructor","input","initCloneArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","buffer","byteOffset","byteLength","cloneDataView","cloneTypedArray","regexp","cloneRegExp","symbol","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","includes","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","pop","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","isFunction","baseGet","path","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","Infinity","seen","baseInvoke","parent","last","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","message","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","comparer","sort","baseSortBy","objCriteria","criteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","indexOf","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","start","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","end","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","id","copy","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","callback","words","deburr","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","newHolders","createRecurry","fn","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","defaultValue","createOver","arrayFunc","createPadding","chars","charsLength","createRange","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","pair","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrLength","arrStacked","arrValue","flatten","otherFunc","type","isKeyable","getValue","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","resolve","ctorString","isMaskable","stubFalse","otherArgs","oldArray","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","count","lastCalled","stamp","remaining","rand","memoize","memoizeCapped","charCodeAt","quote","subString","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bind","bindKey","WRAP_BIND_FLAG","debounce","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","cancel","flush","defer","delay","resolver","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","isNumber","isString","lt","lte","toArray","iteratorToArray","remainder","toLength","isBinary","assign","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","merge","omit","CLONE_DEEP_FLAG","basePick","pickBy","prop","toPairs","toPairsIn","camelCase","word","toLowerCase","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","toUpperCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","range","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","chunk","compact","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","filter","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","orderBy","propertyOf","pullAllBy","pullAllWith","reject","remove","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extend","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","target","position","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNaN","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduce","reduceRight","repeat","sample","some","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sum","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","times","toLower","toSafeInteger","toUpper","trim","trimEnd","trimStart","truncate","omission","search","substring","newEnd","unescape","uniqueId","prefix","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","define","ctor","superCtor","super_","enumerable","writable","configurable","TempCtor","devices","OpenBio","OpenBio6","OpenSpectro","SimpleSpectro","Solar2015","Beemos","Computer","fromDeviceID","fromCharCode","ldength","firstCharacter","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","ownKeys","getOwnPropertyNames","NumberIsNaN","Number","EventEmitter","init","emitter","errorListener","eventTargetAgnosticAddListener","handler","flags","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","m","events","existing","warning","newListener","unshift","warned","w","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","_listeners","unwrap","evlistener","arr","ret","unwrapListeners","arrayClone","listenerCount","addEventListener","wrapListener","removeEventListener","RangeError","setMaxListeners","getMaxListeners","doError","error","er","list","originalListener","shift","spliceOne","rawListeners","eventNames","webpackPolyfill","deprecate","children","l","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","maxSize","_maxSize","_size","_values","SPLIT_REGEX","DIGIT_REGEX","LEAD_DIGIT_REGEX","SPEC_CHAR_REGEX","CLEAN_QUOTES_REGEX","pathCache","setCache","getCache","normalizePath","part","isQuoted","str","shouldBeQuoted","hasLeadingNumber","hasSpecialChars","parts","obj","getter","safe","segments","cb","iter","idx","isBracket","ExportedSet","ExportedMap","mangle","unmangle","Map$1","_store","Set$1","cloneBinaryObject","buff","targetArray","sourceArray","webkitSlice","mangled","delete","res","getOwnPropertyDescriptor","species","supportsMapAndSet","newObject","toISOString","Blob","isBinaryObject","called","getArguments","toPromise","usedCB","promise","fulfill","resp","mesg","then","adapterFun","_closed","_destroyed","logArgs","origCallback","responseArgs","logApiCall","taskqueue","isReady","addTask","failed","hasLocal","identityFunction","x","formatResultForOpenRevsGet","ok","bulkGet","db","opts","requests","docs","requestsById","request","numDocs","numDone","perDocResults","checkDone","results","info","collapseResultsAndFinish","allRequests","nextBatch","upTo","batch","docId","j","docIdx","docRequests","docOpts","open_revs","rev","formatResult","param","processBatch","localStorage","setItem","getItem","hasLocalStorage","Changes","EE","attachBrowserEvents","guardedConsole","defaultBackOff","maxTimeout","randomNumber","explainError","status","inherits","dbName","inprogress","eventFunction","changesOpts","changes","c","seq","since","cancelled","onChange","immediate","notifyLocalWindows","notify","$inject_Object_assign","to","nextSource","nextKey","PouchError","reason","JSON","stringify","MISSING_BULK_DOCS","MISSING_DOC","REV_CONFLICT","INVALID_ID","MISSING_ID","RESERVED_ID","UNKNOWN_ERROR","BAD_ARG","QUERY_PARSE_ERROR","DOC_VALIDATION","BAD_REQUEST","NOT_AN_OBJECT","IDB_ERROR","INVALID_REV","MISSING_STUB","createError","CustomPouchError","names","generateErrorFromResponse","filterChange","req","hasFilter","query","query_params","change","doc","filterReturn","msg","tryFilter","include_docs","attachments","att","_attachments","stub","arrs","invalidIdError","isRemote","_remote","parseDesignDocFunctionName","normalizeDesignDocFunctionName","normalized","qName","qParser","parser","parseUri","uri","encoded","decodeURIComponent","$0","$1","$2","scopeEval","scope","upsert","diffFun","docRev","_rev","newDoc","updated","_id","put","tryAndPut","thisAtob","atob","thisBtoa","btoa","createBlob","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","binaryStringToArrayBuffer","bin","buf","binStringToBluffer","binString","b64ToBluffer","b64","readAsBinaryString","blob","reader","FileReader","hasBinaryString","onloadend","binary","bytes","arrayBufferToBinaryString","readAsArrayBuffer","blobToBinaryString","blobOrBuffer","blobToBase64","base64","setImmediateShim","setImmediate","appendBlob","sliceBlob","appendString","appendBinary","binaryMd5","inputIsString","chunkSize","chunks","currentChunk","Md5","loadNextChunk","raw","rawToBase64","destroy","stringMd5","hash","deterministic_revs","clonedDoc","_rev_tree","v4","uuid","winningRev","metadata","winningId","winningPos","winningDeleted","node","toVisit","rev_tree","tree","ids","branches","pos","deleted","traverseRevTree","revs","newCtx","ctx","sortByPos","a","b","collectLeaves","leaves","isLeaf","acc","collectConflicts","win","conflicts","leaf","rootToLeaf","history","sortByPos$1","insertSorted","item","binarySearch","pathToTree","numStemmed","currentLeaf","compareTree","mergeTree","in_tree1","in_tree2","tree1","tree2","merged","doMerge","dontExpand","restree","branch","t1","t2","diff","candidateParents","trees","parentIdx","elements","elementsLen","el","newTree","stemmed","stemmedRevs","revHash","stem","getTrees","isDeleted","isLocalId","Changes$1","complete","ee","onDestroy","pending","lastSeq","isCancelled","tryCatchInChangeListener","validateChanges","processChange","changeList","style","_conflicts","compare","left","right","yankError","compareByIdThenRev","idCompare","_revisions","doNextCompaction","task","_compactionQueue","catch","last_seq","_compact","AbstractPouchDB","p","TaskQueue","PouchDB","__opts","auto_compaction","backend","adapter","adapters","preferredAdapters","adapterName","use_prefix","parseAdapter","_adapter","valid","fail","onDestroyed","from_constructor","onClosed","prepareForDestruction","ready","_changesFilterPlugin","validate","doChanges","continuous","live","normalize","shouldFilter","descending","newPromise","_changes","update_seq","post","bulkDocs","_putLocal","_deleted","_removeLocal","putDoc","_put","new_edits","force","oldRevId","newRevNum","newRevId","transformForceOptionToNewEditsOption","putAttachment","attachmentId","rev$$1","api","createAttachment","prevrevpos","content_type","revpos","removeAttachment","docOrId","optsOrRev","was_delete","revsDiff","missing","addToMissing","revId","_getRevisionTree","missingForId","processDoc","missingObj","compactDocument","maxHeight","revTree","height","edges","prnt","from","edge","computeHeight","candidates","_doCompaction","return_docs","promises","row","all","_getLocal","finishOpenRevs","latest","_get","revs_info","splittedRev","revNo","currentPath","hashIndex","indexOfRev","howMany","_revs_info","_getAttachment","getAttachment","allDocs","start_key","startkey","end_key","endkey","incompatibleOpt","allDocsKeysParse","_allDocs","close","_close","_info","db_name","_type","attachmentError","attachmentNameError","atts","cleanDocs","_bulkDocs","registerDependentDatabase","dependentDb","depDB","dependentDbs","usePrefix","destroyDb","_destroy","localDoc","deletedMap","trueName","execute","AbortController","abort","f$1","fetch","h","Headers","eventEmitter","Pouch","destructListeners","_destructionListeners","dbList","setUpEventEmitter","addToPreferredAdapters","plugin","__defaults","defaultOpts","PouchAlt","url","getFieldFromDoc","parsedField","parseField","fieldName","fields","ch","combinationFields","isCombinationalField","field","getKey","mergeAndedSelectors","selectors","selector","matcher","$eq","fieldMatchers","$gte","$gt","mergeGtGte","$lte","$lt","mergeLtLte","$ne","mergeNe","mergeEq","mergeAndedSelectorsNested","isAndInSelector","isAnd","massageSelector","wasAnded","orOrNor","subSelector","MIN_MAGNITUDE","collate","normalizeKey","ai","collationIndex","bi","stringCollate","arrayCollate","ak","bk","objectCollate","origKey","k","val","indexify","num","expFormat","toExponential","magnitude","neg","magString","padWith","upToLength","padding","targetLength","factor","abs","factorStr","toFixed","numToIndexableString","toIndexableString","objKey","parseNumber","originalIdx","numAsString","magAsString","metaStack","lastMetaElement","element","lastElementIndex","filterInMemoryFields","rows","requestDef","inMemoryFields","rowFilter","fieldSorter","getFieldValuesAsArray","sorting","aRow","bRow","collation","createFieldSorter","docFieldValue","orMatchers","matchCominationalSelector","matchSelector","userOperator","userValue","matchers","fieldExists","fieldIsNotUndefined","arrayContainsValue","mod","modField","neValue","arraySize","arrayContainsAllValues","regexMatch","typeMatch","filterName","changesHandler","doc_ids","viewName","ddoc","mapFun","views","rowsMatched","matchesSelector","filterFun","filters","toObject","reservedWords","dataWords","parseRevisionInfo","parseDoc","newEdits","dbOpts","nRevNum","revInfo","revisions","revisionIds","makeRevTreeFromRevisions","specialKey","preprocessString","blobType","asBinary","parseBase64","digest","preprocessAttachment","md5","preprocessBlob","updateDoc","revLimit","prev","docInfo","writeDoc","splitRev","targetPos","targetId","revExists","previousWinningRev","previouslyDeleted","isRoot","newRev","rev_map","winningRev$$1","winningRevIsDeleted","delta","processDocs","docInfos","fetchedDocs","tx","overallCallback","idsToDocs","docsDone","docsToDo","checkAllDocsDone","currentDoc","resultsIdx","docWritten","nextDoc","rootIsMissing","insertDoc","DOC_STORE","BY_SEQ_STORE","ATTACH_STORE","ATTACH_AND_SEQ_STORE","META_STORE","LOCAL_STORE","DETECT_BLOB_SUPPORT_STORE","safeJsonStringify","json","vuvuzela","idbError","evt","encodeMetadata","deletedOrLocal","decodeMetadata","storedObject","parse","safeJsonParse","decodeDoc","_doc_id_rev","readBlobData","body","asBlob","fetchAttachmentsIfNecessary","txn","attObj","objectStore","onsuccess","fetchAttachment","postProcessAttachments","attNames","compactRevs","possiblyOrphanedDigests","seqStore","attStore","attAndSeqStore","IDBKeyRange","bound","deleteOrphanedAttachments","openCursor","only","event","cursor","digestSeq","primaryKey","continue","openTransactionSafely","idb","stores","mode","transaction","idbBulkDocs","docStore","bySeqStore","attachStore","attachAndSeqStore","metaStore","docInfoError","metaDoc","allDocsProcessed","docCountDelta","preconditionErrored","_meta","blobSupport","onAllDocsProcessed","updateDocCountIfReady","docCount","newRevIsDeleted","isUpdate","collectResults","finishDoc","attachmentSaved","newAtt","saveAttachment","writeAttachments","afterPutDoc","revsToDelete","compactTree","metadataToStore","afterPutMetadata","attsAdded","attsToAdd","onerror","preventDefault","stopPropagation","insertAttachmentMappings","putReq","overallErr","docv","recv","processedAttachment","preprocessAttachments","txnResult","onabort","ontimeout","oncomplete","finish","digests","filename","verifyAttachment","attErr","verifyAttachments","numFetched","revs_limit","readMetadata","fetchExistingDocs","startTransaction","runBatchedCursor","keyRange","batchSize","onBatch","keysBatch","valuesBatch","pseudoCursor","onGetAll","onGetAllKeys","onCursor","getAll","newKeyRange","lastKey","upperOpen","code","lowerBound","idbAllDocs","keyRangeError","inclusiveEnd","inclusive_end","upperBound","createKeyRange","onResultsReady","updateSeq","docIdRevIndex","allDocsInner","fetchDocAsynchronously","batchValues","batchValue","batchKeys","returnVal","total_rows","onSuccess","maxKey","getMaxUpdateSeq","allDocsKeys","running","applyNext","docIds","numResults","docIdsToMetadata","onGetMetadata","docIdRev","objectStores","winningDocs","metadatas","fetchWinningDocAndMetadata","winningDoc","processMetadataAndWinningDoc","onBatchDone","filtered","blobSupportPromise","cachedDBs","openReqList","IdbPouch","tryCode","enqueueTask","thisCallback","createSchema","createObjectStore","keyPath","autoIncrement","createIndex","unique","addDeletedOrLocalIndex","createLocalStoreSchema","migrateLocalStore","localStore","local","seqCursor","addAttachAndSeqStore","migrateAttsAndSeqs","digestMap","migrateMetadata","decodeMetadataCompat","onGetMetadataSeq","fetchMetadataSeq","metadataSeq","instanceId","reqOpts","historyNode","attachId","attachment","blobData","doc_count","idb_attachment_format","oldRev","oStore","oldDoc","openReq","indexedDB","deleteDatabase","cached","open","onupgradeneeded","oldVersion","currentTarget","migrations","migration","onversionchange","storedMetaDoc","completeSetup","storeMetaDocIfReady","instanceKey","countDocs","blob$$1","matchedChrome","navigator","userAgent","matchedEdge","checkBlobSupport","CHANGES_TIMEOUT_BUFFER","supportsBulkGetMap","readAttachmentsAsBlobOrBuffer","encodeDocId","encodeURIComponent","preprocessAttachments$1","getHost","protocol","hasUrlPrefix","substr","user","password","auth","username","genDBUrl","genUrl","pathDel","host","port","paramsToStr","params","HttpPouch","dbUrl","setupPromise","ourFetch","headers","credentials","nAuth","token","ua","isIE","isTrident","isEdge","isGET","shouldCacheBust","adapterFun$$1","setup","fetchJSON","response","v","skip_setup","encodeAttachmentId","uuid$$1","ping","compact_running","interval","doBulkGet","doBulkGetShim","numBatches","onResult","batchNum","subOpts","supportsBulkGet","fetchAttachments","filenames","promiseFactories","doNext","runNextBatch","onError","thisErr","pool","typeFieldDescriptor","__proto__","fetchData","docOrDocs","contentType","paramStr","batch_size","heartbeat","requestTimeout","leftToFetch","feed","seq_interval","param_name","lastFetchedSeq","controller","aborted","fetchOpts","signal","fetched","raw_results_length","finished","QueryParseError","captureStackTrace","NotFoundError","BuiltInError","promisedCallback","sequentialize","promiseFactory","theSet","mapToKeysArray","createBuiltInError","jLen","jNum","log","evalFunctionWithEval","TaskQueue$1","createView","sourceDB","reduceFun","temporary","localDocName","cachedViews","viewSignature","createViewSignature","_cachedViews","promiseForView","depDbName","fullViewName","depDbs","lastSeqDoc","persistentQueues","tempViewQueue","parseViewName","emitError","builtInReduce","sumsqr","_sumsqr","abstract","mapper","reducer","ddocValidator","tryMap","tryReduce","rereduce","output","sortByKeyThenValue","y","keyCompare","sliceResults","rowToDocId","postprocessAttachments","addHttpParam","paramName","asJson","coerceInteger","integerCandidate","asNumber","checkQueryParseError","startkeyName","endkeyName","group_level","optionName","checkPositiveInteger","defaultsTo","getDocsToPersist","docIdsToChangesAndEmits","metaDocId","defaultMetaDoc","docData","indexableKeysToKeyValues","isGenOne","getKeyValueDocs","kvDocsRes","kvDocs","oldKeys","keyValue","newKeys","kvDoc","processKeyValueDocs","getQueue","updateView","mapResults","currentSeq","seqDocId","listOfDocsToPersist","docsToPersist","saveKeyValues","processNextBatch","createDocIdsToChangesAndEmits","createIndexableKeysToKeyValues","emittedKeyValue","complexKey","updateViewInQueue","queryView","totalRows","shouldReduce","fetchFromView","viewOpts","expectedKeys","parsedKeyAndDocId","parsedNum","parsedStr","arrayElement","objElement","parseIndexableString","onMapResultsReady","finalResults","shouldGroup","groups","lvl","POSITIVE_INFINITY","groupKey","reduceTry","reduceView","allDocsRes","docIdsToDocs","fetchPromises","keyStart","keyEnd","queryViewInQueue","queryPromised","_query","customQuery","keysAsString","httpQuery","finalPromiseFactory","designDocName","stale","coerceOptions","viewCleanup","_viewCleanup","customViewCleanup","httpViewCleanup","docsToViews","viewsToStatus","ddocName","viewDBNames","statusIsGood","viewDBName","destroyPromises","localViewCleanup","createAbstractMapReduce","origMap","reduceFunString","builtIn","getBuiltIn","mapreduce","isGenOne$1","getDocAttachments","getDocs","src","diffs","resultDocs","fetchRevisionOneDocs","hasConflicts","bulkGetOpts","missingRev","createBulkGetOpts","bulkGetResponse","bulkGetInfo","remoteDoc","doCheckForLocalAttachments","fileHasChanged","getDocAttachmentsFromTargetOrSource","Boolean","REPLICATOR","updateCheckpoint","checkpoint","session","returnValue","session_id","replicator","Checkpointer","writeCheckpoint","updateTarget","updateSource","writeTargetCheckpoint","writeSourceCheckpoint","isForbiddenError","comparisons","targetDoc","sourceDoc","srcDoc","tgtDoc","compareReplicationHistory","compareReplicationLogs","sourceHistory","targetHistory","S","sourceRest","T","targetRest","hasSessionId","sessionId","getCheckpoint","generateReplicationId","queryParams","filterViewName","sortObjectPropertiesByKey","queryData","md5sum","replicate","currentBatch","repId","checkpointer","batches","pendingBatch","writingCheckpoint","changesCompleted","replicationCompleted","batches_limit","changesPending","changedDocs","start_time","docs_read","docs_written","doc_write_failures","errors","initCheckpointer","checkpointOpts","writeDocs","bulkOpts","completeReplication","errorsById","errorsNo","errorName","finishBatch","outResult","getChanges","onCheckpointError","getBatchDocs","got","startNextBatch","getDiffs","abortReplication","processPendingBatch","immediate$$1","fatalError","end_time","retry","back_off_function","backOffSet","current_back_off","backOff","onChangesComplete","onChangesError","_abortChanges","abortChanges","startChanges","_addedListeners","Replication","toPouch","PouchConstructor","replicateWrapper","replicateRet","sync","Sync","canceled","optsPush","optsPull","pullChange","direction","pushChange","pushDenied","pullDenied","pushPaused","pullPaused","pushActive","pullActive","removed","removeAll","addOneListener","out","success","_readyCalled","replicateMethods","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","circulars","clones","cloneNode","getTime","errorToString","regExpToString","SYMBOL_REGEXP","printNumber","printSimpleValue","quoteStrings","typeOf","printValue","mixed","default","required","oneOf","notOneOf","notType","originalValue","isCast","defined","email","lowercase","uppercase","lessThan","moreThan","positive","negative","integer","date","boolean","isValue","noUnknown","__isYupSchema__","Condition","refs","otherwise","is","check","schema","base","ref","isSchema","Parent","Class","isNativeReflectConstruct","construct","instance","setPrototypeOf","_cache","Wrapper","_extends","strReg","ValidationError","errorOrErrors","inner","label","runTests","endEarly","tests","nestedErrors","prefixes","Reference","isContext","isSibling","__isYupRef","createValidation","config","_ref","excluded","sourceKeys","_objectWithoutPropertiesLoose","Ref","isRef","overrides","nextParams","formatError","_ref2","validOrError","OPTIONS","getIn","lastPart","lastPartDebug","_part","innerType","parentPath","ReferenceSet","description","describe","newItems","removeItems","BaseSchema","deps","conditions","_whitelist","_blacklist","exclusiveTests","withMutation","typeError","locale","spec","strip","strict","abortEarly","recursive","nullable","presence","_value","_mutate","_typeError","_whitelistError","_blacklistError","meta","combined","mergedSpec","_typeCheck","condition","resolvedSchema","_cast","assert","formattedValue","formattedResult","rawValue","_options","getDefault","initialTests","maybeCb","_validate","validateSync","_getDefault","def","exclusive","_isPresent","isNullable","isExclusive","dep","enums","valids","invalids","alias","optional","notRequired","Mixed","BooleanSchema","isAbsent","desc","rEmail","rUrl","rUUID","isTrimmed","objStringTag","StringSchema","strValue","regex","excludeEmptyString","NumberSchema","parsed","NaN","less","more","_method","avail","isoReg","invalidDate","DateSchema","timestamp","struct","numericKeys","minutesOffset","UTC","isoParse","cast","prepareParam","INVALID_DATE","sortFields","excludes","nodes","addNode","depPath","toposort","ii","_err$path","sortByKeyOrder","unknown","known","defaultSort","ObjectSchema","_sortErrors","_nodes","_excludedEdges","shape","_options$stripUnknown","stripUnknown","intermediateValue","innerOptions","__validating","isChanged","exists","fieldValue","inputValue","fieldSpec","nextFields","schemaOrRef","dft","getDefaultFromShape","additions","second","picked","fromGetter","newObj","noAllow","unknownKeys","allow","transformKeys","ArraySchema","_opts","castElement","_options$abortEarly","_options$recursive","original","rejector","baseIsTypedArray","stackClear","stackDelete","stackGet","stackHas","stackSet","scheduleDrain","scheduled","install","queueMicrotask","Mutation","MutationObserver","WebKitMutationObserver","handle","observer","document","createTextNode","observe","characterData","MessageChannel","channel","port1","onmessage","port2","postMessage","createElement","scriptEl","onreadystatechange","parentNode","removeChild","documentElement","appendChild","t","hex_chr","md5cycle","d","md5blk","md5blks","md5blk_array","md51","tmp","lo","hi","md51_array","subarray","rhex","hex","toUtf8","utf8Str2ArrayBuffer","returnUInt8Array","arrayBuffer2Utf8Str","concatenateArrayBuffers","hexToBinaryString","SparkMD5","reset","begin","contents","_buff","_length","_hash","_finish","getState","setState","hashBinary","content","factory","arrayPrefix","objPrefix","numChar","parsedString","lastCh","numConsecutiveSlashes","kind","numberParameters","numberLogParameters","parameters","unit","pcbProbe","bit","liquidProbe","pcbTemperature","liquidTemperature","targetTemperature","weight","stepper","food","pid","sedimentation","filling","emptying","hashClear","hashDelete","hashGet","hashHas","hashSet","isMasked","setCacheAdd","setCacheHas","rsModifier","sorted","visited","outgoingEdges","makeOutgoingEdges","nodesHash","makeNodesHash","visit","predecessors","nodeRep","outgoing","child","uniqueNodes","getRandomValues","crypto","msCrypto","rnds8","rng","byteToHex","bytesToUuid","bth","rnds"],"mappings":"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","file":"static/js/0.8a8c339d.chunk.js","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nlet devices = {\n  OpenBio: require('./devices/OpenBio'),\n  OpenBio6: require('./devices/OpenBio6'),\n  OpenSpectro: require('./devices/OpenSpectro'),\n  SimpleSpectro: require('./devices/SimpleSpectro'),\n  Solar2015: require('./devices/Solar2015'),\n  Beemos: require('./devices/Beemos'),\n  Computer: require('./devices/Computer'),\n  fromDeviceID,\n};\n\n/**\n * Return a device information from the deviceID\n * @param {string|number} id\n * @returns\n */\nfunction fromDeviceID(id) {\n  if (typeof id === 'number') {\n    id = String.fromCharCode((id / 256) >> 0) + String.fromCharCode(id % 256);\n  }\n  if (typeof id !== 'string') {\n    throw Error('Device ID not a string or number');\n  }\n  if (id.length !== 2) {\n    throw Error(\n      `Device ID should be 2 character long and found: ${id.ldength}`,\n    );\n  }\n  const firstCharacter = id.substring(0, 1);\n  for (let key in devices) {\n    if (devices[key].id === firstCharacter) {\n      return devices[key];\n    }\n  }\n  return undefined;\n}\n\nmodule.exports = devices;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/**\n * Based on Kendo UI Core expression code <https://github.com/telerik/kendo-ui-core#license-information>\n */\n'use strict'\n\nfunction Cache(maxSize) {\n  this._maxSize = maxSize\n  this.clear()\n}\nCache.prototype.clear = function () {\n  this._size = 0\n  this._values = Object.create(null)\n}\nCache.prototype.get = function (key) {\n  return this._values[key]\n}\nCache.prototype.set = function (key, value) {\n  this._size >= this._maxSize && this.clear()\n  if (!(key in this._values)) this._size++\n\n  return (this._values[key] = value)\n}\n\nvar SPLIT_REGEX = /[^.^\\]^[]+|(?=\\[\\]|\\.\\.)/g,\n  DIGIT_REGEX = /^\\d+$/,\n  LEAD_DIGIT_REGEX = /^\\d/,\n  SPEC_CHAR_REGEX = /[~`!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g,\n  CLEAN_QUOTES_REGEX = /^\\s*(['\"]?)(.*?)(\\1)\\s*$/,\n  MAX_CACHE_SIZE = 512\n\nvar pathCache = new Cache(MAX_CACHE_SIZE),\n  setCache = new Cache(MAX_CACHE_SIZE),\n  getCache = new Cache(MAX_CACHE_SIZE)\n\nvar config\n\nmodule.exports = {\n  Cache: Cache,\n\n  split: split,\n\n  normalizePath: normalizePath,\n\n  setter: function (path) {\n    var parts = normalizePath(path)\n\n    return (\n      setCache.get(path) ||\n      setCache.set(path, function setter(obj, value) {\n        var index = 0\n        var len = parts.length\n        var data = obj\n\n        while (index < len - 1) {\n          var part = parts[index]\n          if (\n            part === '__proto__' ||\n            part === 'constructor' ||\n            part === 'prototype'\n          ) {\n            return obj\n          }\n\n          data = data[parts[index++]]\n        }\n        data[parts[index]] = value\n      })\n    )\n  },\n\n  getter: function (path, safe) {\n    var parts = normalizePath(path)\n    return (\n      getCache.get(path) ||\n      getCache.set(path, function getter(data) {\n        var index = 0,\n          len = parts.length\n        while (index < len) {\n          if (data != null || !safe) data = data[parts[index++]]\n          else return\n        }\n        return data\n      })\n    )\n  },\n\n  join: function (segments) {\n    return segments.reduce(function (path, part) {\n      return (\n        path +\n        (isQuoted(part) || DIGIT_REGEX.test(part)\n          ? '[' + part + ']'\n          : (path ? '.' : '') + part)\n      )\n    }, '')\n  },\n\n  forEach: function (path, cb, thisArg) {\n    forEach(Array.isArray(path) ? path : split(path), cb, thisArg)\n  },\n}\n\nfunction normalizePath(path) {\n  return (\n    pathCache.get(path) ||\n    pathCache.set(\n      path,\n      split(path).map(function (part) {\n        return part.replace(CLEAN_QUOTES_REGEX, '$2')\n      })\n    )\n  )\n}\n\nfunction split(path) {\n  return path.match(SPLIT_REGEX)\n}\n\nfunction forEach(parts, iter, thisArg) {\n  var len = parts.length,\n    part,\n    idx,\n    isArray,\n    isBracket\n\n  for (idx = 0; idx < len; idx++) {\n    part = parts[idx]\n\n    if (part) {\n      if (shouldBeQuoted(part)) {\n        part = '\"' + part + '\"'\n      }\n\n      isBracket = isQuoted(part)\n      isArray = !isBracket && /^\\d+$/.test(part)\n\n      iter.call(thisArg, part, isBracket, isArray, idx, parts)\n    }\n  }\n}\n\nfunction isQuoted(str) {\n  return (\n    typeof str === 'string' && str && [\"'\", '\"'].indexOf(str.charAt(0)) !== -1\n  )\n}\n\nfunction hasLeadingNumber(part) {\n  return part.match(LEAD_DIGIT_REGEX) && !part.match(DIGIT_REGEX)\n}\n\nfunction hasSpecialChars(part) {\n  return SPEC_CHAR_REGEX.test(part)\n}\n\nfunction shouldBeQuoted(part) {\n  return !isQuoted(part) && (hasLeadingNumber(part) || hasSpecialChars(part))\n}\n","import immediate from 'immediate';\nimport { v4 } from 'uuid';\nimport Md5 from 'spark-md5';\nimport vuvuzela from 'vuvuzela';\nimport getArguments from 'argsarray';\nimport inherits from 'inherits';\nimport EE from 'events';\n\nfunction mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n/* global Map,Set,Symbol */\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return getArguments(function (args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  });\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return getArguments(function (args) {\n    // Clone arguments\n    args = clone(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  });\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(getArguments(function (args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  }));\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new ExportedMap();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nvar hasLocal;\n\ntry {\n  localStorage.setItem('_pouch_check_localstorage', 1);\n  hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n} catch (e) {\n  hasLocal = false;\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n\ninherits(Changes, EE);\n\n/* istanbul ignore next */\nfunction attachBrowserEvents(self) {\n  if (hasLocalStorage()) {\n    addEventListener(\"storage\", function (e) {\n      self.emit(e.key);\n    });\n  }\n}\n\nfunction Changes() {\n  EE.call(this);\n  this._listeners = {};\n\n  attachBrowserEvents(this);\n}\nChanges.prototype.addListener = function (dbName, id, db, opts) {\n  /* istanbul ignore if */\n  if (this._listeners[id]) {\n    return;\n  }\n  var self = this;\n  var inprogress = false;\n  function eventFunction() {\n    /* istanbul ignore if */\n    if (!self._listeners[id]) {\n      return;\n    }\n    if (inprogress) {\n      inprogress = 'waiting';\n      return;\n    }\n    inprogress = true;\n    var changesOpts = pick(opts, [\n      'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n      'doc_ids', 'view', 'since', 'query_params', 'binary', 'return_docs'\n    ]);\n\n    /* istanbul ignore next */\n    function onError() {\n      inprogress = false;\n    }\n\n    db.changes(changesOpts).on('change', function (c) {\n      if (c.seq > opts.since && !opts.cancelled) {\n        opts.since = c.seq;\n        opts.onChange(c);\n      }\n    }).on('complete', function () {\n      if (inprogress === 'waiting') {\n        immediate(eventFunction);\n      }\n      inprogress = false;\n    }).on('error', onError);\n  }\n  this._listeners[id] = eventFunction;\n  this.on(dbName, eventFunction);\n};\n\nChanges.prototype.removeListener = function (dbName, id) {\n  /* istanbul ignore if */\n  if (!(id in this._listeners)) {\n    return;\n  }\n  EE.prototype.removeListener.call(this, dbName,\n    this._listeners[id]);\n  delete this._listeners[id];\n};\n\n\n/* istanbul ignore next */\nChanges.prototype.notifyLocalWindows = function (dbName) {\n  //do a useless change on a storage thing\n  //in order to get other windows's listeners to activate\n  if (hasLocalStorage()) {\n    localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n  }\n};\n\nChanges.prototype.notify = function (dbName) {\n  this.emit(dbName);\n  this.notifyLocalWindows(dbName);\n};\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (typeof console !== 'undefined' && typeof console[method] === 'function') {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar $inject_Object_assign = assign;\n\ninherits(PouchError, Error);\n\nfunction PouchError(status, error, reason) {\n  Error.call(this, reason);\n  this.status = status;\n  this.name = error;\n  this.message = reason;\n  this.error = true;\n}\n\nPouchError.prototype.toString = function () {\n  return JSON.stringify({\n    status: this.status,\n    name: this.name,\n    message: this.message,\n    reason: this.reason\n  });\n};\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    var names = Object.getOwnPropertyNames(error);\n    for (var i = 0, len = names.length; i < len; i++) {\n      if (typeof error[names[i]] !== 'function') {\n        this[names[i]] = error[names[i]];\n      }\n    }\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  return err;\n}\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (change.doc._attachments.hasOwnProperty(att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EE.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint maxlen: 0, no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (scope.hasOwnProperty(key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return new Promise(function (fulfill, reject) {\n    db.get(docId, function (err, doc) {\n      if (err) {\n        /* istanbul ignore next */\n        if (err.status !== 404) {\n          return reject(err);\n        }\n        doc = {};\n      }\n\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return fulfill({updated: false, rev: docRev});\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      fulfill(tryAndPut(db, newDoc, diffFun));\n    });\n  });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nvar thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\n\nvar setImmediateShim = self.setImmediate || self.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return thisBtoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\nfunction rev(doc, deterministic_revs) {\n  var clonedDoc = clone(doc);\n  if (!deterministic_revs) {\n    return v4().replace(/-/g, '').toLowerCase();\n  }\n\n  delete clonedDoc._rev_tree;\n  return stringMd5(JSON.stringify(clonedDoc));\n}\n\nvar uuid = v4; // mimic old import, only v4 is ever used elsewhere\n\n// We fetch all leafs of the revision tree, and sort them based on tree length\n// and whether they were deleted, undeleted documents with the longest revision\n// tree (most edits) win\n// The final sort algorithm is slightly documented in a sidebar here:\n// http://guide.couchdb.org/draft/conflicts.html\nfunction winningRev(metadata) {\n  var winningId;\n  var winningPos;\n  var winningDeleted;\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var tree = node.ids;\n    var branches = tree[2];\n    var pos = node.pos;\n    if (branches.length) { // non-leaf\n      for (var i = 0, len = branches.length; i < len; i++) {\n        toVisit.push({pos: pos + 1, ids: branches[i]});\n      }\n      continue;\n    }\n    var deleted = !!tree[1].deleted;\n    var id = tree[0];\n    // sort by deleted, then pos, then id\n    if (!winningId || (winningDeleted !== deleted ? winningDeleted :\n        winningPos !== pos ? winningPos < pos : winningId < id)) {\n      winningId = id;\n      winningPos = pos;\n      winningDeleted = deleted;\n    }\n  }\n\n  return winningPos + '-' + winningId;\n}\n\n// Pretty much all below can be combined into a higher order function to\n// traverse revisions\n// The return value from the callback will be passed as context to all\n// children of that node\nfunction traverseRevTree(revs, callback) {\n  var toVisit = revs.slice();\n\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var branches = tree[2];\n    var newCtx =\n      callback(branches.length === 0, pos, tree[0], node.ctx, tree[1]);\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], ctx: newCtx});\n    }\n  }\n}\n\nfunction sortByPos(a, b) {\n  return a.pos - b.pos;\n}\n\nfunction collectLeaves(revs) {\n  var leaves = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, acc, opts) {\n    if (isLeaf) {\n      leaves.push({rev: pos + \"-\" + id, pos: pos, opts: opts});\n    }\n  });\n  leaves.sort(sortByPos).reverse();\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    delete leaves[i].pos;\n  }\n  return leaves;\n}\n\n// returns revs of all conflicts that is leaves such that\n// 1. are not deleted and\n// 2. are different than winning revision\nfunction collectConflicts(metadata) {\n  var win = winningRev(metadata);\n  var leaves = collectLeaves(metadata.rev_tree);\n  var conflicts = [];\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    var leaf = leaves[i];\n    if (leaf.rev !== win && !leaf.opts.deleted) {\n      conflicts.push(leaf.rev);\n    }\n  }\n  return conflicts;\n}\n\n// compact a tree by marking its non-leafs as missing,\n// and return a list of revs to delete\nfunction compactTree(metadata) {\n  var revs = [];\n  traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                               revHash, ctx, opts) {\n    if (opts.status === 'available' && !isLeaf) {\n      revs.push(pos + '-' + revHash);\n      opts.status = 'missing';\n    }\n  });\n  return revs;\n}\n\n// build up a list of all the paths to the leafs in this revision tree\nfunction rootToLeaf(revs) {\n  var paths = [];\n  var toVisit = revs.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, opts: opts});\n    if (isLeaf) {\n      paths.push({pos: (pos + 1 - history.length), ids: history});\n    }\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], history: history});\n    }\n  }\n  return paths.reverse();\n}\n\n// for a better overview of what this is doing, read:\n\nfunction sortByPos$1(a, b) {\n  return a.pos - b.pos;\n}\n\n// classic binary search\nfunction binarySearch(arr, item, comparator) {\n  var low = 0;\n  var high = arr.length;\n  var mid;\n  while (low < high) {\n    mid = (low + high) >>> 1;\n    if (comparator(arr[mid], item) < 0) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  return low;\n}\n\n// assuming the arr is sorted, insert the item in the proper place\nfunction insertSorted(arr, item, comparator) {\n  var idx = binarySearch(arr, item, comparator);\n  arr.splice(idx, 0, item);\n}\n\n// Turn a path as a flat array into a tree with a single branch.\n// If any should be stemmed from the beginning of the array, that's passed\n// in as the second argument\nfunction pathToTree(path, numStemmed) {\n  var root;\n  var leaf;\n  for (var i = numStemmed, len = path.length; i < len; i++) {\n    var node = path[i];\n    var currentLeaf = [node.id, node.opts, []];\n    if (leaf) {\n      leaf[2].push(currentLeaf);\n      leaf = currentLeaf;\n    } else {\n      root = leaf = currentLeaf;\n    }\n  }\n  return root;\n}\n\n// compare the IDs of two trees\nfunction compareTree(a, b) {\n  return a[0] < b[0] ? -1 : 1;\n}\n\n// Merge two trees together\n// The roots of tree1 and tree2 must be the same revision\nfunction mergeTree(in_tree1, in_tree2) {\n  var queue = [{tree1: in_tree1, tree2: in_tree2}];\n  var conflicts = false;\n  while (queue.length > 0) {\n    var item = queue.pop();\n    var tree1 = item.tree1;\n    var tree2 = item.tree2;\n\n    if (tree1[1].status || tree2[1].status) {\n      tree1[1].status =\n        (tree1[1].status ===  'available' ||\n        tree2[1].status === 'available') ? 'available' : 'missing';\n    }\n\n    for (var i = 0; i < tree2[2].length; i++) {\n      if (!tree1[2][0]) {\n        conflicts = 'new_leaf';\n        tree1[2][0] = tree2[2][i];\n        continue;\n      }\n\n      var merged = false;\n      for (var j = 0; j < tree1[2].length; j++) {\n        if (tree1[2][j][0] === tree2[2][i][0]) {\n          queue.push({tree1: tree1[2][j], tree2: tree2[2][i]});\n          merged = true;\n        }\n      }\n      if (!merged) {\n        conflicts = 'new_branch';\n        insertSorted(tree1[2], tree2[2][i], compareTree);\n      }\n    }\n  }\n  return {conflicts: conflicts, tree: in_tree1};\n}\n\nfunction doMerge(tree, path, dontExpand) {\n  var restree = [];\n  var conflicts = false;\n  var merged = false;\n  var res;\n\n  if (!tree.length) {\n    return {tree: [path], conflicts: 'new_leaf'};\n  }\n\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var branch = tree[i];\n    if (branch.pos === path.pos && branch.ids[0] === path.ids[0]) {\n      // Paths start at the same position and have the same root, so they need\n      // merged\n      res = mergeTree(branch.ids, path.ids);\n      restree.push({pos: branch.pos, ids: res.tree});\n      conflicts = conflicts || res.conflicts;\n      merged = true;\n    } else if (dontExpand !== true) {\n      // The paths start at a different position, take the earliest path and\n      // traverse up until it as at the same point from root as the path we\n      // want to merge.  If the keys match we return the longer path with the\n      // other merged After stemming we dont want to expand the trees\n\n      var t1 = branch.pos < path.pos ? branch : path;\n      var t2 = branch.pos < path.pos ? path : branch;\n      var diff = t2.pos - t1.pos;\n\n      var candidateParents = [];\n\n      var trees = [];\n      trees.push({ids: t1.ids, diff: diff, parent: null, parentIdx: null});\n      while (trees.length > 0) {\n        var item = trees.pop();\n        if (item.diff === 0) {\n          if (item.ids[0] === t2.ids[0]) {\n            candidateParents.push(item);\n          }\n          continue;\n        }\n        var elements = item.ids[2];\n        for (var j = 0, elementsLen = elements.length; j < elementsLen; j++) {\n          trees.push({\n            ids: elements[j],\n            diff: item.diff - 1,\n            parent: item.ids,\n            parentIdx: j\n          });\n        }\n      }\n\n      var el = candidateParents[0];\n\n      if (!el) {\n        restree.push(branch);\n      } else {\n        res = mergeTree(el.ids, t2.ids);\n        el.parent[2][el.parentIdx] = res.tree;\n        restree.push({pos: t1.pos, ids: t1.ids});\n        conflicts = conflicts || res.conflicts;\n        merged = true;\n      }\n    } else {\n      restree.push(branch);\n    }\n  }\n\n  // We didnt find\n  if (!merged) {\n    restree.push(path);\n  }\n\n  restree.sort(sortByPos$1);\n\n  return {\n    tree: restree,\n    conflicts: conflicts || 'internal_node'\n  };\n}\n\n// To ensure we dont grow the revision tree infinitely, we stem old revisions\nfunction stem(tree, depth) {\n  // First we break out the tree into a complete list of root to leaf paths\n  var paths = rootToLeaf(tree);\n  var stemmedRevs;\n\n  var result;\n  for (var i = 0, len = paths.length; i < len; i++) {\n    // Then for each path, we cut off the start of the path based on the\n    // `depth` to stem to, and generate a new set of flat trees\n    var path = paths[i];\n    var stemmed = path.ids;\n    var node;\n    if (stemmed.length > depth) {\n      // only do the stemming work if we actually need to stem\n      if (!stemmedRevs) {\n        stemmedRevs = {}; // avoid allocating this object unnecessarily\n      }\n      var numStemmed = stemmed.length - depth;\n      node = {\n        pos: path.pos + numStemmed,\n        ids: pathToTree(stemmed, numStemmed)\n      };\n\n      for (var s = 0; s < numStemmed; s++) {\n        var rev = (path.pos + s) + '-' + stemmed[s].id;\n        stemmedRevs[rev] = true;\n      }\n    } else { // no need to actually stem\n      node = {\n        pos: path.pos,\n        ids: pathToTree(stemmed, 0)\n      };\n    }\n\n    // Then we remerge all those flat trees together, ensuring that we dont\n    // connect trees that would go beyond the depth limit\n    if (result) {\n      result = doMerge(result, node, true).tree;\n    } else {\n      result = [node];\n    }\n  }\n\n  // this is memory-heavy per Chrome profiler, avoid unless we actually stemmed\n  if (stemmedRevs) {\n    traverseRevTree(result, function (isLeaf, pos, revHash) {\n      // some revisions may have been removed in a branch but not in another\n      delete stemmedRevs[pos + '-' + revHash];\n    });\n  }\n\n  return {\n    tree: result,\n    revs: stemmedRevs ? Object.keys(stemmedRevs) : []\n  };\n}\n\nfunction merge(tree, path, depth) {\n  var newTree = doMerge(tree, path);\n  var stemmed = stem(newTree.tree, depth);\n  return {\n    tree: stemmed.tree,\n    stemmedRevs: stemmed.revs,\n    conflicts: newTree.conflicts\n  };\n}\n\n// return true if a rev exists in the rev tree, false otherwise\nfunction revExists(revs, rev) {\n  var toVisit = revs.slice();\n  var splitRev = rev.split('-');\n  var targetPos = parseInt(splitRev[0], 10);\n  var targetId = splitRev[1];\n\n  var node;\n  while ((node = toVisit.pop())) {\n    if (node.pos === targetPos && node.ids[0] === targetId) {\n      return true;\n    }\n    var branches = node.ids[2];\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: node.pos + 1, ids: branches[i]});\n    }\n  }\n  return false;\n}\n\nfunction getTrees(node) {\n  return node.ids;\n}\n\n// check if a specific revision of a doc has been deleted\n//  - metadata: the metadata object from the doc store\n//  - rev: (optional) the revision to check. defaults to winning revision\nfunction isDeleted(metadata, rev) {\n  if (!rev) {\n    rev = winningRev(metadata);\n  }\n  var id = rev.substring(rev.indexOf('-') + 1);\n  var toVisit = metadata.rev_tree.map(getTrees);\n\n  var tree;\n  while ((tree = toVisit.pop())) {\n    if (tree[0] === id) {\n      return !!tree[1].deleted;\n    }\n    toVisit = toVisit.concat(tree[2]);\n  }\n}\n\nfunction isLocalId(id) {\n  return (/^_local/).test(id);\n}\n\n// returns the current leaf node for a given revision\nfunction latest(rev, metadata) {\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, pos: pos, opts: opts});\n\n    if (isLeaf) {\n      for (var i = 0, len = history.length; i < len; i++) {\n        var historyNode = history[i];\n        var historyRev = historyNode.pos + '-' + historyNode.id;\n\n        if (historyRev === rev) {\n          // return the rev of this leaf\n          return pos + '-' + id;\n        }\n      }\n    }\n\n    for (var j = 0, l = branches.length; j < l; j++) {\n      toVisit.push({pos: pos + 1, ids: branches[j], history: history});\n    }\n  }\n\n  /* istanbul ignore next */\n  throw new Error('Unable to resolve latest revision for id ' + metadata.id + ', rev ' + rev);\n}\n\ninherits(Changes$1, EE);\n\nfunction tryCatchInChangeListener(self, change, pending, lastSeq) {\n  // isolate try/catches to avoid V8 deoptimizations\n  try {\n    self.emit('change', change, pending, lastSeq);\n  } catch (e) {\n    guardedConsole('error', 'Error in .on(\"change\", function):', e);\n  }\n}\n\nfunction Changes$1(db, opts, callback) {\n  EE.call(this);\n  var self = this;\n  this.db = db;\n  opts = opts ? clone(opts) : {};\n  var complete = opts.complete = once(function (err, resp) {\n    if (err) {\n      if (listenerCount(self, 'error') > 0) {\n        self.emit('error', err);\n      }\n    } else {\n      self.emit('complete', resp);\n    }\n    self.removeAllListeners();\n    db.removeListener('destroyed', onDestroy);\n  });\n  if (callback) {\n    self.on('complete', function (resp) {\n      callback(null, resp);\n    });\n    self.on('error', callback);\n  }\n  function onDestroy() {\n    self.cancel();\n  }\n  db.once('destroyed', onDestroy);\n\n  opts.onChange = function (change, pending, lastSeq) {\n    /* istanbul ignore if */\n    if (self.isCancelled) {\n      return;\n    }\n    tryCatchInChangeListener(self, change, pending, lastSeq);\n  };\n\n  var promise = new Promise(function (fulfill, reject) {\n    opts.complete = function (err, res) {\n      if (err) {\n        reject(err);\n      } else {\n        fulfill(res);\n      }\n    };\n  });\n  self.once('cancel', function () {\n    db.removeListener('destroyed', onDestroy);\n    opts.complete(null, {status: 'cancelled'});\n  });\n  this.then = promise.then.bind(promise);\n  this['catch'] = promise['catch'].bind(promise);\n  this.then(function (result) {\n    complete(null, result);\n  }, complete);\n\n\n\n  if (!db.taskqueue.isReady) {\n    db.taskqueue.addTask(function (failed) {\n      if (failed) {\n        opts.complete(failed);\n      } else if (self.isCancelled) {\n        self.emit('cancel');\n      } else {\n        self.validateChanges(opts);\n      }\n    });\n  } else {\n    self.validateChanges(opts);\n  }\n}\nChanges$1.prototype.cancel = function () {\n  this.isCancelled = true;\n  if (this.db.taskqueue.isReady) {\n    this.emit('cancel');\n  }\n};\nfunction processChange(doc, metadata, opts) {\n  var changeList = [{rev: doc._rev}];\n  if (opts.style === 'all_docs') {\n    changeList = collectLeaves(metadata.rev_tree)\n    .map(function (x) { return {rev: x.rev}; });\n  }\n  var change = {\n    id: metadata.id,\n    changes: changeList,\n    doc: doc\n  };\n\n  if (isDeleted(metadata, doc._rev)) {\n    change.deleted = true;\n  }\n  if (opts.conflicts) {\n    change.doc._conflicts = collectConflicts(metadata);\n    if (!change.doc._conflicts.length) {\n      delete change.doc._conflicts;\n    }\n  }\n  return change;\n}\n\nChanges$1.prototype.validateChanges = function (opts) {\n  var callback = opts.complete;\n  var self = this;\n\n  /* istanbul ignore else */\n  if (PouchDB._changesFilterPlugin) {\n    PouchDB._changesFilterPlugin.validate(opts, function (err) {\n      if (err) {\n        return callback(err);\n      }\n      self.doChanges(opts);\n    });\n  } else {\n    self.doChanges(opts);\n  }\n};\n\nChanges$1.prototype.doChanges = function (opts) {\n  var self = this;\n  var callback = opts.complete;\n\n  opts = clone(opts);\n  if ('live' in opts && !('continuous' in opts)) {\n    opts.continuous = opts.live;\n  }\n  opts.processChange = processChange;\n\n  if (opts.since === 'latest') {\n    opts.since = 'now';\n  }\n  if (!opts.since) {\n    opts.since = 0;\n  }\n  if (opts.since === 'now') {\n    this.db.info().then(function (info) {\n      /* istanbul ignore if */\n      if (self.isCancelled) {\n        callback(null, {status: 'cancelled'});\n        return;\n      }\n      opts.since = info.update_seq;\n      self.doChanges(opts);\n    }, callback);\n    return;\n  }\n\n  /* istanbul ignore else */\n  if (PouchDB._changesFilterPlugin) {\n    PouchDB._changesFilterPlugin.normalize(opts);\n    if (PouchDB._changesFilterPlugin.shouldFilter(this, opts)) {\n      return PouchDB._changesFilterPlugin.filter(this, opts);\n    }\n  } else {\n    ['doc_ids', 'filter', 'selector', 'view'].forEach(function (key) {\n      if (key in opts) {\n        guardedConsole('warn',\n          'The \"' + key + '\" option was passed in to changes/replicate, ' +\n          'but pouchdb-changes-filter plugin is not installed, so it ' +\n          'was ignored. Please install the plugin to enable filtering.'\n        );\n      }\n    });\n  }\n\n  if (!('descending' in opts)) {\n    opts.descending = false;\n  }\n\n  // 0 and 1 should return 1 document\n  opts.limit = opts.limit === 0 ? 1 : opts.limit;\n  opts.complete = callback;\n  var newPromise = this.db._changes(opts);\n  /* istanbul ignore else */\n  if (newPromise && typeof newPromise.cancel === 'function') {\n    var cancel = self.cancel;\n    self.cancel = getArguments(function (args) {\n      newPromise.cancel();\n      cancel.apply(this, args);\n    });\n  }\n};\n\n/*\n * A generic pouch adapter\n */\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Wrapper for functions that call the bulkdocs api with a single doc,\n// if the first result is an error, return an error\nfunction yankError(callback, docId) {\n  return function (err, results) {\n    if (err || (results[0] && results[0].error)) {\n      err = err || results[0];\n      err.docId = docId;\n      callback(err);\n    } else {\n      callback(null, results.length ? results[0]  : results);\n    }\n  };\n}\n\n// clean docs given to us by the user\nfunction cleanDocs(docs) {\n  for (var i = 0; i < docs.length; i++) {\n    var doc = docs[i];\n    if (doc._deleted) {\n      delete doc._attachments; // ignore atts for deleted docs\n    } else if (doc._attachments) {\n      // filter out extraneous keys from _attachments\n      var atts = Object.keys(doc._attachments);\n      for (var j = 0; j < atts.length; j++) {\n        var att = atts[j];\n        doc._attachments[att] = pick(doc._attachments[att],\n          ['data', 'digest', 'content_type', 'length', 'revpos', 'stub']);\n      }\n    }\n  }\n}\n\n// compare two docs, first by _id then by _rev\nfunction compareByIdThenRev(a, b) {\n  var idCompare = compare(a._id, b._id);\n  if (idCompare !== 0) {\n    return idCompare;\n  }\n  var aStart = a._revisions ? a._revisions.start : 0;\n  var bStart = b._revisions ? b._revisions.start : 0;\n  return compare(aStart, bStart);\n}\n\n// for every node in a revision tree computes its distance from the closest\n// leaf\nfunction computeHeight(revs) {\n  var height = {};\n  var edges = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, prnt) {\n    var rev$$1 = pos + \"-\" + id;\n    if (isLeaf) {\n      height[rev$$1] = 0;\n    }\n    if (prnt !== undefined) {\n      edges.push({from: prnt, to: rev$$1});\n    }\n    return rev$$1;\n  });\n\n  edges.reverse();\n  edges.forEach(function (edge) {\n    if (height[edge.from] === undefined) {\n      height[edge.from] = 1 + height[edge.to];\n    } else {\n      height[edge.from] = Math.min(height[edge.from], 1 + height[edge.to]);\n    }\n  });\n  return height;\n}\n\nfunction allDocsKeysParse(opts) {\n  var keys =  ('limit' in opts) ?\n    opts.keys.slice(opts.skip, opts.limit + opts.skip) :\n    (opts.skip > 0) ? opts.keys.slice(opts.skip) : opts.keys;\n  opts.keys = keys;\n  opts.skip = 0;\n  delete opts.limit;\n  if (opts.descending) {\n    keys.reverse();\n    opts.descending = false;\n  }\n}\n\n// all compaction is done in a queue, to avoid attaching\n// too many listeners at once\nfunction doNextCompaction(self) {\n  var task = self._compactionQueue[0];\n  var opts = task.opts;\n  var callback = task.callback;\n  self.get('_local/compaction').catch(function () {\n    return false;\n  }).then(function (doc) {\n    if (doc && doc.last_seq) {\n      opts.last_seq = doc.last_seq;\n    }\n    self._compact(opts, function (err, res) {\n      /* istanbul ignore if */\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, res);\n      }\n      immediate(function () {\n        self._compactionQueue.shift();\n        if (self._compactionQueue.length) {\n          doNextCompaction(self);\n        }\n      });\n    });\n  });\n}\n\nfunction attachmentNameError(name) {\n  if (name.charAt(0) === '_') {\n    return name + ' is not a valid attachment name, attachment ' +\n      'names cannot start with \\'_\\'';\n  }\n  return false;\n}\n\ninherits(AbstractPouchDB, EE);\n\nfunction AbstractPouchDB() {\n  EE.call(this);\n\n  // re-bind prototyped methods\n  for (var p in AbstractPouchDB.prototype) {\n    if (typeof this[p] === 'function') {\n      this[p] = this[p].bind(this);\n    }\n  }\n}\n\nAbstractPouchDB.prototype.post =\n  adapterFun('post', function (doc, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return callback(createError(NOT_AN_OBJECT));\n  }\n  this.bulkDocs({docs: [doc]}, opts, yankError(callback, doc._id));\n});\n\nAbstractPouchDB.prototype.put = adapterFun('put', function (doc, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return cb(createError(NOT_AN_OBJECT));\n  }\n  invalidIdError(doc._id);\n  if (isLocalId(doc._id) && typeof this._putLocal === 'function') {\n    if (doc._deleted) {\n      return this._removeLocal(doc, cb);\n    } else {\n      return this._putLocal(doc, cb);\n    }\n  }\n  var self = this;\n  if (opts.force && doc._rev) {\n    transformForceOptionToNewEditsOption();\n    putDoc(function (err) {\n      var result = err ? null : {ok: true, id: doc._id, rev: doc._rev};\n      cb(err, result);\n    });\n  } else {\n    putDoc(cb);\n  }\n\n  function transformForceOptionToNewEditsOption() {\n    var parts = doc._rev.split('-');\n    var oldRevId = parts[1];\n    var oldRevNum = parseInt(parts[0], 10);\n\n    var newRevNum = oldRevNum + 1;\n    var newRevId = rev();\n\n    doc._revisions = {\n      start: newRevNum,\n      ids: [newRevId, oldRevId]\n    };\n    doc._rev = newRevNum + '-' + newRevId;\n    opts.new_edits = false;\n  }\n  function putDoc(next) {\n    if (typeof self._put === 'function' && opts.new_edits !== false) {\n      self._put(doc, opts, next);\n    } else {\n      self.bulkDocs({docs: [doc]}, opts, yankError(next, doc._id));\n    }\n  }\n});\n\nAbstractPouchDB.prototype.putAttachment =\n  adapterFun('putAttachment', function (docId, attachmentId, rev$$1,\n                                              blob, type) {\n  var api = this;\n  if (typeof type === 'function') {\n    type = blob;\n    blob = rev$$1;\n    rev$$1 = null;\n  }\n  // Lets fix in https://github.com/pouchdb/pouchdb/issues/3267\n  /* istanbul ignore if */\n  if (typeof type === 'undefined') {\n    type = blob;\n    blob = rev$$1;\n    rev$$1 = null;\n  }\n  if (!type) {\n    guardedConsole('warn', 'Attachment', attachmentId, 'on document', docId, 'is missing content_type');\n  }\n\n  function createAttachment(doc) {\n    var prevrevpos = '_rev' in doc ? parseInt(doc._rev, 10) : 0;\n    doc._attachments = doc._attachments || {};\n    doc._attachments[attachmentId] = {\n      content_type: type,\n      data: blob,\n      revpos: ++prevrevpos\n    };\n    return api.put(doc);\n  }\n\n  return api.get(docId).then(function (doc) {\n    if (doc._rev !== rev$$1) {\n      throw createError(REV_CONFLICT);\n    }\n\n    return createAttachment(doc);\n  }, function (err) {\n     // create new doc\n    /* istanbul ignore else */\n    if (err.reason === MISSING_DOC.message) {\n      return createAttachment({_id: docId});\n    } else {\n      throw err;\n    }\n  });\n});\n\nAbstractPouchDB.prototype.removeAttachment =\n  adapterFun('removeAttachment', function (docId, attachmentId, rev$$1,\n                                                 callback) {\n  var self = this;\n  self.get(docId, function (err, obj) {\n    /* istanbul ignore if */\n    if (err) {\n      callback(err);\n      return;\n    }\n    if (obj._rev !== rev$$1) {\n      callback(createError(REV_CONFLICT));\n      return;\n    }\n    /* istanbul ignore if */\n    if (!obj._attachments) {\n      return callback();\n    }\n    delete obj._attachments[attachmentId];\n    if (Object.keys(obj._attachments).length === 0) {\n      delete obj._attachments;\n    }\n    self.put(obj, callback);\n  });\n});\n\nAbstractPouchDB.prototype.remove =\n  adapterFun('remove', function (docOrId, optsOrRev, opts, callback) {\n  var doc;\n  if (typeof optsOrRev === 'string') {\n    // id, rev, opts, callback style\n    doc = {\n      _id: docOrId,\n      _rev: optsOrRev\n    };\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n  } else {\n    // doc, opts, callback style\n    doc = docOrId;\n    if (typeof optsOrRev === 'function') {\n      callback = optsOrRev;\n      opts = {};\n    } else {\n      callback = opts;\n      opts = optsOrRev;\n    }\n  }\n  opts = opts || {};\n  opts.was_delete = true;\n  var newDoc = {_id: doc._id, _rev: (doc._rev || opts.rev)};\n  newDoc._deleted = true;\n  if (isLocalId(newDoc._id) && typeof this._removeLocal === 'function') {\n    return this._removeLocal(doc, callback);\n  }\n  this.bulkDocs({docs: [newDoc]}, opts, yankError(callback, newDoc._id));\n});\n\nAbstractPouchDB.prototype.revsDiff =\n  adapterFun('revsDiff', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  var ids = Object.keys(req);\n\n  if (!ids.length) {\n    return callback(null, {});\n  }\n\n  var count = 0;\n  var missing = new ExportedMap();\n\n  function addToMissing(id, revId) {\n    if (!missing.has(id)) {\n      missing.set(id, {missing: []});\n    }\n    missing.get(id).missing.push(revId);\n  }\n\n  function processDoc(id, rev_tree) {\n    // Is this fast enough? Maybe we should switch to a set simulated by a map\n    var missingForId = req[id].slice(0);\n    traverseRevTree(rev_tree, function (isLeaf, pos, revHash, ctx,\n      opts) {\n        var rev$$1 = pos + '-' + revHash;\n        var idx = missingForId.indexOf(rev$$1);\n        if (idx === -1) {\n          return;\n        }\n\n        missingForId.splice(idx, 1);\n        /* istanbul ignore if */\n        if (opts.status !== 'available') {\n          addToMissing(id, rev$$1);\n        }\n      });\n\n    // Traversing the tree is synchronous, so now `missingForId` contains\n    // revisions that were not found in the tree\n    missingForId.forEach(function (rev$$1) {\n      addToMissing(id, rev$$1);\n    });\n  }\n\n  ids.map(function (id) {\n    this._getRevisionTree(id, function (err, rev_tree) {\n      if (err && err.status === 404 && err.message === 'missing') {\n        missing.set(id, {missing: req[id]});\n      } else if (err) {\n        /* istanbul ignore next */\n        return callback(err);\n      } else {\n        processDoc(id, rev_tree);\n      }\n\n      if (++count === ids.length) {\n        // convert LazyMap to object\n        var missingObj = {};\n        missing.forEach(function (value, key) {\n          missingObj[key] = value;\n        });\n        return callback(null, missingObj);\n      }\n    });\n  }, this);\n});\n\n// _bulk_get API for faster replication, as described in\n// https://github.com/apache/couchdb-chttpd/pull/33\n// At the \"abstract\" level, it will just run multiple get()s in\n// parallel, because this isn't much of a performance cost\n// for local databases (except the cost of multiple transactions, which is\n// small). The http adapter overrides this in order\n// to do a more efficient single HTTP request.\nAbstractPouchDB.prototype.bulkGet =\n  adapterFun('bulkGet', function (opts, callback) {\n  bulkGet(this, opts, callback);\n});\n\n// compact one document and fire callback\n// by compacting we mean removing all revisions which\n// are further from the leaf in revision tree than max_height\nAbstractPouchDB.prototype.compactDocument =\n  adapterFun('compactDocument', function (docId, maxHeight, callback) {\n  var self = this;\n  this._getRevisionTree(docId, function (err, revTree) {\n    /* istanbul ignore if */\n    if (err) {\n      return callback(err);\n    }\n    var height = computeHeight(revTree);\n    var candidates = [];\n    var revs = [];\n    Object.keys(height).forEach(function (rev$$1) {\n      if (height[rev$$1] > maxHeight) {\n        candidates.push(rev$$1);\n      }\n    });\n\n    traverseRevTree(revTree, function (isLeaf, pos, revHash, ctx, opts) {\n      var rev$$1 = pos + '-' + revHash;\n      if (opts.status === 'available' && candidates.indexOf(rev$$1) !== -1) {\n        revs.push(rev$$1);\n      }\n    });\n    self._doCompaction(docId, revs, callback);\n  });\n});\n\n// compact the whole database using single document\n// compaction\nAbstractPouchDB.prototype.compact =\n  adapterFun('compact', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  self._compactionQueue = self._compactionQueue || [];\n  self._compactionQueue.push({opts: opts, callback: callback});\n  if (self._compactionQueue.length === 1) {\n    doNextCompaction(self);\n  }\n});\nAbstractPouchDB.prototype._compact = function (opts, callback) {\n  var self = this;\n  var changesOpts = {\n    return_docs: false,\n    last_seq: opts.last_seq || 0\n  };\n  var promises = [];\n\n  function onChange(row) {\n    promises.push(self.compactDocument(row.id, 0));\n  }\n  function onComplete(resp) {\n    var lastSeq = resp.last_seq;\n    Promise.all(promises).then(function () {\n      return upsert(self, '_local/compaction', function deltaFunc(doc) {\n        if (!doc.last_seq || doc.last_seq < lastSeq) {\n          doc.last_seq = lastSeq;\n          return doc;\n        }\n        return false; // somebody else got here first, don't update\n      });\n    }).then(function () {\n      callback(null, {ok: true});\n    }).catch(callback);\n  }\n  self.changes(changesOpts)\n    .on('change', onChange)\n    .on('complete', onComplete)\n    .on('error', callback);\n};\n\n/* Begin api wrappers. Specific functionality to storage belongs in the\n   _[method] */\nAbstractPouchDB.prototype.get = adapterFun('get', function (id, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof id !== 'string') {\n    return cb(createError(INVALID_ID));\n  }\n  if (isLocalId(id) && typeof this._getLocal === 'function') {\n    return this._getLocal(id, cb);\n  }\n  var leaves = [], self = this;\n\n  function finishOpenRevs() {\n    var result = [];\n    var count = leaves.length;\n    /* istanbul ignore if */\n    if (!count) {\n      return cb(null, result);\n    }\n\n    // order with open_revs is unspecified\n    leaves.forEach(function (leaf) {\n      self.get(id, {\n        rev: leaf,\n        revs: opts.revs,\n        latest: opts.latest,\n        attachments: opts.attachments,\n        binary: opts.binary\n      }, function (err, doc) {\n        if (!err) {\n          // using latest=true can produce duplicates\n          var existing;\n          for (var i = 0, l = result.length; i < l; i++) {\n            if (result[i].ok && result[i].ok._rev === doc._rev) {\n              existing = true;\n              break;\n            }\n          }\n          if (!existing) {\n            result.push({ok: doc});\n          }\n        } else {\n          result.push({missing: leaf});\n        }\n        count--;\n        if (!count) {\n          cb(null, result);\n        }\n      });\n    });\n  }\n\n  if (opts.open_revs) {\n    if (opts.open_revs === \"all\") {\n      this._getRevisionTree(id, function (err, rev_tree) {\n        /* istanbul ignore if */\n        if (err) {\n          return cb(err);\n        }\n        leaves = collectLeaves(rev_tree).map(function (leaf) {\n          return leaf.rev;\n        });\n        finishOpenRevs();\n      });\n    } else {\n      if (Array.isArray(opts.open_revs)) {\n        leaves = opts.open_revs;\n        for (var i = 0; i < leaves.length; i++) {\n          var l = leaves[i];\n          // looks like it's the only thing couchdb checks\n          if (!(typeof (l) === \"string\" && /^\\d+-/.test(l))) {\n            return cb(createError(INVALID_REV));\n          }\n        }\n        finishOpenRevs();\n      } else {\n        return cb(createError(UNKNOWN_ERROR, 'function_clause'));\n      }\n    }\n    return; // open_revs does not like other options\n  }\n\n  return this._get(id, opts, function (err, result) {\n    if (err) {\n      err.docId = id;\n      return cb(err);\n    }\n\n    var doc = result.doc;\n    var metadata = result.metadata;\n    var ctx = result.ctx;\n\n    if (opts.conflicts) {\n      var conflicts = collectConflicts(metadata);\n      if (conflicts.length) {\n        doc._conflicts = conflicts;\n      }\n    }\n\n    if (isDeleted(metadata, doc._rev)) {\n      doc._deleted = true;\n    }\n\n    if (opts.revs || opts.revs_info) {\n      var splittedRev = doc._rev.split('-');\n      var revNo       = parseInt(splittedRev[0], 10);\n      var revHash     = splittedRev[1];\n\n      var paths = rootToLeaf(metadata.rev_tree);\n      var path = null;\n\n      for (var i = 0; i < paths.length; i++) {\n        var currentPath = paths[i];\n        var hashIndex = currentPath.ids.map(function (x) { return x.id; })\n          .indexOf(revHash);\n        var hashFoundAtRevPos = hashIndex === (revNo - 1);\n\n        if (hashFoundAtRevPos || (!path && hashIndex !== -1)) {\n          path = currentPath;\n        }\n      }\n\n      /* istanbul ignore if */\n      if (!path) {\n        err = new Error('invalid rev tree');\n        err.docId = id;\n        return cb(err);\n      }\n\n      var indexOfRev = path.ids.map(function (x) { return x.id; })\n        .indexOf(doc._rev.split('-')[1]) + 1;\n      var howMany = path.ids.length - indexOfRev;\n      path.ids.splice(indexOfRev, howMany);\n      path.ids.reverse();\n\n      if (opts.revs) {\n        doc._revisions = {\n          start: (path.pos + path.ids.length) - 1,\n          ids: path.ids.map(function (rev$$1) {\n            return rev$$1.id;\n          })\n        };\n      }\n      if (opts.revs_info) {\n        var pos =  path.pos + path.ids.length;\n        doc._revs_info = path.ids.map(function (rev$$1) {\n          pos--;\n          return {\n            rev: pos + '-' + rev$$1.id,\n            status: rev$$1.opts.status\n          };\n        });\n      }\n    }\n\n    if (opts.attachments && doc._attachments) {\n      var attachments = doc._attachments;\n      var count = Object.keys(attachments).length;\n      if (count === 0) {\n        return cb(null, doc);\n      }\n      Object.keys(attachments).forEach(function (key) {\n        this._getAttachment(doc._id, key, attachments[key], {\n          // Previously the revision handling was done in adapter.js\n          // getAttachment, however since idb-next doesnt we need to\n          // pass the rev through\n          rev: doc._rev,\n          binary: opts.binary,\n          ctx: ctx\n        }, function (err, data) {\n          var att = doc._attachments[key];\n          att.data = data;\n          delete att.stub;\n          delete att.length;\n          if (!--count) {\n            cb(null, doc);\n          }\n        });\n      }, self);\n    } else {\n      if (doc._attachments) {\n        for (var key in doc._attachments) {\n          /* istanbul ignore else */\n          if (doc._attachments.hasOwnProperty(key)) {\n            doc._attachments[key].stub = true;\n          }\n        }\n      }\n      cb(null, doc);\n    }\n  });\n});\n\n// TODO: I dont like this, it forces an extra read for every\n// attachment read and enforces a confusing api between\n// adapter.js and the adapter implementation\nAbstractPouchDB.prototype.getAttachment =\n  adapterFun('getAttachment', function (docId, attachmentId, opts, callback) {\n  var self = this;\n  if (opts instanceof Function) {\n    callback = opts;\n    opts = {};\n  }\n  this._get(docId, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (res.doc._attachments && res.doc._attachments[attachmentId]) {\n      opts.ctx = res.ctx;\n      opts.binary = true;\n      self._getAttachment(docId, attachmentId,\n                          res.doc._attachments[attachmentId], opts, callback);\n    } else {\n      return callback(createError(MISSING_DOC));\n    }\n  });\n});\n\nAbstractPouchDB.prototype.allDocs =\n  adapterFun('allDocs', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  opts.skip = typeof opts.skip !== 'undefined' ? opts.skip : 0;\n  if (opts.start_key) {\n    opts.startkey = opts.start_key;\n  }\n  if (opts.end_key) {\n    opts.endkey = opts.end_key;\n  }\n  if ('keys' in opts) {\n    if (!Array.isArray(opts.keys)) {\n      return callback(new TypeError('options.keys must be an array'));\n    }\n    var incompatibleOpt =\n      ['startkey', 'endkey', 'key'].filter(function (incompatibleOpt) {\n      return incompatibleOpt in opts;\n    })[0];\n    if (incompatibleOpt) {\n      callback(createError(QUERY_PARSE_ERROR,\n        'Query parameter `' + incompatibleOpt +\n        '` is not compatible with multi-get'\n      ));\n      return;\n    }\n    if (!isRemote(this)) {\n      allDocsKeysParse(opts);\n      if (opts.keys.length === 0) {\n        return this._allDocs({limit: 0}, callback);\n      }\n    }\n  }\n\n  return this._allDocs(opts, callback);\n});\n\nAbstractPouchDB.prototype.changes = function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  // By default set return_docs to false if the caller has opts.live = true,\n  // this will prevent us from collecting the set of changes indefinitely\n  // resulting in growing memory\n  opts.return_docs = ('return_docs' in opts) ? opts.return_docs : !opts.live;\n\n  return new Changes$1(this, opts, callback);\n};\n\nAbstractPouchDB.prototype.close = adapterFun('close', function (callback) {\n  this._closed = true;\n  this.emit('closed');\n  return this._close(callback);\n});\n\nAbstractPouchDB.prototype.info = adapterFun('info', function (callback) {\n  var self = this;\n  this._info(function (err, info) {\n    if (err) {\n      return callback(err);\n    }\n    // assume we know better than the adapter, unless it informs us\n    info.db_name = info.db_name || self.name;\n    info.auto_compaction = !!(self.auto_compaction && !isRemote(self));\n    info.adapter = self.adapter;\n    callback(null, info);\n  });\n});\n\nAbstractPouchDB.prototype.id = adapterFun('id', function (callback) {\n  return this._id(callback);\n});\n\n/* istanbul ignore next */\nAbstractPouchDB.prototype.type = function () {\n  return (typeof this._type === 'function') ? this._type() : this.adapter;\n};\n\nAbstractPouchDB.prototype.bulkDocs =\n  adapterFun('bulkDocs', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  if (Array.isArray(req)) {\n    req = {\n      docs: req\n    };\n  }\n\n  if (!req || !req.docs || !Array.isArray(req.docs)) {\n    return callback(createError(MISSING_BULK_DOCS));\n  }\n\n  for (var i = 0; i < req.docs.length; ++i) {\n    if (typeof req.docs[i] !== 'object' || Array.isArray(req.docs[i])) {\n      return callback(createError(NOT_AN_OBJECT));\n    }\n  }\n\n  var attachmentError;\n  req.docs.forEach(function (doc) {\n    if (doc._attachments) {\n      Object.keys(doc._attachments).forEach(function (name) {\n        attachmentError = attachmentError || attachmentNameError(name);\n        if (!doc._attachments[name].content_type) {\n          guardedConsole('warn', 'Attachment', name, 'on document', doc._id, 'is missing content_type');\n        }\n      });\n    }\n  });\n\n  if (attachmentError) {\n    return callback(createError(BAD_REQUEST, attachmentError));\n  }\n\n  if (!('new_edits' in opts)) {\n    if ('new_edits' in req) {\n      opts.new_edits = req.new_edits;\n    } else {\n      opts.new_edits = true;\n    }\n  }\n\n  var adapter = this;\n  if (!opts.new_edits && !isRemote(adapter)) {\n    // ensure revisions of the same doc are sorted, so that\n    // the local adapter processes them correctly (#2935)\n    req.docs.sort(compareByIdThenRev);\n  }\n\n  cleanDocs(req.docs);\n\n  // in the case of conflicts, we want to return the _ids to the user\n  // however, the underlying adapter may destroy the docs array, so\n  // create a copy here\n  var ids = req.docs.map(function (doc) {\n    return doc._id;\n  });\n\n  return this._bulkDocs(req, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (!opts.new_edits) {\n      // this is what couch does when new_edits is false\n      res = res.filter(function (x) {\n        return x.error;\n      });\n    }\n    // add ids for error/conflict responses (not required for CouchDB)\n    if (!isRemote(adapter)) {\n      for (var i = 0, l = res.length; i < l; i++) {\n        res[i].id = res[i].id || ids[i];\n      }\n    }\n\n    callback(null, res);\n  });\n});\n\nAbstractPouchDB.prototype.registerDependentDatabase =\n  adapterFun('registerDependentDatabase', function (dependentDb,\n                                                          callback) {\n  var depDB = new this.constructor(dependentDb, this.__opts);\n\n  function diffFun(doc) {\n    doc.dependentDbs = doc.dependentDbs || {};\n    if (doc.dependentDbs[dependentDb]) {\n      return false; // no update required\n    }\n    doc.dependentDbs[dependentDb] = true;\n    return doc;\n  }\n  upsert(this, '_local/_pouch_dependentDbs', diffFun)\n    .then(function () {\n      callback(null, {db: depDB});\n    }).catch(callback);\n});\n\nAbstractPouchDB.prototype.destroy =\n  adapterFun('destroy', function (opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  var usePrefix = 'use_prefix' in self ? self.use_prefix : true;\n\n  function destroyDb() {\n    // call destroy method of the particular adaptor\n    self._destroy(opts, function (err, resp) {\n      if (err) {\n        return callback(err);\n      }\n      self._destroyed = true;\n      self.emit('destroyed');\n      callback(null, resp || { 'ok': true });\n    });\n  }\n\n  if (isRemote(self)) {\n    // no need to check for dependent DBs if it's a remote DB\n    return destroyDb();\n  }\n\n  self.get('_local/_pouch_dependentDbs', function (err, localDoc) {\n    if (err) {\n      /* istanbul ignore if */\n      if (err.status !== 404) {\n        return callback(err);\n      } else { // no dependencies\n        return destroyDb();\n      }\n    }\n    var dependentDbs = localDoc.dependentDbs;\n    var PouchDB = self.constructor;\n    var deletedMap = Object.keys(dependentDbs).map(function (name) {\n      // use_prefix is only false in the browser\n      /* istanbul ignore next */\n      var trueName = usePrefix ?\n        name.replace(new RegExp('^' + PouchDB.prefix), '') : name;\n      return new PouchDB(trueName, self.__opts).destroy();\n    });\n    Promise.all(deletedMap).then(destroyDb, callback);\n  });\n});\n\nfunction TaskQueue() {\n  this.isReady = false;\n  this.failed = false;\n  this.queue = [];\n}\n\nTaskQueue.prototype.execute = function () {\n  var fun;\n  if (this.failed) {\n    while ((fun = this.queue.shift())) {\n      fun(this.failed);\n    }\n  } else {\n    while ((fun = this.queue.shift())) {\n      fun();\n    }\n  }\n};\n\nTaskQueue.prototype.fail = function (err) {\n  this.failed = err;\n  this.execute();\n};\n\nTaskQueue.prototype.ready = function (db) {\n  this.isReady = true;\n  this.db = db;\n  this.execute();\n};\n\nTaskQueue.prototype.addTask = function (fun) {\n  this.queue.push(fun);\n  if (this.failed) {\n    this.execute();\n  }\n};\n\nfunction parseAdapter(name, opts) {\n  var match = name.match(/([a-z-]*):\\/\\/(.*)/);\n  if (match) {\n    // the http adapter expects the fully qualified name\n    return {\n      name: /https?/.test(match[1]) ? match[1] + '://' + match[2] : match[2],\n      adapter: match[1]\n    };\n  }\n\n  var adapters = PouchDB.adapters;\n  var preferredAdapters = PouchDB.preferredAdapters;\n  var prefix = PouchDB.prefix;\n  var adapterName = opts.adapter;\n\n  if (!adapterName) { // automatically determine adapter\n    for (var i = 0; i < preferredAdapters.length; ++i) {\n      adapterName = preferredAdapters[i];\n      // check for browsers that have been upgraded from websql-only to websql+idb\n      /* istanbul ignore if */\n      if (adapterName === 'idb' && 'websql' in adapters &&\n          hasLocalStorage() && localStorage['_pouch__websqldb_' + prefix + name]) {\n        // log it, because this can be confusing during development\n        guardedConsole('log', 'PouchDB is downgrading \"' + name + '\" to WebSQL to' +\n          ' avoid data loss, because it was already opened with WebSQL.');\n        continue; // keep using websql to avoid user data loss\n      }\n      break;\n    }\n  }\n\n  var adapter = adapters[adapterName];\n\n  // if adapter is invalid, then an error will be thrown later\n  var usePrefix = (adapter && 'use_prefix' in adapter) ?\n    adapter.use_prefix : true;\n\n  return {\n    name: usePrefix ? (prefix + name) : name,\n    adapter: adapterName\n  };\n}\n\n// OK, so here's the deal. Consider this code:\n//     var db1 = new PouchDB('foo');\n//     var db2 = new PouchDB('foo');\n//     db1.destroy();\n// ^ these two both need to emit 'destroyed' events,\n// as well as the PouchDB constructor itself.\n// So we have one db object (whichever one got destroy() called on it)\n// responsible for emitting the initial event, which then gets emitted\n// by the constructor, which then broadcasts it to any other dbs\n// that may have been created with the same name.\nfunction prepareForDestruction(self) {\n\n  function onDestroyed(from_constructor) {\n    self.removeListener('closed', onClosed);\n    if (!from_constructor) {\n      self.constructor.emit('destroyed', self.name);\n    }\n  }\n\n  function onClosed() {\n    self.removeListener('destroyed', onDestroyed);\n    self.constructor.emit('unref', self);\n  }\n\n  self.once('destroyed', onDestroyed);\n  self.once('closed', onClosed);\n  self.constructor.emit('ref', self);\n}\n\ninherits(PouchDB, AbstractPouchDB);\nfunction PouchDB(name, opts) {\n  // In Node our test suite only tests this for PouchAlt unfortunately\n  /* istanbul ignore if */\n  if (!(this instanceof PouchDB)) {\n    return new PouchDB(name, opts);\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  if (name && typeof name === 'object') {\n    opts = name;\n    name = opts.name;\n    delete opts.name;\n  }\n\n  if (opts.deterministic_revs === undefined) {\n    opts.deterministic_revs = true;\n  }\n\n  this.__opts = opts = clone(opts);\n\n  self.auto_compaction = opts.auto_compaction;\n  self.prefix = PouchDB.prefix;\n\n  if (typeof name !== 'string') {\n    throw new Error('Missing/invalid DB name');\n  }\n\n  var prefixedName = (opts.prefix || '') + name;\n  var backend = parseAdapter(prefixedName, opts);\n\n  opts.name = backend.name;\n  opts.adapter = opts.adapter || backend.adapter;\n\n  self.name = name;\n  self._adapter = opts.adapter;\n  PouchDB.emit('debug', ['adapter', 'Picked adapter: ', opts.adapter]);\n\n  if (!PouchDB.adapters[opts.adapter] ||\n      !PouchDB.adapters[opts.adapter].valid()) {\n    throw new Error('Invalid Adapter: ' + opts.adapter);\n  }\n\n  AbstractPouchDB.call(self);\n  self.taskqueue = new TaskQueue();\n\n  self.adapter = opts.adapter;\n\n  PouchDB.adapters[opts.adapter].call(self, opts, function (err) {\n    if (err) {\n      return self.taskqueue.fail(err);\n    }\n    prepareForDestruction(self);\n\n    self.emit('created', self);\n    PouchDB.emit('created', self.name);\n    self.taskqueue.ready(self);\n  });\n\n}\n\n// AbortController was introduced quite a while after fetch and\n// isnt required for PouchDB to function so polyfill if needed\nvar a = (typeof AbortController !== 'undefined')\n    ? AbortController\n    : function () { return {abort: function () {}}; };\n\nvar f$1 = fetch;\nvar h = Headers;\n\nPouchDB.adapters = {};\nPouchDB.preferredAdapters = [];\n\nPouchDB.prefix = '_pouch_';\n\nvar eventEmitter = new EE();\n\nfunction setUpEventEmitter(Pouch) {\n  Object.keys(EE.prototype).forEach(function (key) {\n    if (typeof EE.prototype[key] === 'function') {\n      Pouch[key] = eventEmitter[key].bind(eventEmitter);\n    }\n  });\n\n  // these are created in constructor.js, and allow us to notify each DB with\n  // the same name that it was destroyed, via the constructor object\n  var destructListeners = Pouch._destructionListeners = new ExportedMap();\n\n  Pouch.on('ref', function onConstructorRef(db) {\n    if (!destructListeners.has(db.name)) {\n      destructListeners.set(db.name, []);\n    }\n    destructListeners.get(db.name).push(db);\n  });\n\n  Pouch.on('unref', function onConstructorUnref(db) {\n    if (!destructListeners.has(db.name)) {\n      return;\n    }\n    var dbList = destructListeners.get(db.name);\n    var pos = dbList.indexOf(db);\n    if (pos < 0) {\n      /* istanbul ignore next */\n      return;\n    }\n    dbList.splice(pos, 1);\n    if (dbList.length > 1) {\n      /* istanbul ignore next */\n      destructListeners.set(db.name, dbList);\n    } else {\n      destructListeners.delete(db.name);\n    }\n  });\n\n  Pouch.on('destroyed', function onConstructorDestroyed(name) {\n    if (!destructListeners.has(name)) {\n      return;\n    }\n    var dbList = destructListeners.get(name);\n    destructListeners.delete(name);\n    dbList.forEach(function (db) {\n      db.emit('destroyed',true);\n    });\n  });\n}\n\nsetUpEventEmitter(PouchDB);\n\nPouchDB.adapter = function (id, obj, addToPreferredAdapters) {\n  /* istanbul ignore else */\n  if (obj.valid()) {\n    PouchDB.adapters[id] = obj;\n    if (addToPreferredAdapters) {\n      PouchDB.preferredAdapters.push(id);\n    }\n  }\n};\n\nPouchDB.plugin = function (obj) {\n  if (typeof obj === 'function') { // function style for plugins\n    obj(PouchDB);\n  } else if (typeof obj !== 'object' || Object.keys(obj).length === 0) {\n    throw new Error('Invalid plugin: got \"' + obj + '\", expected an object or a function');\n  } else {\n    Object.keys(obj).forEach(function (id) { // object style for plugins\n      PouchDB.prototype[id] = obj[id];\n    });\n  }\n  if (this.__defaults) {\n    PouchDB.__defaults = $inject_Object_assign({}, this.__defaults);\n  }\n  return PouchDB;\n};\n\nPouchDB.defaults = function (defaultOpts) {\n  function PouchAlt(name, opts) {\n    if (!(this instanceof PouchAlt)) {\n      return new PouchAlt(name, opts);\n    }\n\n    opts = opts || {};\n\n    if (name && typeof name === 'object') {\n      opts = name;\n      name = opts.name;\n      delete opts.name;\n    }\n\n    opts = $inject_Object_assign({}, PouchAlt.__defaults, opts);\n    PouchDB.call(this, name, opts);\n  }\n\n  inherits(PouchAlt, PouchDB);\n\n  PouchAlt.preferredAdapters = PouchDB.preferredAdapters.slice();\n  Object.keys(PouchDB).forEach(function (key) {\n    if (!(key in PouchAlt)) {\n      PouchAlt[key] = PouchDB[key];\n    }\n  });\n\n  // make default options transitive\n  // https://github.com/pouchdb/pouchdb/issues/5922\n  PouchAlt.__defaults = $inject_Object_assign({}, this.__defaults, defaultOpts);\n\n  return PouchAlt;\n};\n\nPouchDB.fetch = function (url, opts) {\n  return f$1(url, opts);\n};\n\n// managed automatically by set-version.js\nvar version = \"7.2.2\";\n\n// this would just be \"return doc[field]\", but fields\n// can be \"deep\" due to dot notation\nfunction getFieldFromDoc(doc, parsedField) {\n  var value = doc;\n  for (var i = 0, len = parsedField.length; i < len; i++) {\n    var key = parsedField[i];\n    value = value[key];\n    if (!value) {\n      break;\n    }\n  }\n  return value;\n}\n\nfunction compare$1(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Converts a string in dot notation to an array of its components, with backslash escaping\nfunction parseField(fieldName) {\n  // fields may be deep (e.g. \"foo.bar.baz\"), so parse\n  var fields = [];\n  var current = '';\n  for (var i = 0, len = fieldName.length; i < len; i++) {\n    var ch = fieldName[i];\n    if (ch === '.') {\n      if (i > 0 && fieldName[i - 1] === '\\\\') { // escaped delimiter\n        current = current.substring(0, current.length - 1) + '.';\n      } else { // not escaped, so delimiter\n        fields.push(current);\n        current = '';\n      }\n    } else { // normal character\n      current += ch;\n    }\n  }\n  fields.push(current);\n  return fields;\n}\n\nvar combinationFields = ['$or', '$nor', '$not'];\nfunction isCombinationalField(field) {\n  return combinationFields.indexOf(field) > -1;\n}\n\nfunction getKey(obj) {\n  return Object.keys(obj)[0];\n}\n\nfunction getValue(obj) {\n  return obj[getKey(obj)];\n}\n\n\n// flatten an array of selectors joined by an $and operator\nfunction mergeAndedSelectors(selectors) {\n\n  // sort to ensure that e.g. if the user specified\n  // $and: [{$gt: 'a'}, {$gt: 'b'}], then it's collapsed into\n  // just {$gt: 'b'}\n  var res = {};\n\n  selectors.forEach(function (selector) {\n    Object.keys(selector).forEach(function (field) {\n      var matcher = selector[field];\n      if (typeof matcher !== 'object') {\n        matcher = {$eq: matcher};\n      }\n\n      if (isCombinationalField(field)) {\n        if (matcher instanceof Array) {\n          res[field] = matcher.map(function (m) {\n            return mergeAndedSelectors([m]);\n          });\n        } else {\n          res[field] = mergeAndedSelectors([matcher]);\n        }\n      } else {\n        var fieldMatchers = res[field] = res[field] || {};\n        Object.keys(matcher).forEach(function (operator) {\n          var value = matcher[operator];\n\n          if (operator === '$gt' || operator === '$gte') {\n            return mergeGtGte(operator, value, fieldMatchers);\n          } else if (operator === '$lt' || operator === '$lte') {\n            return mergeLtLte(operator, value, fieldMatchers);\n          } else if (operator === '$ne') {\n            return mergeNe(value, fieldMatchers);\n          } else if (operator === '$eq') {\n            return mergeEq(value, fieldMatchers);\n          }\n          fieldMatchers[operator] = value;\n        });\n      }\n    });\n  });\n\n  return res;\n}\n\n\n\n// collapse logically equivalent gt/gte values\nfunction mergeGtGte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$gte !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gte) { // more specificity\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value >= fieldMatchers.$gte) { // more specificity\n        delete fieldMatchers.$gte;\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$gt !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gt) { // more specificity\n        delete fieldMatchers.$gt;\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value > fieldMatchers.$gt) { // more specificity\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// collapse logically equivalent lt/lte values\nfunction mergeLtLte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$lte !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lte) { // more specificity\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value <= fieldMatchers.$lte) { // more specificity\n        delete fieldMatchers.$lte;\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$lt !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lt) { // more specificity\n        delete fieldMatchers.$lt;\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value < fieldMatchers.$lt) { // more specificity\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// combine $ne values into one array\nfunction mergeNe(value, fieldMatchers) {\n  if ('$ne' in fieldMatchers) {\n    // there are many things this could \"not\" be\n    fieldMatchers.$ne.push(value);\n  } else { // doesn't exist yet\n    fieldMatchers.$ne = [value];\n  }\n}\n\n// add $eq into the mix\nfunction mergeEq(value, fieldMatchers) {\n  // these all have less specificity than the $eq\n  // TODO: check for user errors here\n  delete fieldMatchers.$gt;\n  delete fieldMatchers.$gte;\n  delete fieldMatchers.$lt;\n  delete fieldMatchers.$lte;\n  delete fieldMatchers.$ne;\n  fieldMatchers.$eq = value;\n}\n\n//#7458: execute function mergeAndedSelectors on nested $and\nfunction mergeAndedSelectorsNested(obj) {\n    for (var prop in obj) {\n        if (Array.isArray(obj)) {\n            for (var i in obj) {\n                if (obj[i]['$and']) {\n                    obj[i] = mergeAndedSelectors(obj[i]['$and']);\n                }\n            }\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            mergeAndedSelectorsNested(value); // <- recursive call\n        }\n    }\n    return obj;\n}\n\n//#7458: determine id $and is present in selector (at any level)\nfunction isAndInSelector(obj, isAnd) {\n    for (var prop in obj) {\n        if (prop === '$and') {\n            isAnd = true;\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            isAnd = isAndInSelector(value, isAnd); // <- recursive call\n        }\n    }\n    return isAnd;\n}\n\n//\n// normalize the selector\n//\nfunction massageSelector(input) {\n  var result = clone(input);\n  var wasAnded = false;\n    //#7458: if $and is present in selector (at any level) merge nested $and\n    if (isAndInSelector(result, false)) {\n        result = mergeAndedSelectorsNested(result);\n        if ('$and' in result) {\n            result = mergeAndedSelectors(result['$and']);\n        }\n        wasAnded = true;\n    }\n\n  ['$or', '$nor'].forEach(function (orOrNor) {\n    if (orOrNor in result) {\n      // message each individual selector\n      // e.g. {foo: 'bar'} becomes {foo: {$eq: 'bar'}}\n      result[orOrNor].forEach(function (subSelector) {\n        var fields = Object.keys(subSelector);\n        for (var i = 0; i < fields.length; i++) {\n          var field = fields[i];\n          var matcher = subSelector[field];\n          if (typeof matcher !== 'object' || matcher === null) {\n            subSelector[field] = {$eq: matcher};\n          }\n        }\n      });\n    }\n  });\n\n  if ('$not' in result) {\n    //This feels a little like forcing, but it will work for now,\n    //I would like to come back to this and make the merging of selectors a little more generic\n    result['$not'] = mergeAndedSelectors([result['$not']]);\n  }\n\n  var fields = Object.keys(result);\n\n  for (var i = 0; i < fields.length; i++) {\n    var field = fields[i];\n    var matcher = result[field];\n\n    if (typeof matcher !== 'object' || matcher === null) {\n      matcher = {$eq: matcher};\n    } else if ('$ne' in matcher && !wasAnded) {\n      // I put these in an array, since there may be more than one\n      // but in the \"mergeAnded\" operation, I already take care of that\n      matcher.$ne = [matcher.$ne];\n    }\n    result[field] = matcher;\n  }\n\n  return result;\n}\n\nfunction pad(str, padWith, upToLength) {\n  var padding = '';\n  var targetLength = upToLength - str.length;\n  /* istanbul ignore next */\n  while (padding.length < targetLength) {\n    padding += padWith;\n  }\n  return padding;\n}\n\nfunction padLeft(str, padWith, upToLength) {\n  var padding = pad(str, padWith, upToLength);\n  return padding + str;\n}\n\nvar MIN_MAGNITUDE = -324; // verified by -Number.MIN_VALUE\nvar MAGNITUDE_DIGITS = 3; // ditto\nvar SEP = ''; // set to '_' for easier debugging \n\nfunction collate(a, b) {\n\n  if (a === b) {\n    return 0;\n  }\n\n  a = normalizeKey(a);\n  b = normalizeKey(b);\n\n  var ai = collationIndex(a);\n  var bi = collationIndex(b);\n  if ((ai - bi) !== 0) {\n    return ai - bi;\n  }\n  switch (typeof a) {\n    case 'number':\n      return a - b;\n    case 'boolean':\n      return a < b ? -1 : 1;\n    case 'string':\n      return stringCollate(a, b);\n  }\n  return Array.isArray(a) ? arrayCollate(a, b) : objectCollate(a, b);\n}\n\n// couch considers null/NaN/Infinity/-Infinity === undefined,\n// for the purposes of mapreduce indexes. also, dates get stringified.\nfunction normalizeKey(key) {\n  switch (typeof key) {\n    case 'undefined':\n      return null;\n    case 'number':\n      if (key === Infinity || key === -Infinity || isNaN(key)) {\n        return null;\n      }\n      return key;\n    case 'object':\n      var origKey = key;\n      if (Array.isArray(key)) {\n        var len = key.length;\n        key = new Array(len);\n        for (var i = 0; i < len; i++) {\n          key[i] = normalizeKey(origKey[i]);\n        }\n      /* istanbul ignore next */\n      } else if (key instanceof Date) {\n        return key.toJSON();\n      } else if (key !== null) { // generic object\n        key = {};\n        for (var k in origKey) {\n          if (origKey.hasOwnProperty(k)) {\n            var val = origKey[k];\n            if (typeof val !== 'undefined') {\n              key[k] = normalizeKey(val);\n            }\n          }\n        }\n      }\n  }\n  return key;\n}\n\nfunction indexify(key) {\n  if (key !== null) {\n    switch (typeof key) {\n      case 'boolean':\n        return key ? 1 : 0;\n      case 'number':\n        return numToIndexableString(key);\n      case 'string':\n        // We've to be sure that key does not contain \\u0000\n        // Do order-preserving replacements:\n        // 0 -> 1, 1\n        // 1 -> 1, 2\n        // 2 -> 2, 2\n        /* eslint-disable no-control-regex */\n        return key\n          .replace(/\\u0002/g, '\\u0002\\u0002')\n          .replace(/\\u0001/g, '\\u0001\\u0002')\n          .replace(/\\u0000/g, '\\u0001\\u0001');\n        /* eslint-enable no-control-regex */\n      case 'object':\n        var isArray = Array.isArray(key);\n        var arr = isArray ? key : Object.keys(key);\n        var i = -1;\n        var len = arr.length;\n        var result = '';\n        if (isArray) {\n          while (++i < len) {\n            result += toIndexableString(arr[i]);\n          }\n        } else {\n          while (++i < len) {\n            var objKey = arr[i];\n            result += toIndexableString(objKey) +\n                toIndexableString(key[objKey]);\n          }\n        }\n        return result;\n    }\n  }\n  return '';\n}\n\n// convert the given key to a string that would be appropriate\n// for lexical sorting, e.g. within a database, where the\n// sorting is the same given by the collate() function.\nfunction toIndexableString(key) {\n  var zero = '\\u0000';\n  key = normalizeKey(key);\n  return collationIndex(key) + SEP + indexify(key) + zero;\n}\n\nfunction parseNumber(str, i) {\n  var originalIdx = i;\n  var num;\n  var zero = str[i] === '1';\n  if (zero) {\n    num = 0;\n    i++;\n  } else {\n    var neg = str[i] === '0';\n    i++;\n    var numAsString = '';\n    var magAsString = str.substring(i, i + MAGNITUDE_DIGITS);\n    var magnitude = parseInt(magAsString, 10) + MIN_MAGNITUDE;\n    /* istanbul ignore next */\n    if (neg) {\n      magnitude = -magnitude;\n    }\n    i += MAGNITUDE_DIGITS;\n    while (true) {\n      var ch = str[i];\n      if (ch === '\\u0000') {\n        break;\n      } else {\n        numAsString += ch;\n      }\n      i++;\n    }\n    numAsString = numAsString.split('.');\n    if (numAsString.length === 1) {\n      num = parseInt(numAsString, 10);\n    } else {\n      /* istanbul ignore next */\n      num = parseFloat(numAsString[0] + '.' + numAsString[1]);\n    }\n    /* istanbul ignore next */\n    if (neg) {\n      num = num - 10;\n    }\n    /* istanbul ignore next */\n    if (magnitude !== 0) {\n      // parseFloat is more reliable than pow due to rounding errors\n      // e.g. Number.MAX_VALUE would return Infinity if we did\n      // num * Math.pow(10, magnitude);\n      num = parseFloat(num + 'e' + magnitude);\n    }\n  }\n  return {num: num, length : i - originalIdx};\n}\n\n// move up the stack while parsing\n// this function moved outside of parseIndexableString for performance\nfunction pop(stack, metaStack) {\n  var obj = stack.pop();\n\n  if (metaStack.length) {\n    var lastMetaElement = metaStack[metaStack.length - 1];\n    if (obj === lastMetaElement.element) {\n      // popping a meta-element, e.g. an object whose value is another object\n      metaStack.pop();\n      lastMetaElement = metaStack[metaStack.length - 1];\n    }\n    var element = lastMetaElement.element;\n    var lastElementIndex = lastMetaElement.index;\n    if (Array.isArray(element)) {\n      element.push(obj);\n    } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n      var key = stack.pop();\n      element[key] = obj;\n    } else {\n      stack.push(obj); // obj with key only\n    }\n  }\n}\n\nfunction parseIndexableString(str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n\n  /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n  while (true) {\n    var collationIndex = str[i++];\n    if (collationIndex === '\\u0000') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case '1':\n        stack.push(null);\n        break;\n      case '2':\n        stack.push(str[i] === '1');\n        i++;\n        break;\n      case '3':\n        var parsedNum = parseNumber(str, i);\n        stack.push(parsedNum.num);\n        i += parsedNum.length;\n        break;\n      case '4':\n        var parsedStr = '';\n        /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n        while (true) {\n          var ch = str[i];\n          if (ch === '\\u0000') {\n            break;\n          }\n          parsedStr += ch;\n          i++;\n        }\n        // perform the reverse of the order-preserving replacement\n        // algorithm (see above)\n        /* eslint-disable no-control-regex */\n        parsedStr = parsedStr.replace(/\\u0001\\u0001/g, '\\u0000')\n          .replace(/\\u0001\\u0002/g, '\\u0001')\n          .replace(/\\u0002\\u0002/g, '\\u0002');\n        /* eslint-enable no-control-regex */\n        stack.push(parsedStr);\n        break;\n      case '5':\n        var arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '6':\n        var objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      /* istanbul ignore next */\n      default:\n        throw new Error(\n          'bad collationIndex or unexpectedly reached end of input: ' +\n            collationIndex);\n    }\n  }\n}\n\nfunction arrayCollate(a, b) {\n  var len = Math.min(a.length, b.length);\n  for (var i = 0; i < len; i++) {\n    var sort = collate(a[i], b[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n  }\n  return (a.length === b.length) ? 0 :\n    (a.length > b.length) ? 1 : -1;\n}\nfunction stringCollate(a, b) {\n  // See: https://github.com/daleharvey/pouchdb/issues/40\n  // This is incompatible with the CouchDB implementation, but its the\n  // best we can do for now\n  return (a === b) ? 0 : ((a > b) ? 1 : -1);\n}\nfunction objectCollate(a, b) {\n  var ak = Object.keys(a), bk = Object.keys(b);\n  var len = Math.min(ak.length, bk.length);\n  for (var i = 0; i < len; i++) {\n    // First sort the keys\n    var sort = collate(ak[i], bk[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n    // if the keys are equal sort the values\n    sort = collate(a[ak[i]], b[bk[i]]);\n    if (sort !== 0) {\n      return sort;\n    }\n\n  }\n  return (ak.length === bk.length) ? 0 :\n    (ak.length > bk.length) ? 1 : -1;\n}\n// The collation is defined by erlangs ordered terms\n// the atoms null, true, false come first, then numbers, strings,\n// arrays, then objects\n// null/undefined/NaN/Infinity/-Infinity are all considered null\nfunction collationIndex(x) {\n  var id = ['boolean', 'number', 'string', 'object'];\n  var idx = id.indexOf(typeof x);\n  //false if -1 otherwise true, but fast!!!!1\n  if (~idx) {\n    if (x === null) {\n      return 1;\n    }\n    if (Array.isArray(x)) {\n      return 5;\n    }\n    return idx < 3 ? (idx + 2) : (idx + 3);\n  }\n  /* istanbul ignore next */\n  if (Array.isArray(x)) {\n    return 5;\n  }\n}\n\n// conversion:\n// x yyy zz...zz\n// x = 0 for negative, 1 for 0, 2 for positive\n// y = exponent (for negative numbers negated) moved so that it's >= 0\n// z = mantisse\nfunction numToIndexableString(num) {\n\n  if (num === 0) {\n    return '1';\n  }\n\n  // convert number to exponential format for easier and\n  // more succinct string sorting\n  var expFormat = num.toExponential().split(/e\\+?/);\n  var magnitude = parseInt(expFormat[1], 10);\n\n  var neg = num < 0;\n\n  var result = neg ? '0' : '2';\n\n  // first sort by magnitude\n  // it's easier if all magnitudes are positive\n  var magForComparison = ((neg ? -magnitude : magnitude) - MIN_MAGNITUDE);\n  var magString = padLeft((magForComparison).toString(), '0', MAGNITUDE_DIGITS);\n\n  result += SEP + magString;\n\n  // then sort by the factor\n  var factor = Math.abs(parseFloat(expFormat[0])); // [1..10)\n  /* istanbul ignore next */\n  if (neg) { // for negative reverse ordering\n    factor = 10 - factor;\n  }\n\n  var factorStr = factor.toFixed(20);\n\n  // strip zeros from the end\n  factorStr = factorStr.replace(/\\.?0+$/, '');\n\n  result += SEP + factorStr;\n\n  return result;\n}\n\n// create a comparator based on the sort object\nfunction createFieldSorter(sort) {\n\n  function getFieldValuesAsArray(doc) {\n    return sort.map(function (sorting) {\n      var fieldName = getKey(sorting);\n      var parsedField = parseField(fieldName);\n      var docFieldValue = getFieldFromDoc(doc, parsedField);\n      return docFieldValue;\n    });\n  }\n\n  return function (aRow, bRow) {\n    var aFieldValues = getFieldValuesAsArray(aRow.doc);\n    var bFieldValues = getFieldValuesAsArray(bRow.doc);\n    var collation = collate(aFieldValues, bFieldValues);\n    if (collation !== 0) {\n      return collation;\n    }\n    // this is what mango seems to do\n    return compare$1(aRow.doc._id, bRow.doc._id);\n  };\n}\n\nfunction filterInMemoryFields(rows, requestDef, inMemoryFields) {\n  rows = rows.filter(function (row) {\n    return rowFilter(row.doc, requestDef.selector, inMemoryFields);\n  });\n\n  if (requestDef.sort) {\n    // in-memory sort\n    var fieldSorter = createFieldSorter(requestDef.sort);\n    rows = rows.sort(fieldSorter);\n    if (typeof requestDef.sort[0] !== 'string' &&\n        getValue(requestDef.sort[0]) === 'desc') {\n      rows = rows.reverse();\n    }\n  }\n\n  if ('limit' in requestDef || 'skip' in requestDef) {\n    // have to do the limit in-memory\n    var skip = requestDef.skip || 0;\n    var limit = ('limit' in requestDef ? requestDef.limit : rows.length) + skip;\n    rows = rows.slice(skip, limit);\n  }\n  return rows;\n}\n\nfunction rowFilter(doc, selector, inMemoryFields) {\n  return inMemoryFields.every(function (field) {\n    var matcher = selector[field];\n    var parsedField = parseField(field);\n    var docFieldValue = getFieldFromDoc(doc, parsedField);\n    if (isCombinationalField(field)) {\n      return matchCominationalSelector(field, matcher, doc);\n    }\n\n    return matchSelector(matcher, doc, parsedField, docFieldValue);\n  });\n}\n\nfunction matchSelector(matcher, doc, parsedField, docFieldValue) {\n  if (!matcher) {\n    // no filtering necessary; this field is just needed for sorting\n    return true;\n  }\n\n  // is matcher an object, if so continue recursion\n  if (typeof matcher === 'object') {\n    return Object.keys(matcher).every(function (userOperator) {\n      var userValue = matcher[userOperator];\n      return match(userOperator, doc, userValue, parsedField, docFieldValue);\n    });\n  }\n\n  // no more depth, No need to recurse further\n  return matcher === docFieldValue;\n}\n\nfunction matchCominationalSelector(field, matcher, doc) {\n\n  if (field === '$or') {\n    return matcher.some(function (orMatchers) {\n      return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n    });\n  }\n\n  if (field === '$not') {\n    return !rowFilter(doc, matcher, Object.keys(matcher));\n  }\n\n  //`$nor`\n  return !matcher.find(function (orMatchers) {\n    return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n  });\n\n}\n\nfunction match(userOperator, doc, userValue, parsedField, docFieldValue) {\n  if (!matchers[userOperator]) {\n    throw new Error('unknown operator \"' + userOperator +\n      '\" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, ' +\n      '$nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');\n  }\n  return matchers[userOperator](doc, userValue, parsedField, docFieldValue);\n}\n\nfunction fieldExists(docFieldValue) {\n  return typeof docFieldValue !== 'undefined' && docFieldValue !== null;\n}\n\nfunction fieldIsNotUndefined(docFieldValue) {\n  return typeof docFieldValue !== 'undefined';\n}\n\nfunction modField(docFieldValue, userValue) {\n  var divisor = userValue[0];\n  var mod = userValue[1];\n  if (divisor === 0) {\n    throw new Error('Bad divisor, cannot divide by zero');\n  }\n\n  if (parseInt(divisor, 10) !== divisor ) {\n    throw new Error('Divisor is not an integer');\n  }\n\n  if (parseInt(mod, 10) !== mod ) {\n    throw new Error('Modulus is not an integer');\n  }\n\n  if (parseInt(docFieldValue, 10) !== docFieldValue) {\n    return false;\n  }\n\n  return docFieldValue % divisor === mod;\n}\n\nfunction arrayContainsValue(docFieldValue, userValue) {\n  return userValue.some(function (val) {\n    if (docFieldValue instanceof Array) {\n      return docFieldValue.indexOf(val) > -1;\n    }\n\n    return docFieldValue === val;\n  });\n}\n\nfunction arrayContainsAllValues(docFieldValue, userValue) {\n  return userValue.every(function (val) {\n    return docFieldValue.indexOf(val) > -1;\n  });\n}\n\nfunction arraySize(docFieldValue, userValue) {\n  return docFieldValue.length === userValue;\n}\n\nfunction regexMatch(docFieldValue, userValue) {\n  var re = new RegExp(userValue);\n\n  return re.test(docFieldValue);\n}\n\nfunction typeMatch(docFieldValue, userValue) {\n\n  switch (userValue) {\n    case 'null':\n      return docFieldValue === null;\n    case 'boolean':\n      return typeof (docFieldValue) === 'boolean';\n    case 'number':\n      return typeof (docFieldValue) === 'number';\n    case 'string':\n      return typeof (docFieldValue) === 'string';\n    case 'array':\n      return docFieldValue instanceof Array;\n    case 'object':\n      return ({}).toString.call(docFieldValue) === '[object Object]';\n  }\n\n  throw new Error(userValue + ' not supported as a type.' +\n                  'Please use one of object, string, array, number, boolean or null.');\n\n}\n\nvar matchers = {\n\n  '$elemMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.some(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.some(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$allMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    /* istanbul ignore next */\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.every(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.every(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$eq': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) === 0;\n  },\n\n  '$gte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) >= 0;\n  },\n\n  '$gt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) > 0;\n  },\n\n  '$lte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) <= 0;\n  },\n\n  '$lt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) < 0;\n  },\n\n  '$exists': function (doc, userValue, parsedField, docFieldValue) {\n    //a field that is null is still considered to exist\n    if (userValue) {\n      return fieldIsNotUndefined(docFieldValue);\n    }\n\n    return !fieldIsNotUndefined(docFieldValue);\n  },\n\n  '$mod': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && modField(docFieldValue, userValue);\n  },\n\n  '$ne': function (doc, userValue, parsedField, docFieldValue) {\n    return userValue.every(function (neValue) {\n      return collate(docFieldValue, neValue) !== 0;\n    });\n  },\n  '$in': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$nin': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && !arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$size': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arraySize(docFieldValue, userValue);\n  },\n\n  '$all': function (doc, userValue, parsedField, docFieldValue) {\n    return Array.isArray(docFieldValue) && arrayContainsAllValues(docFieldValue, userValue);\n  },\n\n  '$regex': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && regexMatch(docFieldValue, userValue);\n  },\n\n  '$type': function (doc, userValue, parsedField, docFieldValue) {\n    return typeMatch(docFieldValue, userValue);\n  }\n};\n\n// return true if the given doc matches the supplied selector\nfunction matchesSelector(doc, selector) {\n  /* istanbul ignore if */\n  if (typeof selector !== 'object') {\n    // match the CouchDB error message\n    throw new Error('Selector error: expected a JSON object');\n  }\n\n  selector = massageSelector(selector);\n  var row = {\n    'doc': doc\n  };\n\n  var rowsMatched = filterInMemoryFields([row], { 'selector': selector }, Object.keys(selector));\n  return rowsMatched && rowsMatched.length === 1;\n}\n\nfunction evalFilter(input) {\n  return scopeEval('\"use strict\";\\nreturn ' + input + ';', {});\n}\n\nfunction evalView(input) {\n  var code = [\n    'return function(doc) {',\n    '  \"use strict\";',\n    '  var emitted = false;',\n    '  var emit = function (a, b) {',\n    '    emitted = true;',\n    '  };',\n    '  var view = ' + input + ';',\n    '  view(doc);',\n    '  if (emitted) {',\n    '    return true;',\n    '  }',\n    '};'\n  ].join('\\n');\n\n  return scopeEval(code, {});\n}\n\nfunction validate(opts, callback) {\n  if (opts.selector) {\n    if (opts.filter && opts.filter !== '_selector') {\n      var filterName = typeof opts.filter === 'string' ?\n        opts.filter : 'function';\n      return callback(new Error('selector invalid for filter \"' + filterName + '\"'));\n    }\n  }\n  callback();\n}\n\nfunction normalize(opts) {\n  if (opts.view && !opts.filter) {\n    opts.filter = '_view';\n  }\n\n  if (opts.selector && !opts.filter) {\n    opts.filter = '_selector';\n  }\n\n  if (opts.filter && typeof opts.filter === 'string') {\n    if (opts.filter === '_view') {\n      opts.view = normalizeDesignDocFunctionName(opts.view);\n    } else {\n      opts.filter = normalizeDesignDocFunctionName(opts.filter);\n    }\n  }\n}\n\nfunction shouldFilter(changesHandler, opts) {\n  return opts.filter && typeof opts.filter === 'string' &&\n    !opts.doc_ids && !isRemote(changesHandler.db);\n}\n\nfunction filter(changesHandler, opts) {\n  var callback = opts.complete;\n  if (opts.filter === '_view') {\n    if (!opts.view || typeof opts.view !== 'string') {\n      var err = createError(BAD_REQUEST,\n        '`view` filter parameter not found or invalid.');\n      return callback(err);\n    }\n    // fetch a view from a design doc, make it behave like a filter\n    var viewName = parseDesignDocFunctionName(opts.view);\n    changesHandler.db.get('_design/' + viewName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var mapFun = ddoc && ddoc.views && ddoc.views[viewName[1]] &&\n        ddoc.views[viewName[1]].map;\n      if (!mapFun) {\n        return callback(createError(MISSING_DOC,\n          (ddoc.views ? 'missing json key: ' + viewName[1] :\n            'missing json key: views')));\n      }\n      opts.filter = evalView(mapFun);\n      changesHandler.doChanges(opts);\n    });\n  } else if (opts.selector) {\n    opts.filter = function (doc) {\n      return matchesSelector(doc, opts.selector);\n    };\n    changesHandler.doChanges(opts);\n  } else {\n    // fetch a filter from a design doc\n    var filterName = parseDesignDocFunctionName(opts.filter);\n    changesHandler.db.get('_design/' + filterName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var filterFun = ddoc && ddoc.filters && ddoc.filters[filterName[1]];\n      if (!filterFun) {\n        return callback(createError(MISSING_DOC,\n          ((ddoc && ddoc.filters) ? 'missing json key: ' + filterName[1]\n            : 'missing json key: filters')));\n      }\n      opts.filter = evalFilter(filterFun);\n      changesHandler.doChanges(opts);\n    });\n  }\n}\n\nfunction applyChangesFilterPlugin(PouchDB) {\n  PouchDB._changesFilterPlugin = {\n    validate: validate,\n    normalize: normalize,\n    shouldFilter: shouldFilter,\n    filter: filter\n  };\n}\n\n// TODO: remove from pouchdb-core (breaking)\nPouchDB.plugin(applyChangesFilterPlugin);\n\nPouchDB.version = version;\n\nfunction toObject(array) {\n  return array.reduce(function (obj, item) {\n    obj[item] = true;\n    return obj;\n  }, {});\n}\n// List of top level reserved words for doc\nvar reservedWords = toObject([\n  '_id',\n  '_rev',\n  '_attachments',\n  '_deleted',\n  '_revisions',\n  '_revs_info',\n  '_conflicts',\n  '_deleted_conflicts',\n  '_local_seq',\n  '_rev_tree',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats',\n  // Specific to Couchbase Sync Gateway\n  '_removed'\n]);\n\n// List of reserved words that should end up the document\nvar dataWords = toObject([\n  '_attachments',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats'\n]);\n\nfunction parseRevisionInfo(rev$$1) {\n  if (!/^\\d+-/.test(rev$$1)) {\n    return createError(INVALID_REV);\n  }\n  var idx = rev$$1.indexOf('-');\n  var left = rev$$1.substring(0, idx);\n  var right = rev$$1.substring(idx + 1);\n  return {\n    prefix: parseInt(left, 10),\n    id: right\n  };\n}\n\nfunction makeRevTreeFromRevisions(revisions, opts) {\n  var pos = revisions.start - revisions.ids.length + 1;\n\n  var revisionIds = revisions.ids;\n  var ids = [revisionIds[0], opts, []];\n\n  for (var i = 1, len = revisionIds.length; i < len; i++) {\n    ids = [revisionIds[i], {status: 'missing'}, [ids]];\n  }\n\n  return [{\n    pos: pos,\n    ids: ids\n  }];\n}\n\n// Preprocess documents, parse their revisions, assign an id and a\n// revision for new writes that are missing them, etc\nfunction parseDoc(doc, newEdits, dbOpts) {\n  if (!dbOpts) {\n    dbOpts = {\n      deterministic_revs: true\n    };\n  }\n\n  var nRevNum;\n  var newRevId;\n  var revInfo;\n  var opts = {status: 'available'};\n  if (doc._deleted) {\n    opts.deleted = true;\n  }\n\n  if (newEdits) {\n    if (!doc._id) {\n      doc._id = uuid();\n    }\n    newRevId = rev(doc, dbOpts.deterministic_revs);\n    if (doc._rev) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      doc._rev_tree = [{\n        pos: revInfo.prefix,\n        ids: [revInfo.id, {status: 'missing'}, [[newRevId, opts, []]]]\n      }];\n      nRevNum = revInfo.prefix + 1;\n    } else {\n      doc._rev_tree = [{\n        pos: 1,\n        ids : [newRevId, opts, []]\n      }];\n      nRevNum = 1;\n    }\n  } else {\n    if (doc._revisions) {\n      doc._rev_tree = makeRevTreeFromRevisions(doc._revisions, opts);\n      nRevNum = doc._revisions.start;\n      newRevId = doc._revisions.ids[0];\n    }\n    if (!doc._rev_tree) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      nRevNum = revInfo.prefix;\n      newRevId = revInfo.id;\n      doc._rev_tree = [{\n        pos: nRevNum,\n        ids: [newRevId, opts, []]\n      }];\n    }\n  }\n\n  invalidIdError(doc._id);\n\n  doc._rev = nRevNum + '-' + newRevId;\n\n  var result = {metadata : {}, data : {}};\n  for (var key in doc) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(doc, key)) {\n      var specialKey = key[0] === '_';\n      if (specialKey && !reservedWords[key]) {\n        var error = createError(DOC_VALIDATION, key);\n        error.message = DOC_VALIDATION.message + ': ' + key;\n        throw error;\n      } else if (specialKey && !dataWords[key]) {\n        result.metadata[key.slice(1)] = doc[key];\n      } else {\n        result.data[key] = doc[key];\n      }\n    }\n  }\n  return result;\n}\n\nfunction parseBase64(data) {\n  try {\n    return thisAtob(data);\n  } catch (e) {\n    var err = createError(BAD_ARG,\n      'Attachment is not a valid base64 string');\n    return {error: err};\n  }\n}\n\nfunction preprocessString(att, blobType, callback) {\n  var asBinary = parseBase64(att.data);\n  if (asBinary.error) {\n    return callback(asBinary.error);\n  }\n\n  att.length = asBinary.length;\n  if (blobType === 'blob') {\n    att.data = binStringToBluffer(asBinary, att.content_type);\n  } else if (blobType === 'base64') {\n    att.data = thisBtoa(asBinary);\n  } else { // binary\n    att.data = asBinary;\n  }\n  binaryMd5(asBinary, function (result) {\n    att.digest = 'md5-' + result;\n    callback();\n  });\n}\n\nfunction preprocessBlob(att, blobType, callback) {\n  binaryMd5(att.data, function (md5) {\n    att.digest = 'md5-' + md5;\n    // size is for blobs (browser), length is for buffers (node)\n    att.length = att.data.size || att.data.length || 0;\n    if (blobType === 'binary') {\n      blobToBinaryString(att.data, function (binString) {\n        att.data = binString;\n        callback();\n      });\n    } else if (blobType === 'base64') {\n      blobToBase64(att.data, function (b64) {\n        att.data = b64;\n        callback();\n      });\n    } else {\n      callback();\n    }\n  });\n}\n\nfunction preprocessAttachment(att, blobType, callback) {\n  if (att.stub) {\n    return callback();\n  }\n  if (typeof att.data === 'string') { // input is a base64 string\n    preprocessString(att, blobType, callback);\n  } else { // input is a blob\n    preprocessBlob(att, blobType, callback);\n  }\n}\n\nfunction preprocessAttachments(docInfos, blobType, callback) {\n\n  if (!docInfos.length) {\n    return callback();\n  }\n\n  var docv = 0;\n  var overallErr;\n\n  docInfos.forEach(function (docInfo) {\n    var attachments = docInfo.data && docInfo.data._attachments ?\n      Object.keys(docInfo.data._attachments) : [];\n    var recv = 0;\n\n    if (!attachments.length) {\n      return done();\n    }\n\n    function processedAttachment(err) {\n      overallErr = err;\n      recv++;\n      if (recv === attachments.length) {\n        done();\n      }\n    }\n\n    for (var key in docInfo.data._attachments) {\n      if (docInfo.data._attachments.hasOwnProperty(key)) {\n        preprocessAttachment(docInfo.data._attachments[key],\n          blobType, processedAttachment);\n      }\n    }\n  });\n\n  function done() {\n    docv++;\n    if (docInfos.length === docv) {\n      if (overallErr) {\n        callback(overallErr);\n      } else {\n        callback();\n      }\n    }\n  }\n}\n\nfunction updateDoc(revLimit, prev, docInfo, results,\n                   i, cb, writeDoc, newEdits) {\n\n  if (revExists(prev.rev_tree, docInfo.metadata.rev) && !newEdits) {\n    results[i] = docInfo;\n    return cb();\n  }\n\n  // sometimes this is pre-calculated. historically not always\n  var previousWinningRev = prev.winningRev || winningRev(prev);\n  var previouslyDeleted = 'deleted' in prev ? prev.deleted :\n    isDeleted(prev, previousWinningRev);\n  var deleted = 'deleted' in docInfo.metadata ? docInfo.metadata.deleted :\n    isDeleted(docInfo.metadata);\n  var isRoot = /^1-/.test(docInfo.metadata.rev);\n\n  if (previouslyDeleted && !deleted && newEdits && isRoot) {\n    var newDoc = docInfo.data;\n    newDoc._rev = previousWinningRev;\n    newDoc._id = docInfo.metadata.id;\n    docInfo = parseDoc(newDoc, newEdits);\n  }\n\n  var merged = merge(prev.rev_tree, docInfo.metadata.rev_tree[0], revLimit);\n\n  var inConflict = newEdits && ((\n    (previouslyDeleted && deleted && merged.conflicts !== 'new_leaf') ||\n    (!previouslyDeleted && merged.conflicts !== 'new_leaf') ||\n    (previouslyDeleted && !deleted && merged.conflicts === 'new_branch')));\n\n  if (inConflict) {\n    var err = createError(REV_CONFLICT);\n    results[i] = err;\n    return cb();\n  }\n\n  var newRev = docInfo.metadata.rev;\n  docInfo.metadata.rev_tree = merged.tree;\n  docInfo.stemmedRevs = merged.stemmedRevs || [];\n  /* istanbul ignore else */\n  if (prev.rev_map) {\n    docInfo.metadata.rev_map = prev.rev_map; // used only by leveldb\n  }\n\n  // recalculate\n  var winningRev$$1 = winningRev(docInfo.metadata);\n  var winningRevIsDeleted = isDeleted(docInfo.metadata, winningRev$$1);\n\n  // calculate the total number of documents that were added/removed,\n  // from the perspective of total_rows/doc_count\n  var delta = (previouslyDeleted === winningRevIsDeleted) ? 0 :\n    previouslyDeleted < winningRevIsDeleted ? -1 : 1;\n\n  var newRevIsDeleted;\n  if (newRev === winningRev$$1) {\n    // if the new rev is the same as the winning rev, we can reuse that value\n    newRevIsDeleted = winningRevIsDeleted;\n  } else {\n    // if they're not the same, then we need to recalculate\n    newRevIsDeleted = isDeleted(docInfo.metadata, newRev);\n  }\n\n  writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n    true, delta, i, cb);\n}\n\nfunction rootIsMissing(docInfo) {\n  return docInfo.metadata.rev_tree[0].ids[1].status === 'missing';\n}\n\nfunction processDocs(revLimit, docInfos, api, fetchedDocs, tx, results,\n                     writeDoc, opts, overallCallback) {\n\n  // Default to 1000 locally\n  revLimit = revLimit || 1000;\n\n  function insertDoc(docInfo, resultsIdx, callback) {\n    // Cant insert new deleted documents\n    var winningRev$$1 = winningRev(docInfo.metadata);\n    var deleted = isDeleted(docInfo.metadata, winningRev$$1);\n    if ('was_delete' in opts && deleted) {\n      results[resultsIdx] = createError(MISSING_DOC, 'deleted');\n      return callback();\n    }\n\n    // 4712 - detect whether a new document was inserted with a _rev\n    var inConflict = newEdits && rootIsMissing(docInfo);\n\n    if (inConflict) {\n      var err = createError(REV_CONFLICT);\n      results[resultsIdx] = err;\n      return callback();\n    }\n\n    var delta = deleted ? 0 : 1;\n\n    writeDoc(docInfo, winningRev$$1, deleted, deleted, false,\n      delta, resultsIdx, callback);\n  }\n\n  var newEdits = opts.new_edits;\n  var idsToDocs = new ExportedMap();\n\n  var docsDone = 0;\n  var docsToDo = docInfos.length;\n\n  function checkAllDocsDone() {\n    if (++docsDone === docsToDo && overallCallback) {\n      overallCallback();\n    }\n  }\n\n  docInfos.forEach(function (currentDoc, resultsIdx) {\n\n    if (currentDoc._id && isLocalId(currentDoc._id)) {\n      var fun = currentDoc._deleted ? '_removeLocal' : '_putLocal';\n      api[fun](currentDoc, {ctx: tx}, function (err, res) {\n        results[resultsIdx] = err || res;\n        checkAllDocsDone();\n      });\n      return;\n    }\n\n    var id = currentDoc.metadata.id;\n    if (idsToDocs.has(id)) {\n      docsToDo--; // duplicate\n      idsToDocs.get(id).push([currentDoc, resultsIdx]);\n    } else {\n      idsToDocs.set(id, [[currentDoc, resultsIdx]]);\n    }\n  });\n\n  // in the case of new_edits, the user can provide multiple docs\n  // with the same id. these need to be processed sequentially\n  idsToDocs.forEach(function (docs, id) {\n    var numDone = 0;\n\n    function docWritten() {\n      if (++numDone < docs.length) {\n        nextDoc();\n      } else {\n        checkAllDocsDone();\n      }\n    }\n    function nextDoc() {\n      var value = docs[numDone];\n      var currentDoc = value[0];\n      var resultsIdx = value[1];\n\n      if (fetchedDocs.has(id)) {\n        updateDoc(revLimit, fetchedDocs.get(id), currentDoc, results,\n          resultsIdx, docWritten, writeDoc, newEdits);\n      } else {\n        // Ensure stemming applies to new writes as well\n        var merged = merge([], currentDoc.metadata.rev_tree[0], revLimit);\n        currentDoc.metadata.rev_tree = merged.tree;\n        currentDoc.stemmedRevs = merged.stemmedRevs || [];\n        insertDoc(currentDoc, resultsIdx, docWritten);\n      }\n    }\n    nextDoc();\n  });\n}\n\n// IndexedDB requires a versioned database structure, so we use the\n// version here to manage migrations.\nvar ADAPTER_VERSION = 5;\n\n// The object stores created for each database\n// DOC_STORE stores the document meta data, its revision history and state\n// Keyed by document id\nvar DOC_STORE = 'document-store';\n// BY_SEQ_STORE stores a particular version of a document, keyed by its\n// sequence id\nvar BY_SEQ_STORE = 'by-sequence';\n// Where we store attachments\nvar ATTACH_STORE = 'attach-store';\n// Where we store many-to-many relations\n// between attachment digests and seqs\nvar ATTACH_AND_SEQ_STORE = 'attach-seq-store';\n\n// Where we store database-wide meta data in a single record\n// keyed by id: META_STORE\nvar META_STORE = 'meta-store';\n// Where we store local documents\nvar LOCAL_STORE = 'local-store';\n// Where we detect blob support\nvar DETECT_BLOB_SUPPORT_STORE = 'detect-blob-support';\n\nfunction safeJsonParse(str) {\n  // This try/catch guards against stack overflow errors.\n  // JSON.parse() is faster than vuvuzela.parse() but vuvuzela\n  // cannot overflow.\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.parse(str);\n  }\n}\n\nfunction safeJsonStringify(json) {\n  try {\n    return JSON.stringify(json);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.stringify(json);\n  }\n}\n\nfunction idbError(callback) {\n  return function (evt) {\n    var message = 'unknown_error';\n    if (evt.target && evt.target.error) {\n      message = evt.target.error.name || evt.target.error.message;\n    }\n    callback(createError(IDB_ERROR, message, evt.type));\n  };\n}\n\n// Unfortunately, the metadata has to be stringified\n// when it is put into the database, because otherwise\n// IndexedDB can throw errors for deeply-nested objects.\n// Originally we just used JSON.parse/JSON.stringify; now\n// we use this custom vuvuzela library that avoids recursion.\n// If we could do it all over again, we'd probably use a\n// format for the revision trees other than JSON.\nfunction encodeMetadata(metadata, winningRev, deleted) {\n  return {\n    data: safeJsonStringify(metadata),\n    winningRev: winningRev,\n    deletedOrLocal: deleted ? '1' : '0',\n    seq: metadata.seq, // highest seq for this doc\n    id: metadata.id\n  };\n}\n\nfunction decodeMetadata(storedObject) {\n  if (!storedObject) {\n    return null;\n  }\n  var metadata = safeJsonParse(storedObject.data);\n  metadata.winningRev = storedObject.winningRev;\n  metadata.deleted = storedObject.deletedOrLocal === '1';\n  metadata.seq = storedObject.seq;\n  return metadata;\n}\n\n// read the doc back out from the database. we don't store the\n// _id or _rev because we already have _doc_id_rev.\nfunction decodeDoc(doc) {\n  if (!doc) {\n    return doc;\n  }\n  var idx = doc._doc_id_rev.lastIndexOf(':');\n  doc._id = doc._doc_id_rev.substring(0, idx - 1);\n  doc._rev = doc._doc_id_rev.substring(idx + 1);\n  delete doc._doc_id_rev;\n  return doc;\n}\n\n// Read a blob from the database, encoding as necessary\n// and translating from base64 if the IDB doesn't support\n// native Blobs\nfunction readBlobData(body, type, asBlob, callback) {\n  if (asBlob) {\n    if (!body) {\n      callback(createBlob([''], {type: type}));\n    } else if (typeof body !== 'string') { // we have blob support\n      callback(body);\n    } else { // no blob support\n      callback(b64ToBluffer(body, type));\n    }\n  } else { // as base64 string\n    if (!body) {\n      callback('');\n    } else if (typeof body !== 'string') { // we have blob support\n      readAsBinaryString(body, function (binary) {\n        callback(thisBtoa(binary));\n      });\n    } else { // no blob support\n      callback(body);\n    }\n  }\n}\n\nfunction fetchAttachmentsIfNecessary(doc, opts, txn, cb) {\n  var attachments = Object.keys(doc._attachments || {});\n  if (!attachments.length) {\n    return cb && cb();\n  }\n  var numDone = 0;\n\n  function checkDone() {\n    if (++numDone === attachments.length && cb) {\n      cb();\n    }\n  }\n\n  function fetchAttachment(doc, att) {\n    var attObj = doc._attachments[att];\n    var digest = attObj.digest;\n    var req = txn.objectStore(ATTACH_STORE).get(digest);\n    req.onsuccess = function (e) {\n      attObj.body = e.target.result.body;\n      checkDone();\n    };\n  }\n\n  attachments.forEach(function (att) {\n    if (opts.attachments && opts.include_docs) {\n      fetchAttachment(doc, att);\n    } else {\n      doc._attachments[att].stub = true;\n      checkDone();\n    }\n  });\n}\n\n// IDB-specific postprocessing necessary because\n// we don't know whether we stored a true Blob or\n// a base64-encoded string, and if it's a Blob it\n// needs to be read outside of the transaction context\nfunction postProcessAttachments(results, asBlob) {\n  return Promise.all(results.map(function (row) {\n    if (row.doc && row.doc._attachments) {\n      var attNames = Object.keys(row.doc._attachments);\n      return Promise.all(attNames.map(function (att) {\n        var attObj = row.doc._attachments[att];\n        if (!('body' in attObj)) { // already processed\n          return;\n        }\n        var body = attObj.body;\n        var type = attObj.content_type;\n        return new Promise(function (resolve) {\n          readBlobData(body, type, asBlob, function (data) {\n            row.doc._attachments[att] = $inject_Object_assign(\n              pick(attObj, ['digest', 'content_type']),\n              {data: data}\n            );\n            resolve();\n          });\n        });\n      }));\n    }\n  }));\n}\n\nfunction compactRevs(revs, docId, txn) {\n\n  var possiblyOrphanedDigests = [];\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var attStore = txn.objectStore(ATTACH_STORE);\n  var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n  var count = revs.length;\n\n  function checkDone() {\n    count--;\n    if (!count) { // done processing all revs\n      deleteOrphanedAttachments();\n    }\n  }\n\n  function deleteOrphanedAttachments() {\n    if (!possiblyOrphanedDigests.length) {\n      return;\n    }\n    possiblyOrphanedDigests.forEach(function (digest) {\n      var countReq = attAndSeqStore.index('digestSeq').count(\n        IDBKeyRange.bound(\n          digest + '::', digest + '::\\uffff', false, false));\n      countReq.onsuccess = function (e) {\n        var count = e.target.result;\n        if (!count) {\n          // orphaned\n          attStore.delete(digest);\n        }\n      };\n    });\n  }\n\n  revs.forEach(function (rev$$1) {\n    var index = seqStore.index('_doc_id_rev');\n    var key = docId + \"::\" + rev$$1;\n    index.getKey(key).onsuccess = function (e) {\n      var seq = e.target.result;\n      if (typeof seq !== 'number') {\n        return checkDone();\n      }\n      seqStore.delete(seq);\n\n      var cursor = attAndSeqStore.index('seq')\n        .openCursor(IDBKeyRange.only(seq));\n\n      cursor.onsuccess = function (event) {\n        var cursor = event.target.result;\n        if (cursor) {\n          var digest = cursor.value.digestSeq.split('::')[0];\n          possiblyOrphanedDigests.push(digest);\n          attAndSeqStore.delete(cursor.primaryKey);\n          cursor.continue();\n        } else { // done\n          checkDone();\n        }\n      };\n    };\n  });\n}\n\nfunction openTransactionSafely(idb, stores, mode) {\n  try {\n    return {\n      txn: idb.transaction(stores, mode)\n    };\n  } catch (err) {\n    return {\n      error: err\n    };\n  }\n}\n\nvar changesHandler = new Changes();\n\nfunction idbBulkDocs(dbOpts, req, opts, api, idb, callback) {\n  var docInfos = req.docs;\n  var txn;\n  var docStore;\n  var bySeqStore;\n  var attachStore;\n  var attachAndSeqStore;\n  var metaStore;\n  var docInfoError;\n  var metaDoc;\n\n  for (var i = 0, len = docInfos.length; i < len; i++) {\n    var doc = docInfos[i];\n    if (doc._id && isLocalId(doc._id)) {\n      continue;\n    }\n    doc = docInfos[i] = parseDoc(doc, opts.new_edits, dbOpts);\n    if (doc.error && !docInfoError) {\n      docInfoError = doc;\n    }\n  }\n\n  if (docInfoError) {\n    return callback(docInfoError);\n  }\n\n  var allDocsProcessed = false;\n  var docCountDelta = 0;\n  var results = new Array(docInfos.length);\n  var fetchedDocs = new ExportedMap();\n  var preconditionErrored = false;\n  var blobType = api._meta.blobSupport ? 'blob' : 'base64';\n\n  preprocessAttachments(docInfos, blobType, function (err) {\n    if (err) {\n      return callback(err);\n    }\n    startTransaction();\n  });\n\n  function startTransaction() {\n\n    var stores = [\n      DOC_STORE, BY_SEQ_STORE,\n      ATTACH_STORE,\n      LOCAL_STORE, ATTACH_AND_SEQ_STORE,\n      META_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    txn = txnResult.txn;\n    txn.onabort = idbError(callback);\n    txn.ontimeout = idbError(callback);\n    txn.oncomplete = complete;\n    docStore = txn.objectStore(DOC_STORE);\n    bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    attachStore = txn.objectStore(ATTACH_STORE);\n    attachAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n    metaStore = txn.objectStore(META_STORE);\n\n    metaStore.get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result;\n      updateDocCountIfReady();\n    };\n\n    verifyAttachments(function (err) {\n      if (err) {\n        preconditionErrored = true;\n        return callback(err);\n      }\n      fetchExistingDocs();\n    });\n  }\n\n  function onAllDocsProcessed() {\n    allDocsProcessed = true;\n    updateDocCountIfReady();\n  }\n\n  function idbProcessDocs() {\n    processDocs(dbOpts.revs_limit, docInfos, api, fetchedDocs,\n                txn, results, writeDoc, opts, onAllDocsProcessed);\n  }\n\n  function updateDocCountIfReady() {\n    if (!metaDoc || !allDocsProcessed) {\n      return;\n    }\n    // caching the docCount saves a lot of time in allDocs() and\n    // info(), which is why we go to all the trouble of doing this\n    metaDoc.docCount += docCountDelta;\n    metaStore.put(metaDoc);\n  }\n\n  function fetchExistingDocs() {\n\n    if (!docInfos.length) {\n      return;\n    }\n\n    var numFetched = 0;\n\n    function checkDone() {\n      if (++numFetched === docInfos.length) {\n        idbProcessDocs();\n      }\n    }\n\n    function readMetadata(event) {\n      var metadata = decodeMetadata(event.target.result);\n\n      if (metadata) {\n        fetchedDocs.set(metadata.id, metadata);\n      }\n      checkDone();\n    }\n\n    for (var i = 0, len = docInfos.length; i < len; i++) {\n      var docInfo = docInfos[i];\n      if (docInfo._id && isLocalId(docInfo._id)) {\n        checkDone(); // skip local docs\n        continue;\n      }\n      var req = docStore.get(docInfo.metadata.id);\n      req.onsuccess = readMetadata;\n    }\n  }\n\n  function complete() {\n    if (preconditionErrored) {\n      return;\n    }\n\n    changesHandler.notify(api._meta.name);\n    callback(null, results);\n  }\n\n  function verifyAttachment(digest, callback) {\n\n    var req = attachStore.get(digest);\n    req.onsuccess = function (e) {\n      if (!e.target.result) {\n        var err = createError(MISSING_STUB,\n          'unknown stub attachment with digest ' +\n          digest);\n        err.status = 412;\n        callback(err);\n      } else {\n        callback();\n      }\n    };\n  }\n\n  function verifyAttachments(finish) {\n\n\n    var digests = [];\n    docInfos.forEach(function (docInfo) {\n      if (docInfo.data && docInfo.data._attachments) {\n        Object.keys(docInfo.data._attachments).forEach(function (filename) {\n          var att = docInfo.data._attachments[filename];\n          if (att.stub) {\n            digests.push(att.digest);\n          }\n        });\n      }\n    });\n    if (!digests.length) {\n      return finish();\n    }\n    var numDone = 0;\n    var err;\n\n    function checkDone() {\n      if (++numDone === digests.length) {\n        finish(err);\n      }\n    }\n    digests.forEach(function (digest) {\n      verifyAttachment(digest, function (attErr) {\n        if (attErr && !err) {\n          err = attErr;\n        }\n        checkDone();\n      });\n    });\n  }\n\n  function writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n                    isUpdate, delta, resultsIdx, callback) {\n\n    docInfo.metadata.winningRev = winningRev$$1;\n    docInfo.metadata.deleted = winningRevIsDeleted;\n\n    var doc = docInfo.data;\n    doc._id = docInfo.metadata.id;\n    doc._rev = docInfo.metadata.rev;\n\n    if (newRevIsDeleted) {\n      doc._deleted = true;\n    }\n\n    var hasAttachments = doc._attachments &&\n      Object.keys(doc._attachments).length;\n    if (hasAttachments) {\n      return writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n        isUpdate, resultsIdx, callback);\n    }\n\n    docCountDelta += delta;\n    updateDocCountIfReady();\n\n    finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n      isUpdate, resultsIdx, callback);\n  }\n\n  function finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n                     isUpdate, resultsIdx, callback) {\n\n    var doc = docInfo.data;\n    var metadata = docInfo.metadata;\n\n    doc._doc_id_rev = metadata.id + '::' + metadata.rev;\n    delete doc._id;\n    delete doc._rev;\n\n    function afterPutDoc(e) {\n      var revsToDelete = docInfo.stemmedRevs || [];\n\n      if (isUpdate && api.auto_compaction) {\n        revsToDelete = revsToDelete.concat(compactTree(docInfo.metadata));\n      }\n\n      if (revsToDelete && revsToDelete.length) {\n        compactRevs(revsToDelete, docInfo.metadata.id, txn);\n      }\n\n      metadata.seq = e.target.result;\n      // Current _rev is calculated from _rev_tree on read\n      // delete metadata.rev;\n      var metadataToStore = encodeMetadata(metadata, winningRev$$1,\n        winningRevIsDeleted);\n      var metaDataReq = docStore.put(metadataToStore);\n      metaDataReq.onsuccess = afterPutMetadata;\n    }\n\n    function afterPutDocError(e) {\n      // ConstraintError, need to update, not put (see #1638 for details)\n      e.preventDefault(); // avoid transaction abort\n      e.stopPropagation(); // avoid transaction onerror\n      var index = bySeqStore.index('_doc_id_rev');\n      var getKeyReq = index.getKey(doc._doc_id_rev);\n      getKeyReq.onsuccess = function (e) {\n        var putReq = bySeqStore.put(doc, e.target.result);\n        putReq.onsuccess = afterPutDoc;\n      };\n    }\n\n    function afterPutMetadata() {\n      results[resultsIdx] = {\n        ok: true,\n        id: metadata.id,\n        rev: metadata.rev\n      };\n      fetchedDocs.set(docInfo.metadata.id, docInfo.metadata);\n      insertAttachmentMappings(docInfo, metadata.seq, callback);\n    }\n\n    var putReq = bySeqStore.put(doc);\n\n    putReq.onsuccess = afterPutDoc;\n    putReq.onerror = afterPutDocError;\n  }\n\n  function writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n                            isUpdate, resultsIdx, callback) {\n\n\n    var doc = docInfo.data;\n\n    var numDone = 0;\n    var attachments = Object.keys(doc._attachments);\n\n    function collectResults() {\n      if (numDone === attachments.length) {\n        finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n          isUpdate, resultsIdx, callback);\n      }\n    }\n\n    function attachmentSaved() {\n      numDone++;\n      collectResults();\n    }\n\n    attachments.forEach(function (key) {\n      var att = docInfo.data._attachments[key];\n      if (!att.stub) {\n        var data = att.data;\n        delete att.data;\n        att.revpos = parseInt(winningRev$$1, 10);\n        var digest = att.digest;\n        saveAttachment(digest, data, attachmentSaved);\n      } else {\n        numDone++;\n        collectResults();\n      }\n    });\n  }\n\n  // map seqs to attachment digests, which\n  // we will need later during compaction\n  function insertAttachmentMappings(docInfo, seq, callback) {\n\n    var attsAdded = 0;\n    var attsToAdd = Object.keys(docInfo.data._attachments || {});\n\n    if (!attsToAdd.length) {\n      return callback();\n    }\n\n    function checkDone() {\n      if (++attsAdded === attsToAdd.length) {\n        callback();\n      }\n    }\n\n    function add(att) {\n      var digest = docInfo.data._attachments[att].digest;\n      var req = attachAndSeqStore.put({\n        seq: seq,\n        digestSeq: digest + '::' + seq\n      });\n\n      req.onsuccess = checkDone;\n      req.onerror = function (e) {\n        // this callback is for a constaint error, which we ignore\n        // because this docid/rev has already been associated with\n        // the digest (e.g. when new_edits == false)\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n        checkDone();\n      };\n    }\n    for (var i = 0; i < attsToAdd.length; i++) {\n      add(attsToAdd[i]); // do in parallel\n    }\n  }\n\n  function saveAttachment(digest, data, callback) {\n\n\n    var getKeyReq = attachStore.count(digest);\n    getKeyReq.onsuccess = function (e) {\n      var count = e.target.result;\n      if (count) {\n        return callback(); // already exists\n      }\n      var newAtt = {\n        digest: digest,\n        body: data\n      };\n      var putReq = attachStore.put(newAtt);\n      putReq.onsuccess = callback;\n    };\n  }\n}\n\n// Abstraction over IDBCursor and getAll()/getAllKeys() that allows us to batch our operations\n// while falling back to a normal IDBCursor operation on browsers that don't support getAll() or\n// getAllKeys(). This allows for a much faster implementation than just straight-up cursors, because\n// we're not processing each document one-at-a-time.\nfunction runBatchedCursor(objectStore, keyRange, descending, batchSize, onBatch) {\n\n  if (batchSize === -1) {\n    batchSize = 1000;\n  }\n\n  // Bail out of getAll()/getAllKeys() in the following cases:\n  // 1) either method is unsupported - we need both\n  // 2) batchSize is 1 (might as well use IDBCursor)\n  // 3) descending  no real way to do this via getAll()/getAllKeys()\n\n  var useGetAll = typeof objectStore.getAll === 'function' &&\n    typeof objectStore.getAllKeys === 'function' &&\n    batchSize > 1 && !descending;\n\n  var keysBatch;\n  var valuesBatch;\n  var pseudoCursor;\n\n  function onGetAll(e) {\n    valuesBatch = e.target.result;\n    if (keysBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function onGetAllKeys(e) {\n    keysBatch = e.target.result;\n    if (valuesBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function continuePseudoCursor() {\n    if (!keysBatch.length) { // no more results\n      return onBatch();\n    }\n    // fetch next batch, exclusive start\n    var lastKey = keysBatch[keysBatch.length - 1];\n    var newKeyRange;\n    if (keyRange && keyRange.upper) {\n      try {\n        newKeyRange = IDBKeyRange.bound(lastKey, keyRange.upper,\n          true, keyRange.upperOpen);\n      } catch (e) {\n        if (e.name === \"DataError\" && e.code === 0) {\n          return onBatch(); // we're done, startkey and endkey are equal\n        }\n      }\n    } else {\n      newKeyRange = IDBKeyRange.lowerBound(lastKey, true);\n    }\n    keyRange = newKeyRange;\n    keysBatch = null;\n    valuesBatch = null;\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  }\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (!cursor) { // done\n      return onBatch();\n    }\n    // regular IDBCursor acts like a batch where batch size is always 1\n    onBatch([cursor.key], [cursor.value], cursor);\n  }\n\n  if (useGetAll) {\n    pseudoCursor = {\"continue\": continuePseudoCursor};\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  } else if (descending) {\n    objectStore.openCursor(keyRange, 'prev').onsuccess = onCursor;\n  } else {\n    objectStore.openCursor(keyRange).onsuccess = onCursor;\n  }\n}\n\n// simple shim for objectStore.getAll(), falling back to IDBCursor\nfunction getAll(objectStore, keyRange, onSuccess) {\n  if (typeof objectStore.getAll === 'function') {\n    // use native getAll\n    objectStore.getAll(keyRange).onsuccess = onSuccess;\n    return;\n  }\n  // fall back to cursors\n  var values = [];\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (cursor) {\n      values.push(cursor.value);\n      cursor.continue();\n    } else {\n      onSuccess({\n        target: {\n          result: values\n        }\n      });\n    }\n  }\n\n  objectStore.openCursor(keyRange).onsuccess = onCursor;\n}\n\nfunction allDocsKeys(keys, docStore, onBatch) {\n  // It's not guaranted to be returned in right order  \n  var valuesBatch = new Array(keys.length);\n  var count = 0;\n  keys.forEach(function (key, index) {\n    docStore.get(key).onsuccess = function (event) {\n      if (event.target.result) {\n        valuesBatch[index] = event.target.result;\n      } else {\n        valuesBatch[index] = {key: key, error: 'not_found'};\n      }\n      count++;\n      if (count === keys.length) {\n        onBatch(keys, valuesBatch, {});\n      }\n    };\n  });\n}\n\nfunction createKeyRange(start, end, inclusiveEnd, key, descending) {\n  try {\n    if (start && end) {\n      if (descending) {\n        return IDBKeyRange.bound(end, start, !inclusiveEnd, false);\n      } else {\n        return IDBKeyRange.bound(start, end, false, !inclusiveEnd);\n      }\n    } else if (start) {\n      if (descending) {\n        return IDBKeyRange.upperBound(start);\n      } else {\n        return IDBKeyRange.lowerBound(start);\n      }\n    } else if (end) {\n      if (descending) {\n        return IDBKeyRange.lowerBound(end, !inclusiveEnd);\n      } else {\n        return IDBKeyRange.upperBound(end, !inclusiveEnd);\n      }\n    } else if (key) {\n      return IDBKeyRange.only(key);\n    }\n  } catch (e) {\n    return {error: e};\n  }\n  return null;\n}\n\nfunction idbAllDocs(opts, idb, callback) {\n  var start = 'startkey' in opts ? opts.startkey : false;\n  var end = 'endkey' in opts ? opts.endkey : false;\n  var key = 'key' in opts ? opts.key : false;\n  var keys = 'keys' in opts ? opts.keys : false; \n  var skip = opts.skip || 0;\n  var limit = typeof opts.limit === 'number' ? opts.limit : -1;\n  var inclusiveEnd = opts.inclusive_end !== false;\n\n  var keyRange ; \n  var keyRangeError;\n  if (!keys) {\n    keyRange = createKeyRange(start, end, inclusiveEnd, key, opts.descending);\n    keyRangeError = keyRange && keyRange.error;\n    if (keyRangeError && \n      !(keyRangeError.name === \"DataError\" && keyRangeError.code === 0)) {\n      // DataError with error code 0 indicates start is less than end, so\n      // can just do an empty query. Else need to throw\n      return callback(createError(IDB_ERROR,\n        keyRangeError.name, keyRangeError.message));\n    }\n  }\n\n  var stores = [DOC_STORE, BY_SEQ_STORE, META_STORE];\n\n  if (opts.attachments) {\n    stores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, stores, 'readonly');\n  if (txnResult.error) {\n    return callback(txnResult.error);\n  }\n  var txn = txnResult.txn;\n  txn.oncomplete = onTxnComplete;\n  txn.onabort = idbError(callback);\n  var docStore = txn.objectStore(DOC_STORE);\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var metaStore = txn.objectStore(META_STORE);\n  var docIdRevIndex = seqStore.index('_doc_id_rev');\n  var results = [];\n  var docCount;\n  var updateSeq;\n\n  metaStore.get(META_STORE).onsuccess = function (e) {\n    docCount = e.target.result.docCount;\n  };\n\n  /* istanbul ignore if */\n  if (opts.update_seq) {\n    getMaxUpdateSeq(seqStore, function (e) { \n      if (e.target.result && e.target.result.length > 0) {\n        updateSeq = e.target.result[0];\n      }\n    });\n  }\n\n  function getMaxUpdateSeq(objectStore, onSuccess) {\n    function onCursor(e) {\n      var cursor = e.target.result;\n      var maxKey = undefined;\n      if (cursor && cursor.key) {\n        maxKey = cursor.key;\n      } \n      return onSuccess({\n        target: {\n          result: [maxKey]\n        }\n      });\n    }\n    objectStore.openCursor(null, 'prev').onsuccess = onCursor;\n  }\n\n  // if the user specifies include_docs=true, then we don't\n  // want to block the main cursor while we're fetching the doc\n  function fetchDocAsynchronously(metadata, row, winningRev$$1) {\n    var key = metadata.id + \"::\" + winningRev$$1;\n    docIdRevIndex.get(key).onsuccess =  function onGetDoc(e) {\n      row.doc = decodeDoc(e.target.result) || {};\n      if (opts.conflicts) {\n        var conflicts = collectConflicts(metadata);\n        if (conflicts.length) {\n          row.doc._conflicts = conflicts;\n        }\n      }\n      fetchAttachmentsIfNecessary(row.doc, opts, txn);\n    };\n  }\n\n  function allDocsInner(winningRev$$1, metadata) {\n    var row = {\n      id: metadata.id,\n      key: metadata.id,\n      value: {\n        rev: winningRev$$1\n      }\n    };\n    var deleted = metadata.deleted;\n    if (deleted) {\n      if (keys) {\n        results.push(row);\n        // deleted docs are okay with \"keys\" requests\n        row.value.deleted = true;\n        row.doc = null;\n      }\n    } else if (skip-- <= 0) {\n      results.push(row);\n      if (opts.include_docs) {\n        fetchDocAsynchronously(metadata, row, winningRev$$1);\n      }\n    }\n  }\n\n  function processBatch(batchValues) {\n    for (var i = 0, len = batchValues.length; i < len; i++) {\n      if (results.length === limit) {\n        break;\n      }\n      var batchValue = batchValues[i];\n      if (batchValue.error && keys) {\n        // key was not found with \"keys\" requests\n        results.push(batchValue);\n        continue;\n      }\n      var metadata = decodeMetadata(batchValue);\n      var winningRev$$1 = metadata.winningRev;\n      allDocsInner(winningRev$$1, metadata);\n    }\n  }\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor) {\n      return;\n    }\n    processBatch(batchValues);\n    if (results.length < limit) {\n      cursor.continue();\n    }\n  }\n\n  function onGetAll(e) {\n    var values = e.target.result;\n    if (opts.descending) {\n      values = values.reverse();\n    }\n    processBatch(values);\n  }\n\n  function onResultsReady() {\n    var returnVal = {\n      total_rows: docCount,\n      offset: opts.skip,\n      rows: results\n    };\n    \n    /* istanbul ignore if */\n    if (opts.update_seq && updateSeq !== undefined) {\n      returnVal.update_seq = updateSeq;\n    }\n    callback(null, returnVal);\n  }\n\n  function onTxnComplete() {\n    if (opts.attachments) {\n      postProcessAttachments(results, opts.binary).then(onResultsReady);\n    } else {\n      onResultsReady();\n    }\n  }\n\n  // don't bother doing any requests if start > end or limit === 0\n  if (keyRangeError || limit === 0) {\n    return;\n  }\n  if (keys) {\n    return allDocsKeys(opts.keys, docStore, onBatch);\n  }\n  if (limit === -1) { // just fetch everything\n    return getAll(docStore, keyRange, onGetAll);\n  }\n  // else do a cursor\n  // choose a batch size based on the skip, since we'll need to skip that many\n  runBatchedCursor(docStore, keyRange, opts.descending, limit + skip, onBatch);\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\nfunction checkBlobSupport(txn) {\n  return new Promise(function (resolve) {\n    var blob$$1 = createBlob(['']);\n    var req = txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob$$1, 'key');\n\n    req.onsuccess = function () {\n      var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n      var matchedEdge = navigator.userAgent.match(/Edge\\//);\n      // MS Edge pretends to be Chrome 42:\n      // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n      resolve(matchedEdge || !matchedChrome ||\n        parseInt(matchedChrome[1], 10) >= 43);\n    };\n\n    req.onerror = txn.onabort = function (e) {\n      // If the transaction aborts now its due to not being able to\n      // write to the database, likely due to the disk being full\n      e.preventDefault();\n      e.stopPropagation();\n      resolve(false);\n    };\n  }).catch(function () {\n    return false; // error, so assume unsupported\n  });\n}\n\nfunction countDocs(txn, cb) {\n  var index = txn.objectStore(DOC_STORE).index('deletedOrLocal');\n  index.count(IDBKeyRange.only('0')).onsuccess = function (e) {\n    cb(e.target.result);\n  };\n}\n\n// This task queue ensures that IDB open calls are done in their own tick\n\nvar running = false;\nvar queue = [];\n\nfunction tryCode(fun, err, res, PouchDB) {\n  try {\n    fun(err, res);\n  } catch (err) {\n    // Shouldn't happen, but in some odd cases\n    // IndexedDB implementations might throw a sync\n    // error, in which case this will at least log it.\n    PouchDB.emit('error', err);\n  }\n}\n\nfunction applyNext() {\n  if (running || !queue.length) {\n    return;\n  }\n  running = true;\n  queue.shift()();\n}\n\nfunction enqueueTask(action, callback, PouchDB) {\n  queue.push(function runAction() {\n    action(function runCallback(err, res) {\n      tryCode(callback, err, res, PouchDB);\n      running = false;\n      immediate(function runNext() {\n        applyNext(PouchDB);\n      });\n    });\n  });\n  applyNext();\n}\n\nfunction changes(opts, api, dbName, idb) {\n  opts = clone(opts);\n\n  if (opts.continuous) {\n    var id = dbName + ':' + uuid();\n    changesHandler.addListener(dbName, id, api, opts);\n    changesHandler.notify(dbName);\n    return {\n      cancel: function () {\n        changesHandler.removeListener(dbName, id);\n      }\n    };\n  }\n\n  var docIds = opts.doc_ids && new ExportedSet(opts.doc_ids);\n\n  opts.since = opts.since || 0;\n  var lastSeq = opts.since;\n\n  var limit = 'limit' in opts ? opts.limit : -1;\n  if (limit === 0) {\n    limit = 1; // per CouchDB _changes spec\n  }\n\n  var results = [];\n  var numResults = 0;\n  var filter = filterChange(opts);\n  var docIdsToMetadata = new ExportedMap();\n\n  var txn;\n  var bySeqStore;\n  var docStore;\n  var docIdRevIndex;\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor || !batchKeys.length) { // done\n      return;\n    }\n\n    var winningDocs = new Array(batchKeys.length);\n    var metadatas = new Array(batchKeys.length);\n\n    function processMetadataAndWinningDoc(metadata, winningDoc) {\n      var change = opts.processChange(winningDoc, metadata, opts);\n      lastSeq = change.seq = metadata.seq;\n\n      var filtered = filter(change);\n      if (typeof filtered === 'object') { // anything but true/false indicates error\n        return Promise.reject(filtered);\n      }\n\n      if (!filtered) {\n        return Promise.resolve();\n      }\n      numResults++;\n      if (opts.return_docs) {\n        results.push(change);\n      }\n      // process the attachment immediately\n      // for the benefit of live listeners\n      if (opts.attachments && opts.include_docs) {\n        return new Promise(function (resolve) {\n          fetchAttachmentsIfNecessary(winningDoc, opts, txn, function () {\n            postProcessAttachments([change], opts.binary).then(function () {\n              resolve(change);\n            });\n          });\n        });\n      } else {\n        return Promise.resolve(change);\n      }\n    }\n\n    function onBatchDone() {\n      var promises = [];\n      for (var i = 0, len = winningDocs.length; i < len; i++) {\n        if (numResults === limit) {\n          break;\n        }\n        var winningDoc = winningDocs[i];\n        if (!winningDoc) {\n          continue;\n        }\n        var metadata = metadatas[i];\n        promises.push(processMetadataAndWinningDoc(metadata, winningDoc));\n      }\n\n      Promise.all(promises).then(function (changes) {\n        for (var i = 0, len = changes.length; i < len; i++) {\n          if (changes[i]) {\n            opts.onChange(changes[i]);\n          }\n        }\n      }).catch(opts.complete);\n\n      if (numResults !== limit) {\n        cursor.continue();\n      }\n    }\n\n    // Fetch all metadatas/winningdocs from this batch in parallel, then process\n    // them all only once all data has been collected. This is done in parallel\n    // because it's faster than doing it one-at-a-time.\n    var numDone = 0;\n    batchValues.forEach(function (value, i) {\n      var doc = decodeDoc(value);\n      var seq = batchKeys[i];\n      fetchWinningDocAndMetadata(doc, seq, function (metadata, winningDoc) {\n        metadatas[i] = metadata;\n        winningDocs[i] = winningDoc;\n        if (++numDone === batchKeys.length) {\n          onBatchDone();\n        }\n      });\n    });\n  }\n\n  function onGetMetadata(doc, seq, metadata, cb) {\n    if (metadata.seq !== seq) {\n      // some other seq is later\n      return cb();\n    }\n\n    if (metadata.winningRev === doc._rev) {\n      // this is the winning doc\n      return cb(metadata, doc);\n    }\n\n    // fetch winning doc in separate request\n    var docIdRev = doc._id + '::' + metadata.winningRev;\n    var req = docIdRevIndex.get(docIdRev);\n    req.onsuccess = function (e) {\n      cb(metadata, decodeDoc(e.target.result));\n    };\n  }\n\n  function fetchWinningDocAndMetadata(doc, seq, cb) {\n    if (docIds && !docIds.has(doc._id)) {\n      return cb();\n    }\n\n    var metadata = docIdsToMetadata.get(doc._id);\n    if (metadata) { // cached\n      return onGetMetadata(doc, seq, metadata, cb);\n    }\n    // metadata not cached, have to go fetch it\n    docStore.get(doc._id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      docIdsToMetadata.set(doc._id, metadata);\n      onGetMetadata(doc, seq, metadata, cb);\n    };\n  }\n\n  function finish() {\n    opts.complete(null, {\n      results: results,\n      last_seq: lastSeq\n    });\n  }\n\n  function onTxnComplete() {\n    if (!opts.continuous && opts.attachments) {\n      // cannot guarantee that postProcessing was already done,\n      // so do it again\n      postProcessAttachments(results).then(finish);\n    } else {\n      finish();\n    }\n  }\n\n  var objectStores = [DOC_STORE, BY_SEQ_STORE];\n  if (opts.attachments) {\n    objectStores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, objectStores, 'readonly');\n  if (txnResult.error) {\n    return opts.complete(txnResult.error);\n  }\n  txn = txnResult.txn;\n  txn.onabort = idbError(opts.complete);\n  txn.oncomplete = onTxnComplete;\n\n  bySeqStore = txn.objectStore(BY_SEQ_STORE);\n  docStore = txn.objectStore(DOC_STORE);\n  docIdRevIndex = bySeqStore.index('_doc_id_rev');\n\n  var keyRange = (opts.since && !opts.descending) ?\n    IDBKeyRange.lowerBound(opts.since, true) : null;\n\n  runBatchedCursor(bySeqStore, keyRange, opts.descending, limit, onBatch);\n}\n\nvar cachedDBs = new ExportedMap();\nvar blobSupportPromise;\nvar openReqList = new ExportedMap();\n\nfunction IdbPouch(opts, callback) {\n  var api = this;\n\n  enqueueTask(function (thisCallback) {\n    init(api, opts, thisCallback);\n  }, callback, api.constructor);\n}\n\nfunction init(api, opts, callback) {\n\n  var dbName = opts.name;\n\n  var idb = null;\n  api._meta = null;\n\n  // called when creating a fresh new database\n  function createSchema(db) {\n    var docStore = db.createObjectStore(DOC_STORE, {keyPath : 'id'});\n    db.createObjectStore(BY_SEQ_STORE, {autoIncrement: true})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n    db.createObjectStore(ATTACH_STORE, {keyPath: 'digest'});\n    db.createObjectStore(META_STORE, {keyPath: 'id', autoIncrement: false});\n    db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n\n    // added in v2\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    // added in v3\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'});\n\n    // added in v4\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 2\n  // unfortunately \"deletedOrLocal\" is a misnomer now that we no longer\n  // store local docs in the main doc-store, but whaddyagonnado\n  function addDeletedOrLocalIndex(txn, callback) {\n    var docStore = txn.objectStore(DOC_STORE);\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    docStore.openCursor().onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var deleted = isDeleted(metadata);\n        metadata.deletedOrLocal = deleted ? \"1\" : \"0\";\n        docStore.put(metadata);\n        cursor.continue();\n      } else {\n        callback();\n      }\n    };\n  }\n\n  // migration to version 3 (part 1)\n  function createLocalStoreSchema(db) {\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n  }\n\n  // migration to version 3 (part 2)\n  function migrateLocalStore(txn, cb) {\n    var localStore = txn.objectStore(LOCAL_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var docId = metadata.id;\n        var local = isLocalId(docId);\n        var rev$$1 = winningRev(metadata);\n        if (local) {\n          var docIdRev = docId + \"::\" + rev$$1;\n          // remove all seq entries\n          // associated with this docId\n          var start = docId + \"::\";\n          var end = docId + \"::~\";\n          var index = seqStore.index('_doc_id_rev');\n          var range = IDBKeyRange.bound(start, end, false, false);\n          var seqCursor = index.openCursor(range);\n          seqCursor.onsuccess = function (e) {\n            seqCursor = e.target.result;\n            if (!seqCursor) {\n              // done\n              docStore.delete(cursor.primaryKey);\n              cursor.continue();\n            } else {\n              var data = seqCursor.value;\n              if (data._doc_id_rev === docIdRev) {\n                localStore.put(data);\n              }\n              seqStore.delete(seqCursor.primaryKey);\n              seqCursor.continue();\n            }\n          };\n        } else {\n          cursor.continue();\n        }\n      } else if (cb) {\n        cb();\n      }\n    };\n  }\n\n  // migration to version 4 (part 1)\n  function addAttachAndSeqStore(db) {\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 4 (part 2)\n  function migrateAttsAndSeqs(txn, callback) {\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n    var attStore = txn.objectStore(ATTACH_STORE);\n    var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n\n    // need to actually populate the table. this is the expensive part,\n    // so as an optimization, check first that this database even\n    // contains attachments\n    var req = attStore.count();\n    req.onsuccess = function (e) {\n      var count = e.target.result;\n      if (!count) {\n        return callback(); // done\n      }\n\n      seqStore.openCursor().onsuccess = function (e) {\n        var cursor = e.target.result;\n        if (!cursor) {\n          return callback(); // done\n        }\n        var doc = cursor.value;\n        var seq = cursor.primaryKey;\n        var atts = Object.keys(doc._attachments || {});\n        var digestMap = {};\n        for (var j = 0; j < atts.length; j++) {\n          var att = doc._attachments[atts[j]];\n          digestMap[att.digest] = true; // uniq digests, just in case\n        }\n        var digests = Object.keys(digestMap);\n        for (j = 0; j < digests.length; j++) {\n          var digest = digests[j];\n          attAndSeqStore.put({\n            seq: seq,\n            digestSeq: digest + '::' + seq\n          });\n        }\n        cursor.continue();\n      };\n    };\n  }\n\n  // migration to version 5\n  // Instead of relying on on-the-fly migration of metadata,\n  // this brings the doc-store to its modern form:\n  // - metadata.winningrev\n  // - metadata.seq\n  // - stringify the metadata when storing it\n  function migrateMetadata(txn) {\n\n    function decodeMetadataCompat(storedObject) {\n      if (!storedObject.data) {\n        // old format, when we didn't store it stringified\n        storedObject.deleted = storedObject.deletedOrLocal === '1';\n        return storedObject;\n      }\n      return decodeMetadata(storedObject);\n    }\n\n    // ensure that every metadata has a winningRev and seq,\n    // which was previously created on-the-fly but better to migrate\n    var bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (e) {\n      var cursor = e.target.result;\n      if (!cursor) {\n        return; // done\n      }\n      var metadata = decodeMetadataCompat(cursor.value);\n\n      metadata.winningRev = metadata.winningRev ||\n        winningRev(metadata);\n\n      function fetchMetadataSeq() {\n        // metadata.seq was added post-3.2.0, so if it's missing,\n        // we need to fetch it manually\n        var start = metadata.id + '::';\n        var end = metadata.id + '::\\uffff';\n        var req = bySeqStore.index('_doc_id_rev').openCursor(\n          IDBKeyRange.bound(start, end));\n\n        var metadataSeq = 0;\n        req.onsuccess = function (e) {\n          var cursor = e.target.result;\n          if (!cursor) {\n            metadata.seq = metadataSeq;\n            return onGetMetadataSeq();\n          }\n          var seq = cursor.primaryKey;\n          if (seq > metadataSeq) {\n            metadataSeq = seq;\n          }\n          cursor.continue();\n        };\n      }\n\n      function onGetMetadataSeq() {\n        var metadataToStore = encodeMetadata(metadata,\n          metadata.winningRev, metadata.deleted);\n\n        var req = docStore.put(metadataToStore);\n        req.onsuccess = function () {\n          cursor.continue();\n        };\n      }\n\n      if (metadata.seq) {\n        return onGetMetadataSeq();\n      }\n\n      fetchMetadataSeq();\n    };\n\n  }\n\n  api._remote = false;\n  api.type = function () {\n    return 'idb';\n  };\n\n  api._id = toPromise(function (callback) {\n    callback(null, api._meta.instanceId);\n  });\n\n  api._bulkDocs = function idb_bulkDocs(req, reqOpts, callback) {\n    idbBulkDocs(opts, req, reqOpts, api, idb, callback);\n  };\n\n  // First we look up the metadata in the ids database, then we fetch the\n  // current revision(s) from the by sequence store\n  api._get = function idb_get(id, opts, callback) {\n    var doc;\n    var metadata;\n    var err;\n    var txn = opts.ctx;\n    if (!txn) {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n\n    function finish() {\n      callback(err, {doc: doc, metadata: metadata, ctx: txn});\n    }\n\n    txn.objectStore(DOC_STORE).get(id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      // we can determine the result here if:\n      // 1. there is no such document\n      // 2. the document is deleted and we don't ask about specific rev\n      // When we ask with opts.rev we expect the answer to be either\n      // doc (possibly with _deleted=true) or missing error\n      if (!metadata) {\n        err = createError(MISSING_DOC, 'missing');\n        return finish();\n      }\n\n      var rev$$1;\n      if (!opts.rev) {\n        rev$$1 = metadata.winningRev;\n        var deleted = isDeleted(metadata);\n        if (deleted) {\n          err = createError(MISSING_DOC, \"deleted\");\n          return finish();\n        }\n      } else {\n        rev$$1 = opts.latest ? latest(opts.rev, metadata) : opts.rev;\n      }\n\n      var objectStore = txn.objectStore(BY_SEQ_STORE);\n      var key = metadata.id + '::' + rev$$1;\n\n      objectStore.index('_doc_id_rev').get(key).onsuccess = function (e) {\n        doc = e.target.result;\n        if (doc) {\n          doc = decodeDoc(doc);\n        }\n        if (!doc) {\n          err = createError(MISSING_DOC, 'missing');\n          return finish();\n        }\n        finish();\n      };\n    };\n  };\n\n  api._getAttachment = function (docId, attachId, attachment, opts, callback) {\n    var txn;\n    if (opts.ctx) {\n      txn = opts.ctx;\n    } else {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n    var digest = attachment.digest;\n    var type = attachment.content_type;\n\n    txn.objectStore(ATTACH_STORE).get(digest).onsuccess = function (e) {\n      var body = e.target.result.body;\n      readBlobData(body, type, opts.binary, function (blobData) {\n        callback(null, blobData);\n      });\n    };\n  };\n\n  api._info = function idb_info(callback) {\n    var updateSeq;\n    var docCount;\n\n    var txnResult = openTransactionSafely(idb, [META_STORE, BY_SEQ_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      docCount = e.target.result.docCount;\n    };\n    txn.objectStore(BY_SEQ_STORE).openCursor(null, 'prev').onsuccess = function (e) {\n      var cursor = e.target.result;\n      updateSeq = cursor ? cursor.key : 0;\n    };\n\n    txn.oncomplete = function () {\n      callback(null, {\n        doc_count: docCount,\n        update_seq: updateSeq,\n        // for debugging\n        idb_attachment_format: (api._meta.blobSupport ? 'binary' : 'base64')\n      });\n    };\n  };\n\n  api._allDocs = function idb_allDocs(opts, callback) {\n    idbAllDocs(opts, idb, callback);\n  };\n\n  api._changes = function idbChanges(opts) {\n    return changes(opts, api, dbName, idb);\n  };\n\n  api._close = function (callback) {\n    // https://developer.mozilla.org/en-US/docs/IndexedDB/IDBDatabase#close\n    // \"Returns immediately and closes the connection in a separate thread...\"\n    idb.close();\n    cachedDBs.delete(dbName);\n    callback();\n  };\n\n  api._getRevisionTree = function (docId, callback) {\n    var txnResult = openTransactionSafely(idb, [DOC_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    var req = txn.objectStore(DOC_STORE).get(docId);\n    req.onsuccess = function (event) {\n      var doc = decodeMetadata(event.target.result);\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        callback(null, doc.rev_tree);\n      }\n    };\n  };\n\n  // This function removes revisions of document docId\n  // which are listed in revs and sets this document\n  // revision to to rev_tree\n  api._doCompaction = function (docId, revs, callback) {\n    var stores = [\n      DOC_STORE,\n      BY_SEQ_STORE,\n      ATTACH_STORE,\n      ATTACH_AND_SEQ_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n\n    var docStore = txn.objectStore(DOC_STORE);\n\n    docStore.get(docId).onsuccess = function (event) {\n      var metadata = decodeMetadata(event.target.result);\n      traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                                         revHash, ctx, opts) {\n        var rev$$1 = pos + '-' + revHash;\n        if (revs.indexOf(rev$$1) !== -1) {\n          opts.status = 'missing';\n        }\n      });\n      compactRevs(revs, docId, txn);\n      var winningRev$$1 = metadata.winningRev;\n      var deleted = metadata.deleted;\n      txn.objectStore(DOC_STORE).put(\n        encodeMetadata(metadata, winningRev$$1, deleted));\n    };\n    txn.onabort = idbError(callback);\n    txn.oncomplete = function () {\n      callback();\n    };\n  };\n\n\n  api._getLocal = function (id, callback) {\n    var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var tx = txnResult.txn;\n    var req = tx.objectStore(LOCAL_STORE).get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var doc = e.target.result;\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        delete doc['_doc_id_rev']; // for backwards compat\n        callback(null, doc);\n      }\n    };\n  };\n\n  api._putLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    delete doc._revisions; // ignore this, trust the rev\n    var oldRev = doc._rev;\n    var id = doc._id;\n    if (!oldRev) {\n      doc._rev = '0-1';\n    } else {\n      doc._rev = '0-' + (parseInt(oldRev.split('-')[1], 10) + 1);\n    }\n\n    var tx = opts.ctx;\n    var ret;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.onerror = idbError(callback);\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req;\n    if (oldRev) {\n      req = oStore.get(id);\n      req.onsuccess = function (e) {\n        var oldDoc = e.target.result;\n        if (!oldDoc || oldDoc._rev !== oldRev) {\n          callback(createError(REV_CONFLICT));\n        } else { // update\n          var req = oStore.put(doc);\n          req.onsuccess = function () {\n            ret = {ok: true, id: doc._id, rev: doc._rev};\n            if (opts.ctx) { // return immediately\n              callback(null, ret);\n            }\n          };\n        }\n      };\n    } else { // new doc\n      req = oStore.add(doc);\n      req.onerror = function (e) {\n        // constraint error, already exists\n        callback(createError(REV_CONFLICT));\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n      };\n      req.onsuccess = function () {\n        ret = {ok: true, id: doc._id, rev: doc._rev};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      };\n    }\n  };\n\n  api._removeLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var tx = opts.ctx;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n    var ret;\n    var id = doc._id;\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req = oStore.get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var oldDoc = e.target.result;\n      if (!oldDoc || oldDoc._rev !== doc._rev) {\n        callback(createError(MISSING_DOC));\n      } else {\n        oStore.delete(id);\n        ret = {ok: true, id: id, rev: '0-0'};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      }\n    };\n  };\n\n  api._destroy = function (opts, callback) {\n    changesHandler.removeAllListeners(dbName);\n\n    //Close open request for \"dbName\" database to fix ie delay.\n    var openReq = openReqList.get(dbName);\n    if (openReq && openReq.result) {\n      openReq.result.close();\n      cachedDBs.delete(dbName);\n    }\n    var req = indexedDB.deleteDatabase(dbName);\n\n    req.onsuccess = function () {\n      //Remove open request from the list.\n      openReqList.delete(dbName);\n      if (hasLocalStorage() && (dbName in localStorage)) {\n        delete localStorage[dbName];\n      }\n      callback(null, { 'ok': true });\n    };\n\n    req.onerror = idbError(callback);\n  };\n\n  var cached = cachedDBs.get(dbName);\n\n  if (cached) {\n    idb = cached.idb;\n    api._meta = cached.global;\n    return immediate(function () {\n      callback(null, api);\n    });\n  }\n\n  var req = indexedDB.open(dbName, ADAPTER_VERSION);\n  openReqList.set(dbName, req);\n\n  req.onupgradeneeded = function (e) {\n    var db = e.target.result;\n    if (e.oldVersion < 1) {\n      return createSchema(db); // new db, initial schema\n    }\n    // do migrations\n\n    var txn = e.currentTarget.transaction;\n    // these migrations have to be done in this function, before\n    // control is returned to the event loop, because IndexedDB\n\n    if (e.oldVersion < 3) {\n      createLocalStoreSchema(db); // v2 -> v3\n    }\n    if (e.oldVersion < 4) {\n      addAttachAndSeqStore(db); // v3 -> v4\n    }\n\n    var migrations = [\n      addDeletedOrLocalIndex, // v1 -> v2\n      migrateLocalStore,      // v2 -> v3\n      migrateAttsAndSeqs,     // v3 -> v4\n      migrateMetadata         // v4 -> v5\n    ];\n\n    var i = e.oldVersion;\n\n    function next() {\n      var migration = migrations[i - 1];\n      i++;\n      if (migration) {\n        migration(txn, next);\n      }\n    }\n\n    next();\n  };\n\n  req.onsuccess = function (e) {\n\n    idb = e.target.result;\n\n    idb.onversionchange = function () {\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    idb.onabort = function (e) {\n      guardedConsole('error', 'Database has a global failure', e.target.error);\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    // Do a few setup operations (in parallel as much as possible):\n    // 1. Fetch meta doc\n    // 2. Check blob support\n    // 3. Calculate docCount\n    // 4. Generate an instanceId if necessary\n    // 5. Store docCount and instanceId on meta doc\n\n    var txn = idb.transaction([\n      META_STORE,\n      DETECT_BLOB_SUPPORT_STORE,\n      DOC_STORE\n    ], 'readwrite');\n\n    var storedMetaDoc = false;\n    var metaDoc;\n    var docCount;\n    var blobSupport;\n    var instanceId;\n\n    function completeSetup() {\n      if (typeof blobSupport === 'undefined' || !storedMetaDoc) {\n        return;\n      }\n      api._meta = {\n        name: dbName,\n        instanceId: instanceId,\n        blobSupport: blobSupport\n      };\n\n      cachedDBs.set(dbName, {\n        idb: idb,\n        global: api._meta\n      });\n      callback(null, api);\n    }\n\n    function storeMetaDocIfReady() {\n      if (typeof docCount === 'undefined' || typeof metaDoc === 'undefined') {\n        return;\n      }\n      var instanceKey = dbName + '_id';\n      if (instanceKey in metaDoc) {\n        instanceId = metaDoc[instanceKey];\n      } else {\n        metaDoc[instanceKey] = instanceId = uuid();\n      }\n      metaDoc.docCount = docCount;\n      txn.objectStore(META_STORE).put(metaDoc);\n    }\n\n    //\n    // fetch or generate the instanceId\n    //\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result || { id: META_STORE };\n      storeMetaDocIfReady();\n    };\n\n    //\n    // countDocs\n    //\n    countDocs(txn, function (count) {\n      docCount = count;\n      storeMetaDocIfReady();\n    });\n\n    //\n    // check blob support\n    //\n    if (!blobSupportPromise) {\n      // make sure blob support is only checked once\n      blobSupportPromise = checkBlobSupport(txn);\n    }\n\n    blobSupportPromise.then(function (val) {\n      blobSupport = val;\n      completeSetup();\n    });\n\n    // only when the metadata put transaction has completed,\n    // consider the setup done\n    txn.oncomplete = function () {\n      storedMetaDoc = true;\n      completeSetup();\n    };\n    txn.onabort = idbError(callback);\n  };\n\n  req.onerror = function (e) {\n    var msg = e.target.error && e.target.error.message;\n\n    if (!msg) {\n      msg = 'Failed to open indexedDB, are you in private browsing mode?';\n    } else if (msg.indexOf(\"stored database is a higher version\") !== -1) {\n      msg = new Error('This DB was created with the newer \"indexeddb\" adapter, but you are trying to open it with the older \"idb\" adapter');\n    }\n\n    guardedConsole('error', msg);\n    callback(createError(IDB_ERROR, msg));\n  };\n}\n\nIdbPouch.valid = function () {\n  // Following #7085 buggy idb versions (typically Safari < 10.1) are\n  // considered valid.\n\n  // On Firefox SecurityError is thrown while referencing indexedDB if cookies\n  // are not allowed. `typeof indexedDB` also triggers the error.\n  try {\n    // some outdated implementations of IDB that appear on Samsung\n    // and HTC Android devices <4.4 are missing IDBKeyRange\n    return typeof indexedDB !== 'undefined' && typeof IDBKeyRange !== 'undefined';\n  } catch (e) {\n    return false;\n  }\n};\n\nfunction IDBPouch (PouchDB) {\n  PouchDB.adapter('idb', IdbPouch, true);\n}\n\n// dead simple promise pool, inspired by https://github.com/timdp/es6-promise-pool\n// but much smaller in code size. limits the number of concurrent promises that are executed\n\n\nfunction pool(promiseFactories, limit) {\n  return new Promise(function (resolve, reject) {\n    var running = 0;\n    var current = 0;\n    var done = 0;\n    var len = promiseFactories.length;\n    var err;\n\n    function runNext() {\n      running++;\n      promiseFactories[current++]().then(onSuccess, onError);\n    }\n\n    function doNext() {\n      if (++done === len) {\n        /* istanbul ignore if */\n        if (err) {\n          reject(err);\n        } else {\n          resolve();\n        }\n      } else {\n        runNextBatch();\n      }\n    }\n\n    function onSuccess() {\n      running--;\n      doNext();\n    }\n\n    /* istanbul ignore next */\n    function onError(thisErr) {\n      running--;\n      err = err || thisErr;\n      doNext();\n    }\n\n    function runNextBatch() {\n      while (running < limit && current < len) {\n        runNext();\n      }\n    }\n\n    runNextBatch();\n  });\n}\n\nvar CHANGES_BATCH_SIZE = 25;\nvar MAX_SIMULTANEOUS_REVS = 50;\nvar CHANGES_TIMEOUT_BUFFER = 5000;\nvar DEFAULT_HEARTBEAT = 10000;\n\nvar supportsBulkGetMap = {};\n\nfunction readAttachmentsAsBlobOrBuffer(row) {\n  var doc = row.doc || row.ok;\n  var atts = doc && doc._attachments;\n  if (!atts) {\n    return;\n  }\n  Object.keys(atts).forEach(function (filename) {\n    var att = atts[filename];\n    att.data = b64ToBluffer(att.data, att.content_type);\n  });\n}\n\nfunction encodeDocId(id) {\n  if (/^_design/.test(id)) {\n    return '_design/' + encodeURIComponent(id.slice(8));\n  }\n  if (/^_local/.test(id)) {\n    return '_local/' + encodeURIComponent(id.slice(7));\n  }\n  return encodeURIComponent(id);\n}\n\nfunction preprocessAttachments$1(doc) {\n  if (!doc._attachments || !Object.keys(doc._attachments)) {\n    return Promise.resolve();\n  }\n\n  return Promise.all(Object.keys(doc._attachments).map(function (key) {\n    var attachment = doc._attachments[key];\n    if (attachment.data && typeof attachment.data !== 'string') {\n      return new Promise(function (resolve) {\n        blobToBase64(attachment.data, resolve);\n      }).then(function (b64) {\n        attachment.data = b64;\n      });\n    }\n  }));\n}\n\nfunction hasUrlPrefix(opts) {\n  if (!opts.prefix) {\n    return false;\n  }\n  var protocol = parseUri(opts.prefix).protocol;\n  return protocol === 'http' || protocol === 'https';\n}\n\n// Get all the information you possibly can about the URI given by name and\n// return it as a suitable object.\nfunction getHost(name, opts) {\n  // encode db name if opts.prefix is a url (#5574)\n  if (hasUrlPrefix(opts)) {\n    var dbName = opts.name.substr(opts.prefix.length);\n    // Ensure prefix has a trailing slash\n    var prefix = opts.prefix.replace(/\\/?$/, '/');\n    name = prefix + encodeURIComponent(dbName);\n  }\n\n  var uri = parseUri(name);\n  if (uri.user || uri.password) {\n    uri.auth = {username: uri.user, password: uri.password};\n  }\n\n  // Split the path part of the URI into parts using '/' as the delimiter\n  // after removing any leading '/' and any trailing '/'\n  var parts = uri.path.replace(/(^\\/|\\/$)/g, '').split('/');\n\n  uri.db = parts.pop();\n  // Prevent double encoding of URI component\n  if (uri.db.indexOf('%') === -1) {\n    uri.db = encodeURIComponent(uri.db);\n  }\n\n  uri.path = parts.join('/');\n\n  return uri;\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genDBUrl(opts, path) {\n  return genUrl(opts, opts.db + '/' + path);\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genUrl(opts, path) {\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  var pathDel = !opts.path ? '' : '/';\n\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  return opts.protocol + '://' + opts.host +\n         (opts.port ? (':' + opts.port) : '') +\n         '/' + opts.path + pathDel + path;\n}\n\nfunction paramsToStr(params) {\n  return '?' + Object.keys(params).map(function (k) {\n    return k + '=' + encodeURIComponent(params[k]);\n  }).join('&');\n}\n\nfunction shouldCacheBust(opts) {\n  var ua = (typeof navigator !== 'undefined' && navigator.userAgent) ?\n      navigator.userAgent.toLowerCase() : '';\n  var isIE = ua.indexOf('msie') !== -1;\n  var isTrident = ua.indexOf('trident') !== -1;\n  var isEdge = ua.indexOf('edge') !== -1;\n  var isGET = !('method' in opts) || opts.method === 'GET';\n  return (isIE || isTrident || isEdge) && isGET;\n}\n\n// Implements the PouchDB API for dealing with CouchDB instances over HTTP\nfunction HttpPouch(opts, callback) {\n\n  // The functions that will be publicly available for HttpPouch\n  var api = this;\n\n  var host = getHost(opts.name, opts);\n  var dbUrl = genDBUrl(host, '');\n\n  opts = clone(opts);\n\n  var ourFetch = function (url, options) {\n\n    options = options || {};\n    options.headers = options.headers || new h();\n\n    options.credentials = 'include';\n\n    if (opts.auth || host.auth) {\n      var nAuth = opts.auth || host.auth;\n      var str = nAuth.username + ':' + nAuth.password;\n      var token = thisBtoa(unescape(encodeURIComponent(str)));\n      options.headers.set('Authorization', 'Basic ' + token);\n    }\n\n    var headers = opts.headers || {};\n    Object.keys(headers).forEach(function (key) {\n      options.headers.append(key, headers[key]);\n    });\n\n    /* istanbul ignore if */\n    if (shouldCacheBust(options)) {\n      url += (url.indexOf('?') === -1 ? '?' : '&') + '_nonce=' + Date.now();\n    }\n\n    var fetchFun = opts.fetch || f$1;\n    return fetchFun(url, options);\n  };\n\n  function adapterFun$$1(name, fun) {\n    return adapterFun(name, getArguments(function (args) {\n      setup().then(function () {\n        return fun.apply(this, args);\n      }).catch(function (e) {\n        var callback = args.pop();\n        callback(e);\n      });\n    })).bind(api);\n  }\n\n  function fetchJSON(url, options, callback) {\n\n    var result = {};\n\n    options = options || {};\n    options.headers = options.headers || new h();\n\n    if (!options.headers.get('Content-Type')) {\n      options.headers.set('Content-Type', 'application/json');\n    }\n    if (!options.headers.get('Accept')) {\n      options.headers.set('Accept', 'application/json');\n    }\n\n    return ourFetch(url, options).then(function (response) {\n      result.ok = response.ok;\n      result.status = response.status;\n      return response.json();\n    }).then(function (json) {\n      result.data = json;\n      if (!result.ok) {\n        result.data.status = result.status;\n        var err = generateErrorFromResponse(result.data);\n        if (callback) {\n          return callback(err);\n        } else {\n          throw err;\n        }\n      }\n\n      if (Array.isArray(result.data)) {\n        result.data = result.data.map(function (v) {\n          if (v.error || v.missing) {\n            return generateErrorFromResponse(v);\n          } else {\n            return v;\n          }\n        });\n      }\n\n      if (callback) {\n        callback(null, result.data);\n      } else {\n        return result;\n      }\n    });\n  }\n\n  var setupPromise;\n\n  function setup() {\n    if (opts.skip_setup) {\n      return Promise.resolve();\n    }\n\n    // If there is a setup in process or previous successful setup\n    // done then we will use that\n    // If previous setups have been rejected we will try again\n    if (setupPromise) {\n      return setupPromise;\n    }\n\n    setupPromise = fetchJSON(dbUrl).catch(function (err) {\n      if (err && err.status && err.status === 404) {\n        // Doesnt exist, create it\n        explainError(404, 'PouchDB is just detecting if the remote exists.');\n        return fetchJSON(dbUrl, {method: 'PUT'});\n      } else {\n        return Promise.reject(err);\n      }\n    }).catch(function (err) {\n      // If we try to create a database that already exists, skipped in\n      // istanbul since its catching a race condition.\n      /* istanbul ignore if */\n      if (err && err.status && err.status === 412) {\n        return true;\n      }\n      return Promise.reject(err);\n    });\n\n    setupPromise.catch(function () {\n      setupPromise = null;\n    });\n\n    return setupPromise;\n  }\n\n  immediate(function () {\n    callback(null, api);\n  });\n\n  api._remote = true;\n\n  /* istanbul ignore next */\n  api.type = function () {\n    return 'http';\n  };\n\n  api.id = adapterFun$$1('id', function (callback) {\n    ourFetch(genUrl(host, '')).then(function (response) {\n      return response.json();\n    }).catch(function () {\n      return {};\n    }).then(function (result) {\n      // Bad response or missing `uuid` should not prevent ID generation.\n      var uuid$$1 = (result && result.uuid) ?\n          (result.uuid + host.db) : genDBUrl(host, '');\n      callback(null, uuid$$1);\n    });\n  });\n\n  // Sends a POST request to the host calling the couchdb _compact function\n  //    version: The version of CouchDB it is running\n  api.compact = adapterFun$$1('compact', function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    fetchJSON(genDBUrl(host, '_compact'), {method: 'POST'}).then(function () {\n      function ping() {\n        api.info(function (err, res) {\n          // CouchDB may send a \"compact_running:true\" if it's\n          // already compacting. PouchDB Server doesn't.\n          /* istanbul ignore else */\n          if (res && !res.compact_running) {\n            callback(null, {ok: true});\n          } else {\n            setTimeout(ping, opts.interval || 200);\n          }\n        });\n      }\n      // Ping the http if it's finished compaction\n      ping();\n    });\n  });\n\n  api.bulkGet = adapterFun('bulkGet', function (opts, callback) {\n    var self = this;\n\n    function doBulkGet(cb) {\n      var params = {};\n      if (opts.revs) {\n        params.revs = true;\n      }\n      if (opts.attachments) {\n        /* istanbul ignore next */\n        params.attachments = true;\n      }\n      if (opts.latest) {\n        params.latest = true;\n      }\n      fetchJSON(genDBUrl(host, '_bulk_get' + paramsToStr(params)), {\n        method: 'POST',\n        body: JSON.stringify({ docs: opts.docs})\n      }).then(function (result) {\n        if (opts.attachments && opts.binary) {\n          result.data.results.forEach(function (res) {\n            res.docs.forEach(readAttachmentsAsBlobOrBuffer);\n          });\n        }\n        cb(null, result.data);\n      }).catch(cb);\n    }\n\n    /* istanbul ignore next */\n    function doBulkGetShim() {\n      // avoid \"url too long error\" by splitting up into multiple requests\n      var batchSize = MAX_SIMULTANEOUS_REVS;\n      var numBatches = Math.ceil(opts.docs.length / batchSize);\n      var numDone = 0;\n      var results = new Array(numBatches);\n\n      function onResult(batchNum) {\n        return function (err, res) {\n          // err is impossible because shim returns a list of errs in that case\n          results[batchNum] = res.results;\n          if (++numDone === numBatches) {\n            callback(null, {results: flatten(results)});\n          }\n        };\n      }\n\n      for (var i = 0; i < numBatches; i++) {\n        var subOpts = pick(opts, ['revs', 'attachments', 'binary', 'latest']);\n        subOpts.docs = opts.docs.slice(i * batchSize,\n          Math.min(opts.docs.length, (i + 1) * batchSize));\n        bulkGet(self, subOpts, onResult(i));\n      }\n    }\n\n    // mark the whole database as either supporting or not supporting _bulk_get\n    var dbUrl = genUrl(host, '');\n    var supportsBulkGet = supportsBulkGetMap[dbUrl];\n\n    /* istanbul ignore next */\n    if (typeof supportsBulkGet !== 'boolean') {\n      // check if this database supports _bulk_get\n      doBulkGet(function (err, res) {\n        if (err) {\n          supportsBulkGetMap[dbUrl] = false;\n          explainError(\n            err.status,\n            'PouchDB is just detecting if the remote ' +\n            'supports the _bulk_get API.'\n          );\n          doBulkGetShim();\n        } else {\n          supportsBulkGetMap[dbUrl] = true;\n          callback(null, res);\n        }\n      });\n    } else if (supportsBulkGet) {\n      doBulkGet(callback);\n    } else {\n      doBulkGetShim();\n    }\n  });\n\n  // Calls GET on the host, which gets back a JSON string containing\n  //    couchdb: A welcome string\n  //    version: The version of CouchDB it is running\n  api._info = function (callback) {\n    setup().then(function () {\n      return ourFetch(genDBUrl(host, ''));\n    }).then(function (response) {\n      return response.json();\n    }).then(function (info) {\n      info.host = genDBUrl(host, '');\n      callback(null, info);\n    }).catch(callback);\n  };\n\n  api.fetch = function (path, options) {\n    return setup().then(function () {\n      var url = path.substring(0, 1) === '/' ?\n        genUrl(host, path.substring(1)) :\n        genDBUrl(host, path);\n      return ourFetch(url, options);\n    });\n  };\n\n  // Get the document with the given id from the database given by host.\n  // The id could be solely the _id in the database, or it may be a\n  // _design/ID or _local/ID path\n  api.get = adapterFun$$1('get', function (id, opts, callback) {\n    // If no options were given, set the callback to the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    var params = {};\n\n    if (opts.revs) {\n      params.revs = true;\n    }\n\n    if (opts.revs_info) {\n      params.revs_info = true;\n    }\n\n    if (opts.latest) {\n      params.latest = true;\n    }\n\n    if (opts.open_revs) {\n      if (opts.open_revs !== \"all\") {\n        opts.open_revs = JSON.stringify(opts.open_revs);\n      }\n      params.open_revs = opts.open_revs;\n    }\n\n    if (opts.rev) {\n      params.rev = opts.rev;\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = opts.conflicts;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = opts.update_seq;\n    }\n\n    id = encodeDocId(id);\n\n    function fetchAttachments(doc) {\n      var atts = doc._attachments;\n      var filenames = atts && Object.keys(atts);\n      if (!atts || !filenames.length) {\n        return;\n      }\n      // we fetch these manually in separate XHRs, because\n      // Sync Gateway would normally send it back as multipart/mixed,\n      // which we cannot parse. Also, this is more efficient than\n      // receiving attachments as base64-encoded strings.\n      function fetchData(filename) {\n        var att = atts[filename];\n        var path = encodeDocId(doc._id) + '/' + encodeAttachmentId(filename) +\n            '?rev=' + doc._rev;\n        return ourFetch(genDBUrl(host, path)).then(function (response) {\n          if ('buffer' in response) {\n            return response.buffer();\n          } else {\n            /* istanbul ignore next */\n            return response.blob();\n          }\n        }).then(function (blob) {\n          if (opts.binary) {\n            var typeFieldDescriptor = Object.getOwnPropertyDescriptor(blob.__proto__, 'type');\n            if (!typeFieldDescriptor || typeFieldDescriptor.set) {\n              blob.type = att.content_type;\n            }\n            return blob;\n          }\n          return new Promise(function (resolve) {\n            blobToBase64(blob, resolve);\n          });\n        }).then(function (data) {\n          delete att.stub;\n          delete att.length;\n          att.data = data;\n        });\n      }\n\n      var promiseFactories = filenames.map(function (filename) {\n        return function () {\n          return fetchData(filename);\n        };\n      });\n\n      // This limits the number of parallel xhr requests to 5 any time\n      // to avoid issues with maximum browser request limits\n      return pool(promiseFactories, 5);\n    }\n\n    function fetchAllAttachments(docOrDocs) {\n      if (Array.isArray(docOrDocs)) {\n        return Promise.all(docOrDocs.map(function (doc) {\n          if (doc.ok) {\n            return fetchAttachments(doc.ok);\n          }\n        }));\n      }\n      return fetchAttachments(docOrDocs);\n    }\n\n    var url = genDBUrl(host, id + paramsToStr(params));\n    fetchJSON(url).then(function (res) {\n      return Promise.resolve().then(function () {\n        if (opts.attachments) {\n          return fetchAllAttachments(res.data);\n        }\n      }).then(function () {\n        callback(null, res.data);\n      });\n    }).catch(function (e) {\n      e.docId = id;\n      callback(e);\n    });\n  });\n\n\n  // Delete the document given by doc from the database given by host.\n  api.remove = adapterFun$$1('remove', function (docOrId, optsOrRev, opts, cb) {\n    var doc;\n    if (typeof optsOrRev === 'string') {\n      // id, rev, opts, callback style\n      doc = {\n        _id: docOrId,\n        _rev: optsOrRev\n      };\n      if (typeof opts === 'function') {\n        cb = opts;\n        opts = {};\n      }\n    } else {\n      // doc, opts, callback style\n      doc = docOrId;\n      if (typeof optsOrRev === 'function') {\n        cb = optsOrRev;\n        opts = {};\n      } else {\n        cb = opts;\n        opts = optsOrRev;\n      }\n    }\n\n    var rev$$1 = (doc._rev || opts.rev);\n    var url = genDBUrl(host, encodeDocId(doc._id)) + '?rev=' + rev$$1;\n\n    fetchJSON(url, {method: 'DELETE'}, cb).catch(cb);\n  });\n\n  function encodeAttachmentId(attachmentId) {\n    return attachmentId.split(\"/\").map(encodeURIComponent).join(\"/\");\n  }\n\n  // Get the attachment\n  api.getAttachment = adapterFun$$1('getAttachment', function (docId, attachmentId,\n                                                            opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var params = opts.rev ? ('?rev=' + opts.rev) : '';\n    var url = genDBUrl(host, encodeDocId(docId)) + '/' +\n        encodeAttachmentId(attachmentId) + params;\n    var contentType;\n    ourFetch(url, {method: 'GET'}).then(function (response) {\n      contentType = response.headers.get('content-type');\n      if (!response.ok) {\n        throw response;\n      } else {\n        if (typeof process !== 'undefined' && !process.browser && typeof response.buffer === 'function') {\n          return response.buffer();\n        } else {\n          /* istanbul ignore next */\n          return response.blob();\n        }\n      }\n    }).then(function (blob) {\n      // TODO: also remove\n      if (typeof process !== 'undefined' && !process.browser) {\n        blob.type = contentType;\n      }\n      callback(null, blob);\n    }).catch(function (err) {\n      callback(err);\n    });\n  });\n\n  // Remove the attachment given by the id and rev\n  api.removeAttachment =  adapterFun$$1('removeAttachment', function (docId,\n                                                                   attachmentId,\n                                                                   rev$$1,\n                                                                   callback) {\n    var url = genDBUrl(host, encodeDocId(docId) + '/' +\n                       encodeAttachmentId(attachmentId)) + '?rev=' + rev$$1;\n    fetchJSON(url, {method: 'DELETE'}, callback).catch(callback);\n  });\n\n  // Add the attachment given by blob and its contentType property\n  // to the document with the given id, the revision given by rev, and\n  // add it to the database given by host.\n  api.putAttachment = adapterFun$$1('putAttachment', function (docId, attachmentId,\n                                                            rev$$1, blob,\n                                                            type, callback) {\n    if (typeof type === 'function') {\n      callback = type;\n      type = blob;\n      blob = rev$$1;\n      rev$$1 = null;\n    }\n    var id = encodeDocId(docId) + '/' + encodeAttachmentId(attachmentId);\n    var url = genDBUrl(host, id);\n    if (rev$$1) {\n      url += '?rev=' + rev$$1;\n    }\n\n    if (typeof blob === 'string') {\n      // input is assumed to be a base64 string\n      var binary;\n      try {\n        binary = thisAtob(blob);\n      } catch (err) {\n        return callback(createError(BAD_ARG,\n                        'Attachment is not a valid base64 string'));\n      }\n      blob = binary ? binStringToBluffer(binary, type) : '';\n    }\n\n    // Add the attachment\n    fetchJSON(url, {\n      headers: new h({'Content-Type': type}),\n      method: 'PUT',\n      body: blob\n    }, callback).catch(callback);\n  });\n\n  // Update/create multiple documents given by req in the database\n  // given by host.\n  api._bulkDocs = function (req, opts, callback) {\n    // If new_edits=false then it prevents the database from creating\n    // new revision numbers for the documents. Instead it just uses\n    // the old ones. This is used in database replication.\n    req.new_edits = opts.new_edits;\n\n    setup().then(function () {\n      return Promise.all(req.docs.map(preprocessAttachments$1));\n    }).then(function () {\n      // Update/create the documents\n      return fetchJSON(genDBUrl(host, '_bulk_docs'), {\n        method: 'POST',\n        body: JSON.stringify(req)\n      }, callback);\n    }).catch(callback);\n  };\n\n\n  // Update/create document\n  api._put = function (doc, opts, callback) {\n    setup().then(function () {\n      return preprocessAttachments$1(doc);\n    }).then(function () {\n      return fetchJSON(genDBUrl(host, encodeDocId(doc._id)), {\n        method: 'PUT',\n        body: JSON.stringify(doc)\n      });\n    }).then(function (result) {\n      callback(null, result.data);\n    }).catch(function (err) {\n      err.docId = doc && doc._id;\n      callback(err);\n    });\n  };\n\n\n  // Get a listing of the documents in the database given\n  // by host and ordered by increasing id.\n  api.allDocs = adapterFun$$1('allDocs', function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    var params = {};\n    var body;\n    var method = 'GET';\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n\n    if (opts.include_docs) {\n      params.include_docs = true;\n    }\n\n    // added in CouchDB 1.6.0\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.key) {\n      params.key = JSON.stringify(opts.key);\n    }\n\n    if (opts.start_key) {\n      opts.startkey = opts.start_key;\n    }\n\n    if (opts.startkey) {\n      params.startkey = JSON.stringify(opts.startkey);\n    }\n\n    if (opts.end_key) {\n      opts.endkey = opts.end_key;\n    }\n\n    if (opts.endkey) {\n      params.endkey = JSON.stringify(opts.endkey);\n    }\n\n    if (typeof opts.inclusive_end !== 'undefined') {\n      params.inclusive_end = !!opts.inclusive_end;\n    }\n\n    if (typeof opts.limit !== 'undefined') {\n      params.limit = opts.limit;\n    }\n\n    if (typeof opts.skip !== 'undefined') {\n      params.skip = opts.skip;\n    }\n\n    var paramStr = paramsToStr(params);\n\n    if (typeof opts.keys !== 'undefined') {\n      method = 'POST';\n      body = {keys: opts.keys};\n    }\n\n    fetchJSON(genDBUrl(host, '_all_docs' + paramStr), {\n       method: method,\n      body: JSON.stringify(body)\n    }).then(function (result) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        result.data.rows.forEach(readAttachmentsAsBlobOrBuffer);\n      }\n      callback(null, result.data);\n    }).catch(callback);\n  });\n\n  // Get a list of changes made to documents in the database given by host.\n  // TODO According to the README, there should be two other methods here,\n  // api.changes.addListener and api.changes.removeListener.\n  api._changes = function (opts) {\n\n    // We internally page the results of a changes request, this means\n    // if there is a large set of changes to be returned we can start\n    // processing them quicker instead of waiting on the entire\n    // set of changes to return and attempting to process them at once\n    var batchSize = 'batch_size' in opts ? opts.batch_size : CHANGES_BATCH_SIZE;\n\n    opts = clone(opts);\n\n    if (opts.continuous && !('heartbeat' in opts)) {\n      opts.heartbeat = DEFAULT_HEARTBEAT;\n    }\n\n    var requestTimeout = ('timeout' in opts) ? opts.timeout : 30 * 1000;\n\n    // ensure CHANGES_TIMEOUT_BUFFER applies\n    if ('timeout' in opts && opts.timeout &&\n      (requestTimeout - opts.timeout) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.timeout + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    /* istanbul ignore if */\n    if ('heartbeat' in opts && opts.heartbeat &&\n       (requestTimeout - opts.heartbeat) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.heartbeat + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    var params = {};\n    if ('timeout' in opts && opts.timeout) {\n      params.timeout = opts.timeout;\n    }\n\n    var limit = (typeof opts.limit !== 'undefined') ? opts.limit : false;\n    var leftToFetch = limit;\n\n    if (opts.style) {\n      params.style = opts.style;\n    }\n\n    if (opts.include_docs || opts.filter && typeof opts.filter === 'function') {\n      params.include_docs = true;\n    }\n\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.continuous) {\n      params.feed = 'longpoll';\n    }\n\n    if (opts.seq_interval) {\n      params.seq_interval = opts.seq_interval;\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = true;\n    }\n\n    if ('heartbeat' in opts) {\n      // If the heartbeat value is false, it disables the default heartbeat\n      if (opts.heartbeat) {\n        params.heartbeat = opts.heartbeat;\n      }\n    }\n\n    if (opts.filter && typeof opts.filter === 'string') {\n      params.filter = opts.filter;\n    }\n\n    if (opts.view && typeof opts.view === 'string') {\n      params.filter = '_view';\n      params.view = opts.view;\n    }\n\n    // If opts.query_params exists, pass it through to the changes request.\n    // These parameters may be used by the filter on the source database.\n    if (opts.query_params && typeof opts.query_params === 'object') {\n      for (var param_name in opts.query_params) {\n        /* istanbul ignore else */\n        if (opts.query_params.hasOwnProperty(param_name)) {\n          params[param_name] = opts.query_params[param_name];\n        }\n      }\n    }\n\n    var method = 'GET';\n    var body;\n\n    if (opts.doc_ids) {\n      // set this automagically for the user; it's annoying that couchdb\n      // requires both a \"filter\" and a \"doc_ids\" param.\n      params.filter = '_doc_ids';\n      method = 'POST';\n      body = {doc_ids: opts.doc_ids };\n    }\n    /* istanbul ignore next */\n    else if (opts.selector) {\n      // set this automagically for the user, similar to above\n      params.filter = '_selector';\n      method = 'POST';\n      body = {selector: opts.selector };\n    }\n\n    var controller = new a();\n    var lastFetchedSeq;\n\n    // Get all the changes starting wtih the one immediately after the\n    // sequence number given by since.\n    var fetchData = function (since, callback) {\n      if (opts.aborted) {\n        return;\n      }\n      params.since = since;\n      // \"since\" can be any kind of json object in Cloudant/CouchDB 2.x\n      /* istanbul ignore next */\n      if (typeof params.since === \"object\") {\n        params.since = JSON.stringify(params.since);\n      }\n\n      if (opts.descending) {\n        if (limit) {\n          params.limit = leftToFetch;\n        }\n      } else {\n        params.limit = (!limit || leftToFetch > batchSize) ?\n          batchSize : leftToFetch;\n      }\n\n      // Set the options for the ajax call\n      var url = genDBUrl(host, '_changes' + paramsToStr(params));\n      var fetchOpts = {\n        signal: controller.signal,\n        method: method,\n        body: JSON.stringify(body)\n      };\n      lastFetchedSeq = since;\n\n      /* istanbul ignore if */\n      if (opts.aborted) {\n        return;\n      }\n\n      // Get the changes\n      setup().then(function () {\n        return fetchJSON(url, fetchOpts, callback);\n      }).catch(callback);\n    };\n\n    // If opts.since exists, get all the changes from the sequence\n    // number given by opts.since. Otherwise, get all the changes\n    // from the sequence number 0.\n    var results = {results: []};\n\n    var fetched = function (err, res) {\n      if (opts.aborted) {\n        return;\n      }\n      var raw_results_length = 0;\n      // If the result of the ajax call (res) contains changes (res.results)\n      if (res && res.results) {\n        raw_results_length = res.results.length;\n        results.last_seq = res.last_seq;\n        var pending = null;\n        var lastSeq = null;\n        // Attach 'pending' property if server supports it (CouchDB 2.0+)\n        /* istanbul ignore if */\n        if (typeof res.pending === 'number') {\n          pending = res.pending;\n        }\n        if (typeof results.last_seq === 'string' || typeof results.last_seq === 'number') {\n          lastSeq = results.last_seq;\n        }\n        // For each change\n        var req = {};\n        req.query = opts.query_params;\n        res.results = res.results.filter(function (c) {\n          leftToFetch--;\n          var ret = filterChange(opts)(c);\n          if (ret) {\n            if (opts.include_docs && opts.attachments && opts.binary) {\n              readAttachmentsAsBlobOrBuffer(c);\n            }\n            if (opts.return_docs) {\n              results.results.push(c);\n            }\n            opts.onChange(c, pending, lastSeq);\n          }\n          return ret;\n        });\n      } else if (err) {\n        // In case of an error, stop listening for changes and call\n        // opts.complete\n        opts.aborted = true;\n        opts.complete(err);\n        return;\n      }\n\n      // The changes feed may have timed out with no results\n      // if so reuse last update sequence\n      if (res && res.last_seq) {\n        lastFetchedSeq = res.last_seq;\n      }\n\n      var finished = (limit && leftToFetch <= 0) ||\n        (res && raw_results_length < batchSize) ||\n        (opts.descending);\n\n      if ((opts.continuous && !(limit && leftToFetch <= 0)) || !finished) {\n        // Queue a call to fetch again with the newest sequence number\n        immediate(function () { fetchData(lastFetchedSeq, fetched); });\n      } else {\n        // We're done, call the callback\n        opts.complete(null, results);\n      }\n    };\n\n    fetchData(opts.since || 0, fetched);\n\n    // Return a method to cancel this method from processing any more\n    return {\n      cancel: function () {\n        opts.aborted = true;\n        controller.abort();\n      }\n    };\n  };\n\n  // Given a set of document/revision IDs (given by req), tets the subset of\n  // those that do NOT correspond to revisions stored in the database.\n  // See http://wiki.apache.org/couchdb/HttpPostRevsDiff\n  api.revsDiff = adapterFun$$1('revsDiff', function (req, opts, callback) {\n    // If no options were given, set the callback to be the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n\n    // Get the missing document/revision IDs\n    fetchJSON(genDBUrl(host, '_revs_diff'), {\n      method: 'POST',\n      body: JSON.stringify(req)\n    }, callback).catch(callback);\n  });\n\n  api._close = function (callback) {\n    callback();\n  };\n\n  api._destroy = function (options, callback) {\n    fetchJSON(genDBUrl(host, ''), {method: 'DELETE'}).then(function (json) {\n      callback(null, json);\n    }).catch(function (err) {\n      /* istanbul ignore if */\n      if (err.status === 404) {\n        callback(null, {ok: true});\n      } else {\n        callback(err);\n      }\n    });\n  };\n}\n\n// HttpPouch is a valid adapter.\nHttpPouch.valid = function () {\n  return true;\n};\n\nfunction HttpPouch$1 (PouchDB) {\n  PouchDB.adapter('http', HttpPouch, false);\n  PouchDB.adapter('https', HttpPouch, false);\n}\n\nfunction QueryParseError(message) {\n  this.status = 400;\n  this.name = 'query_parse_error';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, QueryParseError);\n  } catch (e) {}\n}\n\ninherits(QueryParseError, Error);\n\nfunction NotFoundError(message) {\n  this.status = 404;\n  this.name = 'not_found';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, NotFoundError);\n  } catch (e) {}\n}\n\ninherits(NotFoundError, Error);\n\nfunction BuiltInError(message) {\n  this.status = 500;\n  this.name = 'invalid_value';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, BuiltInError);\n  } catch (e) {}\n}\n\ninherits(BuiltInError, Error);\n\nfunction promisedCallback(promise, callback) {\n  if (callback) {\n    promise.then(function (res) {\n      immediate(function () {\n        callback(null, res);\n      });\n    }, function (reason) {\n      immediate(function () {\n        callback(reason);\n      });\n    });\n  }\n  return promise;\n}\n\nfunction callbackify(fun) {\n  return getArguments(function (args) {\n    var cb = args.pop();\n    var promise = fun.apply(this, args);\n    if (typeof cb === 'function') {\n      promisedCallback(promise, cb);\n    }\n    return promise;\n  });\n}\n\n// Promise finally util similar to Q.finally\nfunction fin(promise, finalPromiseFactory) {\n  return promise.then(function (res) {\n    return finalPromiseFactory().then(function () {\n      return res;\n    });\n  }, function (reason) {\n    return finalPromiseFactory().then(function () {\n      throw reason;\n    });\n  });\n}\n\nfunction sequentialize(queue, promiseFactory) {\n  return function () {\n    var args = arguments;\n    var that = this;\n    return queue.add(function () {\n      return promiseFactory.apply(that, args);\n    });\n  };\n}\n\n// uniq an array of strings, order not guaranteed\n// similar to underscore/lodash _.uniq\nfunction uniq(arr) {\n  var theSet = new ExportedSet(arr);\n  var result = new Array(theSet.size);\n  var index = -1;\n  theSet.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nfunction mapToKeysArray(map) {\n  var result = new Array(map.size);\n  var index = -1;\n  map.forEach(function (value, key) {\n    result[++index] = key;\n  });\n  return result;\n}\n\nfunction createBuiltInError(name) {\n  var message = 'builtin ' + name +\n    ' function requires map values to be numbers' +\n    ' or number arrays';\n  return new BuiltInError(message);\n}\n\nfunction sum(values) {\n  var result = 0;\n  for (var i = 0, len = values.length; i < len; i++) {\n    var num = values[i];\n    if (typeof num !== 'number') {\n      if (Array.isArray(num)) {\n        // lists of numbers are also allowed, sum them separately\n        result = typeof result === 'number' ? [result] : result;\n        for (var j = 0, jLen = num.length; j < jLen; j++) {\n          var jNum = num[j];\n          if (typeof jNum !== 'number') {\n            throw createBuiltInError('_sum');\n          } else if (typeof result[j] === 'undefined') {\n            result.push(jNum);\n          } else {\n            result[j] += jNum;\n          }\n        }\n      } else { // not array/number\n        throw createBuiltInError('_sum');\n      }\n    } else if (typeof result === 'number') {\n      result += num;\n    } else { // add number to array\n      result[0] += num;\n    }\n  }\n  return result;\n}\n\nvar log = guardedConsole.bind(null, 'log');\nvar isArray = Array.isArray;\nvar toJSON = JSON.parse;\n\nfunction evalFunctionWithEval(func, emit) {\n  return scopeEval(\n    \"return (\" + func.replace(/;\\s*$/, \"\") + \");\",\n    {\n      emit: emit,\n      sum: sum,\n      log: log,\n      isArray: isArray,\n      toJSON: toJSON\n    }\n  );\n}\n\n/*\n * Simple task queue to sequentialize actions. Assumes\n * callbacks will eventually fire (once).\n */\n\n\nfunction TaskQueue$1() {\n  this.promise = new Promise(function (fulfill) {fulfill(); });\n}\nTaskQueue$1.prototype.add = function (promiseFactory) {\n  this.promise = this.promise.catch(function () {\n    // just recover\n  }).then(function () {\n    return promiseFactory();\n  });\n  return this.promise;\n};\nTaskQueue$1.prototype.finish = function () {\n  return this.promise;\n};\n\nfunction stringify(input) {\n  if (!input) {\n    return 'undefined'; // backwards compat for empty reduce\n  }\n  // for backwards compat with mapreduce, functions/strings are stringified\n  // as-is. everything else is JSON-stringified.\n  switch (typeof input) {\n    case 'function':\n      // e.g. a mapreduce map\n      return input.toString();\n    case 'string':\n      // e.g. a mapreduce built-in _reduce function\n      return input.toString();\n    default:\n      // e.g. a JSON object in the case of mango queries\n      return JSON.stringify(input);\n  }\n}\n\n/* create a string signature for a view so we can cache it and uniq it */\nfunction createViewSignature(mapFun, reduceFun) {\n  // the \"undefined\" part is for backwards compatibility\n  return stringify(mapFun) + stringify(reduceFun) + 'undefined';\n}\n\nfunction createView(sourceDB, viewName, mapFun, reduceFun, temporary, localDocName) {\n  var viewSignature = createViewSignature(mapFun, reduceFun);\n\n  var cachedViews;\n  if (!temporary) {\n    // cache this to ensure we don't try to update the same view twice\n    cachedViews = sourceDB._cachedViews = sourceDB._cachedViews || {};\n    if (cachedViews[viewSignature]) {\n      return cachedViews[viewSignature];\n    }\n  }\n\n  var promiseForView = sourceDB.info().then(function (info) {\n\n    var depDbName = info.db_name + '-mrview-' +\n      (temporary ? 'temp' : stringMd5(viewSignature));\n\n    // save the view name in the source db so it can be cleaned up if necessary\n    // (e.g. when the _design doc is deleted, remove all associated view data)\n    function diffFunction(doc) {\n      doc.views = doc.views || {};\n      var fullViewName = viewName;\n      if (fullViewName.indexOf('/') === -1) {\n        fullViewName = viewName + '/' + viewName;\n      }\n      var depDbs = doc.views[fullViewName] = doc.views[fullViewName] || {};\n      /* istanbul ignore if */\n      if (depDbs[depDbName]) {\n        return; // no update necessary\n      }\n      depDbs[depDbName] = true;\n      return doc;\n    }\n    return upsert(sourceDB, '_local/' + localDocName, diffFunction).then(function () {\n      return sourceDB.registerDependentDatabase(depDbName).then(function (res) {\n        var db = res.db;\n        db.auto_compaction = true;\n        var view = {\n          name: depDbName,\n          db: db,\n          sourceDB: sourceDB,\n          adapter: sourceDB.adapter,\n          mapFun: mapFun,\n          reduceFun: reduceFun\n        };\n        return view.db.get('_local/lastSeq').catch(function (err) {\n          /* istanbul ignore if */\n          if (err.status !== 404) {\n            throw err;\n          }\n        }).then(function (lastSeqDoc) {\n          view.seq = lastSeqDoc ? lastSeqDoc.seq : 0;\n          if (cachedViews) {\n            view.db.once('destroyed', function () {\n              delete cachedViews[viewSignature];\n            });\n          }\n          return view;\n        });\n      });\n    });\n  });\n\n  if (cachedViews) {\n    cachedViews[viewSignature] = promiseForView;\n  }\n  return promiseForView;\n}\n\nvar persistentQueues = {};\nvar tempViewQueue = new TaskQueue$1();\nvar CHANGES_BATCH_SIZE$1 = 50;\n\nfunction parseViewName(name) {\n  // can be either 'ddocname/viewname' or just 'viewname'\n  // (where the ddoc name is the same)\n  return name.indexOf('/') === -1 ? [name, name] : name.split('/');\n}\n\nfunction isGenOne(changes) {\n  // only return true if the current change is 1-\n  // and there are no other leafs\n  return changes.length === 1 && /^1-/.test(changes[0].rev);\n}\n\nfunction emitError(db, e) {\n  try {\n    db.emit('error', e);\n  } catch (err) {\n    guardedConsole('error',\n      'The user\\'s map/reduce function threw an uncaught error.\\n' +\n      'You can debug this error by doing:\\n' +\n      'myDatabase.on(\\'error\\', function (err) { debugger; });\\n' +\n      'Please double-check your map/reduce function.');\n    guardedConsole('error', e);\n  }\n}\n\n/**\n * Returns an \"abstract\" mapreduce object of the form:\n *\n *   {\n *     query: queryFun,\n *     viewCleanup: viewCleanupFun\n *   }\n *\n * Arguments are:\n *\n * localDoc: string\n *   This is for the local doc that gets saved in order to track the\n *   \"dependent\" DBs and clean them up for viewCleanup. It should be\n *   unique, so that indexer plugins don't collide with each other.\n * mapper: function (mapFunDef, emit)\n *   Returns a map function based on the mapFunDef, which in the case of\n *   normal map/reduce is just the de-stringified function, but may be\n *   something else, such as an object in the case of pouchdb-find.\n * reducer: function (reduceFunDef)\n *   Ditto, but for reducing. Modules don't have to support reducing\n *   (e.g. pouchdb-find).\n * ddocValidator: function (ddoc, viewName)\n *   Throws an error if the ddoc or viewName is not valid.\n *   This could be a way to communicate to the user that the configuration for the\n *   indexer is invalid.\n */\nfunction createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator) {\n\n  function tryMap(db, fun, doc) {\n    // emit an event if there was an error thrown by a map function.\n    // putting try/catches in a single function also avoids deoptimizations.\n    try {\n      fun(doc);\n    } catch (e) {\n      emitError(db, e);\n    }\n  }\n\n  function tryReduce(db, fun, keys, values, rereduce) {\n    // same as above, but returning the result or an error. there are two separate\n    // functions to avoid extra memory allocations since the tryCode() case is used\n    // for custom map functions (common) vs this function, which is only used for\n    // custom reduce functions (rare)\n    try {\n      return {output : fun(keys, values, rereduce)};\n    } catch (e) {\n      emitError(db, e);\n      return {error: e};\n    }\n  }\n\n  function sortByKeyThenValue(x, y) {\n    var keyCompare = collate(x.key, y.key);\n    return keyCompare !== 0 ? keyCompare : collate(x.value, y.value);\n  }\n\n  function sliceResults(results, limit, skip) {\n    skip = skip || 0;\n    if (typeof limit === 'number') {\n      return results.slice(skip, limit + skip);\n    } else if (skip > 0) {\n      return results.slice(skip);\n    }\n    return results;\n  }\n\n  function rowToDocId(row) {\n    var val = row.value;\n    // Users can explicitly specify a joined doc _id, or it\n    // defaults to the doc _id that emitted the key/value.\n    var docId = (val && typeof val === 'object' && val._id) || row.id;\n    return docId;\n  }\n\n  function readAttachmentsAsBlobOrBuffer(res) {\n    res.rows.forEach(function (row) {\n      var atts = row.doc && row.doc._attachments;\n      if (!atts) {\n        return;\n      }\n      Object.keys(atts).forEach(function (filename) {\n        var att = atts[filename];\n        atts[filename].data = b64ToBluffer(att.data, att.content_type);\n      });\n    });\n  }\n\n  function postprocessAttachments(opts) {\n    return function (res) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        readAttachmentsAsBlobOrBuffer(res);\n      }\n      return res;\n    };\n  }\n\n  function addHttpParam(paramName, opts, params, asJson) {\n    // add an http param from opts to params, optionally json-encoded\n    var val = opts[paramName];\n    if (typeof val !== 'undefined') {\n      if (asJson) {\n        val = encodeURIComponent(JSON.stringify(val));\n      }\n      params.push(paramName + '=' + val);\n    }\n  }\n\n  function coerceInteger(integerCandidate) {\n    if (typeof integerCandidate !== 'undefined') {\n      var asNumber = Number(integerCandidate);\n      // prevents e.g. '1foo' or '1.1' being coerced to 1\n      if (!isNaN(asNumber) && asNumber === parseInt(integerCandidate, 10)) {\n        return asNumber;\n      } else {\n        return integerCandidate;\n      }\n    }\n  }\n\n  function coerceOptions(opts) {\n    opts.group_level = coerceInteger(opts.group_level);\n    opts.limit = coerceInteger(opts.limit);\n    opts.skip = coerceInteger(opts.skip);\n    return opts;\n  }\n\n  function checkPositiveInteger(number) {\n    if (number) {\n      if (typeof number !== 'number') {\n        return  new QueryParseError('Invalid value for integer: \"' +\n          number + '\"');\n      }\n      if (number < 0) {\n        return new QueryParseError('Invalid value for positive integer: ' +\n          '\"' + number + '\"');\n      }\n    }\n  }\n\n  function checkQueryParseError(options, fun) {\n    var startkeyName = options.descending ? 'endkey' : 'startkey';\n    var endkeyName = options.descending ? 'startkey' : 'endkey';\n\n    if (typeof options[startkeyName] !== 'undefined' &&\n      typeof options[endkeyName] !== 'undefined' &&\n      collate(options[startkeyName], options[endkeyName]) > 0) {\n      throw new QueryParseError('No rows can match your key range, ' +\n        'reverse your start_key and end_key or set {descending : true}');\n    } else if (fun.reduce && options.reduce !== false) {\n      if (options.include_docs) {\n        throw new QueryParseError('{include_docs:true} is invalid for reduce');\n      } else if (options.keys && options.keys.length > 1 &&\n        !options.group && !options.group_level) {\n        throw new QueryParseError('Multi-key fetches for reduce views must use ' +\n          '{group: true}');\n      }\n    }\n    ['group_level', 'limit', 'skip'].forEach(function (optionName) {\n      var error = checkPositiveInteger(options[optionName]);\n      if (error) {\n        throw error;\n      }\n    });\n  }\n\n  function httpQuery(db, fun, opts) {\n    // List of parameters to add to the PUT request\n    var params = [];\n    var body;\n    var method = 'GET';\n    var ok, status;\n\n    // If opts.reduce exists and is defined, then add it to the list\n    // of parameters.\n    // If reduce=false then the results are that of only the map function\n    // not the final result of map and reduce.\n    addHttpParam('reduce', opts, params);\n    addHttpParam('include_docs', opts, params);\n    addHttpParam('attachments', opts, params);\n    addHttpParam('limit', opts, params);\n    addHttpParam('descending', opts, params);\n    addHttpParam('group', opts, params);\n    addHttpParam('group_level', opts, params);\n    addHttpParam('skip', opts, params);\n    addHttpParam('stale', opts, params);\n    addHttpParam('conflicts', opts, params);\n    addHttpParam('startkey', opts, params, true);\n    addHttpParam('start_key', opts, params, true);\n    addHttpParam('endkey', opts, params, true);\n    addHttpParam('end_key', opts, params, true);\n    addHttpParam('inclusive_end', opts, params);\n    addHttpParam('key', opts, params, true);\n    addHttpParam('update_seq', opts, params);\n\n    // Format the list of parameters into a valid URI query string\n    params = params.join('&');\n    params = params === '' ? '' : '?' + params;\n\n    // If keys are supplied, issue a POST to circumvent GET query string limits\n    // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options\n    if (typeof opts.keys !== 'undefined') {\n      var MAX_URL_LENGTH = 2000;\n      // according to http://stackoverflow.com/a/417184/680742,\n      // the de facto URL length limit is 2000 characters\n\n      var keysAsString =\n        'keys=' + encodeURIComponent(JSON.stringify(opts.keys));\n      if (keysAsString.length + params.length + 1 <= MAX_URL_LENGTH) {\n        // If the keys are short enough, do a GET. we do this to work around\n        // Safari not understanding 304s on POSTs (see pouchdb/pouchdb#1239)\n        params += (params[0] === '?' ? '&' : '?') + keysAsString;\n      } else {\n        method = 'POST';\n        if (typeof fun === 'string') {\n          body = {keys: opts.keys};\n        } else { // fun is {map : mapfun}, so append to this\n          fun.keys = opts.keys;\n        }\n      }\n    }\n\n    // We are referencing a query defined in the design doc\n    if (typeof fun === 'string') {\n      var parts = parseViewName(fun);\n      return db.fetch('_design/' + parts[0] + '/_view/' + parts[1] + params, {\n        headers: new h({'Content-Type': 'application/json'}),\n        method: method,\n        body: JSON.stringify(body)\n      }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n        return response.json();\n      }).then(function (result) {\n        if (!ok) {\n          result.status = status;\n          throw generateErrorFromResponse(result);\n        }\n        // fail the entire request if the result contains an error\n        result.rows.forEach(function (row) {\n          /* istanbul ignore if */\n          if (row.value && row.value.error && row.value.error === \"builtin_reduce_error\") {\n            throw new Error(row.reason);\n          }\n        });\n        return result;\n      }).then(postprocessAttachments(opts));\n    }\n\n    // We are using a temporary view, terrible for performance, good for testing\n    body = body || {};\n    Object.keys(fun).forEach(function (key) {\n      if (Array.isArray(fun[key])) {\n        body[key] = fun[key];\n      } else {\n        body[key] = fun[key].toString();\n      }\n    });\n\n    return db.fetch('_temp_view' + params, {\n      headers: new h({'Content-Type': 'application/json'}),\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n      return response.json();\n    }).then(function (result) {\n      if (!ok) {\n        result.status = status;\n        throw generateErrorFromResponse(result);\n      }\n      return result;\n    }).then(postprocessAttachments(opts));\n  }\n\n  // custom adapters can define their own api._query\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customQuery(db, fun, opts) {\n    return new Promise(function (resolve, reject) {\n      db._query(fun, opts, function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  // custom adapters can define their own api._viewCleanup\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customViewCleanup(db) {\n    return new Promise(function (resolve, reject) {\n      db._viewCleanup(function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  function defaultsTo(value) {\n    return function (reason) {\n      /* istanbul ignore else */\n      if (reason.status === 404) {\n        return value;\n      } else {\n        throw reason;\n      }\n    };\n  }\n\n  // returns a promise for a list of docs to update, based on the input docId.\n  // the order doesn't matter, because post-3.2.0, bulkDocs\n  // is an atomic operation in all three adapters.\n  function getDocsToPersist(docId, view, docIdsToChangesAndEmits) {\n    var metaDocId = '_local/doc_' + docId;\n    var defaultMetaDoc = {_id: metaDocId, keys: []};\n    var docData = docIdsToChangesAndEmits.get(docId);\n    var indexableKeysToKeyValues = docData[0];\n    var changes = docData[1];\n\n    function getMetaDoc() {\n      if (isGenOne(changes)) {\n        // generation 1, so we can safely assume initial state\n        // for performance reasons (avoids unnecessary GETs)\n        return Promise.resolve(defaultMetaDoc);\n      }\n      return view.db.get(metaDocId).catch(defaultsTo(defaultMetaDoc));\n    }\n\n    function getKeyValueDocs(metaDoc) {\n      if (!metaDoc.keys.length) {\n        // no keys, no need for a lookup\n        return Promise.resolve({rows: []});\n      }\n      return view.db.allDocs({\n        keys: metaDoc.keys,\n        include_docs: true\n      });\n    }\n\n    function processKeyValueDocs(metaDoc, kvDocsRes) {\n      var kvDocs = [];\n      var oldKeys = new ExportedSet();\n\n      for (var i = 0, len = kvDocsRes.rows.length; i < len; i++) {\n        var row = kvDocsRes.rows[i];\n        var doc = row.doc;\n        if (!doc) { // deleted\n          continue;\n        }\n        kvDocs.push(doc);\n        oldKeys.add(doc._id);\n        doc._deleted = !indexableKeysToKeyValues.has(doc._id);\n        if (!doc._deleted) {\n          var keyValue = indexableKeysToKeyValues.get(doc._id);\n          if ('value' in keyValue) {\n            doc.value = keyValue.value;\n          }\n        }\n      }\n      var newKeys = mapToKeysArray(indexableKeysToKeyValues);\n      newKeys.forEach(function (key) {\n        if (!oldKeys.has(key)) {\n          // new doc\n          var kvDoc = {\n            _id: key\n          };\n          var keyValue = indexableKeysToKeyValues.get(key);\n          if ('value' in keyValue) {\n            kvDoc.value = keyValue.value;\n          }\n          kvDocs.push(kvDoc);\n        }\n      });\n      metaDoc.keys = uniq(newKeys.concat(metaDoc.keys));\n      kvDocs.push(metaDoc);\n\n      return kvDocs;\n    }\n\n    return getMetaDoc().then(function (metaDoc) {\n      return getKeyValueDocs(metaDoc).then(function (kvDocsRes) {\n        return processKeyValueDocs(metaDoc, kvDocsRes);\n      });\n    });\n  }\n\n  // updates all emitted key/value docs and metaDocs in the mrview database\n  // for the given batch of documents from the source database\n  function saveKeyValues(view, docIdsToChangesAndEmits, seq) {\n    var seqDocId = '_local/lastSeq';\n    return view.db.get(seqDocId)\n      .catch(defaultsTo({_id: seqDocId, seq: 0}))\n      .then(function (lastSeqDoc) {\n        var docIds = mapToKeysArray(docIdsToChangesAndEmits);\n        return Promise.all(docIds.map(function (docId) {\n          return getDocsToPersist(docId, view, docIdsToChangesAndEmits);\n        })).then(function (listOfDocsToPersist) {\n          var docsToPersist = flatten(listOfDocsToPersist);\n          lastSeqDoc.seq = seq;\n          docsToPersist.push(lastSeqDoc);\n          // write all docs in a single operation, update the seq once\n          return view.db.bulkDocs({docs : docsToPersist});\n        });\n      });\n  }\n\n  function getQueue(view) {\n    var viewName = typeof view === 'string' ? view : view.name;\n    var queue = persistentQueues[viewName];\n    if (!queue) {\n      queue = persistentQueues[viewName] = new TaskQueue$1();\n    }\n    return queue;\n  }\n\n  function updateView(view) {\n    return sequentialize(getQueue(view), function () {\n      return updateViewInQueue(view);\n    })();\n  }\n\n  function updateViewInQueue(view) {\n    // bind the emit function once\n    var mapResults;\n    var doc;\n\n    function emit(key, value) {\n      var output = {id: doc._id, key: normalizeKey(key)};\n      // Don't explicitly store the value unless it's defined and non-null.\n      // This saves on storage space, because often people don't use it.\n      if (typeof value !== 'undefined' && value !== null) {\n        output.value = normalizeKey(value);\n      }\n      mapResults.push(output);\n    }\n\n    var mapFun = mapper(view.mapFun, emit);\n\n    var currentSeq = view.seq || 0;\n\n    function processChange(docIdsToChangesAndEmits, seq) {\n      return function () {\n        return saveKeyValues(view, docIdsToChangesAndEmits, seq);\n      };\n    }\n\n    var queue = new TaskQueue$1();\n\n    function processNextBatch() {\n      return view.sourceDB.changes({\n        return_docs: true,\n        conflicts: true,\n        include_docs: true,\n        style: 'all_docs',\n        since: currentSeq,\n        limit: CHANGES_BATCH_SIZE$1\n      }).then(processBatch);\n    }\n\n    function processBatch(response) {\n      var results = response.results;\n      if (!results.length) {\n        return;\n      }\n      var docIdsToChangesAndEmits = createDocIdsToChangesAndEmits(results);\n      queue.add(processChange(docIdsToChangesAndEmits, currentSeq));\n      if (results.length < CHANGES_BATCH_SIZE$1) {\n        return;\n      }\n      return processNextBatch();\n    }\n\n    function createDocIdsToChangesAndEmits(results) {\n      var docIdsToChangesAndEmits = new ExportedMap();\n      for (var i = 0, len = results.length; i < len; i++) {\n        var change = results[i];\n        if (change.doc._id[0] !== '_') {\n          mapResults = [];\n          doc = change.doc;\n\n          if (!doc._deleted) {\n            tryMap(view.sourceDB, mapFun, doc);\n          }\n          mapResults.sort(sortByKeyThenValue);\n\n          var indexableKeysToKeyValues = createIndexableKeysToKeyValues(mapResults);\n          docIdsToChangesAndEmits.set(change.doc._id, [\n            indexableKeysToKeyValues,\n            change.changes\n          ]);\n        }\n        currentSeq = change.seq;\n      }\n      return docIdsToChangesAndEmits;\n    }\n\n    function createIndexableKeysToKeyValues(mapResults) {\n      var indexableKeysToKeyValues = new ExportedMap();\n      var lastKey;\n      for (var i = 0, len = mapResults.length; i < len; i++) {\n        var emittedKeyValue = mapResults[i];\n        var complexKey = [emittedKeyValue.key, emittedKeyValue.id];\n        if (i > 0 && collate(emittedKeyValue.key, lastKey) === 0) {\n          complexKey.push(i); // dup key+id, so make it unique\n        }\n        indexableKeysToKeyValues.set(toIndexableString(complexKey), emittedKeyValue);\n        lastKey = emittedKeyValue.key;\n      }\n      return indexableKeysToKeyValues;\n    }\n\n    return processNextBatch().then(function () {\n      return queue.finish();\n    }).then(function () {\n      view.seq = currentSeq;\n    });\n  }\n\n  function reduceView(view, results, options) {\n    if (options.group_level === 0) {\n      delete options.group_level;\n    }\n\n    var shouldGroup = options.group || options.group_level;\n\n    var reduceFun = reducer(view.reduceFun);\n\n    var groups = [];\n    var lvl = isNaN(options.group_level) ? Number.POSITIVE_INFINITY :\n      options.group_level;\n    results.forEach(function (e) {\n      var last = groups[groups.length - 1];\n      var groupKey = shouldGroup ? e.key : null;\n\n      // only set group_level for array keys\n      if (shouldGroup && Array.isArray(groupKey)) {\n        groupKey = groupKey.slice(0, lvl);\n      }\n\n      if (last && collate(last.groupKey, groupKey) === 0) {\n        last.keys.push([e.key, e.id]);\n        last.values.push(e.value);\n        return;\n      }\n      groups.push({\n        keys: [[e.key, e.id]],\n        values: [e.value],\n        groupKey: groupKey\n      });\n    });\n    results = [];\n    for (var i = 0, len = groups.length; i < len; i++) {\n      var e = groups[i];\n      var reduceTry = tryReduce(view.sourceDB, reduceFun, e.keys, e.values, false);\n      if (reduceTry.error && reduceTry.error instanceof BuiltInError) {\n        // CouchDB returns an error if a built-in errors out\n        throw reduceTry.error;\n      }\n      results.push({\n        // CouchDB just sets the value to null if a non-built-in errors out\n        value: reduceTry.error ? null : reduceTry.output,\n        key: e.groupKey\n      });\n    }\n    // no total_rows/offset when reducing\n    return {rows: sliceResults(results, options.limit, options.skip)};\n  }\n\n  function queryView(view, opts) {\n    return sequentialize(getQueue(view), function () {\n      return queryViewInQueue(view, opts);\n    })();\n  }\n\n  function queryViewInQueue(view, opts) {\n    var totalRows;\n    var shouldReduce = view.reduceFun && opts.reduce !== false;\n    var skip = opts.skip || 0;\n    if (typeof opts.keys !== 'undefined' && !opts.keys.length) {\n      // equivalent query\n      opts.limit = 0;\n      delete opts.keys;\n    }\n\n    function fetchFromView(viewOpts) {\n      viewOpts.include_docs = true;\n      return view.db.allDocs(viewOpts).then(function (res) {\n        totalRows = res.total_rows;\n        return res.rows.map(function (result) {\n\n          // implicit migration - in older versions of PouchDB,\n          // we explicitly stored the doc as {id: ..., key: ..., value: ...}\n          // this is tested in a migration test\n          /* istanbul ignore next */\n          if ('value' in result.doc && typeof result.doc.value === 'object' &&\n            result.doc.value !== null) {\n            var keys = Object.keys(result.doc.value).sort();\n            // this detection method is not perfect, but it's unlikely the user\n            // emitted a value which was an object with these 3 exact keys\n            var expectedKeys = ['id', 'key', 'value'];\n            if (!(keys < expectedKeys || keys > expectedKeys)) {\n              return result.doc.value;\n            }\n          }\n\n          var parsedKeyAndDocId = parseIndexableString(result.doc._id);\n          return {\n            key: parsedKeyAndDocId[0],\n            id: parsedKeyAndDocId[1],\n            value: ('value' in result.doc ? result.doc.value : null)\n          };\n        });\n      });\n    }\n\n    function onMapResultsReady(rows) {\n      var finalResults;\n      if (shouldReduce) {\n        finalResults = reduceView(view, rows, opts);\n      } else {\n        finalResults = {\n          total_rows: totalRows,\n          offset: skip,\n          rows: rows\n        };\n      }\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        finalResults.update_seq = view.seq;\n      }\n      if (opts.include_docs) {\n        var docIds = uniq(rows.map(rowToDocId));\n\n        return view.sourceDB.allDocs({\n          keys: docIds,\n          include_docs: true,\n          conflicts: opts.conflicts,\n          attachments: opts.attachments,\n          binary: opts.binary\n        }).then(function (allDocsRes) {\n          var docIdsToDocs = new ExportedMap();\n          allDocsRes.rows.forEach(function (row) {\n            docIdsToDocs.set(row.id, row.doc);\n          });\n          rows.forEach(function (row) {\n            var docId = rowToDocId(row);\n            var doc = docIdsToDocs.get(docId);\n            if (doc) {\n              row.doc = doc;\n            }\n          });\n          return finalResults;\n        });\n      } else {\n        return finalResults;\n      }\n    }\n\n    if (typeof opts.keys !== 'undefined') {\n      var keys = opts.keys;\n      var fetchPromises = keys.map(function (key) {\n        var viewOpts = {\n          startkey : toIndexableString([key]),\n          endkey   : toIndexableString([key, {}])\n        };\n        /* istanbul ignore if */\n        if (opts.update_seq) {\n          viewOpts.update_seq = true;\n        }\n        return fetchFromView(viewOpts);\n      });\n      return Promise.all(fetchPromises).then(flatten).then(onMapResultsReady);\n    } else { // normal query, no 'keys'\n      var viewOpts = {\n        descending : opts.descending\n      };\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        viewOpts.update_seq = true;\n      }\n      var startkey;\n      var endkey;\n      if ('start_key' in opts) {\n        startkey = opts.start_key;\n      }\n      if ('startkey' in opts) {\n        startkey = opts.startkey;\n      }\n      if ('end_key' in opts) {\n        endkey = opts.end_key;\n      }\n      if ('endkey' in opts) {\n        endkey = opts.endkey;\n      }\n      if (typeof startkey !== 'undefined') {\n        viewOpts.startkey = opts.descending ?\n          toIndexableString([startkey, {}]) :\n          toIndexableString([startkey]);\n      }\n      if (typeof endkey !== 'undefined') {\n        var inclusiveEnd = opts.inclusive_end !== false;\n        if (opts.descending) {\n          inclusiveEnd = !inclusiveEnd;\n        }\n\n        viewOpts.endkey = toIndexableString(\n          inclusiveEnd ? [endkey, {}] : [endkey]);\n      }\n      if (typeof opts.key !== 'undefined') {\n        var keyStart = toIndexableString([opts.key]);\n        var keyEnd = toIndexableString([opts.key, {}]);\n        if (viewOpts.descending) {\n          viewOpts.endkey = keyStart;\n          viewOpts.startkey = keyEnd;\n        } else {\n          viewOpts.startkey = keyStart;\n          viewOpts.endkey = keyEnd;\n        }\n      }\n      if (!shouldReduce) {\n        if (typeof opts.limit === 'number') {\n          viewOpts.limit = opts.limit;\n        }\n        viewOpts.skip = skip;\n      }\n      return fetchFromView(viewOpts).then(onMapResultsReady);\n    }\n  }\n\n  function httpViewCleanup(db) {\n    return db.fetch('_view_cleanup', {\n      headers: new h({'Content-Type': 'application/json'}),\n      method: 'POST'\n    }).then(function (response) {\n      return response.json();\n    });\n  }\n\n  function localViewCleanup(db) {\n    return db.get('_local/' + localDocName).then(function (metaDoc) {\n      var docsToViews = new ExportedMap();\n      Object.keys(metaDoc.views).forEach(function (fullViewName) {\n        var parts = parseViewName(fullViewName);\n        var designDocName = '_design/' + parts[0];\n        var viewName = parts[1];\n        var views = docsToViews.get(designDocName);\n        if (!views) {\n          views = new ExportedSet();\n          docsToViews.set(designDocName, views);\n        }\n        views.add(viewName);\n      });\n      var opts = {\n        keys : mapToKeysArray(docsToViews),\n        include_docs : true\n      };\n      return db.allDocs(opts).then(function (res) {\n        var viewsToStatus = {};\n        res.rows.forEach(function (row) {\n          var ddocName = row.key.substring(8); // cuts off '_design/'\n          docsToViews.get(row.key).forEach(function (viewName) {\n            var fullViewName = ddocName + '/' + viewName;\n            /* istanbul ignore if */\n            if (!metaDoc.views[fullViewName]) {\n              // new format, without slashes, to support PouchDB 2.2.0\n              // migration test in pouchdb's browser.migration.js verifies this\n              fullViewName = viewName;\n            }\n            var viewDBNames = Object.keys(metaDoc.views[fullViewName]);\n            // design doc deleted, or view function nonexistent\n            var statusIsGood = row.doc && row.doc.views &&\n              row.doc.views[viewName];\n            viewDBNames.forEach(function (viewDBName) {\n              viewsToStatus[viewDBName] =\n                viewsToStatus[viewDBName] || statusIsGood;\n            });\n          });\n        });\n        var dbsToDelete = Object.keys(viewsToStatus).filter(\n          function (viewDBName) { return !viewsToStatus[viewDBName]; });\n        var destroyPromises = dbsToDelete.map(function (viewDBName) {\n          return sequentialize(getQueue(viewDBName), function () {\n            return new db.constructor(viewDBName, db.__opts).destroy();\n          })();\n        });\n        return Promise.all(destroyPromises).then(function () {\n          return {ok: true};\n        });\n      });\n    }, defaultsTo({ok: true}));\n  }\n\n  function queryPromised(db, fun, opts) {\n    /* istanbul ignore next */\n    if (typeof db._query === 'function') {\n      return customQuery(db, fun, opts);\n    }\n    if (isRemote(db)) {\n      return httpQuery(db, fun, opts);\n    }\n\n    if (typeof fun !== 'string') {\n      // temp_view\n      checkQueryParseError(opts, fun);\n\n      tempViewQueue.add(function () {\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ 'temp_view/temp_view',\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ true,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          return fin(updateView(view).then(function () {\n            return queryView(view, opts);\n          }), function () {\n            return view.db.destroy();\n          });\n        });\n      });\n      return tempViewQueue.finish();\n    } else {\n      // persistent view\n      var fullViewName = fun;\n      var parts = parseViewName(fullViewName);\n      var designDocName = parts[0];\n      var viewName = parts[1];\n      return db.get('_design/' + designDocName).then(function (doc) {\n        var fun = doc.views && doc.views[viewName];\n\n        if (!fun) {\n          // basic validator; it's assumed that every subclass would want this\n          throw new NotFoundError('ddoc ' + doc._id + ' has no view named ' +\n            viewName);\n        }\n\n        ddocValidator(doc, viewName);\n        checkQueryParseError(opts, fun);\n\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ fullViewName,\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ false,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          if (opts.stale === 'ok' || opts.stale === 'update_after') {\n            if (opts.stale === 'update_after') {\n              immediate(function () {\n                updateView(view);\n              });\n            }\n            return queryView(view, opts);\n          } else { // stale not ok\n            return updateView(view).then(function () {\n              return queryView(view, opts);\n            });\n          }\n        });\n      });\n    }\n  }\n\n  function abstractQuery(fun, opts, callback) {\n    var db = this;\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = opts ? coerceOptions(opts) : {};\n\n    if (typeof fun === 'function') {\n      fun = {map : fun};\n    }\n\n    var promise = Promise.resolve().then(function () {\n      return queryPromised(db, fun, opts);\n    });\n    promisedCallback(promise, callback);\n    return promise;\n  }\n\n  var abstractViewCleanup = callbackify(function () {\n    var db = this;\n    /* istanbul ignore next */\n    if (typeof db._viewCleanup === 'function') {\n      return customViewCleanup(db);\n    }\n    if (isRemote(db)) {\n      return httpViewCleanup(db);\n    }\n    return localViewCleanup(db);\n  });\n\n  return {\n    query: abstractQuery,\n    viewCleanup: abstractViewCleanup\n  };\n}\n\nvar builtInReduce = {\n  _sum: function (keys, values) {\n    return sum(values);\n  },\n\n  _count: function (keys, values) {\n    return values.length;\n  },\n\n  _stats: function (keys, values) {\n    // no need to implement rereduce=true, because Pouch\n    // will never call it\n    function sumsqr(values) {\n      var _sumsqr = 0;\n      for (var i = 0, len = values.length; i < len; i++) {\n        var num = values[i];\n        _sumsqr += (num * num);\n      }\n      return _sumsqr;\n    }\n    return {\n      sum     : sum(values),\n      min     : Math.min.apply(null, values),\n      max     : Math.max.apply(null, values),\n      count   : values.length,\n      sumsqr : sumsqr(values)\n    };\n  }\n};\n\nfunction getBuiltIn(reduceFunString) {\n  if (/^_sum/.test(reduceFunString)) {\n    return builtInReduce._sum;\n  } else if (/^_count/.test(reduceFunString)) {\n    return builtInReduce._count;\n  } else if (/^_stats/.test(reduceFunString)) {\n    return builtInReduce._stats;\n  } else if (/^_/.test(reduceFunString)) {\n    throw new Error(reduceFunString + ' is not a supported reduce function.');\n  }\n}\n\nfunction mapper(mapFun, emit) {\n  // for temp_views one can use emit(doc, emit), see #38\n  if (typeof mapFun === \"function\" && mapFun.length === 2) {\n    var origMap = mapFun;\n    return function (doc) {\n      return origMap(doc, emit);\n    };\n  } else {\n    return evalFunctionWithEval(mapFun.toString(), emit);\n  }\n}\n\nfunction reducer(reduceFun) {\n  var reduceFunString = reduceFun.toString();\n  var builtIn = getBuiltIn(reduceFunString);\n  if (builtIn) {\n    return builtIn;\n  } else {\n    return evalFunctionWithEval(reduceFunString);\n  }\n}\n\nfunction ddocValidator(ddoc, viewName) {\n  var fun = ddoc.views && ddoc.views[viewName];\n  if (typeof fun.map !== 'string') {\n    throw new NotFoundError('ddoc ' + ddoc._id + ' has no string view named ' +\n      viewName + ', instead found object of type: ' + typeof fun.map);\n  }\n}\n\nvar localDocName = 'mrviews';\nvar abstract = createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator);\n\nfunction query(fun, opts, callback) {\n  return abstract.query.call(this, fun, opts, callback);\n}\n\nfunction viewCleanup(callback) {\n  return abstract.viewCleanup.call(this, callback);\n}\n\nvar mapreduce = {\n  query: query,\n  viewCleanup: viewCleanup\n};\n\nfunction isGenOne$1(rev$$1) {\n  return /^1-/.test(rev$$1);\n}\n\nfunction fileHasChanged(localDoc, remoteDoc, filename) {\n  return !localDoc._attachments ||\n         !localDoc._attachments[filename] ||\n         localDoc._attachments[filename].digest !== remoteDoc._attachments[filename].digest;\n}\n\nfunction getDocAttachments(db, doc) {\n  var filenames = Object.keys(doc._attachments);\n  return Promise.all(filenames.map(function (filename) {\n    return db.getAttachment(doc._id, filename, {rev: doc._rev});\n  }));\n}\n\nfunction getDocAttachmentsFromTargetOrSource(target, src, doc) {\n  var doCheckForLocalAttachments = isRemote(src) && !isRemote(target);\n  var filenames = Object.keys(doc._attachments);\n\n  if (!doCheckForLocalAttachments) {\n    return getDocAttachments(src, doc);\n  }\n\n  return target.get(doc._id).then(function (localDoc) {\n    return Promise.all(filenames.map(function (filename) {\n      if (fileHasChanged(localDoc, doc, filename)) {\n        return src.getAttachment(doc._id, filename);\n      }\n\n      return target.getAttachment(localDoc._id, filename);\n    }));\n  }).catch(function (error) {\n    /* istanbul ignore if */\n    if (error.status !== 404) {\n      throw error;\n    }\n\n    return getDocAttachments(src, doc);\n  });\n}\n\nfunction createBulkGetOpts(diffs) {\n  var requests = [];\n  Object.keys(diffs).forEach(function (id) {\n    var missingRevs = diffs[id].missing;\n    missingRevs.forEach(function (missingRev) {\n      requests.push({\n        id: id,\n        rev: missingRev\n      });\n    });\n  });\n\n  return {\n    docs: requests,\n    revs: true,\n    latest: true\n  };\n}\n\n//\n// Fetch all the documents from the src as described in the \"diffs\",\n// which is a mapping of docs IDs to revisions. If the state ever\n// changes to \"cancelled\", then the returned promise will be rejected.\n// Else it will be resolved with a list of fetched documents.\n//\nfunction getDocs(src, target, diffs, state) {\n  diffs = clone(diffs); // we do not need to modify this\n\n  var resultDocs = [],\n      ok = true;\n\n  function getAllDocs() {\n\n    var bulkGetOpts = createBulkGetOpts(diffs);\n\n    if (!bulkGetOpts.docs.length) { // optimization: skip empty requests\n      return;\n    }\n\n    return src.bulkGet(bulkGetOpts).then(function (bulkGetResponse) {\n      /* istanbul ignore if */\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      return Promise.all(bulkGetResponse.results.map(function (bulkGetInfo) {\n        return Promise.all(bulkGetInfo.docs.map(function (doc) {\n          var remoteDoc = doc.ok;\n\n          if (doc.error) {\n            // when AUTO_COMPACTION is set, docs can be returned which look\n            // like this: {\"missing\":\"1-7c3ac256b693c462af8442f992b83696\"}\n            ok = false;\n          }\n\n          if (!remoteDoc || !remoteDoc._attachments) {\n            return remoteDoc;\n          }\n\n          return getDocAttachmentsFromTargetOrSource(target, src, remoteDoc)\n                   .then(function (attachments) {\n                           var filenames = Object.keys(remoteDoc._attachments);\n                           attachments\n                             .forEach(function (attachment, i) {\n                                        var att = remoteDoc._attachments[filenames[i]];\n                                        delete att.stub;\n                                        delete att.length;\n                                        att.data = attachment;\n                                      });\n\n                                      return remoteDoc;\n                                    });\n        }));\n      }))\n\n      .then(function (results) {\n        resultDocs = resultDocs.concat(flatten(results).filter(Boolean));\n      });\n    });\n  }\n\n  function hasAttachments(doc) {\n    return doc._attachments && Object.keys(doc._attachments).length > 0;\n  }\n\n  function hasConflicts(doc) {\n    return doc._conflicts && doc._conflicts.length > 0;\n  }\n\n  function fetchRevisionOneDocs(ids) {\n    // Optimization: fetch gen-1 docs and attachments in\n    // a single request using _all_docs\n    return src.allDocs({\n      keys: ids,\n      include_docs: true,\n      conflicts: true\n    }).then(function (res) {\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      res.rows.forEach(function (row) {\n        if (row.deleted || !row.doc || !isGenOne$1(row.value.rev) ||\n            hasAttachments(row.doc) || hasConflicts(row.doc)) {\n          // if any of these conditions apply, we need to fetch using get()\n          return;\n        }\n\n        // strip _conflicts array to appease CSG (#5793)\n        /* istanbul ignore if */\n        if (row.doc._conflicts) {\n          delete row.doc._conflicts;\n        }\n\n        // the doc we got back from allDocs() is sufficient\n        resultDocs.push(row.doc);\n        delete diffs[row.id];\n      });\n    });\n  }\n\n  function getRevisionOneDocs() {\n    // filter out the generation 1 docs and get them\n    // leaving the non-generation one docs to be got otherwise\n    var ids = Object.keys(diffs).filter(function (id) {\n      var missing = diffs[id].missing;\n      return missing.length === 1 && isGenOne$1(missing[0]);\n    });\n    if (ids.length > 0) {\n      return fetchRevisionOneDocs(ids);\n    }\n  }\n\n  function returnResult() {\n    return { ok:ok, docs:resultDocs };\n  }\n\n  return Promise.resolve()\n    .then(getRevisionOneDocs)\n    .then(getAllDocs)\n    .then(returnResult);\n}\n\nvar CHECKPOINT_VERSION = 1;\nvar REPLICATOR = \"pouchdb\";\n// This is an arbitrary number to limit the\n// amount of replication history we save in the checkpoint.\n// If we save too much, the checkpoing docs will become very big,\n// if we save fewer, we'll run a greater risk of having to\n// read all the changes from 0 when checkpoint PUTs fail\n// CouchDB 2.0 has a more involved history pruning,\n// but let's go for the simple version for now.\nvar CHECKPOINT_HISTORY_SIZE = 5;\nvar LOWEST_SEQ = 0;\n\nfunction updateCheckpoint(db, id, checkpoint, session, returnValue) {\n  return db.get(id).catch(function (err) {\n    if (err.status === 404) {\n      if (db.adapter === 'http' || db.adapter === 'https') {\n        explainError(\n          404, 'PouchDB is just checking if a remote checkpoint exists.'\n        );\n      }\n      return {\n        session_id: session,\n        _id: id,\n        history: [],\n        replicator: REPLICATOR,\n        version: CHECKPOINT_VERSION\n      };\n    }\n    throw err;\n  }).then(function (doc) {\n    if (returnValue.cancelled) {\n      return;\n    }\n\n    // if the checkpoint has not changed, do not update\n    if (doc.last_seq === checkpoint) {\n      return;\n    }\n\n    // Filter out current entry for this replication\n    doc.history = (doc.history || []).filter(function (item) {\n      return item.session_id !== session;\n    });\n\n    // Add the latest checkpoint to history\n    doc.history.unshift({\n      last_seq: checkpoint,\n      session_id: session\n    });\n\n    // Just take the last pieces in history, to\n    // avoid really big checkpoint docs.\n    // see comment on history size above\n    doc.history = doc.history.slice(0, CHECKPOINT_HISTORY_SIZE);\n\n    doc.version = CHECKPOINT_VERSION;\n    doc.replicator = REPLICATOR;\n\n    doc.session_id = session;\n    doc.last_seq = checkpoint;\n\n    return db.put(doc).catch(function (err) {\n      if (err.status === 409) {\n        // retry; someone is trying to write a checkpoint simultaneously\n        return updateCheckpoint(db, id, checkpoint, session, returnValue);\n      }\n      throw err;\n    });\n  });\n}\n\nfunction Checkpointer(src, target, id, returnValue, opts) {\n  this.src = src;\n  this.target = target;\n  this.id = id;\n  this.returnValue = returnValue;\n  this.opts = opts || {};\n}\n\nCheckpointer.prototype.writeCheckpoint = function (checkpoint, session) {\n  var self = this;\n  return this.updateTarget(checkpoint, session).then(function () {\n    return self.updateSource(checkpoint, session);\n  });\n};\n\nCheckpointer.prototype.updateTarget = function (checkpoint, session) {\n  if (this.opts.writeTargetCheckpoint) {\n    return updateCheckpoint(this.target, this.id, checkpoint,\n      session, this.returnValue);\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nCheckpointer.prototype.updateSource = function (checkpoint, session) {\n  if (this.opts.writeSourceCheckpoint) {\n    var self = this;\n    return updateCheckpoint(this.src, this.id, checkpoint,\n      session, this.returnValue)\n      .catch(function (err) {\n        if (isForbiddenError(err)) {\n          self.opts.writeSourceCheckpoint = false;\n          return true;\n        }\n        throw err;\n      });\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nvar comparisons = {\n  \"undefined\": function (targetDoc, sourceDoc) {\n    // This is the previous comparison function\n    if (collate(targetDoc.last_seq, sourceDoc.last_seq) === 0) {\n      return sourceDoc.last_seq;\n    }\n    /* istanbul ignore next */\n    return 0;\n  },\n  \"1\": function (targetDoc, sourceDoc) {\n    // This is the comparison function ported from CouchDB\n    return compareReplicationLogs(sourceDoc, targetDoc).last_seq;\n  }\n};\n\nCheckpointer.prototype.getCheckpoint = function () {\n  var self = this;\n\n  if (self.opts && self.opts.writeSourceCheckpoint && !self.opts.writeTargetCheckpoint) {\n    return self.src.get(self.id).then(function (sourceDoc) {\n      return sourceDoc.last_seq || LOWEST_SEQ;\n    }).catch(function (err) {\n      /* istanbul ignore if */\n      if (err.status !== 404) {\n        throw err;\n      }\n      return LOWEST_SEQ;\n    });\n  }\n\n  return self.target.get(self.id).then(function (targetDoc) {\n    if (self.opts && self.opts.writeTargetCheckpoint && !self.opts.writeSourceCheckpoint) {\n      return targetDoc.last_seq || LOWEST_SEQ;\n    }\n\n    return self.src.get(self.id).then(function (sourceDoc) {\n      // Since we can't migrate an old version doc to a new one\n      // (no session id), we just go with the lowest seq in this case\n      /* istanbul ignore if */\n      if (targetDoc.version !== sourceDoc.version) {\n        return LOWEST_SEQ;\n      }\n\n      var version;\n      if (targetDoc.version) {\n        version = targetDoc.version.toString();\n      } else {\n        version = \"undefined\";\n      }\n\n      if (version in comparisons) {\n        return comparisons[version](targetDoc, sourceDoc);\n      }\n      /* istanbul ignore next */\n      return LOWEST_SEQ;\n    }, function (err) {\n      if (err.status === 404 && targetDoc.last_seq) {\n        return self.src.put({\n          _id: self.id,\n          last_seq: LOWEST_SEQ\n        }).then(function () {\n          return LOWEST_SEQ;\n        }, function (err) {\n          if (isForbiddenError(err)) {\n            self.opts.writeSourceCheckpoint = false;\n            return targetDoc.last_seq;\n          }\n          /* istanbul ignore next */\n          return LOWEST_SEQ;\n        });\n      }\n      throw err;\n    });\n  }).catch(function (err) {\n    if (err.status !== 404) {\n      throw err;\n    }\n    return LOWEST_SEQ;\n  });\n};\n// This checkpoint comparison is ported from CouchDBs source\n// they come from here:\n// https://github.com/apache/couchdb-couch-replicator/blob/master/src/couch_replicator.erl#L863-L906\n\nfunction compareReplicationLogs(srcDoc, tgtDoc) {\n  if (srcDoc.session_id === tgtDoc.session_id) {\n    return {\n      last_seq: srcDoc.last_seq,\n      history: srcDoc.history\n    };\n  }\n\n  return compareReplicationHistory(srcDoc.history, tgtDoc.history);\n}\n\nfunction compareReplicationHistory(sourceHistory, targetHistory) {\n  // the erlang loop via function arguments is not so easy to repeat in JS\n  // therefore, doing this as recursion\n  var S = sourceHistory[0];\n  var sourceRest = sourceHistory.slice(1);\n  var T = targetHistory[0];\n  var targetRest = targetHistory.slice(1);\n\n  if (!S || targetHistory.length === 0) {\n    return {\n      last_seq: LOWEST_SEQ,\n      history: []\n    };\n  }\n\n  var sourceId = S.session_id;\n  /* istanbul ignore if */\n  if (hasSessionId(sourceId, targetHistory)) {\n    return {\n      last_seq: S.last_seq,\n      history: sourceHistory\n    };\n  }\n\n  var targetId = T.session_id;\n  if (hasSessionId(targetId, sourceRest)) {\n    return {\n      last_seq: T.last_seq,\n      history: targetRest\n    };\n  }\n\n  return compareReplicationHistory(sourceRest, targetRest);\n}\n\nfunction hasSessionId(sessionId, history) {\n  var props = history[0];\n  var rest = history.slice(1);\n\n  if (!sessionId || history.length === 0) {\n    return false;\n  }\n\n  if (sessionId === props.session_id) {\n    return true;\n  }\n\n  return hasSessionId(sessionId, rest);\n}\n\nfunction isForbiddenError(err) {\n  return typeof err.status === 'number' && Math.floor(err.status / 100) === 4;\n}\n\nvar STARTING_BACK_OFF = 0;\n\nfunction backOff(opts, returnValue, error, callback) {\n  if (opts.retry === false) {\n    returnValue.emit('error', error);\n    returnValue.removeAllListeners();\n    return;\n  }\n  /* istanbul ignore if */\n  if (typeof opts.back_off_function !== 'function') {\n    opts.back_off_function = defaultBackOff;\n  }\n  returnValue.emit('requestError', error);\n  if (returnValue.state === 'active' || returnValue.state === 'pending') {\n    returnValue.emit('paused', error);\n    returnValue.state = 'stopped';\n    var backOffSet = function backoffTimeSet() {\n      opts.current_back_off = STARTING_BACK_OFF;\n    };\n    var removeBackOffSetter = function removeBackOffTimeSet() {\n      returnValue.removeListener('active', backOffSet);\n    };\n    returnValue.once('paused', removeBackOffSetter);\n    returnValue.once('active', backOffSet);\n  }\n\n  opts.current_back_off = opts.current_back_off || STARTING_BACK_OFF;\n  opts.current_back_off = opts.back_off_function(opts.current_back_off);\n  setTimeout(callback, opts.current_back_off);\n}\n\nfunction sortObjectPropertiesByKey(queryParams) {\n  return Object.keys(queryParams).sort(collate).reduce(function (result, key) {\n    result[key] = queryParams[key];\n    return result;\n  }, {});\n}\n\n// Generate a unique id particular to this replication.\n// Not guaranteed to align perfectly with CouchDB's rep ids.\nfunction generateReplicationId(src, target, opts) {\n  var docIds = opts.doc_ids ? opts.doc_ids.sort(collate) : '';\n  var filterFun = opts.filter ? opts.filter.toString() : '';\n  var queryParams = '';\n  var filterViewName =  '';\n  var selector = '';\n\n  // possibility for checkpoints to be lost here as behaviour of\n  // JSON.stringify is not stable (see #6226)\n  /* istanbul ignore if */\n  if (opts.selector) {\n    selector = JSON.stringify(opts.selector);\n  }\n\n  if (opts.filter && opts.query_params) {\n    queryParams = JSON.stringify(sortObjectPropertiesByKey(opts.query_params));\n  }\n\n  if (opts.filter && opts.filter === '_view') {\n    filterViewName = opts.view.toString();\n  }\n\n  return Promise.all([src.id(), target.id()]).then(function (res) {\n    var queryData = res[0] + res[1] + filterFun + filterViewName +\n      queryParams + docIds + selector;\n    return new Promise(function (resolve) {\n      binaryMd5(queryData, resolve);\n    });\n  }).then(function (md5sum) {\n    // can't use straight-up md5 alphabet, because\n    // the char '/' is interpreted as being for attachments,\n    // and + is also not url-safe\n    md5sum = md5sum.replace(/\\//g, '.').replace(/\\+/g, '_');\n    return '_local/' + md5sum;\n  });\n}\n\nfunction replicate(src, target, opts, returnValue, result) {\n  var batches = [];               // list of batches to be processed\n  var currentBatch;               // the batch currently being processed\n  var pendingBatch = {\n    seq: 0,\n    changes: [],\n    docs: []\n  }; // next batch, not yet ready to be processed\n  var writingCheckpoint = false;  // true while checkpoint is being written\n  var changesCompleted = false;   // true when all changes received\n  var replicationCompleted = false; // true when replication has completed\n  var last_seq = 0;\n  var continuous = opts.continuous || opts.live || false;\n  var batch_size = opts.batch_size || 100;\n  var batches_limit = opts.batches_limit || 10;\n  var changesPending = false;     // true while src.changes is running\n  var doc_ids = opts.doc_ids;\n  var selector = opts.selector;\n  var repId;\n  var checkpointer;\n  var changedDocs = [];\n  // Like couchdb, every replication gets a unique session id\n  var session = uuid();\n\n  result = result || {\n    ok: true,\n    start_time: new Date().toISOString(),\n    docs_read: 0,\n    docs_written: 0,\n    doc_write_failures: 0,\n    errors: []\n  };\n\n  var changesOpts = {};\n  returnValue.ready(src, target);\n\n  function initCheckpointer() {\n    if (checkpointer) {\n      return Promise.resolve();\n    }\n    return generateReplicationId(src, target, opts).then(function (res) {\n      repId = res;\n\n      var checkpointOpts = {};\n      if (opts.checkpoint === false) {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'source') {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'target') {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: true };\n      } else {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: true };\n      }\n\n      checkpointer = new Checkpointer(src, target, repId, returnValue, checkpointOpts);\n    });\n  }\n\n  function writeDocs() {\n    changedDocs = [];\n\n    if (currentBatch.docs.length === 0) {\n      return;\n    }\n    var docs = currentBatch.docs;\n    var bulkOpts = {timeout: opts.timeout};\n    return target.bulkDocs({docs: docs, new_edits: false}, bulkOpts).then(function (res) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n\n      // `res` doesn't include full documents (which live in `docs`), so we create a map of \n      // (id -> error), and check for errors while iterating over `docs`\n      var errorsById = Object.create(null);\n      res.forEach(function (res) {\n        if (res.error) {\n          errorsById[res.id] = res;\n        }\n      });\n\n      var errorsNo = Object.keys(errorsById).length;\n      result.doc_write_failures += errorsNo;\n      result.docs_written += docs.length - errorsNo;\n\n      docs.forEach(function (doc) {\n        var error = errorsById[doc._id];\n        if (error) {\n          result.errors.push(error);\n          // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n          var errorName = (error.name || '').toLowerCase();\n          if (errorName === 'unauthorized' || errorName === 'forbidden') {\n            returnValue.emit('denied', clone(error));\n          } else {\n            throw error;\n          }\n        } else {\n          changedDocs.push(doc);\n        }\n      });\n\n    }, function (err) {\n      result.doc_write_failures += docs.length;\n      throw err;\n    });\n  }\n\n  function finishBatch() {\n    if (currentBatch.error) {\n      throw new Error('There was a problem getting docs.');\n    }\n    result.last_seq = last_seq = currentBatch.seq;\n    var outResult = clone(result);\n    if (changedDocs.length) {\n      outResult.docs = changedDocs;\n      // Attach 'pending' property if server supports it (CouchDB 2.0+)\n      /* istanbul ignore if */\n      if (typeof currentBatch.pending === 'number') {\n        outResult.pending = currentBatch.pending;\n        delete currentBatch.pending;\n      }\n      returnValue.emit('change', outResult);\n    }\n    writingCheckpoint = true;\n    return checkpointer.writeCheckpoint(currentBatch.seq,\n        session).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      currentBatch = undefined;\n      getChanges();\n    }).catch(function (err) {\n      onCheckpointError(err);\n      throw err;\n    });\n  }\n\n  function getDiffs() {\n    var diff = {};\n    currentBatch.changes.forEach(function (change) {\n      // Couchbase Sync Gateway emits these, but we can ignore them\n      /* istanbul ignore if */\n      if (change.id === \"_user/\") {\n        return;\n      }\n      diff[change.id] = change.changes.map(function (x) {\n        return x.rev;\n      });\n    });\n    return target.revsDiff(diff).then(function (diffs) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      // currentBatch.diffs elements are deleted as the documents are written\n      currentBatch.diffs = diffs;\n    });\n  }\n\n  function getBatchDocs() {\n    return getDocs(src, target, currentBatch.diffs, returnValue).then(function (got) {\n      currentBatch.error = !got.ok;\n      got.docs.forEach(function (doc) {\n        delete currentBatch.diffs[doc._id];\n        result.docs_read++;\n        currentBatch.docs.push(doc);\n      });\n    });\n  }\n\n  function startNextBatch() {\n    if (returnValue.cancelled || currentBatch) {\n      return;\n    }\n    if (batches.length === 0) {\n      processPendingBatch(true);\n      return;\n    }\n    currentBatch = batches.shift();\n    getDiffs()\n      .then(getBatchDocs)\n      .then(writeDocs)\n      .then(finishBatch)\n      .then(startNextBatch)\n      .catch(function (err) {\n        abortReplication('batch processing terminated with error', err);\n      });\n  }\n\n\n  function processPendingBatch(immediate$$1) {\n    if (pendingBatch.changes.length === 0) {\n      if (batches.length === 0 && !currentBatch) {\n        if ((continuous && changesOpts.live) || changesCompleted) {\n          returnValue.state = 'pending';\n          returnValue.emit('paused');\n        }\n        if (changesCompleted) {\n          completeReplication();\n        }\n      }\n      return;\n    }\n    if (\n      immediate$$1 ||\n      changesCompleted ||\n      pendingBatch.changes.length >= batch_size\n    ) {\n      batches.push(pendingBatch);\n      pendingBatch = {\n        seq: 0,\n        changes: [],\n        docs: []\n      };\n      if (returnValue.state === 'pending' || returnValue.state === 'stopped') {\n        returnValue.state = 'active';\n        returnValue.emit('active');\n      }\n      startNextBatch();\n    }\n  }\n\n\n  function abortReplication(reason, err) {\n    if (replicationCompleted) {\n      return;\n    }\n    if (!err.message) {\n      err.message = reason;\n    }\n    result.ok = false;\n    result.status = 'aborting';\n    batches = [];\n    pendingBatch = {\n      seq: 0,\n      changes: [],\n      docs: []\n    };\n    completeReplication(err);\n  }\n\n\n  function completeReplication(fatalError) {\n    if (replicationCompleted) {\n      return;\n    }\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      result.status = 'cancelled';\n      if (writingCheckpoint) {\n        return;\n      }\n    }\n    result.status = result.status || 'complete';\n    result.end_time = new Date().toISOString();\n    result.last_seq = last_seq;\n    replicationCompleted = true;\n\n    if (fatalError) {\n      // need to extend the error because Firefox considers \".result\" read-only\n      fatalError = createError(fatalError);\n      fatalError.result = result;\n\n      // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n      var errorName = (fatalError.name || '').toLowerCase();\n      if (errorName === 'unauthorized' || errorName === 'forbidden') {\n        returnValue.emit('error', fatalError);\n        returnValue.removeAllListeners();\n      } else {\n        backOff(opts, returnValue, fatalError, function () {\n          replicate(src, target, opts, returnValue);\n        });\n      }\n    } else {\n      returnValue.emit('complete', result);\n      returnValue.removeAllListeners();\n    }\n  }\n\n\n  function onChange(change, pending, lastSeq) {\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    // Attach 'pending' property if server supports it (CouchDB 2.0+)\n    /* istanbul ignore if */\n    if (typeof pending === 'number') {\n      pendingBatch.pending = pending;\n    }\n\n    var filter = filterChange(opts)(change);\n    if (!filter) {\n      return;\n    }\n    pendingBatch.seq = change.seq || lastSeq;\n    pendingBatch.changes.push(change);\n    immediate(function () {\n      processPendingBatch(batches.length === 0 && changesOpts.live);\n    });\n  }\n\n\n  function onChangesComplete(changes) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n\n    // if no results were returned then we're done,\n    // else fetch more\n    if (changes.results.length > 0) {\n      changesOpts.since = changes.results[changes.results.length - 1].seq;\n      getChanges();\n      processPendingBatch(true);\n    } else {\n\n      var complete = function () {\n        if (continuous) {\n          changesOpts.live = true;\n          getChanges();\n        } else {\n          changesCompleted = true;\n        }\n        processPendingBatch(true);\n      };\n\n      // update the checkpoint so we start from the right seq next time\n      if (!currentBatch && changes.results.length === 0) {\n        writingCheckpoint = true;\n        checkpointer.writeCheckpoint(changes.last_seq,\n            session).then(function () {\n          writingCheckpoint = false;\n          result.last_seq = last_seq = changes.last_seq;\n          complete();\n        })\n        .catch(onCheckpointError);\n      } else {\n        complete();\n      }\n    }\n  }\n\n\n  function onChangesError(err) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    abortReplication('changes rejected', err);\n  }\n\n\n  function getChanges() {\n    if (!(\n      !changesPending &&\n      !changesCompleted &&\n      batches.length < batches_limit\n      )) {\n      return;\n    }\n    changesPending = true;\n    function abortChanges() {\n      changes.cancel();\n    }\n    function removeListener() {\n      returnValue.removeListener('cancel', abortChanges);\n    }\n\n    if (returnValue._changes) { // remove old changes() and listeners\n      returnValue.removeListener('cancel', returnValue._abortChanges);\n      returnValue._changes.cancel();\n    }\n    returnValue.once('cancel', abortChanges);\n\n    var changes = src.changes(changesOpts)\n      .on('change', onChange);\n    changes.then(removeListener, removeListener);\n    changes.then(onChangesComplete)\n      .catch(onChangesError);\n\n    if (opts.retry) {\n      // save for later so we can cancel if necessary\n      returnValue._changes = changes;\n      returnValue._abortChanges = abortChanges;\n    }\n  }\n\n\n  function startChanges() {\n    initCheckpointer().then(function () {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      return checkpointer.getCheckpoint().then(function (checkpoint) {\n        last_seq = checkpoint;\n        changesOpts = {\n          since: last_seq,\n          limit: batch_size,\n          batch_size: batch_size,\n          style: 'all_docs',\n          doc_ids: doc_ids,\n          selector: selector,\n          return_docs: true // required so we know when we're done\n        };\n        if (opts.filter) {\n          if (typeof opts.filter !== 'string') {\n            // required for the client-side filter in onChange\n            changesOpts.include_docs = true;\n          } else { // ddoc filter\n            changesOpts.filter = opts.filter;\n          }\n        }\n        if ('heartbeat' in opts) {\n          changesOpts.heartbeat = opts.heartbeat;\n        }\n        if ('timeout' in opts) {\n          changesOpts.timeout = opts.timeout;\n        }\n        if (opts.query_params) {\n          changesOpts.query_params = opts.query_params;\n        }\n        if (opts.view) {\n          changesOpts.view = opts.view;\n        }\n        getChanges();\n      });\n    }).catch(function (err) {\n      abortReplication('getCheckpoint rejected with ', err);\n    });\n  }\n\n  /* istanbul ignore next */\n  function onCheckpointError(err) {\n    writingCheckpoint = false;\n    abortReplication('writeCheckpoint completed with error', err);\n  }\n\n  /* istanbul ignore if */\n  if (returnValue.cancelled) { // cancelled immediately\n    completeReplication();\n    return;\n  }\n\n  if (!returnValue._addedListeners) {\n    returnValue.once('cancel', completeReplication);\n\n    if (typeof opts.complete === 'function') {\n      returnValue.once('error', opts.complete);\n      returnValue.once('complete', function (result) {\n        opts.complete(null, result);\n      });\n    }\n    returnValue._addedListeners = true;\n  }\n\n  if (typeof opts.since === 'undefined') {\n    startChanges();\n  } else {\n    initCheckpointer().then(function () {\n      writingCheckpoint = true;\n      return checkpointer.writeCheckpoint(opts.since, session);\n    }).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      last_seq = opts.since;\n      startChanges();\n    }).catch(onCheckpointError);\n  }\n}\n\n// We create a basic promise so the caller can cancel the replication possibly\n// before we have actually started listening to changes etc\ninherits(Replication, EE);\nfunction Replication() {\n  EE.call(this);\n  this.cancelled = false;\n  this.state = 'pending';\n  var self = this;\n  var promise = new Promise(function (fulfill, reject) {\n    self.once('complete', fulfill);\n    self.once('error', reject);\n  });\n  self.then = function (resolve, reject) {\n    return promise.then(resolve, reject);\n  };\n  self.catch = function (reject) {\n    return promise.catch(reject);\n  };\n  // As we allow error handling via \"error\" event as well,\n  // put a stub in here so that rejecting never throws UnhandledError.\n  self.catch(function () {});\n}\n\nReplication.prototype.cancel = function () {\n  this.cancelled = true;\n  this.state = 'cancelled';\n  this.emit('cancel');\n};\n\nReplication.prototype.ready = function (src, target) {\n  var self = this;\n  if (self._readyCalled) {\n    return;\n  }\n  self._readyCalled = true;\n\n  function onDestroy() {\n    self.cancel();\n  }\n  src.once('destroyed', onDestroy);\n  target.once('destroyed', onDestroy);\n  function cleanup() {\n    src.removeListener('destroyed', onDestroy);\n    target.removeListener('destroyed', onDestroy);\n  }\n  self.once('complete', cleanup);\n};\n\nfunction toPouch(db, opts) {\n  var PouchConstructor = opts.PouchConstructor;\n  if (typeof db === 'string') {\n    return new PouchConstructor(db, opts);\n  } else {\n    return db;\n  }\n}\n\nfunction replicateWrapper(src, target, opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n\n  if (opts.doc_ids && !Array.isArray(opts.doc_ids)) {\n    throw createError(BAD_REQUEST,\n                       \"`doc_ids` filter parameter is not a list.\");\n  }\n\n  opts.complete = callback;\n  opts = clone(opts);\n  opts.continuous = opts.continuous || opts.live;\n  opts.retry = ('retry' in opts) ? opts.retry : false;\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  var replicateRet = new Replication(opts);\n  var srcPouch = toPouch(src, opts);\n  var targetPouch = toPouch(target, opts);\n  replicate(srcPouch, targetPouch, opts, replicateRet);\n  return replicateRet;\n}\n\ninherits(Sync, EE);\nfunction sync(src, target, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n  opts = clone(opts);\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  src = toPouch(src, opts);\n  target = toPouch(target, opts);\n  return new Sync(src, target, opts, callback);\n}\n\nfunction Sync(src, target, opts, callback) {\n  var self = this;\n  this.canceled = false;\n\n  var optsPush = opts.push ? $inject_Object_assign({}, opts, opts.push) : opts;\n  var optsPull = opts.pull ? $inject_Object_assign({}, opts, opts.pull) : opts;\n\n  this.push = replicateWrapper(src, target, optsPush);\n  this.pull = replicateWrapper(target, src, optsPull);\n\n  this.pushPaused = true;\n  this.pullPaused = true;\n\n  function pullChange(change) {\n    self.emit('change', {\n      direction: 'pull',\n      change: change\n    });\n  }\n  function pushChange(change) {\n    self.emit('change', {\n      direction: 'push',\n      change: change\n    });\n  }\n  function pushDenied(doc) {\n    self.emit('denied', {\n      direction: 'push',\n      doc: doc\n    });\n  }\n  function pullDenied(doc) {\n    self.emit('denied', {\n      direction: 'pull',\n      doc: doc\n    });\n  }\n  function pushPaused() {\n    self.pushPaused = true;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('paused');\n    }\n  }\n  function pullPaused() {\n    self.pullPaused = true;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('paused');\n    }\n  }\n  function pushActive() {\n    self.pushPaused = false;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('active', {\n        direction: 'push'\n      });\n    }\n  }\n  function pullActive() {\n    self.pullPaused = false;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('active', {\n        direction: 'pull'\n      });\n    }\n  }\n\n  var removed = {};\n\n  function removeAll(type) { // type is 'push' or 'pull'\n    return function (event, func) {\n      var isChange = event === 'change' &&\n        (func === pullChange || func === pushChange);\n      var isDenied = event === 'denied' &&\n        (func === pullDenied || func === pushDenied);\n      var isPaused = event === 'paused' &&\n        (func === pullPaused || func === pushPaused);\n      var isActive = event === 'active' &&\n        (func === pullActive || func === pushActive);\n\n      if (isChange || isDenied || isPaused || isActive) {\n        if (!(event in removed)) {\n          removed[event] = {};\n        }\n        removed[event][type] = true;\n        if (Object.keys(removed[event]).length === 2) {\n          // both push and pull have asked to be removed\n          self.removeAllListeners(event);\n        }\n      }\n    };\n  }\n\n  if (opts.live) {\n    this.push.on('complete', self.pull.cancel.bind(self.pull));\n    this.pull.on('complete', self.push.cancel.bind(self.push));\n  }\n\n  function addOneListener(ee, event, listener) {\n    if (ee.listeners(event).indexOf(listener) == -1) {\n      ee.on(event, listener);\n    }\n  }\n\n  this.on('newListener', function (event) {\n    if (event === 'change') {\n      addOneListener(self.pull, 'change', pullChange);\n      addOneListener(self.push, 'change', pushChange);\n    } else if (event === 'denied') {\n      addOneListener(self.pull, 'denied', pullDenied);\n      addOneListener(self.push, 'denied', pushDenied);\n    } else if (event === 'active') {\n      addOneListener(self.pull, 'active', pullActive);\n      addOneListener(self.push, 'active', pushActive);\n    } else if (event === 'paused') {\n      addOneListener(self.pull, 'paused', pullPaused);\n      addOneListener(self.push, 'paused', pushPaused);\n    }\n  });\n\n  this.on('removeListener', function (event) {\n    if (event === 'change') {\n      self.pull.removeListener('change', pullChange);\n      self.push.removeListener('change', pushChange);\n    } else if (event === 'denied') {\n      self.pull.removeListener('denied', pullDenied);\n      self.push.removeListener('denied', pushDenied);\n    } else if (event === 'active') {\n      self.pull.removeListener('active', pullActive);\n      self.push.removeListener('active', pushActive);\n    } else if (event === 'paused') {\n      self.pull.removeListener('paused', pullPaused);\n      self.push.removeListener('paused', pushPaused);\n    }\n  });\n\n  this.pull.on('removeListener', removeAll('pull'));\n  this.push.on('removeListener', removeAll('push'));\n\n  var promise = Promise.all([\n    this.push,\n    this.pull\n  ]).then(function (resp) {\n    var out = {\n      push: resp[0],\n      pull: resp[1]\n    };\n    self.emit('complete', out);\n    if (callback) {\n      callback(null, out);\n    }\n    self.removeAllListeners();\n    return out;\n  }, function (err) {\n    self.cancel();\n    if (callback) {\n      // if there's a callback, then the callback can receive\n      // the error event\n      callback(err);\n    } else {\n      // if there's no callback, then we're safe to emit an error\n      // event, which would otherwise throw an unhandled error\n      // due to 'error' being a special event in EventEmitters\n      self.emit('error', err);\n    }\n    self.removeAllListeners();\n    if (callback) {\n      // no sense throwing if we're already emitting an 'error' event\n      throw err;\n    }\n  });\n\n  this.then = function (success, err) {\n    return promise.then(success, err);\n  };\n\n  this.catch = function (err) {\n    return promise.catch(err);\n  };\n}\n\nSync.prototype.cancel = function () {\n  if (!this.canceled) {\n    this.canceled = true;\n    this.push.cancel();\n    this.pull.cancel();\n  }\n};\n\nfunction replication(PouchDB) {\n  PouchDB.replicate = replicateWrapper;\n  PouchDB.sync = sync;\n\n  Object.defineProperty(PouchDB.prototype, 'replicate', {\n    get: function () {\n      var self = this;\n      if (typeof this.replicateMethods === 'undefined') {\n        this.replicateMethods = {\n          from: function (other, opts, callback) {\n            return self.constructor.replicate(other, self, opts, callback);\n          },\n          to: function (other, opts, callback) {\n            return self.constructor.replicate(self, other, opts, callback);\n          }\n        };\n      }\n      return this.replicateMethods;\n    }\n  });\n\n  PouchDB.prototype.sync = function (dbName, opts, callback) {\n    return this.constructor.sync(this, dbName, opts, callback);\n  };\n}\n\nPouchDB.plugin(IDBPouch)\n  .plugin(HttpPouch$1)\n  .plugin(mapreduce)\n  .plugin(replication);\n\n// Pull from src because pouchdb-node/pouchdb-browser themselves\n\nexport default PouchDB;\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","// ES6 Map\nvar map\ntry {\n  map = Map\n} catch (_) { }\nvar set\n\n// ES6 Set\ntry {\n  set = Set\n} catch (_) { }\n\nfunction baseClone (src, circulars, clones) {\n  // Null/undefined/functions/etc\n  if (!src || typeof src !== 'object' || typeof src === 'function') {\n    return src\n  }\n\n  // DOM Node\n  if (src.nodeType && 'cloneNode' in src) {\n    return src.cloneNode(true)\n  }\n\n  // Date\n  if (src instanceof Date) {\n    return new Date(src.getTime())\n  }\n\n  // RegExp\n  if (src instanceof RegExp) {\n    return new RegExp(src)\n  }\n\n  // Arrays\n  if (Array.isArray(src)) {\n    return src.map(clone)\n  }\n\n  // ES6 Maps\n  if (map && src instanceof map) {\n    return new Map(Array.from(src.entries()))\n  }\n\n  // ES6 Sets\n  if (set && src instanceof set) {\n    return new Set(Array.from(src.values()))\n  }\n\n  // Object\n  if (src instanceof Object) {\n    circulars.push(src)\n    var obj = Object.create(src)\n    clones.push(obj)\n    for (var key in src) {\n      var idx = circulars.findIndex(function (i) {\n        return i === src[key]\n      })\n      obj[key] = idx > -1 ? clones[idx] : baseClone(src[key], circulars, clones)\n    }\n    return obj\n  }\n\n  // ???\n  return src\n}\n\nexport default function clone (src) {\n  return baseClone(src, [], [])\n}\n","const toString = Object.prototype.toString;\nconst errorToString = Error.prototype.toString;\nconst regExpToString = RegExp.prototype.toString;\nconst symbolToString = typeof Symbol !== 'undefined' ? Symbol.prototype.toString : () => '';\nconst SYMBOL_REGEXP = /^Symbol\\((.*)\\)(.*)$/;\n\nfunction printNumber(val) {\n  if (val != +val) return 'NaN';\n  const isNegativeZero = val === 0 && 1 / val < 0;\n  return isNegativeZero ? '-0' : '' + val;\n}\n\nfunction printSimpleValue(val, quoteStrings = false) {\n  if (val == null || val === true || val === false) return '' + val;\n  const typeOf = typeof val;\n  if (typeOf === 'number') return printNumber(val);\n  if (typeOf === 'string') return quoteStrings ? `\"${val}\"` : val;\n  if (typeOf === 'function') return '[Function ' + (val.name || 'anonymous') + ']';\n  if (typeOf === 'symbol') return symbolToString.call(val).replace(SYMBOL_REGEXP, 'Symbol($1)');\n  const tag = toString.call(val).slice(8, -1);\n  if (tag === 'Date') return isNaN(val.getTime()) ? '' + val : val.toISOString(val);\n  if (tag === 'Error' || val instanceof Error) return '[' + errorToString.call(val) + ']';\n  if (tag === 'RegExp') return regExpToString.call(val);\n  return null;\n}\n\nexport default function printValue(value, quoteStrings) {\n  let result = printSimpleValue(value, quoteStrings);\n  if (result !== null) return result;\n  return JSON.stringify(value, function (key, value) {\n    let result = printSimpleValue(this[key], quoteStrings);\n    if (result !== null) return result;\n    return value;\n  }, 2);\n}","import printValue from './util/printValue';\nexport let mixed = {\n  default: '${path} is invalid',\n  required: '${path} is a required field',\n  oneOf: '${path} must be one of the following values: ${values}',\n  notOneOf: '${path} must not be one of the following values: ${values}',\n  notType: ({\n    path,\n    type,\n    value,\n    originalValue\n  }) => {\n    let isCast = originalValue != null && originalValue !== value;\n    let msg = `${path} must be a \\`${type}\\` type, ` + `but the final value was: \\`${printValue(value, true)}\\`` + (isCast ? ` (cast from the value \\`${printValue(originalValue, true)}\\`).` : '.');\n\n    if (value === null) {\n      msg += `\\n If \"null\" is intended as an empty value be sure to mark the schema as \\`.nullable()\\``;\n    }\n\n    return msg;\n  },\n  defined: '${path} must be defined'\n};\nexport let string = {\n  length: '${path} must be exactly ${length} characters',\n  min: '${path} must be at least ${min} characters',\n  max: '${path} must be at most ${max} characters',\n  matches: '${path} must match the following: \"${regex}\"',\n  email: '${path} must be a valid email',\n  url: '${path} must be a valid URL',\n  uuid: '${path} must be a valid UUID',\n  trim: '${path} must be a trimmed string',\n  lowercase: '${path} must be a lowercase string',\n  uppercase: '${path} must be a upper case string'\n};\nexport let number = {\n  min: '${path} must be greater than or equal to ${min}',\n  max: '${path} must be less than or equal to ${max}',\n  lessThan: '${path} must be less than ${less}',\n  moreThan: '${path} must be greater than ${more}',\n  positive: '${path} must be a positive number',\n  negative: '${path} must be a negative number',\n  integer: '${path} must be an integer'\n};\nexport let date = {\n  min: '${path} field must be later than ${min}',\n  max: '${path} field must be at earlier than ${max}'\n};\nexport let boolean = {\n  isValue: '${path} field must be ${value}'\n};\nexport let object = {\n  noUnknown: '${path} field has unspecified keys: ${unknown}'\n};\nexport let array = {\n  min: '${path} field must have at least ${min} items',\n  max: '${path} field must have less than or equal to ${max} items',\n  length: '${path} must be have ${length} items'\n};\nexport default Object.assign(Object.create(null), {\n  mixed,\n  string,\n  number,\n  date,\n  object,\n  array,\n  boolean\n});","export default (obj => obj && obj.__isYupSchema__);","import has from 'lodash/has';\nimport isSchema from './util/isSchema';\n\nclass Condition {\n  constructor(refs, options) {\n    this.refs = refs;\n    this.refs = refs;\n\n    if (typeof options === 'function') {\n      this.fn = options;\n      return;\n    }\n\n    if (!has(options, 'is')) throw new TypeError('`is:` is required for `when()` conditions');\n    if (!options.then && !options.otherwise) throw new TypeError('either `then:` or `otherwise:` is required for `when()` conditions');\n    let {\n      is,\n      then,\n      otherwise\n    } = options;\n    let check = typeof is === 'function' ? is : (...values) => values.every(value => value === is);\n\n    this.fn = function (...args) {\n      let options = args.pop();\n      let schema = args.pop();\n      let branch = check(...args) ? then : otherwise;\n      if (!branch) return undefined;\n      if (typeof branch === 'function') return branch(schema);\n      return schema.concat(branch.resolve(options));\n    };\n  }\n\n  resolve(base, options) {\n    let values = this.refs.map(ref => ref.getValue(options == null ? void 0 : options.value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context));\n    let schema = this.fn.apply(base, values.concat(base, options));\n    if (schema === undefined || schema === base) return base;\n    if (!isSchema(schema)) throw new TypeError('conditions must return a schema object');\n    return schema.resolve(options);\n  }\n\n}\n\nexport default Condition;","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeFunction from \"@babel/runtime/helpers/esm/isNativeFunction\";\nimport construct from \"@babel/runtime/helpers/esm/construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","export default function toArray(value) {\n  return value == null ? [] : [].concat(value);\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport printValue from './util/printValue';\nimport toArray from './util/toArray';\nlet strReg = /\\$\\{\\s*(\\w+)\\s*\\}/g;\nexport default class ValidationError extends Error {\n  static formatError(message, params) {\n    const path = params.label || params.path || 'this';\n    if (path !== params.path) params = _extends({}, params, {\n      path\n    });\n    if (typeof message === 'string') return message.replace(strReg, (_, key) => printValue(params[key]));\n    if (typeof message === 'function') return message(params);\n    return message;\n  }\n\n  static isError(err) {\n    return err && err.name === 'ValidationError';\n  }\n\n  constructor(errorOrErrors, value, field, type) {\n    super();\n    this.name = 'ValidationError';\n    this.value = value;\n    this.path = field;\n    this.type = type;\n    this.errors = [];\n    this.inner = [];\n    toArray(errorOrErrors).forEach(err => {\n      if (ValidationError.isError(err)) {\n        this.errors.push(...err.errors);\n        this.inner = this.inner.concat(err.inner.length ? err.inner : err);\n      } else {\n        this.errors.push(err);\n      }\n    });\n    this.message = this.errors.length > 1 ? `${this.errors.length} errors occurred` : this.errors[0];\n    if (Error.captureStackTrace) Error.captureStackTrace(this, ValidationError);\n  }\n\n}","import ValidationError from '../ValidationError';\n\nconst once = cb => {\n  let fired = false;\n  return (...args) => {\n    if (fired) return;\n    fired = true;\n    cb(...args);\n  };\n};\n\nexport default function runTests(options, cb) {\n  let {\n    endEarly,\n    tests,\n    args,\n    value,\n    errors,\n    sort,\n    path\n  } = options;\n  let callback = once(cb);\n  let count = tests.length;\n  const nestedErrors = [];\n  errors = errors ? errors : [];\n  if (!count) return errors.length ? callback(new ValidationError(errors, value, path)) : callback(null, value);\n\n  for (let i = 0; i < tests.length; i++) {\n    const test = tests[i];\n    test(args, function finishTestRun(err) {\n      if (err) {\n        // always return early for non validation errors\n        if (!ValidationError.isError(err)) {\n          return callback(err, value);\n        }\n\n        if (endEarly) {\n          err.value = value;\n          return callback(err, value);\n        }\n\n        nestedErrors.push(err);\n      }\n\n      if (--count <= 0) {\n        if (nestedErrors.length) {\n          if (sort) nestedErrors.sort(sort); //show parent errors after the nested ones: name.first, name\n\n          if (errors.length) nestedErrors.push(...errors);\n          errors = nestedErrors;\n        }\n\n        if (errors.length) {\n          callback(new ValidationError(errors, value, path), value);\n          return;\n        }\n\n        callback(null, value);\n      }\n    });\n  }\n}","import { getter } from 'property-expr';\nconst prefixes = {\n  context: '$',\n  value: '.'\n};\nexport function create(key, options) {\n  return new Reference(key, options);\n}\nexport default class Reference {\n  constructor(key, options = {}) {\n    if (typeof key !== 'string') throw new TypeError('ref must be a string, got: ' + key);\n    this.key = key.trim();\n    if (key === '') throw new TypeError('ref must be a non-empty string');\n    this.isContext = this.key[0] === prefixes.context;\n    this.isValue = this.key[0] === prefixes.value;\n    this.isSibling = !this.isContext && !this.isValue;\n    let prefix = this.isContext ? prefixes.context : this.isValue ? prefixes.value : '';\n    this.path = this.key.slice(prefix.length);\n    this.getter = this.path && getter(this.path, true);\n    this.map = options.map;\n  }\n\n  getValue(value, parent, context) {\n    let result = this.isContext ? context : this.isValue ? value : parent;\n    if (this.getter) result = this.getter(result || {});\n    if (this.map) result = this.map(result);\n    return result;\n  }\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {Object=} options.context\n   * @param {Object=} options.parent\n   */\n\n\n  cast(value, options) {\n    return this.getValue(value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context);\n  }\n\n  resolve() {\n    return this;\n  }\n\n  describe() {\n    return {\n      type: 'ref',\n      key: this.key\n    };\n  }\n\n  toString() {\n    return `Ref(${this.key})`;\n  }\n\n  static isRef(value) {\n    return value && value.__isYupRef;\n  }\n\n} // @ts-ignore\n\nReference.prototype.__isYupRef = true;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport mapValues from 'lodash/mapValues';\nimport ValidationError from '../ValidationError';\nimport Ref from '../Reference';\nexport default function createValidation(config) {\n  function validate(_ref, cb) {\n    let {\n      value,\n      path = '',\n      label,\n      options,\n      originalValue,\n      sync\n    } = _ref,\n        rest = _objectWithoutPropertiesLoose(_ref, [\"value\", \"path\", \"label\", \"options\", \"originalValue\", \"sync\"]);\n\n    const {\n      name,\n      test,\n      params,\n      message\n    } = config;\n    let {\n      parent,\n      context\n    } = options;\n\n    function resolve(item) {\n      return Ref.isRef(item) ? item.getValue(value, parent, context) : item;\n    }\n\n    function createError(overrides = {}) {\n      const nextParams = mapValues(_extends({\n        value,\n        originalValue,\n        label,\n        path: overrides.path || path\n      }, params, overrides.params), resolve);\n      const error = new ValidationError(ValidationError.formatError(overrides.message || message, nextParams), value, nextParams.path, overrides.type || name);\n      error.params = nextParams;\n      return error;\n    }\n\n    let ctx = _extends({\n      path,\n      parent,\n      type: name,\n      createError,\n      resolve,\n      options,\n      originalValue\n    }, rest);\n\n    if (!sync) {\n      try {\n        Promise.resolve(test.call(ctx, value, ctx)).then(validOrError => {\n          if (ValidationError.isError(validOrError)) cb(validOrError);else if (!validOrError) cb(createError());else cb(null, validOrError);\n        });\n      } catch (err) {\n        cb(err);\n      }\n\n      return;\n    }\n\n    let result;\n\n    try {\n      var _ref2;\n\n      result = test.call(ctx, value, ctx);\n\n      if (typeof ((_ref2 = result) == null ? void 0 : _ref2.then) === 'function') {\n        throw new Error(`Validation test of type: \"${ctx.type}\" returned a Promise during a synchronous validate. ` + `This test will finish after the validate call has returned`);\n      }\n    } catch (err) {\n      cb(err);\n      return;\n    }\n\n    if (ValidationError.isError(result)) cb(result);else if (!result) cb(createError());else cb(null, result);\n  }\n\n  validate.OPTIONS = config;\n  return validate;\n}","import { forEach } from 'property-expr';\n\nlet trim = part => part.substr(0, part.length - 1).substr(1);\n\nexport function getIn(schema, path, value, context = value) {\n  let parent, lastPart, lastPartDebug; // root path: ''\n\n  if (!path) return {\n    parent,\n    parentPath: path,\n    schema\n  };\n  forEach(path, (_part, isBracket, isArray) => {\n    let part = isBracket ? trim(_part) : _part;\n    schema = schema.resolve({\n      context,\n      parent,\n      value\n    });\n\n    if (schema.innerType) {\n      let idx = isArray ? parseInt(part, 10) : 0;\n\n      if (value && idx >= value.length) {\n        throw new Error(`Yup.reach cannot resolve an array item at index: ${_part}, in the path: ${path}. ` + `because there is no value at that index. `);\n      }\n\n      parent = value;\n      value = value && value[idx];\n      schema = schema.innerType;\n    } // sometimes the array index part of a path doesn't exist: \"nested.arr.child\"\n    // in these cases the current part is the next schema and should be processed\n    // in this iteration. For cases where the index signature is included this\n    // check will fail and we'll handle the `child` part on the next iteration like normal\n\n\n    if (!isArray) {\n      if (!schema.fields || !schema.fields[part]) throw new Error(`The schema does not contain the path: ${path}. ` + `(failed at: ${lastPartDebug} which is a type: \"${schema._type}\")`);\n      parent = value;\n      value = value && value[part];\n      schema = schema.fields[part];\n    }\n\n    lastPart = part;\n    lastPartDebug = isBracket ? '[' + _part + ']' : '.' + _part;\n  });\n  return {\n    schema,\n    parent,\n    parentPath: lastPart\n  };\n}\n\nconst reach = (obj, path, value, context) => getIn(obj, path, value, context).schema;\n\nexport default reach;","import Reference from '../Reference';\nexport default class ReferenceSet {\n  constructor() {\n    this.list = new Set();\n    this.refs = new Map();\n  }\n\n  get size() {\n    return this.list.size + this.refs.size;\n  }\n\n  describe() {\n    const description = [];\n\n    for (const item of this.list) description.push(item);\n\n    for (const [, ref] of this.refs) description.push(ref.describe());\n\n    return description;\n  }\n\n  toArray() {\n    return Array.from(this.list).concat(Array.from(this.refs.values()));\n  }\n\n  add(value) {\n    Reference.isRef(value) ? this.refs.set(value.key, value) : this.list.add(value);\n  }\n\n  delete(value) {\n    Reference.isRef(value) ? this.refs.delete(value.key) : this.list.delete(value);\n  }\n\n  has(value, resolve) {\n    if (this.list.has(value)) return true;\n    let item,\n        values = this.refs.values();\n\n    while (item = values.next(), !item.done) if (resolve(item.value) === value) return true;\n\n    return false;\n  }\n\n  clone() {\n    const next = new ReferenceSet();\n    next.list = new Set(this.list);\n    next.refs = new Map(this.refs);\n    return next;\n  }\n\n  merge(newItems, removeItems) {\n    const next = this.clone();\n    newItems.list.forEach(value => next.add(value));\n    newItems.refs.forEach(value => next.add(value));\n    removeItems.list.forEach(value => next.delete(value));\n    removeItems.refs.forEach(value => next.delete(value));\n    return next;\n  }\n\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n// @ts-ignore\nimport cloneDeep from 'nanoclone';\nimport { mixed as locale } from './locale';\nimport Condition from './Condition';\nimport runTests from './util/runTests';\nimport createValidation from './util/createValidation';\nimport printValue from './util/printValue';\nimport Ref from './Reference';\nimport { getIn } from './util/reach';\nimport toArray from './util/toArray';\nimport ValidationError from './ValidationError';\nimport ReferenceSet from './util/ReferenceSet';\nexport default class BaseSchema {\n  constructor(options) {\n    this.deps = [];\n    this.conditions = [];\n    this._whitelist = new ReferenceSet();\n    this._blacklist = new ReferenceSet();\n    this.exclusiveTests = Object.create(null);\n    this.tests = [];\n    this.transforms = [];\n    this.withMutation(() => {\n      this.typeError(locale.notType);\n    });\n    this.type = (options == null ? void 0 : options.type) || 'mixed';\n    this.spec = _extends({\n      strip: false,\n      strict: false,\n      abortEarly: true,\n      recursive: true,\n      nullable: false,\n      presence: 'optional'\n    }, options == null ? void 0 : options.spec);\n  } // TODO: remove\n\n\n  get _type() {\n    return this.type;\n  }\n\n  _typeCheck(_value) {\n    return true;\n  }\n\n  clone(spec) {\n    if (this._mutate) {\n      if (spec) Object.assign(this.spec, spec);\n      return this;\n    } // if the nested value is a schema we can skip cloning, since\n    // they are already immutable\n\n\n    const next = Object.create(Object.getPrototypeOf(this)); // @ts-expect-error this is readonly\n\n    next.type = this.type;\n    next._typeError = this._typeError;\n    next._whitelistError = this._whitelistError;\n    next._blacklistError = this._blacklistError;\n    next._whitelist = this._whitelist.clone();\n    next._blacklist = this._blacklist.clone();\n    next.exclusiveTests = _extends({}, this.exclusiveTests); // @ts-expect-error this is readonly\n\n    next.deps = [...this.deps];\n    next.conditions = [...this.conditions];\n    next.tests = [...this.tests];\n    next.transforms = [...this.transforms];\n    next.spec = cloneDeep(_extends({}, this.spec, spec));\n    return next;\n  }\n\n  label(label) {\n    var next = this.clone();\n    next.spec.label = label;\n    return next;\n  }\n\n  meta(...args) {\n    if (args.length === 0) return this.spec.meta;\n    let next = this.clone();\n    next.spec.meta = Object.assign(next.spec.meta || {}, args[0]);\n    return next;\n  } // withContext<TContext extends AnyObject>(): BaseSchema<\n  //   TCast,\n  //   TContext,\n  //   TOutput\n  // > {\n  //   return this as any;\n  // }\n\n\n  withMutation(fn) {\n    let before = this._mutate;\n    this._mutate = true;\n    let result = fn(this);\n    this._mutate = before;\n    return result;\n  }\n\n  concat(schema) {\n    if (!schema || schema === this) return this;\n    if (schema.type !== this.type && this.type !== 'mixed') throw new TypeError(`You cannot \\`concat()\\` schema's of different types: ${this.type} and ${schema.type}`);\n    let base = this;\n    let combined = schema.clone();\n\n    const mergedSpec = _extends({}, base.spec, combined.spec); // if (combined.spec.nullable === UNSET)\n    //   mergedSpec.nullable = base.spec.nullable;\n    // if (combined.spec.presence === UNSET)\n    //   mergedSpec.presence = base.spec.presence;\n\n\n    combined.spec = mergedSpec;\n    combined._typeError || (combined._typeError = base._typeError);\n    combined._whitelistError || (combined._whitelistError = base._whitelistError);\n    combined._blacklistError || (combined._blacklistError = base._blacklistError); // manually merge the blacklist/whitelist (the other `schema` takes\n    // precedence in case of conflicts)\n\n    combined._whitelist = base._whitelist.merge(schema._whitelist, schema._blacklist);\n    combined._blacklist = base._blacklist.merge(schema._blacklist, schema._whitelist); // start with the current tests\n\n    combined.tests = base.tests;\n    combined.exclusiveTests = base.exclusiveTests; // manually add the new tests to ensure\n    // the deduping logic is consistent\n\n    combined.withMutation(next => {\n      schema.tests.forEach(fn => {\n        next.test(fn.OPTIONS);\n      });\n    });\n    return combined;\n  }\n\n  isType(v) {\n    if (this.spec.nullable && v === null) return true;\n    return this._typeCheck(v);\n  }\n\n  resolve(options) {\n    let schema = this;\n\n    if (schema.conditions.length) {\n      let conditions = schema.conditions;\n      schema = schema.clone();\n      schema.conditions = [];\n      schema = conditions.reduce((schema, condition) => condition.resolve(schema, options), schema);\n      schema = schema.resolve(options);\n    }\n\n    return schema;\n  }\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {*=} options.parent\n   * @param {*=} options.context\n   */\n\n\n  cast(value, options = {}) {\n    let resolvedSchema = this.resolve(_extends({\n      value\n    }, options));\n\n    let result = resolvedSchema._cast(value, options);\n\n    if (value !== undefined && options.assert !== false && resolvedSchema.isType(result) !== true) {\n      let formattedValue = printValue(value);\n      let formattedResult = printValue(result);\n      throw new TypeError(`The value of ${options.path || 'field'} could not be cast to a value ` + `that satisfies the schema type: \"${resolvedSchema._type}\". \\n\\n` + `attempted value: ${formattedValue} \\n` + (formattedResult !== formattedValue ? `result of cast: ${formattedResult}` : ''));\n    }\n\n    return result;\n  }\n\n  _cast(rawValue, _options) {\n    let value = rawValue === undefined ? rawValue : this.transforms.reduce((value, fn) => fn.call(this, value, rawValue, this), rawValue);\n\n    if (value === undefined) {\n      value = this.getDefault();\n    }\n\n    return value;\n  }\n\n  _validate(_value, options = {}, cb) {\n    let {\n      sync,\n      path,\n      from = [],\n      originalValue = _value,\n      strict = this.spec.strict,\n      abortEarly = this.spec.abortEarly\n    } = options;\n    let value = _value;\n\n    if (!strict) {\n      // this._validating = true;\n      value = this._cast(value, _extends({\n        assert: false\n      }, options)); // this._validating = false;\n    } // value is cast, we can check if it meets type requirements\n\n\n    let args = {\n      value,\n      path,\n      options,\n      originalValue,\n      schema: this,\n      label: this.spec.label,\n      sync,\n      from\n    };\n    let initialTests = [];\n    if (this._typeError) initialTests.push(this._typeError);\n    if (this._whitelistError) initialTests.push(this._whitelistError);\n    if (this._blacklistError) initialTests.push(this._blacklistError);\n    runTests({\n      args,\n      value,\n      path,\n      sync,\n      tests: initialTests,\n      endEarly: abortEarly\n    }, err => {\n      if (err) return void cb(err, value);\n      runTests({\n        tests: this.tests,\n        args,\n        path,\n        sync,\n        value,\n        endEarly: abortEarly\n      }, cb);\n    });\n  }\n\n  validate(value, options, maybeCb) {\n    let schema = this.resolve(_extends({}, options, {\n      value\n    })); // callback case is for nested validations\n\n    return typeof maybeCb === 'function' ? schema._validate(value, options, maybeCb) : new Promise((resolve, reject) => schema._validate(value, options, (err, value) => {\n      if (err) reject(err);else resolve(value);\n    }));\n  }\n\n  validateSync(value, options) {\n    let schema = this.resolve(_extends({}, options, {\n      value\n    }));\n    let result;\n\n    schema._validate(value, _extends({}, options, {\n      sync: true\n    }), (err, value) => {\n      if (err) throw err;\n      result = value;\n    });\n\n    return result;\n  }\n\n  isValid(value, options) {\n    return this.validate(value, options).then(() => true, err => {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    });\n  }\n\n  isValidSync(value, options) {\n    try {\n      this.validateSync(value, options);\n      return true;\n    } catch (err) {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    }\n  }\n\n  _getDefault() {\n    let defaultValue = this.spec.default;\n\n    if (defaultValue == null) {\n      return defaultValue;\n    }\n\n    return typeof defaultValue === 'function' ? defaultValue.call(this) : cloneDeep(defaultValue);\n  }\n\n  getDefault(options) {\n    let schema = this.resolve(options || {});\n    return schema._getDefault();\n  }\n\n  default(def) {\n    if (arguments.length === 0) {\n      return this._getDefault();\n    }\n\n    let next = this.clone({\n      default: def\n    });\n    return next;\n  }\n\n  strict(isStrict = true) {\n    var next = this.clone();\n    next.spec.strict = isStrict;\n    return next;\n  }\n\n  _isPresent(value) {\n    return value != null;\n  }\n\n  defined(message = locale.defined) {\n    return this.test({\n      message,\n      name: 'defined',\n      exclusive: true,\n\n      test(value) {\n        return value !== undefined;\n      }\n\n    });\n  }\n\n  required(message = locale.required) {\n    return this.clone({\n      presence: 'required'\n    }).withMutation(s => s.test({\n      message,\n      name: 'required',\n      exclusive: true,\n\n      test(value) {\n        return this.schema._isPresent(value);\n      }\n\n    }));\n  }\n\n  notRequired() {\n    var next = this.clone({\n      presence: 'optional'\n    });\n    next.tests = next.tests.filter(test => test.OPTIONS.name !== 'required');\n    return next;\n  }\n\n  nullable(isNullable = true) {\n    var next = this.clone({\n      nullable: isNullable !== false\n    });\n    return next;\n  }\n\n  transform(fn) {\n    var next = this.clone();\n    next.transforms.push(fn);\n    return next;\n  }\n  /**\n   * Adds a test function to the schema's queue of tests.\n   * tests can be exclusive or non-exclusive.\n   *\n   * - exclusive tests, will replace any existing tests of the same name.\n   * - non-exclusive: can be stacked\n   *\n   * If a non-exclusive test is added to a schema with an exclusive test of the same name\n   * the exclusive test is removed and further tests of the same name will be stacked.\n   *\n   * If an exclusive test is added to a schema with non-exclusive tests of the same name\n   * the previous tests are removed and further tests of the same name will replace each other.\n   */\n\n\n  test(...args) {\n    let opts;\n\n    if (args.length === 1) {\n      if (typeof args[0] === 'function') {\n        opts = {\n          test: args[0]\n        };\n      } else {\n        opts = args[0];\n      }\n    } else if (args.length === 2) {\n      opts = {\n        name: args[0],\n        test: args[1]\n      };\n    } else {\n      opts = {\n        name: args[0],\n        message: args[1],\n        test: args[2]\n      };\n    }\n\n    if (opts.message === undefined) opts.message = locale.default;\n    if (typeof opts.test !== 'function') throw new TypeError('`test` is a required parameters');\n    let next = this.clone();\n    let validate = createValidation(opts);\n    let isExclusive = opts.exclusive || opts.name && next.exclusiveTests[opts.name] === true;\n\n    if (opts.exclusive) {\n      if (!opts.name) throw new TypeError('Exclusive tests must provide a unique `name` identifying the test');\n    }\n\n    if (opts.name) next.exclusiveTests[opts.name] = !!opts.exclusive;\n    next.tests = next.tests.filter(fn => {\n      if (fn.OPTIONS.name === opts.name) {\n        if (isExclusive) return false;\n        if (fn.OPTIONS.test === validate.OPTIONS.test) return false;\n      }\n\n      return true;\n    });\n    next.tests.push(validate);\n    return next;\n  }\n\n  when(keys, options) {\n    if (!Array.isArray(keys) && typeof keys !== 'string') {\n      options = keys;\n      keys = '.';\n    }\n\n    let next = this.clone();\n    let deps = toArray(keys).map(key => new Ref(key));\n    deps.forEach(dep => {\n      // @ts-ignore\n      if (dep.isSibling) next.deps.push(dep.key);\n    });\n    next.conditions.push(new Condition(deps, options));\n    return next;\n  }\n\n  typeError(message) {\n    var next = this.clone();\n    next._typeError = createValidation({\n      message,\n      name: 'typeError',\n\n      test(value) {\n        if (value !== undefined && !this.schema.isType(value)) return this.createError({\n          params: {\n            type: this.schema._type\n          }\n        });\n        return true;\n      }\n\n    });\n    return next;\n  }\n\n  oneOf(enums, message = locale.oneOf) {\n    var next = this.clone();\n    enums.forEach(val => {\n      next._whitelist.add(val);\n\n      next._blacklist.delete(val);\n    });\n    next._whitelistError = createValidation({\n      message,\n      name: 'oneOf',\n\n      test(value) {\n        if (value === undefined) return true;\n        let valids = this.schema._whitelist;\n        return valids.has(value, this.resolve) ? true : this.createError({\n          params: {\n            values: valids.toArray().join(', ')\n          }\n        });\n      }\n\n    });\n    return next;\n  }\n\n  notOneOf(enums, message = locale.notOneOf) {\n    var next = this.clone();\n    enums.forEach(val => {\n      next._blacklist.add(val);\n\n      next._whitelist.delete(val);\n    });\n    next._blacklistError = createValidation({\n      message,\n      name: 'notOneOf',\n\n      test(value) {\n        let invalids = this.schema._blacklist;\n        if (invalids.has(value, this.resolve)) return this.createError({\n          params: {\n            values: invalids.toArray().join(', ')\n          }\n        });\n        return true;\n      }\n\n    });\n    return next;\n  }\n\n  strip(strip = true) {\n    let next = this.clone();\n    next.spec.strip = strip;\n    return next;\n  }\n\n  describe() {\n    const next = this.clone();\n    const {\n      label,\n      meta\n    } = next.spec;\n    const description = {\n      meta,\n      label,\n      type: next.type,\n      oneOf: next._whitelist.describe(),\n      notOneOf: next._blacklist.describe(),\n      tests: next.tests.map(fn => ({\n        name: fn.OPTIONS.name,\n        params: fn.OPTIONS.params\n      })).filter((n, idx, list) => list.findIndex(c => c.name === n.name) === idx)\n    };\n    return description;\n  }\n\n}\n// @ts-expect-error\nBaseSchema.prototype.__isYupSchema__ = true;\n\nfor (const method of ['validate', 'validateSync']) BaseSchema.prototype[`${method}At`] = function (path, value, options = {}) {\n  const {\n    parent,\n    parentPath,\n    schema\n  } = getIn(this, path, value, options.context);\n  return schema[method](parent && parent[parentPath], _extends({}, options, {\n    parent,\n    path\n  }));\n};\n\nfor (const alias of ['equals', 'is']) BaseSchema.prototype[alias] = BaseSchema.prototype.oneOf;\n\nfor (const alias of ['not', 'nope']) BaseSchema.prototype[alias] = BaseSchema.prototype.notOneOf;\n\nBaseSchema.prototype.optional = BaseSchema.prototype.notRequired;","import BaseSchema from './schema';\nconst Mixed = BaseSchema;\nexport default Mixed;\nexport function create() {\n  return new Mixed();\n} // XXX: this is using the Base schema so that `addMethod(mixed)` works as a base class\n\ncreate.prototype = Mixed.prototype;","export default (value => value == null);","import BaseSchema from './schema';\nimport { boolean as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nexport function create() {\n  return new BooleanSchema();\n}\nexport default class BooleanSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'boolean'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (!this.isType(value)) {\n          if (/^(true|1)$/i.test(String(value))) return true;\n          if (/^(false|0)$/i.test(String(value))) return false;\n        }\n\n        return value;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    if (v instanceof Boolean) v = v.valueOf();\n    return typeof v === 'boolean';\n  }\n\n  isTrue(message = locale.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'true'\n      },\n\n      test(value) {\n        return isAbsent(value) || value === true;\n      }\n\n    });\n  }\n\n  isFalse(message = locale.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'false'\n      },\n\n      test(value) {\n        return isAbsent(value) || value === false;\n      }\n\n    });\n  }\n\n}\ncreate.prototype = BooleanSchema.prototype;","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import { string as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport BaseSchema from './schema'; // eslint-disable-next-line\n\nlet rEmail = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i; // eslint-disable-next-line\n\nlet rUrl = /^((https?|ftp):)?\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i; // eslint-disable-next-line\n\nlet rUUID = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\nlet isTrimmed = value => isAbsent(value) || value === value.trim();\n\nlet objStringTag = {}.toString();\nexport function create() {\n  return new StringSchema();\n}\nexport default class StringSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'string'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        if (Array.isArray(value)) return value;\n        const strValue = value != null && value.toString ? value.toString() : value;\n        if (strValue === objStringTag) return value;\n        return strValue;\n      });\n    });\n  }\n\n  _typeCheck(value) {\n    if (value instanceof String) value = value.valueOf();\n    return typeof value === 'string';\n  }\n\n  _isPresent(value) {\n    return super._isPresent(value) && !!value.length;\n  }\n\n  length(length, message = locale.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message = locale.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    return this.test({\n      name: 'max',\n      exclusive: true,\n      message,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  matches(regex, options) {\n    let excludeEmptyString = false;\n    let message;\n    let name;\n\n    if (options) {\n      if (typeof options === 'object') {\n        ({\n          excludeEmptyString = false,\n          message,\n          name\n        } = options);\n      } else {\n        message = options;\n      }\n    }\n\n    return this.test({\n      name: name || 'matches',\n      message: message || locale.matches,\n      params: {\n        regex\n      },\n      test: value => isAbsent(value) || value === '' && excludeEmptyString || value.search(regex) !== -1\n    });\n  }\n\n  email(message = locale.email) {\n    return this.matches(rEmail, {\n      name: 'email',\n      message,\n      excludeEmptyString: true\n    });\n  }\n\n  url(message = locale.url) {\n    return this.matches(rUrl, {\n      name: 'url',\n      message,\n      excludeEmptyString: true\n    });\n  }\n\n  uuid(message = locale.uuid) {\n    return this.matches(rUUID, {\n      name: 'uuid',\n      message,\n      excludeEmptyString: false\n    });\n  } //-- transforms --\n\n\n  ensure() {\n    return this.default('').transform(val => val === null ? '' : val);\n  }\n\n  trim(message = locale.trim) {\n    return this.transform(val => val != null ? val.trim() : val).test({\n      message,\n      name: 'trim',\n      test: isTrimmed\n    });\n  }\n\n  lowercase(message = locale.lowercase) {\n    return this.transform(value => !isAbsent(value) ? value.toLowerCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      test: value => isAbsent(value) || value === value.toLowerCase()\n    });\n  }\n\n  uppercase(message = locale.uppercase) {\n    return this.transform(value => !isAbsent(value) ? value.toUpperCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      test: value => isAbsent(value) || value === value.toUpperCase()\n    });\n  }\n\n}\ncreate.prototype = StringSchema.prototype; //\n// String Interfaces\n//","import { number as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport BaseSchema from './schema';\n\nlet isNaN = value => value != +value;\n\nexport function create() {\n  return new NumberSchema();\n}\nexport default class NumberSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'number'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        let parsed = value;\n\n        if (typeof parsed === 'string') {\n          parsed = parsed.replace(/\\s/g, '');\n          if (parsed === '') return NaN; // don't use parseFloat to avoid positives on alpha-numeric strings\n\n          parsed = +parsed;\n        }\n\n        if (this.isType(parsed)) return parsed;\n        return parseFloat(parsed);\n      });\n    });\n  }\n\n  _typeCheck(value) {\n    if (value instanceof Number) value = value.valueOf();\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  min(min, message = locale.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(max);\n      }\n\n    });\n  }\n\n  lessThan(less, message = locale.lessThan) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        less\n      },\n\n      test(value) {\n        return isAbsent(value) || value < this.resolve(less);\n      }\n\n    });\n  }\n\n  moreThan(more, message = locale.moreThan) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        more\n      },\n\n      test(value) {\n        return isAbsent(value) || value > this.resolve(more);\n      }\n\n    });\n  }\n\n  positive(msg = locale.positive) {\n    return this.moreThan(0, msg);\n  }\n\n  negative(msg = locale.negative) {\n    return this.lessThan(0, msg);\n  }\n\n  integer(message = locale.integer) {\n    return this.test({\n      name: 'integer',\n      message,\n      test: val => isAbsent(val) || Number.isInteger(val)\n    });\n  }\n\n  truncate() {\n    return this.transform(value => !isAbsent(value) ? value | 0 : value);\n  }\n\n  round(method) {\n    var _method;\n\n    var avail = ['ceil', 'floor', 'round', 'trunc'];\n    method = ((_method = method) == null ? void 0 : _method.toLowerCase()) || 'round'; // this exists for symemtry with the new Math.trunc\n\n    if (method === 'trunc') return this.truncate();\n    if (avail.indexOf(method.toLowerCase()) === -1) throw new TypeError('Only valid options for round() are: ' + avail.join(', '));\n    return this.transform(value => !isAbsent(value) ? Math[method](value) : value);\n  }\n\n}\ncreate.prototype = NumberSchema.prototype; //\n// Number Interfaces\n//","/* eslint-disable */\n\n/**\n *\n * Date.parse with progressive enhancement for ISO 8601 <https://github.com/csnover/js-iso8601>\n * NON-CONFORMANT EDITION.\n *  2011 Colin Snover <http://zetafleet.com>\n * Released under MIT license.\n */\n//              1 YYYY                 2 MM        3 DD              4 HH     5 mm        6 ss            7 msec         8 Z 9     10 tzHH    11 tzmm\nvar isoReg = /^(\\d{4}|[+\\-]\\d{6})(?:-?(\\d{2})(?:-?(\\d{2}))?)?(?:[ T]?(\\d{2}):?(\\d{2})(?::?(\\d{2})(?:[,\\.](\\d{1,}))?)?(?:(Z)|([+\\-])(\\d{2})(?::?(\\d{2}))?)?)?$/;\nexport default function parseIsoDate(date) {\n  var numericKeys = [1, 4, 5, 6, 7, 10, 11],\n      minutesOffset = 0,\n      timestamp,\n      struct;\n\n  if (struct = isoReg.exec(date)) {\n    // avoid NaN timestamps caused by undefined values being passed to Date.UTC\n    for (var i = 0, k; k = numericKeys[i]; ++i) struct[k] = +struct[k] || 0; // allow undefined days and months\n\n\n    struct[2] = (+struct[2] || 1) - 1;\n    struct[3] = +struct[3] || 1; // allow arbitrary sub-second precision beyond milliseconds\n\n    struct[7] = struct[7] ? String(struct[7]).substr(0, 3) : 0; // timestamps without timezone identifiers should be considered local time\n\n    if ((struct[8] === undefined || struct[8] === '') && (struct[9] === undefined || struct[9] === '')) timestamp = +new Date(struct[1], struct[2], struct[3], struct[4], struct[5], struct[6], struct[7]);else {\n      if (struct[8] !== 'Z' && struct[9] !== undefined) {\n        minutesOffset = struct[10] * 60 + struct[11];\n        if (struct[9] === '+') minutesOffset = 0 - minutesOffset;\n      }\n\n      timestamp = Date.UTC(struct[1], struct[2], struct[3], struct[4], struct[5] + minutesOffset, struct[6], struct[7]);\n    }\n  } else timestamp = Date.parse ? Date.parse(date) : NaN;\n\n  return timestamp;\n}","// @ts-ignore\nimport isoParse from './util/isodate';\nimport { date as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport Ref from './Reference';\nimport BaseSchema from './schema';\nlet invalidDate = new Date('');\n\nlet isDate = obj => Object.prototype.toString.call(obj) === '[object Date]';\n\nexport function create() {\n  return new DateSchema();\n}\nexport default class DateSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'date'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        value = isoParse(value); // 0 is a valid timestamp equivalent to 1970-01-01T00:00:00Z(unix epoch) or before.\n\n        return !isNaN(value) ? new Date(value) : invalidDate;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return isDate(v) && !isNaN(v.getTime());\n  }\n\n  prepareParam(ref, name) {\n    let param;\n\n    if (!Ref.isRef(ref)) {\n      let cast = this.cast(ref);\n      if (!this._typeCheck(cast)) throw new TypeError(`\\`${name}\\` must be a Date or a value that can be \\`cast()\\` to a Date`);\n      param = cast;\n    } else {\n      param = ref;\n    }\n\n    return param;\n  }\n\n  min(min, message = locale.min) {\n    let limit = this.prepareParam(min, 'min');\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(limit);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    var limit = this.prepareParam(max, 'max');\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(limit);\n      }\n\n    });\n  }\n\n}\nDateSchema.INVALID_DATE = invalidDate;\ncreate.prototype = DateSchema.prototype;\ncreate.INVALID_DATE = invalidDate;","import has from 'lodash/has'; // @ts-expect-error\n\nimport toposort from 'toposort';\nimport { split } from 'property-expr';\nimport Ref from '../Reference';\nimport isSchema from './isSchema';\nexport default function sortFields(fields, excludes = []) {\n  let edges = [];\n  let nodes = [];\n\n  function addNode(depPath, key) {\n    var node = split(depPath)[0];\n    if (!~nodes.indexOf(node)) nodes.push(node);\n    if (!~excludes.indexOf(`${key}-${node}`)) edges.push([key, node]);\n  }\n\n  for (const key in fields) if (has(fields, key)) {\n    let value = fields[key];\n    if (!~nodes.indexOf(key)) nodes.push(key);\n    if (Ref.isRef(value) && value.isSibling) addNode(value.path, key);else if (isSchema(value) && 'deps' in value) value.deps.forEach(path => addNode(path, key));\n  }\n\n  return toposort.array(nodes, edges).reverse();\n}","function findIndex(arr, err) {\n  let idx = Infinity;\n  arr.some((key, ii) => {\n    var _err$path;\n\n    if (((_err$path = err.path) == null ? void 0 : _err$path.indexOf(key)) !== -1) {\n      idx = ii;\n      return true;\n    }\n  });\n  return idx;\n}\n\nexport default function sortByKeyOrder(keys) {\n  return (a, b) => {\n    return findIndex(keys, a) - findIndex(keys, b);\n  };\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport has from 'lodash/has';\nimport snakeCase from 'lodash/snakeCase';\nimport camelCase from 'lodash/camelCase';\nimport mapKeys from 'lodash/mapKeys';\nimport mapValues from 'lodash/mapValues';\nimport { getter } from 'property-expr';\nimport { object as locale } from './locale';\nimport sortFields from './util/sortFields';\nimport sortByKeyOrder from './util/sortByKeyOrder';\nimport runTests from './util/runTests';\nimport ValidationError from './ValidationError';\nimport BaseSchema from './schema';\n\nlet isObject = obj => Object.prototype.toString.call(obj) === '[object Object]';\n\nfunction unknown(ctx, value) {\n  let known = Object.keys(ctx.fields);\n  return Object.keys(value).filter(key => known.indexOf(key) === -1);\n}\n\nconst defaultSort = sortByKeyOrder([]);\nexport default class ObjectSchema extends BaseSchema {\n  constructor(spec) {\n    super({\n      type: 'object'\n    });\n    this.fields = Object.create(null);\n    this._sortErrors = defaultSort;\n    this._nodes = [];\n    this._excludedEdges = [];\n    this.withMutation(() => {\n      this.transform(function coerce(value) {\n        if (typeof value === 'string') {\n          try {\n            value = JSON.parse(value);\n          } catch (err) {\n            value = null;\n          }\n        }\n\n        if (this.isType(value)) return value;\n        return null;\n      });\n\n      if (spec) {\n        this.shape(spec);\n      }\n    });\n  }\n\n  _typeCheck(value) {\n    return isObject(value) || typeof value === 'function';\n  }\n\n  _cast(_value, options = {}) {\n    var _options$stripUnknown;\n\n    let value = super._cast(_value, options); //should ignore nulls here\n\n\n    if (value === undefined) return this.getDefault();\n    if (!this._typeCheck(value)) return value;\n    let fields = this.fields;\n    let strip = (_options$stripUnknown = options.stripUnknown) != null ? _options$stripUnknown : this.spec.noUnknown;\n\n    let props = this._nodes.concat(Object.keys(value).filter(v => this._nodes.indexOf(v) === -1));\n\n    let intermediateValue = {}; // is filled during the transform below\n\n    let innerOptions = _extends({}, options, {\n      parent: intermediateValue,\n      __validating: options.__validating || false\n    });\n\n    let isChanged = false;\n\n    for (const prop of props) {\n      let field = fields[prop];\n      let exists = has(value, prop);\n\n      if (field) {\n        let fieldValue;\n        let inputValue = value[prop]; // safe to mutate since this is fired in sequence\n\n        innerOptions.path = (options.path ? `${options.path}.` : '') + prop; // innerOptions.value = value[prop];\n\n        field = field.resolve({\n          value: inputValue,\n          context: options.context,\n          parent: intermediateValue\n        });\n        let fieldSpec = 'spec' in field ? field.spec : undefined;\n        let strict = fieldSpec == null ? void 0 : fieldSpec.strict;\n\n        if (fieldSpec == null ? void 0 : fieldSpec.strip) {\n          isChanged = isChanged || prop in value;\n          continue;\n        }\n\n        fieldValue = !options.__validating || !strict ? // TODO: use _cast, this is double resolving\n        field.cast(value[prop], innerOptions) : value[prop];\n\n        if (fieldValue !== undefined) {\n          intermediateValue[prop] = fieldValue;\n        }\n      } else if (exists && !strip) {\n        intermediateValue[prop] = value[prop];\n      }\n\n      if (intermediateValue[prop] !== value[prop]) {\n        isChanged = true;\n      }\n    }\n\n    return isChanged ? intermediateValue : value;\n  }\n\n  _validate(_value, opts = {}, callback) {\n    let errors = [];\n    let {\n      sync,\n      from = [],\n      originalValue = _value,\n      abortEarly = this.spec.abortEarly,\n      recursive = this.spec.recursive\n    } = opts;\n    from = [{\n      schema: this,\n      value: originalValue\n    }, ...from]; // this flag is needed for handling `strict` correctly in the context of\n    // validation vs just casting. e.g strict() on a field is only used when validating\n\n    opts.__validating = true;\n    opts.originalValue = originalValue;\n    opts.from = from;\n\n    super._validate(_value, opts, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || abortEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !isObject(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value;\n\n      let tests = this._nodes.map(key => (_, cb) => {\n        let path = key.indexOf('.') === -1 ? (opts.path ? `${opts.path}.` : '') + key : `${opts.path || ''}[\"${key}\"]`;\n        let field = this.fields[key];\n\n        if (field && 'validate' in field) {\n          field.validate(value[key], _extends({}, opts, {\n            // @ts-ignore\n            path,\n            from,\n            // inner fields are always strict:\n            // 1. this isn't strict so the casting will also have cast inner values\n            // 2. this is strict in which case the nested values weren't cast either\n            strict: true,\n            parent: value,\n            originalValue: originalValue[key]\n          }), cb);\n          return;\n        }\n\n        cb(null);\n      });\n\n      runTests({\n        sync,\n        tests,\n        value,\n        errors,\n        endEarly: abortEarly,\n        sort: this._sortErrors,\n        path: opts.path\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.fields = _extends({}, this.fields);\n    next._nodes = this._nodes;\n    next._excludedEdges = this._excludedEdges;\n    next._sortErrors = this._sortErrors;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    let nextFields = next.fields;\n\n    for (let [field, schemaOrRef] of Object.entries(this.fields)) {\n      const target = nextFields[field];\n\n      if (target === undefined) {\n        nextFields[field] = schemaOrRef;\n      } else if (target instanceof BaseSchema && schemaOrRef instanceof BaseSchema) {\n        nextFields[field] = schemaOrRef.concat(target);\n      }\n    }\n\n    return next.withMutation(() => next.shape(nextFields));\n  }\n\n  getDefaultFromShape() {\n    let dft = {};\n\n    this._nodes.forEach(key => {\n      const field = this.fields[key];\n      dft[key] = 'default' in field ? field.getDefault() : undefined;\n    });\n\n    return dft;\n  }\n\n  _getDefault() {\n    if ('default' in this.spec) {\n      return super._getDefault();\n    } // if there is no default set invent one\n\n\n    if (!this._nodes.length) {\n      return undefined;\n    }\n\n    return this.getDefaultFromShape();\n  }\n\n  shape(additions, excludes = []) {\n    let next = this.clone();\n    let fields = Object.assign(next.fields, additions);\n    next.fields = fields;\n    next._sortErrors = sortByKeyOrder(Object.keys(fields));\n\n    if (excludes.length) {\n      if (!Array.isArray(excludes[0])) excludes = [excludes];\n      let keys = excludes.map(([first, second]) => `${first}-${second}`);\n      next._excludedEdges = next._excludedEdges.concat(keys);\n    }\n\n    next._nodes = sortFields(fields, next._excludedEdges);\n    return next;\n  }\n\n  pick(keys) {\n    const picked = {};\n\n    for (const key of keys) {\n      if (this.fields[key]) picked[key] = this.fields[key];\n    }\n\n    return this.clone().withMutation(next => {\n      next.fields = {};\n      return next.shape(picked);\n    });\n  }\n\n  omit(keys) {\n    const next = this.clone();\n    const fields = next.fields;\n    next.fields = {};\n\n    for (const key of keys) {\n      delete fields[key];\n    }\n\n    return next.withMutation(() => next.shape(fields));\n  }\n\n  from(from, to, alias) {\n    let fromGetter = getter(from, true);\n    return this.transform(obj => {\n      if (obj == null) return obj;\n      let newObj = obj;\n\n      if (has(obj, from)) {\n        newObj = _extends({}, obj);\n        if (!alias) delete newObj[from];\n        newObj[to] = fromGetter(obj);\n      }\n\n      return newObj;\n    });\n  }\n\n  noUnknown(noAllow = true, message = locale.noUnknown) {\n    if (typeof noAllow === 'string') {\n      message = noAllow;\n      noAllow = true;\n    }\n\n    let next = this.test({\n      name: 'noUnknown',\n      exclusive: true,\n      message: message,\n\n      test(value) {\n        if (value == null) return true;\n        const unknownKeys = unknown(this.schema, value);\n        return !noAllow || unknownKeys.length === 0 || this.createError({\n          params: {\n            unknown: unknownKeys.join(', ')\n          }\n        });\n      }\n\n    });\n    next.spec.noUnknown = noAllow;\n    return next;\n  }\n\n  unknown(allow = true, message = locale.noUnknown) {\n    return this.noUnknown(!allow, message);\n  }\n\n  transformKeys(fn) {\n    return this.transform(obj => obj && mapKeys(obj, (_, key) => fn(key)));\n  }\n\n  camelCase() {\n    return this.transformKeys(camelCase);\n  }\n\n  snakeCase() {\n    return this.transformKeys(snakeCase);\n  }\n\n  constantCase() {\n    return this.transformKeys(key => snakeCase(key).toUpperCase());\n  }\n\n  describe() {\n    let base = super.describe();\n    base.fields = mapValues(this.fields, value => value.describe());\n    return base;\n  }\n\n}\nexport function create(spec) {\n  return new ObjectSchema(spec);\n}\ncreate.prototype = ObjectSchema.prototype;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport isAbsent from './util/isAbsent';\nimport isSchema from './util/isSchema';\nimport printValue from './util/printValue';\nimport { array as locale } from './locale';\nimport runTests from './util/runTests';\nimport ValidationError from './ValidationError';\nimport BaseSchema from './schema';\nexport function create(type) {\n  return new ArraySchema(type);\n}\nexport default class ArraySchema extends BaseSchema {\n  constructor(type) {\n    super({\n      type: 'array'\n    }); // `undefined` specifically means uninitialized, as opposed to\n    // \"no subtype\"\n\n    this.innerType = type;\n    this.withMutation(() => {\n      this.transform(function (values) {\n        if (typeof values === 'string') try {\n          values = JSON.parse(values);\n        } catch (err) {\n          values = null;\n        }\n        return this.isType(values) ? values : null;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return Array.isArray(v);\n  }\n\n  get _subType() {\n    return this.innerType;\n  }\n\n  _cast(_value, _opts) {\n    const value = super._cast(_value, _opts); //should ignore nulls here\n\n\n    if (!this._typeCheck(value) || !this.innerType) return value;\n    let isChanged = false;\n    const castArray = value.map((v, idx) => {\n      const castElement = this.innerType.cast(v, _extends({}, _opts, {\n        path: `${_opts.path || ''}[${idx}]`\n      }));\n\n      if (castElement !== v) {\n        isChanged = true;\n      }\n\n      return castElement;\n    });\n    return isChanged ? castArray : value;\n  }\n\n  _validate(_value, options = {}, callback) {\n    var _options$abortEarly, _options$recursive;\n\n    let errors = [];\n    let sync = options.sync;\n    let path = options.path;\n    let innerType = this.innerType;\n    let endEarly = (_options$abortEarly = options.abortEarly) != null ? _options$abortEarly : this.spec.abortEarly;\n    let recursive = (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive;\n    let originalValue = options.originalValue != null ? options.originalValue : _value;\n\n    super._validate(_value, options, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || endEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !innerType || !this._typeCheck(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value; // #950 Ensure that sparse array empty slots are validated\n\n      let tests = new Array(value.length);\n\n      for (let idx = 0; idx < value.length; idx++) {\n        let item = value[idx];\n        let path = `${options.path || ''}[${idx}]`; // object._validate note for isStrict explanation\n\n        let innerOptions = _extends({}, options, {\n          path,\n          strict: true,\n          parent: value,\n          index: idx,\n          originalValue: originalValue[idx]\n        });\n\n        tests[idx] = (_, cb) => innerType.validate(item, innerOptions, cb);\n      }\n\n      runTests({\n        sync,\n        path,\n        value,\n        errors,\n        endEarly,\n        tests\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.innerType = this.innerType;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    next.innerType = this.innerType;\n    if (schema.innerType) next.innerType = next.innerType ? // @ts-expect-error Lazy doesn't have concat()\n    next.innerType.concat(schema.innerType) : schema.innerType;\n    return next;\n  }\n\n  of(schema) {\n    // FIXME: this should return a new instance of array without the default to be\n    let next = this.clone();\n    if (!isSchema(schema)) throw new TypeError('`array.of()` sub-schema must be a valid yup schema not: ' + printValue(schema)); // FIXME(ts):\n\n    next.innerType = schema;\n    return next;\n  }\n\n  length(length, message = locale.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message) {\n    message = message || locale.min;\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      // FIXME(ts): Array<typeof T>\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message) {\n    message = message || locale.max;\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  ensure() {\n    return this.default(() => []).transform((val, original) => {\n      // We don't want to return `null` for nullable schema\n      if (this._typeCheck(val)) return val;\n      return original == null ? [] : [].concat(original);\n    });\n  }\n\n  compact(rejector) {\n    let reject = !rejector ? v => !!v : (v, i, a) => !rejector(v, i, a);\n    return this.transform(values => values != null ? values.filter(reject) : values);\n  }\n\n  describe() {\n    let base = super.describe();\n    if (this.innerType) base.innerType = this.innerType.describe();\n    return base;\n  }\n\n  nullable(isNullable = true) {\n    return super.nullable(isNullable);\n  }\n\n  defined() {\n    return super.defined();\n  }\n\n  required(msg) {\n    return super.required(msg);\n  }\n\n}\ncreate.prototype = ArraySchema.prototype; //\n// Interfaces\n//","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayReduce = require('./_arrayReduce'),\n    deburr = require('./deburr'),\n    words = require('./words');\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nmodule.exports = createCompounder;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","'use strict';\nvar types = [\n  require('./nextTick'),\n  require('./queueMicrotask'),\n  require('./mutation.js'),\n  require('./messageChannel'),\n  require('./stateChange'),\n  require('./timeout')\n];\nvar draining;\nvar currentQueue;\nvar queueIndex = -1;\nvar queue = [];\nvar scheduled = false;\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n  draining = false;\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n  if (queue.length) {\n    nextTick();\n  }\n}\n\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  if (draining) {\n    return;\n  }\n  scheduled = false;\n  draining = true;\n  var len = queue.length;\n  var timeout = setTimeout(cleanUpNextTick);\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n    while (currentQueue && ++queueIndex < len) {\n      currentQueue[queueIndex].run();\n    }\n    queueIndex = -1;\n    len = queue.length;\n  }\n  currentQueue = null;\n  queueIndex = -1;\n  draining = false;\n  clearTimeout(timeout);\n}\nvar scheduleDrain;\nvar i = -1;\nvar len = types.length;\nwhile (++i < len) {\n  if (types[i] && types[i].test && types[i].test()) {\n    scheduleDrain = types[i].install(nextTick);\n    break;\n  }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\nItem.prototype.run = function () {\n  var fun = this.fun;\n  var array = this.array;\n  switch (array.length) {\n  case 0:\n    return fun();\n  case 1:\n    return fun(array[0]);\n  case 2:\n    return fun(array[0], array[1]);\n  case 3:\n    return fun(array[0], array[1], array[2]);\n  default:\n    return fun.apply(null, array);\n  }\n\n};\nmodule.exports = immediate;\nfunction immediate(task) {\n  var args = new Array(arguments.length - 1);\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n  queue.push(new Item(task, args));\n  if (!scheduled && !draining) {\n    scheduled = true;\n    scheduleDrain();\n  }\n}\n","'use strict';\nexports.test = function () {\n  return typeof global.queueMicrotask === 'function';\n};\n\nexports.install = function (func) {\n  return function () {\n    global.queueMicrotask(func);\n  };\n};\n","'use strict';\n//based off rsvp https://github.com/tildeio/rsvp.js\n//license https://github.com/tildeio/rsvp.js/blob/master/LICENSE\n//https://github.com/tildeio/rsvp.js/blob/master/lib/rsvp/asap.js\n\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nexports.test = function () {\n  return Mutation;\n};\n\nexports.install = function (handle) {\n  var called = 0;\n  var observer = new Mutation(handle);\n  var element = global.document.createTextNode('');\n  observer.observe(element, {\n    characterData: true\n  });\n  return function () {\n    element.data = (called = ++called % 2);\n  };\n};","'use strict';\n\nexports.test = function () {\n  if (global.setImmediate) {\n    // we can only get here in IE10\n    // which doesn't handel postMessage well\n    return false;\n  }\n  return typeof global.MessageChannel !== 'undefined';\n};\n\nexports.install = function (func) {\n  var channel = new global.MessageChannel();\n  channel.port1.onmessage = func;\n  return function () {\n    channel.port2.postMessage(0);\n  };\n};","'use strict';\n\nexports.test = function () {\n  return 'document' in global && 'onreadystatechange' in global.document.createElement('script');\n};\n\nexports.install = function (handle) {\n  return function () {\n\n    // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n    // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n    var scriptEl = global.document.createElement('script');\n    scriptEl.onreadystatechange = function () {\n      handle();\n\n      scriptEl.onreadystatechange = null;\n      scriptEl.parentNode.removeChild(scriptEl);\n      scriptEl = null;\n    };\n    global.document.documentElement.appendChild(scriptEl);\n\n    return handle;\n  };\n};","'use strict';\nexports.test = function () {\n  return true;\n};\n\nexports.install = function (t) {\n  return function () {\n    setTimeout(t, 0);\n  };\n};","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","'use strict';\n\n/**\n * Stringify/parse functions that don't operate\n * recursively, so they avoid call stack exceeded\n * errors.\n */\nexports.stringify = function stringify(input) {\n  var queue = [];\n  queue.push({obj: input});\n\n  var res = '';\n  var next, obj, prefix, val, i, arrayPrefix, keys, k, key, value, objPrefix;\n  while ((next = queue.pop())) {\n    obj = next.obj;\n    prefix = next.prefix || '';\n    val = next.val || '';\n    res += prefix;\n    if (val) {\n      res += val;\n    } else if (typeof obj !== 'object') {\n      res += typeof obj === 'undefined' ? null : JSON.stringify(obj);\n    } else if (obj === null) {\n      res += 'null';\n    } else if (Array.isArray(obj)) {\n      queue.push({val: ']'});\n      for (i = obj.length - 1; i >= 0; i--) {\n        arrayPrefix = i === 0 ? '' : ',';\n        queue.push({obj: obj[i], prefix: arrayPrefix});\n      }\n      queue.push({val: '['});\n    } else { // object\n      keys = [];\n      for (k in obj) {\n        if (obj.hasOwnProperty(k)) {\n          keys.push(k);\n        }\n      }\n      queue.push({val: '}'});\n      for (i = keys.length - 1; i >= 0; i--) {\n        key = keys[i];\n        value = obj[key];\n        objPrefix = (i > 0 ? ',' : '');\n        objPrefix += JSON.stringify(key) + ':';\n        queue.push({obj: value, prefix: objPrefix});\n      }\n      queue.push({val: '{'});\n    }\n  }\n  return res;\n};\n\n// Convenience function for the parse function.\n// This pop function is basically copied from\n// pouchCollate.parseIndexableString\nfunction pop(obj, stack, metaStack) {\n  var lastMetaElement = metaStack[metaStack.length - 1];\n  if (obj === lastMetaElement.element) {\n    // popping a meta-element, e.g. an object whose value is another object\n    metaStack.pop();\n    lastMetaElement = metaStack[metaStack.length - 1];\n  }\n  var element = lastMetaElement.element;\n  var lastElementIndex = lastMetaElement.index;\n  if (Array.isArray(element)) {\n    element.push(obj);\n  } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n    var key = stack.pop();\n    element[key] = obj;\n  } else {\n    stack.push(obj); // obj with key only\n  }\n}\n\nexports.parse = function (str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n  var collationIndex,parsedNum,numChar;\n  var parsedString,lastCh,numConsecutiveSlashes,ch;\n  var arrayElement, objElement;\n  while (true) {\n    collationIndex = str[i++];\n    if (collationIndex === '}' ||\n        collationIndex === ']' ||\n        typeof collationIndex === 'undefined') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack.pop(), stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case ' ':\n      case '\\t':\n      case '\\n':\n      case ':':\n      case ',':\n        break;\n      case 'n':\n        i += 3; // 'ull'\n        pop(null, stack, metaStack);\n        break;\n      case 't':\n        i += 3; // 'rue'\n        pop(true, stack, metaStack);\n        break;\n      case 'f':\n        i += 4; // 'alse'\n        pop(false, stack, metaStack);\n        break;\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '-':\n        parsedNum = '';\n        i--;\n        while (true) {\n          numChar = str[i++];\n          if (/[\\d\\.\\-e\\+]/.test(numChar)) {\n            parsedNum += numChar;\n          } else {\n            i--;\n            break;\n          }\n        }\n        pop(parseFloat(parsedNum), stack, metaStack);\n        break;\n      case '\"':\n        parsedString = '';\n        lastCh = void 0;\n        numConsecutiveSlashes = 0;\n        while (true) {\n          ch = str[i++];\n          if (ch !== '\"' || (lastCh === '\\\\' &&\n              numConsecutiveSlashes % 2 === 1)) {\n            parsedString += ch;\n            lastCh = ch;\n            if (lastCh === '\\\\') {\n              numConsecutiveSlashes++;\n            } else {\n              numConsecutiveSlashes = 0;\n            }\n          } else {\n            break;\n          }\n        }\n        pop(JSON.parse('\"' + parsedString + '\"'), stack, metaStack);\n        break;\n      case '[':\n        arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '{':\n        objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      default:\n        throw new Error(\n          'unexpectedly reached end of input: ' + collationIndex);\n    }\n  }\n};\n","'use strict';\n\nmodule.exports = argsArray;\n\nfunction argsArray(fun) {\n  return function () {\n    var len = arguments.length;\n    if (len) {\n      var args = [];\n      var i = -1;\n      while (++i < len) {\n        args[i] = arguments[i];\n      }\n      return fun.call(this, args);\n    } else {\n      return fun.call(this, []);\n    }\n  };\n}","'use strict';\n\nmodule.exports = {\n  name: 'Open bioreactor',\n  kind: 'OpenBio',\n  description: '',\n  url: '',\n  id: '$',\n  numberParameters: 52,\n  numberLogParameters: 26,\n  parameters: [\n    {\n      label: 'A',\n      variable: 'liquidTemp',\n      name: 'T LIQ',\n      description: 'Temperature of the bioreactor solution',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      variable: 'pcbTemp',\n      name: 'T PCB',\n      description: 'Temperature of the bioreactor circuit',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      variable: 'pidTemp',\n      name: 'Pid',\n      description: 'PID absolute value',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      variable: 'targetTemp',\n      name: 'T target',\n      description: 'Target temperature',\n      factor: 100,\n      unit: 'C',\n      writable: true,\n    },\n\n    {\n      label: 'E',\n      variable: 'weight',\n      name: 'Weight',\n      description: 'Weight of the bioreactor tank, in internal value',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'F',\n      variable: 'grWeight',\n      name: 'Weight (g)',\n      description: 'Weight of the bioreactor tank, in gr if calibrated',\n      factor: 1,\n      unit: 'g',\n      writable: false,\n    },\n\n    {\n      label: 'G',\n      variable: 'waitSinceLast',\n      name: 'Time since last event',\n      description: 'Time in min since last weight event',\n      factor: 1,\n      unit: 'min',\n      writable: false,\n    },\n\n    {\n      label: 'H',\n      variable: 'minWeight',\n      name: 'Weight min',\n      description: 'Weight min in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'I',\n      variable: 'maxWeight',\n      name: 'Weight max',\n      description: 'Weight max in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'J',\n    },\n\n    {\n      label: 'K',\n    },\n\n    {\n      label: 'L',\n    },\n\n    {\n      label: 'M',\n    },\n\n    {\n      label: 'N',\n    },\n\n    {\n      label: 'O',\n    },\n\n    {\n      label: 'P',\n    },\n\n    {\n      label: 'Q',\n    },\n\n    {\n      label: 'R',\n    },\n\n    {\n      label: 'S',\n    },\n\n    {\n      label: 'T',\n    },\n\n    {\n      label: 'U',\n    },\n\n    {\n      label: 'V',\n    },\n\n    {\n      label: 'W',\n    },\n\n    {\n      label: 'X',\n    },\n\n    {\n      label: 'Y',\n      variable: 'error',\n      name: 'Error',\n      unit: '',\n      factor: 1,\n      description: `\n            bit 0: pcb probe, 1: liquid probe, 2: pcb temperature,\n            3: liquid temperature, 4: target temp. range, 5: weight range`,\n      writable: true,\n      flags: {\n        pcbProbe: {\n          bit: 0,\n          description: 'PCB temperature probe not responding',\n        },\n        liquidProbe: {\n          bit: 1,\n          description: 'Liquid temperature probe not responding',\n        },\n        pcbTemperature: {\n          bit: 2,\n          description: 'PCB temperature out of range',\n        },\n        liquidTemperature: {\n          bit: 3,\n          description: 'Liquid temperature out of range',\n        },\n        targetTemperature: {\n          bit: 4,\n          description: 'Target temperature out of range',\n        },\n        weight: {\n          bit: 5,\n          description: 'Weight out of range',\n        },\n      },\n    },\n\n    {\n      label: 'Z',\n      variable: 'status',\n      name: 'Status',\n      description: `Status of the Bioreactor, the bits of this integer code\n        for the state of specific elements of the reactor (eg. motor ON/OFF, PUMP ON/OFF etc.).\n        bits: 0: stepper, 1: weight, 2: pid, 7: sedimentation, 8: filling, 9: emptying\n        `,\n      factor: 1,\n      unit: '',\n      writable: true,\n      flags: {\n        stepper: {\n          bit: 0,\n          description: 'Stepper running',\n        },\n        food: {\n          bit: 1,\n          description: 'Food running',\n        },\n        pid: {\n          bit: 2,\n          description: 'PID running',\n        },\n        sedimentation: {\n          bit: 7,\n          description: 'Sedimentation running',\n        },\n        filling: {\n          bit: 8,\n          description: 'Filling tank',\n        },\n        emptying: {\n          bit: 9,\n          description: 'Emptying tank',\n        },\n      },\n    },\n\n    {\n      label: 'AA',\n      variable: 'stepperSpeed',\n      name: 'Stepper speed',\n      description: '',\n      factor: 1,\n      unit: 'RPM',\n      writable: true,\n    },\n\n    {\n      label: 'AB',\n      variable: 'stepperOnDelay',\n      name: 'Stepper on delay',\n      description: 'Time in (s) for which the stepper stays on',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'AC',\n      variable: 'stepperOffDelay',\n      name: 'Stepper off delay',\n      description: 'Time to wait in (s) before between stirring periods',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'AD',\n    },\n\n    {\n      label: 'AE',\n    },\n\n    {\n      label: 'AF',\n      variable: 'sedTime',\n      name: 'Sedimentation Time',\n      description:\n        'Sedimentation time in min after Semi-batch operation,' +\n        'corresponds to the waiting time without stirring before emptying the reactor to the minimum level',\n      min: 0,\n      max: 32767,\n      factor: 1,\n      unit: 'min',\n      writable: true,\n    },\n\n    {\n      label: 'AG',\n      variable: 'filledTime',\n      name: 'Filled Time',\n      description:\n        'Filled time in min after Semi-batch operation,' +\n        'corresponds to the total time with and without stirring before emptying the reactor to the minimum level' +\n        'must be set longer than the sedimentation time if stirring is desired',\n      min: 0,\n      max: 32767,\n      factor: 1,\n      unit: 'min',\n      writable: true,\n    },\n\n    {\n      label: 'AH',\n      variable: 'weightFactor',\n      name: 'Weight factor',\n      description: 'Factor allowing to convert the internal weight value to g',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AI',\n      variable: 'weightOffset',\n      name: 'Weight offset',\n      description: '',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AJ',\n    },\n\n    {\n      label: 'AK',\n    },\n\n    {\n      label: 'AL',\n    },\n\n    {\n      label: 'AM',\n    },\n\n    {\n      label: 'AN',\n    },\n\n    {\n      label: 'AO',\n    },\n\n    {\n      label: 'AP',\n    },\n\n    {\n      label: 'AQ',\n    },\n\n    {\n      label: 'AR',\n    },\n\n    {\n      label: 'AS',\n    },\n\n    {\n      label: 'AT',\n    },\n\n    {\n      label: 'AU',\n    },\n\n    {\n      label: 'AV',\n    },\n\n    {\n      label: 'AW',\n    },\n\n    {\n      label: 'AX',\n    },\n\n    {\n      label: 'AY',\n    },\n\n    {\n      label: 'AZ',\n      variable: 'enable',\n      name: 'Enable',\n      description: 'pid - food - stepper : ex. 1: only stepper',\n      factor: 1,\n      unit: '',\n      writable: true,\n      flags: {\n        stepper: {\n          bit: 0,\n          description: 'Stepper control',\n        },\n        food: {\n          bit: 1,\n          description: 'Food control',\n        },\n        pid: {\n          bit: 2,\n          description: 'PID control',\n        },\n      },\n    },\n  ],\n  events: [\n    {\n      id: 1,\n      name: 'Arduino boot',\n      description: '',\n    },\n    {\n      id: 2,\n      name: 'Set safe mode',\n      description: '',\n    },\n    {\n      id: 3,\n      name: 'Status enable',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'stepper',\n        1: 'food',\n        2: 'pid',\n        7: 'sedimentation',\n        8: 'filling',\n        9: 'emptying',\n      },\n    },\n    {\n      id: 4,\n      name: 'Status disable',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'stepper',\n        1: 'food',\n        2: 'pid',\n        7: 'sedimentation',\n        8: 'filling',\n        9: 'emptying',\n      },\n    },\n    {\n      id: 6,\n      name: 'Error: failed',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'pcb temperature probe',\n        1: 'liquid temperature probe',\n        2: 'pcb temperature range',\n        3: 'liquid temperature range',\n        4: 'target temperature range',\n        5: 'weight range',\n      },\n    },\n    {\n      id: 7,\n      name: 'Error: recover',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'pcb temperature probe',\n        1: 'liquid temperature probe',\n        2: 'pcb temperature range',\n        3: 'liquid temperature range',\n        4: 'target temperature range',\n        5: 'weight range',\n      },\n    },\n    {\n      id: 20,\n      name: 'Rotation start',\n      description: '',\n    },\n    {\n      id: 21,\n      name: 'Rotation stop',\n      description: '',\n    },\n    {\n      id: 150,\n      name: 'Not found log entry N',\n      description: '',\n    },\n    {\n      id: 255,\n      name: 'Save all parameters',\n      description: '',\n    },\n    {\n      id: 256,\n      name: 'Change value of A',\n      description: '',\n    },\n    {\n      id: 257,\n      name: 'Change value of B',\n      description: '',\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Open bioreactor v6',\n  kind: 'OpenBio6',\n  description: '',\n  url: '',\n  id: '6',\n  numberParameters: 68,\n  numberLogParameters: 26,\n  parameters: [\n    {\n      label: 'A',\n      variable: 'externalTemperature1',\n      name: 'T EXT 1',\n      description: 'External temperature 1',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      variable: 'externalTemperature2',\n      name: 'T EXT 2',\n      description: 'External temperature 2',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      variable: 'pcbTemp',\n      name: 'T PCB',\n      description: 'Temperature of the bioreactor circuit',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      variable: 'pidTemp',\n      name: 'Pid',\n      description: 'PID absolute value',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'E',\n      variable: 'targetTemp',\n      name: 'T target',\n      description: 'Target temperature',\n      factor: 100,\n      unit: 'C',\n      writable: true,\n    },\n\n    {\n      label: 'F',\n      variable: 'weight',\n      name: 'Weight',\n      description: 'Weight of the bioreactor tank, in internal value',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'G',\n      variable: 'grWeight',\n      name: 'Weight (g)',\n      description: 'Weight of the bioreactor tank, in gr if calibrated',\n      factor: 1,\n      unit: 'g',\n      writable: false,\n    },\n\n    {\n      label: 'H',\n      variable: 'minWeight',\n      name: 'Weight min',\n      description: 'Weight min in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'I',\n      variable: 'maxWeight',\n      name: 'Weight max',\n      description: 'Weight max in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'J',\n    },\n\n    {\n      label: 'K',\n    },\n\n    {\n      label: 'L',\n    },\n\n    {\n      label: 'M',\n    },\n\n    {\n      label: 'N',\n    },\n\n    {\n      label: 'O',\n    },\n\n    {\n      label: 'P',\n    },\n\n    {\n      label: 'Q',\n    },\n\n    {\n      label: 'R',\n    },\n\n    {\n      label: 'S',\n    },\n\n    {\n      label: 'T',\n    },\n\n    {\n      label: 'U',\n    },\n\n    {\n      label: 'V',\n    },\n\n    {\n      label: 'W',\n      variable: 'currentStep',\n      name: 'Current step',\n      description: 'Current step in the pipeline',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'X',\n      variable: 'currentWaitTime',\n      name: 'Current wait time',\n      description: 'Current step wait time',\n      factor: 1,\n      unit: 'min',\n      writable: false,\n    },\n\n    {\n      label: 'Y',\n      variable: 'error',\n      name: 'Error',\n      unit: '',\n      factor: 1,\n      description: `\n            bit 0: pcb probe, 1: liquid probe, 2: pcb temperature,\n            3: liquid temperature, 4: target temp. range, 5: weight range`,\n      writable: true,\n      flags: {\n        0: 'PCB temperature probe error',\n        1: 'External temperature 1 probe error',\n        2: 'External temperature 2 probe error',\n        3: 'PCB temperature out of range',\n        4: 'External temperature 1 out of range',\n        5: 'External temperature 2 out of range',\n        6: 'Target temperature out of range',\n        7: 'Weight out of range',\n      },\n    },\n\n    {\n      label: 'Z',\n      variable: 'status',\n      name: 'Status',\n      description: `Status of the Bioreactor, the bits of this integer code\n        for the state of specific elements of the reactor (eg. motor ON/OFF, PUMP ON/OFF etc.).\n        bits: 0: stepper, 1: weight, 2: pid, 7: sedimentation, 8: filling, 9: emptying\n        `,\n      factor: 1,\n      unit: '',\n      writable: true,\n      flags: {\n        0: 'pid',\n        1: 'stepper',\n        2: 'output 1',\n        3: 'output 2',\n        4: 'output 3',\n        5: 'output 4',\n      },\n    },\n\n    {\n      label: 'AA',\n      variable: 'stepperSpeed',\n      name: 'Stepper speed',\n      description: '',\n      factor: 1,\n      unit: 'RPM',\n      writable: true,\n    },\n\n    {\n      label: 'AB',\n      variable: 'stepperSteps',\n      name: 'Stepper steps',\n      description:\n        'Number of step before changing direction. 1 tour = 200 steps',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'AC',\n      variable: 'stepperOffDelay',\n      name: 'Stepper off delay',\n      description: 'Time to wait in (s) before between stirring periods',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'AD',\n      variable: 'weightFactor',\n      name: 'Weight factor',\n      description: 'Factor allowing to convert the internal weight value to g',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AE',\n      variable: 'weightOffset',\n      name: 'Weight offset',\n      description: '',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AF',\n    },\n\n    {\n      label: 'AG',\n    },\n\n    {\n      label: 'AH',\n    },\n\n    {\n      label: 'AI',\n    },\n\n    {\n      label: 'AJ',\n    },\n\n    {\n      label: 'AK',\n    },\n\n    {\n      label: 'AL',\n    },\n\n    {\n      label: 'AM',\n    },\n\n    {\n      label: 'AN',\n    },\n\n    {\n      label: 'AO',\n    },\n\n    {\n      label: 'AP',\n    },\n\n    {\n      label: 'AQ',\n    },\n\n    {\n      label: 'AR',\n    },\n\n    {\n      label: 'AS',\n    },\n\n    {\n      label: 'AT',\n    },\n\n    {\n      label: 'AU',\n    },\n\n    {\n      label: 'AV',\n    },\n\n    {\n      label: 'AW',\n    },\n\n    {\n      label: 'AX',\n    },\n\n    {\n      label: 'AY',\n    },\n\n    {\n      label: 'AZ',\n      variable: 'enable',\n      name: 'Enable',\n      description: 'pid - food - stepper : ex. 1: only stepper',\n      factor: 1,\n      unit: '',\n      writable: true,\n      flags: {\n        0: 'pid',\n        1: 'stepper',\n        2: 'output 1',\n        3: 'output 2',\n        4: 'output 3',\n        5: 'output 4',\n      },\n    },\n\n    {\n      label: 'BA',\n      variable: 'step01',\n      name: 'Step 1',\n      description: 'Step 1',\n    },\n\n    {\n      label: 'BB',\n      variable: 'step02',\n      name: 'Step 2',\n      description: 'Step 2',\n    },\n\n    {\n      label: 'BC',\n      variable: 'step03',\n      name: 'Step 3',\n      description: 'Step 3',\n    },\n\n    {\n      label: 'BD',\n      variable: 'step04',\n      name: 'Step 4',\n      description: 'Step 4',\n    },\n\n    {\n      label: 'BE',\n      variable: 'step05',\n      name: 'Step 5',\n      description: 'Step 5',\n    },\n\n    {\n      label: 'BF',\n      variable: 'step06',\n      name: 'Step 6',\n      description: 'Step 6',\n    },\n\n    {\n      label: 'BG',\n      variable: 'step07',\n      name: 'Step 7',\n      description: 'Step 7',\n    },\n\n    {\n      label: 'Bh',\n      variable: 'step08',\n      name: 'Step 8',\n      description: 'Step 8',\n    },\n\n    {\n      label: 'BI',\n      variable: 'step09',\n      name: 'Step 9',\n      description: 'Step 9',\n    },\n\n    {\n      label: 'BJ',\n      variable: 'step10',\n      name: 'Step 10',\n      description: 'Step 10',\n    },\n\n    {\n      label: 'BK',\n      variable: 'step11',\n      name: 'Step 11',\n      description: 'Step 11',\n    },\n\n    {\n      label: 'BL',\n      variable: 'step12',\n      name: 'Step 12',\n      description: 'Step 12',\n    },\n\n    {\n      label: 'BM',\n      variable: 'step13',\n      name: 'Step 13',\n      description: 'Step 13',\n    },\n\n    {\n      label: 'BN',\n      variable: 'step14',\n      name: 'Step 14',\n      description: 'Step 14',\n    },\n\n    {\n      label: 'BO',\n      variable: 'step15',\n      name: 'Step 15',\n      description: 'Step 15',\n    },\n\n    {\n      label: 'BP',\n      variable: 'step16',\n      name: 'Step 16',\n      description: 'Step 16',\n    },\n  ],\n  events: [\n    {\n      id: 1,\n      name: 'Arduino boot',\n      description: '',\n    },\n    {\n      id: 2,\n      name: 'Set safe mode',\n      description: '',\n    },\n    {\n      id: 3,\n      name: 'Status enable',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'stepper',\n        1: 'food',\n        2: 'pid',\n        7: 'sedimentation',\n        8: 'filling',\n        9: 'emptying',\n      },\n    },\n    {\n      id: 4,\n      name: 'Status disable',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'stepper',\n        1: 'food',\n        2: 'pid',\n        7: 'sedimentation',\n        8: 'filling',\n        9: 'emptying',\n      },\n    },\n    {\n      id: 6,\n      name: 'Error: failed',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'pcb temperature probe',\n        1: 'liquid temperature probe',\n        2: 'pcb temperature range',\n        3: 'liquid temperature range',\n        4: 'target temperature range',\n        5: 'weight range',\n      },\n    },\n    {\n      id: 7,\n      name: 'Error: recover',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'pcb temperature probe',\n        1: 'liquid temperature probe',\n        2: 'pcb temperature range',\n        3: 'liquid temperature range',\n        4: 'target temperature range',\n        5: 'weight range',\n      },\n    },\n    {\n      id: 20,\n      name: 'Rotation start',\n      description: '',\n    },\n    {\n      id: 21,\n      name: 'Rotation stop',\n      description: '',\n    },\n    {\n      id: 150,\n      name: 'Not found log entry N',\n      description: '',\n    },\n    {\n      id: 255,\n      name: 'Save all parameters',\n      description: '',\n    },\n    {\n      id: 256,\n      name: 'Change value of A',\n      description: '',\n    },\n    {\n      id: 257,\n      name: 'Change value of B',\n      description: '',\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Open spectrophotometer',\n  kind: 'OpenSpectro',\n  numberParameters: 26,\n  id: 'S',\n  description: '',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      name: 'Red point',\n      description: 'which point of the linear detector is the maximum for red',\n      factor: 1,\n      unit: 'pixel#',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      name: 'Green point',\n      description:\n        'which point of the linear detector is the maximum for green',\n      factor: 1,\n      unit: 'pixel#',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      name: 'Blue point',\n      description: 'which point of the linear detector is the maximum for blue',\n      factor: 1,\n      unit: 'pixel#',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      name: 'Compression',\n      description: '0 means no compression, can be set',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n    {\n      label: 'E',\n      name: 'R-Intensity',\n      description: 'Red led intensity (0 to 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'F',\n      name: 'G-Intensity',\n      description: 'Green led intensity (0 to 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'G',\n      name: 'B-Intensity',\n      description: 'Blue led intensity (0 to 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'H',\n      name: 'Scan#',\n      description: 'Number of scans (maximum 64)',\n      factor: 1,\n      unit: '',\n      min: 1,\n      max: 64,\n      writable: true,\n    },\n\n    {\n      label: 'I',\n      name: 'DelayExp',\n      description: 'Delay between experiments in seconds',\n      factor: 1,\n      unit: 's',\n      writable: false,\n    },\n\n    {\n      label: 'J',\n      name: 'Acq Time',\n      description: 'Accumulation time in ms(in ms, good value=30)',\n      factor: 1,\n      unit: 'ms',\n      writable: true,\n    },\n\n    {\n      label: 'K',\n      name: 'lambda-R',\n      description: 'Red maximum wavelength (nm)',\n      factor: 1,\n      unit: 'nm',\n      writable: false,\n    },\n\n    {\n      label: 'L',\n      name: 'lambda-G',\n      description: 'Green maximum wavelength (nm)',\n      factor: 1,\n      unit: 'nm',\n      writable: false,\n    },\n\n    {\n      label: 'M',\n      name: 'lambda-M',\n      description: 'Blue maximum wavelength (nm)',\n      factor: 1,\n      unit: 'nm',\n      writable: false,\n    },\n\n    {\n      label: 'U',\n      name: 'red test',\n      description: 'Set intensity of red led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'V',\n      name: 'green test',\n      description: 'Set intensity of green led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'W',\n      name: 'blue test',\n      description: 'Set intensity of blue led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'X',\n      name: 'white test',\n      description: 'Set intensity of white led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'Y',\n    },\n    {\n      label: 'Z',\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Simple spectrophotometer',\n  kind: 'SimpleSpectro',\n  numberParameters: 26,\n  description: '',\n  id: 'T',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      name: 'Transmission of sample (Red)',\n      description: 'Frequency related to the energy of red led through sample',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      name: 'Transmission of sample (Green)',\n      description:\n        'Frequency related to the energy of green led through sample',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      name: 'Transmission of sample (Blue)',\n      description: 'Frequency related to the energy of blue led through sample',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      name: 'Emission of sample (Blue)',\n      description:\n        'Frequency related to the energy of blue perpendicular led re-emitted by sample (fluorescence)',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'F',\n      name: 'Transmission of blank (Red)',\n      description: 'Frequency related to the energy of red led through blank',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'G',\n      name: 'Transmission of blank (Green)',\n      description: 'Frequency related to the energy of green led through blank',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'H',\n      name: 'Transmission of blank (Blue)',\n      description: 'Frequency related to the energy of blue led through blank',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'I',\n      name: 'Emission of blank (Blue)',\n      description:\n        'Frequency related to the energy of blue perpendicular led re-emitted by blank (fluorescence)',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'K',\n      name: 'Delay before blank',\n      description: 'Delay before the acquisition of the blank in seconds',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'L',\n      name: 'Delay before sample',\n      description: 'Delay before the acquisition of the sample in seconds',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'M',\n      name: 'Delay between experiments',\n      description:\n        'Delay between the acquisition of the experiments (kinetic) in seconds',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'N',\n      name: 'Nb experiments',\n      description:\n        'Number of experiments for kinetic (max 240 / (number colors + 1))',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'O',\n      name: 'Next exp. number',\n      description: 'Number of the next experiment',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'P',\n      name: 'Waiting time',\n      description: 'Current waiting time before next experiment',\n      factor: 1,\n      unit: 's',\n      writable: false,\n    },\n\n    {\n      label: 'Q',\n      name: 'Nb sampling',\n      description:\n        'Number of acquisitions of 100ms that will be taken (default 10). This value could be reduced for fast kinetic',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'R',\n      name: 'Invert rotary',\n      description: ' Invert the rotary button direction',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'S',\n      name: 'Battery voltage',\n      description: 'Current battery voltage',\n      factor: 100,\n      unit: 'V',\n      writable: true,\n    },\n\n    {\n      label: 'T',\n      name: 'Temperature',\n      description: 'Current temperature',\n      factor: 100,\n      unit: 'C',\n      writable: true,\n    },\n\n    {\n      label: 'V',\n      name: 'Active channels',\n      description:\n        'Active leds and other. A number between 0 and 63. Each bit represents a function (Red, Green, Blue, UV, Voltage, Temperature). 5 would correspond to Red and Blue (binary combination).',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'W',\n      name: 'Error',\n      description: 'Error',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'X',\n      name: 'Result channel',\n      description: 'Value of the channel that will be displayed in the result',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'Y',\n      name: 'Status',\n      description: 'Status',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'Z',\n      name: 'Current menu',\n      description: 'Current menu',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Solar decathlon 2015',\n  kind: 'Solar',\n  numberParameters: 4,\n  numberLogParameters: 4,\n  id: '#',\n  description: '',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      name: 'Temperature',\n      description: '',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      name: 'Light',\n      description: '',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      name: 'Pressure',\n      description: '',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      name: 'Humidity',\n      description: '',\n      factor: 10,\n      unit: '%',\n      writable: false,\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Bee Monistoring System',\n  kind: 'Beemos',\n  numberParameters: 32,\n  numberLogParameters: 26,\n  id: 'B',\n  description: 'Bee Monistoring System data result',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      variable: 'externalTemperature',\n      name: 'Ext temperature',\n      description: 'External temperature',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      variable: 'externalHumidity',\n      name: 'Ext humidity',\n      description: 'External humidity',\n      factor: 100,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      variable: 'luminosity',\n      name: 'Luminosity',\n      description: 'Luminosity (Arbitrary unit)',\n      factor: 10.24,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      variable: 'pressure',\n      name: 'Pressure',\n      description: 'Press',\n      factor: 10,\n      unit: 'mbar',\n      writable: false,\n    },\n\n    {\n      label: 'E',\n      variable: 'internalTemperature',\n      name: 'Int temperature',\n      description: 'Internal temperature',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'F',\n      variable: 'internalHumidity',\n      name: 'Int humidity',\n      description: 'Internal humidity',\n      factor: 100,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'G',\n      variable: 'internalTemperatureA',\n      name: 'Int temperature A',\n      description: 'Internal temperature A',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n    {\n      label: 'H',\n      variable: 'internalTemperatureB',\n      name: 'Int temperature B',\n      description: 'Internal temperature B',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'I',\n      variable: 'weight',\n      name: 'Weight',\n      description: 'Weight',\n      factor: 100,\n      unit: 'kg',\n      writable: false,\n    },\n\n    {\n      label: 'J',\n      variable: 'battery',\n      name: 'Battery',\n      description: 'Battery voltage',\n      factor: 1000,\n      unit: 'V',\n      writable: false,\n    },\n\n    {\n      label: 'K',\n      variable: 'gate1In',\n      name: 'Gate 1 IN',\n      description: 'Number of input on gate 1',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'L',\n      variable: 'gate1Out',\n      name: 'Gate 1 OUT',\n      description: 'Number of output on gate 1',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'M',\n      variable: 'gate2In',\n      name: 'Gate 2 IN',\n      description: 'Number of input on gate 2',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'N',\n      variable: 'gate2Out',\n      name: 'Gate 2 OUT',\n      description: 'Number of output on gate 2',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'O',\n      variable: 'gate3In',\n      name: 'Gate 3 IN',\n      description: 'Number of input on gate 3',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'P',\n      variable: 'gate3Out',\n      name: 'Gate 3 OUT',\n      description: 'Number of output on gate 3',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'Q',\n      variable: 'gate4In',\n      name: 'Gate 4 IN',\n      description: 'Number of input on gate 4',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'R',\n      variable: 'gate4Out',\n      name: 'Gate 4 OUT',\n      description: 'Number of output on gate 4',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'S',\n      variable: 'gate5In',\n      name: 'Gate 5 IN',\n      description: 'Number of input on gate 5',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'T',\n      variable: 'gate5Out',\n      name: 'Gate 5 OUT',\n      description: 'Number of output on gate 5',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'U',\n      variable: 'gate6In',\n      name: 'Gate 6 IN',\n      description: 'Number of input on gate 6',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'V',\n      variable: 'gate6Out',\n      name: 'Gate 6 OUT',\n      description: 'Number of output on gate 6',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'W',\n      variable: 'gate7In',\n      name: 'Gate 7 IN',\n      description: 'Number of input on gate 7',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'X',\n      variable: 'gate7Out',\n      name: 'Gate 7 OUT',\n      description: 'Number of output on gate 7',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'Y',\n      variable: 'gate8In',\n      name: 'Gate 8 IN',\n      description: 'Number of input on gate 8',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'Z',\n      variable: 'gate8Out',\n      name: 'Gate 8 OUT',\n      description: 'Number of output on gate 8',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AA',\n      variable: 'weightInternalUnit',\n      name: 'Weight internal unit',\n      description: 'Weight in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AB',\n      variable: 'weightOffset',\n      name: 'Weight offset',\n      description: 'Offset to convert weight from internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AC',\n      variable: 'weightFactor',\n      name: 'Weight factor',\n      description: 'Factor to convert the weight from internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AD',\n      variable: 'charging',\n      name: 'Charging',\n      description: 'Indication showing if the battery is charging',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AE',\n      variable: 'loggingInterval',\n      name: 'Logging interval',\n      description: 'Interval in seconds between logs',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Computer monitoring',\n  kind: 'Computer',\n  numberParameters: 16,\n  numberLogParameters: 16,\n  description: '',\n  id: 'C',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      variable: 'cpuTemperature',\n      name: 'CPU Temperature',\n      description: '',\n      factor: 1,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      variable: 'memFree',\n      name: 'Free memory',\n      description: 'Free memory in percent',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      variable: 'swapFree',\n      name: 'Free swap',\n      description: 'Free swap in percent',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      variable: 'fsRead',\n      name: 'FS Read',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false,\n    },\n\n    {\n      label: 'E',\n      variable: 'fsWrite',\n      name: 'FS Write',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false,\n    },\n\n    {\n      label: 'F',\n      variable: 'networkRead',\n      name: 'Network Read',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false,\n    },\n\n    {\n      label: 'G',\n      variable: 'networkWrite',\n      name: 'Network Write',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false,\n    },\n\n    {\n      label: 'H',\n      variable: 'load',\n      name: 'Load',\n      description: 'Total load',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'I',\n      variable: 'userLoad',\n      name: 'User load',\n      description: 'Load from user',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'J',\n      variable: 'systemLoad',\n      name: 'System load',\n      description: 'Load from system',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'K',\n      variable: 'niceLoad',\n      name: 'Nice load',\n      description: 'Load for Nice',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'L',\n      variable: 'idleLoad',\n      name: 'Idle load',\n      description: 'Idle percent of time',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'M',\n      variable: 'irqLoad',\n      name: 'IRQ load',\n      description: 'Load due to IRQ',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'N',\n      variable: 'fsMinimalUse',\n      name: 'FS minimal use',\n      description: 'Minimal percent spaced used in a filesystem',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n    {\n      label: 'O',\n      variable: 'fsMaximalUse',\n      name: 'FS maximal use',\n      description: 'Maximal percent spaced used in a filesystem',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n    {\n      label: 'P',\n    },\n  ],\n};\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nmodule.exports = snakeCase;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","var deburrLetter = require('./_deburrLetter'),\n    toString = require('./toString');\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('dj vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nmodule.exports = deburr;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nmodule.exports = deburrLetter;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n","var asciiWords = require('./_asciiWords'),\n    hasUnicodeWord = require('./_hasUnicodeWord'),\n    toString = require('./toString'),\n    unicodeWords = require('./_unicodeWords');\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nmodule.exports = words;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nmodule.exports = asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nmodule.exports = hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nmodule.exports = unicodeWords;\n","var capitalize = require('./capitalize'),\n    createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\nmodule.exports = camelCase;\n","var toString = require('./toString'),\n    upperFirst = require('./upperFirst');\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\nmodule.exports = capitalize;\n","var createCaseFirst = require('./_createCaseFirst');\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nmodule.exports = upperFirst;\n","var castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nmodule.exports = createCaseFirst;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * The opposite of `_.mapValues`; this method creates an object with the\n * same values as `object` and keys generated by running each own enumerable\n * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n * with three arguments: (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapValues\n * @example\n *\n * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n *   return key + value;\n * });\n * // => { 'a1': 1, 'b2': 2 }\n */\nfunction mapKeys(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, iteratee(value, key, object), value);\n  });\n  return result;\n}\n\nmodule.exports = mapKeys;\n","\n/**\n * Topological sorting function\n *\n * @param {Array} edges\n * @returns {Array}\n */\n\nmodule.exports = function(edges) {\n  return toposort(uniqueNodes(edges), edges)\n}\n\nmodule.exports.array = toposort\n\nfunction toposort(nodes, edges) {\n  var cursor = nodes.length\n    , sorted = new Array(cursor)\n    , visited = {}\n    , i = cursor\n    // Better data structures make algorithm much faster.\n    , outgoingEdges = makeOutgoingEdges(edges)\n    , nodesHash = makeNodesHash(nodes)\n\n  // check for unknown nodes\n  edges.forEach(function(edge) {\n    if (!nodesHash.has(edge[0]) || !nodesHash.has(edge[1])) {\n      throw new Error('Unknown node. There is an unknown node in the supplied edges.')\n    }\n  })\n\n  while (i--) {\n    if (!visited[i]) visit(nodes[i], i, new Set())\n  }\n\n  return sorted\n\n  function visit(node, i, predecessors) {\n    if(predecessors.has(node)) {\n      var nodeRep\n      try {\n        nodeRep = \", node was:\" + JSON.stringify(node)\n      } catch(e) {\n        nodeRep = \"\"\n      }\n      throw new Error('Cyclic dependency' + nodeRep)\n    }\n\n    if (!nodesHash.has(node)) {\n      throw new Error('Found unknown node. Make sure to provided all involved nodes. Unknown node: '+JSON.stringify(node))\n    }\n\n    if (visited[i]) return;\n    visited[i] = true\n\n    var outgoing = outgoingEdges.get(node) || new Set()\n    outgoing = Array.from(outgoing)\n\n    if (i = outgoing.length) {\n      predecessors.add(node)\n      do {\n        var child = outgoing[--i]\n        visit(child, nodesHash.get(child), predecessors)\n      } while (i)\n      predecessors.delete(node)\n    }\n\n    sorted[--cursor] = node\n  }\n}\n\nfunction uniqueNodes(arr){\n  var res = new Set()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    res.add(edge[0])\n    res.add(edge[1])\n  }\n  return Array.from(res)\n}\n\nfunction makeOutgoingEdges(arr){\n  var edges = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    if (!edges.has(edge[0])) edges.set(edge[0], new Set())\n    if (!edges.has(edge[1])) edges.set(edge[1], new Set())\n    edges.get(edge[0]).add(edge[1])\n  }\n  return edges\n}\n\nfunction makeNodesHash(arr){\n  var res = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    res.set(arr[i], i)\n  }\n  return res\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  return (bth[buf[i + 0]] + bth[buf[i + 1]] + bth[buf[i + 2]] + bth[buf[i + 3]] + '-' + bth[buf[i + 4]] + bth[buf[i + 5]] + '-' + bth[buf[i + 6]] + bth[buf[i + 7]] + '-' + bth[buf[i + 8]] + bth[buf[i + 9]] + '-' + bth[buf[i + 10]] + bth[buf[i + 11]] + bth[buf[i + 12]] + bth[buf[i + 13]] + bth[buf[i + 14]] + bth[buf[i + 15]]).toLowerCase();\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  if (typeof options === 'string') {\n    buf = options === 'binary' ? new Uint8Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    var start = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[start + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return bytesToUuid(rnds);\n}\n\nexport default v4;"],"sourceRoot":""}