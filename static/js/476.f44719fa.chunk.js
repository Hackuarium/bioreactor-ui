(self.webpackChunkbioreactor_ui=self.webpackChunkbioreactor_ui||[]).push([[476],{6499:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(8182),i=n(5749),a=n(184);function o(){var e=(0,i.JI$)(),t=function(t,n,i){var o=i.textColor,s=i.Icon,c=i.timeout;e.addNotification({title:(0,a.jsx)("span",{className:(0,r.Z)("text-base font-semibold",o+"500"),children:t}),content:(0,a.jsx)("span",{className:"text-sm text-neutral-500",children:n}),icon:(0,a.jsx)(s,{className:(0,r.Z)("w-8 h-8",o+"600")})},c)};return{addErrorNotification:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;t(e,n,{textColor:"text-danger-",Icon:i.mhZ,timeout:r})},addWarningNotification:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2500;t(e,n,{textColor:"text-warning-",Icon:i.mhZ,timeout:r})},addInfoNotification:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;t(e,n,{textColor:"text-primary-",Icon:i.aY4,timeout:r})}}}},9762:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ve}});var r,i=n(4925),a=n(1413),o=n(4165),s=n(5861),c=n(3433),l=n(9439),u=n(2791),d=n(2154),f=n(7689),x=n(8441),m=n(5963),v=n(184),h=function(e){var t,n=e.data;return(0,v.jsxs)("div",{className:"flex flex-col",children:[(null===n||void 0===n?void 0:n.epoch)&&(0,v.jsxs)("p",{className:"mx-2 my-2 text-base font-medium text-black self-end",children:["Awake time:",(0,v.jsx)("span",{className:"mx-1 text-sm text-neutral-500",children:(0,m.E)(null===n||void 0===n?void 0:n.epoch)})]}),(0,v.jsx)("div",{className:" flex flex-row justify-around flex-wrap",children:null===n||void 0===n||null===(t=n.parametersArray)||void 0===t?void 0:t.map((function(e,t){return(0,v.jsx)(x.g4,{title:e.name||e.label,value:e.value*(e.factor||1),unit:e.unit,info:e.description,className:"w-full sm:w-1/2  md:w-1/4 lg:w-1/5 flex"},t)}))})]})},p=n(5749),j=n(8808),w=function(e){var t=e.device,n=e.refreshInterval,r=(0,u.useState)([]),i=(0,l.Z)(r,2),o=i[0],s=i[1],d=(0,u.useState)([]),f=(0,l.Z)(d,2),x=f[0],m=f[1];(0,u.useEffect)((function(){null!==t&&void 0!==t&&t._id&&(0,j.w3)(null===t||void 0===t?void 0:t._id).then((function(e){h(e),m(e)}))}),[null===t||void 0===t?void 0:t._id]),(0,u.useEffect)((function(){if(null!==t&&void 0!==t&&t._id&&null!==t&&void 0!==t&&t.connected){var e=setInterval((function(){return(0,j.w3)(null===t||void 0===t?void 0:t._id).then((function(e){h(e),m(e)}))}),n);return function(){return clearInterval(e)}}}),[null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.connected,n]);var h=function(e){if(0===o.length&&e&&e.length>0){var t,n=null===(t=e[0].parametersArray)||void 0===t?void 0:t.map((function(e){return e.name||e.label}));s(["Time"].concat((0,c.Z)(n)))}},w=(0,u.useCallback)((function(e){var t,n="text-xs text-center p-2",r=new Date(e.value.epoch).toLocaleTimeString();return(0,v.jsxs)("tr",{children:[(0,v.jsx)(p.Td,{compact:!0,className:n+" font-medium",children:r}),null===(t=e.value.parametersArray)||void 0===t?void 0:t.map((function(e,t){return(0,v.jsx)(p.Td,{compact:!0,className:n,children:e.value},t)}))]})}),[]),g=(0,u.useCallback)((function(){return(0,v.jsx)("tr",{children:null===o||void 0===o?void 0:o.map((function(e){return(0,v.jsx)(p.Th,{className:"p-2 text-center font-normal normal-case",compact:!0,children:e},e)}))})}),[o]),y=(0,p.x6s)(x,{itemsPerPage:10,withText:!0}),L=y.pagination,Z=y.data;return(0,v.jsxs)("div",{className:"w-full",children:[(0,v.jsx)("div",{className:"w-full p-2 flex flex-row justify-end",children:(0,v.jsx)(p.zxk,{size:"small",variant:"white",onClick:function(){(0,j.h1)(null===t||void 0===t?void 0:t._id).then((function(){return m([])}))},children:"Clear"})}),(0,v.jsx)("div",{className:"w-full p-1 pb-4 overflow-x-auto",children:(0,v.jsx)(p.iA_,{pagination:L,data:Z.map((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{id:e.epoch+t})})),Header:g,Tr:w})})]})},g=n(6499),y=n(8433),L=n(7104),Z=[1,2,5,10,30,60,120,300].map((function(e){return{label:e>59?"".concat(e/60," m"):"".concat(e," s"),value:1e3*e,type:"option"}})),k=function(e){var t=e.device,n=e.refreshInterval,r=e.setRefreshInterval,i=e.data,c=e.refreshData,d=(0,u.useState)([]),f=(0,l.Z)(d,2),m=f[0],h=f[1],j=(0,u.useState)({label:n/1e3+" s",value:n,type:"option"}),w=(0,l.Z)(j,2),k=w[0],F=w[1],b=(0,g.Z)(),N=b.addInfoNotification,_=b.addErrorNotification;(0,u.useEffect)((function(){var e=null===i||void 0===i?void 0:i.parameters,t=e&&Object.keys(e).filter((function(t){return e[t].writable})).map((function(t){return(0,a.Z)((0,a.Z)({},e[t]),{},{key:t})}));h(t)}),[i]);var S=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(n,r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(n+" is set to: "+r),e.next=4,(0,y.xf)(t.id,L.PH.setParameter(n,r));case 4:c(),N("saved","",1e3),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),_(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.xf)(t.id,L.PH.reset);case 3:n=e.sent,N(n),c(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),_(e.t0.message);case 11:document.activeElement.blur();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.xf)(t.id,L.PH.sleep);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),_(e.t0.message);case 8:document.activeElement.blur();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"w-full flex flex-col ",children:[(0,v.jsxs)("div",{className:"mt-2 flex flex-col sm:flex-row justify-between",children:[(0,v.jsxs)("div",{className:"my-1 mx-2 flex flex-row items-center justify-end",children:[(0,v.jsx)("p",{className:"mx-1 text-sm font-medium text-neutral-700",children:"Refresh interval :"}),(0,v.jsx)(p.Ltx,{title:k.label,options:[Z],onSelect:function(e){F(e),r(e.value),document.activeElement.blur()}})]}),(0,v.jsxs)("div",{className:"my-1 flex flex-row justify-end",children:[(0,v.jsx)(p.zxk,{className:"mx-2",variant:"white",onClick:M,children:"Sleep"}),(0,v.jsx)(p.zxk,{className:"mx-2 ",variant:"white",onClick:C,children:"Reset Device"})]})]}),(null===m||void 0===m?void 0:m.length)>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x._B,{title:"Edit parameters"}),(0,v.jsx)("div",{className:"flex flex-row justify-start flex-wrap",children:m.map((function(e,t){return(0,v.jsx)(x._1,{id:e.key,title:e.name||e.label,initialValue:e.value*e.factor,placeholder:e.name,unit:e.unit,info:e.description,onSave:S,className:"w-full sm:w-1/2  md:w-1/4 lg:w-1/5 flex"},t)}))})]})]})},F=["title","titleId"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _(e,t){var n=e.title,i=e.titleId,a=N(e,F);return u.createElement("svg",b({viewBox:"0 0 20 20",ref:t,"aria-labelledby":i},a),n?u.createElement("title",{id:i},n):null,r||(r=u.createElement("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})))}var S=u.forwardRef(_),C=(n.p,function(e){var t=e.device,n=(0,u.useState)(),r=(0,l.Z)(n,2),i=r[0],a=r[1],c=(0,u.useState)(""),d=(0,l.Z)(c,2),f=d[0],x=d[1],m=(0,u.useState)(""),h=(0,l.Z)(m,2),j=h[0],w=h[1],Z=(0,g.Z)().addErrorNotification;(0,u.useEffect)((function(){a(null===t||void 0===t?void 0:t.id),k()}),[null===t||void 0===t?void 0:t.id]);var k=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t||!t.id||null===t||void 0===t||!t.connected){e.next=6;break}return x(L.PH.help),e.next=4,(0,y.xf)(null===t||void 0===t?void 0:t.id,L.PH.help);case 4:n=e.sent,w(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=11;break}return e.prev=1,e.next=4,(0,y.xf)(i,f);case 4:n=e.sent,w(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),"Error"===e.t0.name?Z(e.t0.name,null!==t&&void 0!==t&&t.connected?e.t0.message:"".concat(null===t||void 0===t?void 0:t.name," is disconnected")):Z("Error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(L.PH.help),e.next=4,(0,y.xf)(i,L.PH.help);case 4:n=e.sent,w(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z(e.t0.name,null!==t&&void 0!==t&&t.connected?e.t0.message:"".concat(null===t||void 0===t?void 0:t.name," is disconnected"));case 11:setTimeout((function(){return document.activeElement.blur()}),100);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(L.PH.settings),e.next=4,(0,y.xf)(i,L.PH.settings);case 4:n=e.sent,w(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z(e.t0.name,null!==t&&void 0!==t&&t.connected?e.t0.message:"".concat(null===t||void 0===t?void 0:t.name," is disconnected"));case 11:setTimeout((function(){return document.activeElement.blur()}),100);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now()/1e3,e.prev=1,e.next=4,(0,y.xf)(i,"ue".concat(n));case 4:r=e.sent,w(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Z(e.t0.name,null!==t&&void 0!==t&&t.connected?e.t0.message:"".concat(null===t||void 0===t?void 0:t.name," is disconnected"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsx)("div",{className:"w-full   ",children:(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsxs)("div",{className:"w-full my-1 md:max-w-md flex flex-row",children:[(0,v.jsx)("input",{className:"w-full py-1 px-2 border rounded-md text-base",placeholder:"h (for help)",style:{fontFamily:"monospace"},value:f,onChange:function(e){return x(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&F()}}),(0,v.jsx)(p.zxk,{className:"mx-2 md:mr-0",variant:"primary",size:"small",onClick:F,children:"Send"}),(0,v.jsx)("div",{className:"flex ml-4 self-center md:hidden",children:(0,v.jsx)(p.Ltx,{options:[[{label:"Help",type:"option"},{label:"Settings",type:"option"}]],onSelect:function(e){return"Help"===e.label?b():"Settings"===e.label?N():null},children:(0,v.jsx)(S,{className:"w-5 h-5",fill:"currentColor"})})})]}),(0,v.jsxs)("div",{className:"w-full mt-2 flex flex-col md:flex-row md:max-w-2xl",children:[(0,v.jsx)("div",{className:"w-full h-96 md:mr-2 flex md:flex-1 border rounded-md overflow-auto overflow-x-auto",children:(0,v.jsx)("textarea",{className:"w-full text-sm font-semibold text-success-400 bg-neutral-900",style:{fontFamily:"monospace"},value:j,onChange:function(e){return console.log(e.target.value)},disabled:!0})}),(0,v.jsxs)("div",{className:"hidden flex-col md:flex",children:[(0,v.jsx)(p.zxk,{className:"m-1",variant:"white",size:"xSmall",onClick:b,children:"Help"}),(0,v.jsx)(p.zxk,{className:"m-1",variant:"white",size:"xSmall",onClick:N,children:"Settings"}),(0,v.jsx)(p.zxk,{className:"m-1",variant:"white",size:"xSmall",onClick:_,children:"Set Time"})]})]})]})})}),M=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"243.8896",y1:"270.6035",x2:"243.0107",y2:"378.7963",children:[(0,v.jsx)("stop",{offset:"0",stopColor:"#F6FFD5"}),(0,v.jsx)("stop",{offset:"1",stopColor:"#EEFFAA"})]}),(0,v.jsx)("rect",{id:"liquid-rect",x:"154.703",y:"216",fill:"url(#SVGID_1_)",stroke:"#ABC837",strokeWidth:"0.6246",width:"177.829",height:"176"})]})},E=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("path",{id:"rect2993",fill:"#666666",d:"M414.936,492.945c41.408,0,39.158,2.305,39.158-39.623 V303.877c0-20.08-14.933-36.679-34.301-39.278v-7.609c0-1.912-1.547-3.443-3.459-3.443h-23.91c-1.912,0-3.443,1.531-3.443,3.443 v7.263H372.77v-7.263c0-1.912-1.545-3.443-3.457-3.443h-23.911c-1.912,0-3.443,1.531-3.443,3.443v7.263h-16.481v-7.263 c0-1.912-1.546-3.443-3.459-3.443h-23.91l0,0c-1.913,0-3.444,1.531-3.444,3.444v7.654c-19.239,2.712-34.03,19.244-34.03,39.233 v149.445c0,43.427-1.791,39.624,39.158,39.624 M300.243,272.088H414.47c17.688,0,31.812,14.106,31.812,31.79v149.445 c0,32.427,0.062,31.788-31.812,31.788H300.243c-33.399,0-31.79,0.639-31.79-31.788V303.877 C268.454,286.194,282.56,272.088,300.243,272.088z"})})},A=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"1257.3906",y1:"1867.5029",x2:"1255.8201",y2:"1623.9031",gradientTransform:"matrix(-1 0 0 1 1613.7266 -1413.5605)",children:[(0,v.jsx)("stop",{offset:"0",stopColor:"#000000"}),(0,v.jsx)("stop",{offset:"1",stopColor:"#CCCCCC"})]}),(0,v.jsx)("path",{fill:"url(#SVGID_2_)",d:"M349.644,203.187c0-2.2,1.8-4,4-4h7c2.191,0,4,1.8,4,4v250.411c0,2.2-1.809,4-4,4h-7 c-2.2,0-4-1.8-4-4V203.187z"}),(0,v.jsx)("path",{fill:"none",stroke:"#000000",strokeWidth:"0.7399",d:"M349.644,203.187c0-2.2,1.8-4,4-4h7c2.191,0,4,1.8,4,4v250.411 c0,2.2-1.809,4-4,4h-7c-2.2,0-4-1.8-4-4V203.187z"}),(0,v.jsx)("path",{fill:"none",stroke:"#000000",strokeWidth:"0.7399",d:"M349.644,203.187c0-2.2,1.8-4,4-4h7c2.191,0,4,1.8,4,4v250.411 c0,2.2-1.809,4-4,4h-7c-2.2,0-4-1.8-4-4V203.187z"})]})},z=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("g",{id:"water-in",children:[(0,v.jsx)("path",{id:"rect3884",fill:"#FFFFFF",stroke:"#000000",strokeWidth:"2",d:" M303.436,289.078v-46.14 M318.248,242.938v46.14"}),(0,v.jsxs)("linearGradient",{id:"path4327_1_",gradientUnits:"userSpaceOnUse",x1:"2411.3896",y1:"1988.3486",x2:"2409.6218",y2:"1932.5325",gradientTransform:"matrix(1 0 0 1 -2100.5 -1682.625)",children:[(0,v.jsx)("stop",{offset:"0",stopColor:"#F6FFD5"}),(0,v.jsx)("stop",{offset:"1",stopColor:"#EEFFAA"})]}),(0,v.jsx)("path",{id:"path4327",fill:"url(#path4327_1_)",d:" M304.446,244.083v44.927l-2,15.229h16.792l-2-15.229v-44.927H304.446L304.446,244.083z"}),(0,v.jsxs)("linearGradient",{id:"path4343_2_",gradientUnits:"userSpaceOnUse",x1:"3555.3623",y1:"-283.3486",x2:"3555.5591",y2:"-324.696",gradientTransform:"matrix(0 1 -1 0 -50.9658 -3334.9141)",children:[(0,v.jsx)("stop",{offset:"0",stopColor:"#F6FFD5"}),(0,v.jsx)("stop",{offset:"1",stopColor:"#EEFFAA"})]}),(0,v.jsx)("path",{id:"rect3903",fill:"#FFFFFF",stroke:"#000000",strokeWidth:"2",d:" M202.738,213.208h82.121v14.812h-82.121"}),(0,v.jsx)("path",{id:"path4343",fill:"url(#path4343_2_)",d:"M279.514,214.094 h-76.927v12.792h76.927V214.094z"}),(0,v.jsx)("path",{id:"path4585",fill:"#F6FFD5",d:" M185.938,237.127c-0.029-11.019,0.03-22.038,0-33.057c9.558,5.483,19.071,11.044,28.628,16.528 C205.039,226.134,195.466,231.592,185.938,237.127z"})]})})},P=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("path",{id:"path3907",fill:"#FFFFFF",stroke:"#000000",strokeWidth:"2",d:"M261.15,220.615c0,10.321-8.367,18.688-18.688,18.688 c-10.321,0-18.688-8.367-18.688-18.688c0-10.321,8.367-18.688,18.688-18.688C252.784,201.927,261.15,210.293,261.15,220.615 L261.15,220.615z"}),(0,v.jsx)("path",{id:"path3909",stroke:"#000000",strokeWidth:"0.3537",d:" M246.369,228.257c-0.014-5.095,0.014-10.19,0-15.285c4.419,2.536,8.818,5.107,13.237,7.643 C255.2,223.174,250.774,225.698,246.369,228.257z"})]})},I=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("linearGradient",{id:"path3886_2_",gradientUnits:"userSpaceOnUse",x1:"2399.043",y1:"1891.9541",x2:"2401.821",y2:"1928.3204",gradientTransform:"matrix(1 0 0 1 -2100.5 -1682.625)",children:[(0,v.jsx)("stop",{offset:"0",stopColor:"#BFBFBF"}),(0,v.jsx)("stop",{offset:"1",stopColor:"#969696"})]}),(0,v.jsx)("path",{id:"path3886",fill:"url(#path3886_2_)",stroke:"#000000",strokeWidth:"2",d:" M280.507,210.752v20.031h6.906v-2.812c8.022,0.897,14.429,6.811,16,14.594h-2.688v6.938h20.031v-6.938h-3.812 c-1.791-15.095-14.221-27.049-29.531-28.062v-3.75L280.507,210.752L280.507,210.752z"})]})},O=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("linearGradient",{id:"path3886_3_",gradientUnits:"userSpaceOnUse",x1:"519.5215",y1:"804.8301",x2:"522.299",y2:"841.1896",gradientTransform:"matrix(-4.371139e-08 -1 1 -4.371139e-08 -411.4961 751.7339)",children:[(0,v.jsx)("stop",{offset:"0",stopColor:"#BFBFBF"}),(0,v.jsx)("stop",{offset:"1",stopColor:"#969696"})]}),(0,v.jsx)("path",{id:"path3886_1_",fill:"url(#path3886_3_)",stroke:"#000000",strokeWidth:"2",d:" M394.713,250.252h20.031v-6.906h-2.812c0.897-8.021,6.812-14.429,14.603-16v2.688h6.938v-20.031h-6.938v3.812 c-15.104,1.791-27.058,14.221-28.062,29.531h-3.75L394.713,250.252L394.713,250.252z"})]})},T=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("g",{id:"water-out",children:[(0,v.jsx)("path",{id:"rect3903_1_",fill:"#FFFFFF",stroke:"#000000",strokeWidth:"2",d:" M515.584,227.267h-82.121v-14.812h82.121"}),(0,v.jsx)("path",{id:"rect3884_1_",fill:"#FFFFFF",stroke:"#000000",strokeWidth:"2",d:" M396.936,297.23v-46.14 M411.748,251.091v46.14"}),(0,v.jsxs)("linearGradient",{id:"path4339_3_",gradientUnits:"userSpaceOnUse",x1:"2504.7246",y1:"1975.2373",x2:"2504.9209",y2:"1933.8898",gradientTransform:"matrix(1 0 0 1 -2100.5 -1676.4053)",children:[(0,v.jsx)("stop",{offset:"0",stopColor:"#F6FFD5"}),(0,v.jsx)("stop",{offset:"1",stopColor:"#EEFFAA"})]}),(0,v.jsx)("path",{id:"path4339_1_",fill:"url(#path4339_3_)",d:" M397.945,251.697v44.927h12.793v-44.927L397.945,251.697L397.945,251.697z"}),(0,v.jsxs)("linearGradient",{id:"path4343_3_",gradientUnits:"userSpaceOnUse",x1:"487.3291",y1:"427.875",x2:"487.5364",y2:"384.2344",gradientTransform:"matrix(0 -1 1 0 56.2695 707.3574)",children:[(0,v.jsx)("stop",{offset:"0",stopColor:"#F6FFD5"}),(0,v.jsx)("stop",{offset:"1",stopColor:"#EEFFAA"})]}),(0,v.jsx)("path",{id:"path4343_1_",fill:"url(#path4343_3_)",d:" M434.388,226.381h81.196v-12.792h-81.196V226.381z"}),(0,v.jsx)("path",{id:"path4585_1_",fill:"#F6FFD5",d:" M532.384,203.348c0.029,11.019-0.03,22.038,0,33.057c-9.558-5.483-19.071-11.044-28.628-16.528 C513.283,214.341,522.855,208.883,532.384,203.348z"})]})})},D=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("path",{id:"path3907_1_",fill:"#FFFFFF",stroke:"#000000",strokeWidth:"2",d:"M457.172,219.86c0-10.321,8.367-18.688,18.688-18.688 c10.312,0,18.688,8.367,18.688,18.688c0,10.321-8.366,18.688-18.688,18.688C465.538,238.548,457.172,230.182,457.172,219.86 L457.172,219.86z"}),(0,v.jsx)("path",{id:"path3909_1_",stroke:"#000000",strokeWidth:"0.3537",d:" M480.182,227.505c-0.015-5.095,0.021-10.19,0-15.285c4.418,2.536,8.817,5.107,13.236,7.643 C489.013,222.421,484.586,224.945,480.182,227.505z"})]})},B=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("path",{id:"heat-plate",fill:"#8e2929",d:"M250.831,492.945c11.564,0,203.615,0,213.078,0c0,0,0,8.256,0,16.971 c0,0-209.222,0-213.078,0"})})},G=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("rect",{x:"328.927",y:"171.083",fill:"#FFFFFF",stroke:"#000000",strokeWidth:"2",width:"58",height:"37.333"}),(0,v.jsxs)("g",{children:[(0,v.jsx)("circle",{fill:"#FFFFFF",stroke:"#000000",strokeWidth:"2",cx:"357.927",cy:"189.75",r:"14.5"}),(0,v.jsx)("text",{transform:"matrix(1 0 0 1 350.4951 195.75)",fontFamily:"'Helvetica'",fontSize:"18.2205",children:"M"})]})]})},R=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("line",{fill:"none",stroke:"#000000",x1:"304.445",y1:"501.432",x2:"290.259",y2:"521.083"}),(0,v.jsx)("text",{id:"plate-temperature",transform:"matrix(1 0 0 1 271.0498 546.709)",fontFamily:"'MyriadPro-Regular'",fontSize:"25.9254",children:"40.2 \xbaC"})]})},W=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("text",{id:"liquid-temperature",transform:"matrix(1 0 0 1 370.9053 356.0557)",fontFamily:"'MyriadPro-Regular'",fontSize:"21.9227",children:"37.1 \xbaC"})})},H=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("text",{id:"stir-motor-status",transform:"matrix(1 0 0 1 341.7319 162.0557)",fontFamily:"'MyriadPro-Regular'",fontSize:"21.9227",fill:"green",children:"ON"})})},V=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("text",{id:"pump-out-status",transform:"matrix(1 0 0 1 461.3916 195.75)",fontFamily:"'MyriadPro-Regular'",fontSize:"21.9227",fill:"red",children:"OFF"})})},q=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("text",{id:"pump-in-status",transform:"matrix(1 0 0 1 228.7559 195.75)",fontFamily:"'MyriadPro-Regular'",fontSize:"21.9227",fill:"red",children:"OFF"})})},U=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("text",{id:"liquid-weight",transform:"matrix(1 0 0 1 168.7559 401.0176)",fontFamily:"'MyriadPro-Regular'",fontSize:"21.9227",children:"300 g"})})},J=function(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("text",{id:"liquid-ph",transform:"matrix(1 0 0 1 276.3828 384.6904)",fontFamily:"'MyriadPro-Regular'",fontSize:"20.3837",children:"pH: 7.1"})})},$=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("g",{id:"Layer_2"}),(0,v.jsx)("polyline",{fill:"#FFFFFF",stroke:"#000000",strokeMiterlimit:"10",points:"139.235,215.938 127.301,215.938 127.301,392.299  139.235,392.299 "})]})},K=function(e){var t=e.move,n=void 0!==t&&t,r=(0,u.useState)(!1),i=(0,l.Z)(r,2),a=i[0],o=i[1],s=(0,u.useState)("inline"),c=(0,l.Z)(s,2),d=c[0],f=c[1];(0,u.useEffect)((function(){o(n),f(n?"none":"inline")}),[n]);var x=[(0,v.jsx)("path",{id:"spatula-left",d:"M237,341h-32l-4,2v14l4,2l19-4l13-2V341z\t",style:{display:"".concat(d)}}),(0,v.jsx)("path",{style:{display:"inline"},id:"animated-spatula-left",d:"M 241.311 341 L 229.02 341 L 227.484 343 L 227.484 357 L 229.02 359 L 236.318 355 L 241.311 353 Z",children:(0,v.jsx)("animate",{fill:"remove",accumulate:"none",repeatCount:"indefinite",calcMode:"linear",to:"M 237,341, L 205,341, L 201,343, L 201,357, L 205,359, L 224,355, L 237,353 Z",restart:"always",dur:"1s",values:"M 237,341, L 205,341, L 201,343, L 201,357, L 205,359, L 224,355, L 237,353 Z;M 238.33688103937536,341, L 212.44833721937704,341, L 209.21226924187727,343, L 209.21226924187727,357, L 212.44833721937704,359, L 227.81966011250105,355, L 238.33688103937536,353 Z;M 241.83688103937536,341, L 231.94833721937704,341, L 230.71226924187727,343, L 230.71226924187727,357, L 231.94833721937704,359, L 237.81966011250105,355, L 241.83688103937536,353 Z;M 246.16311896062464,341, L 256.05166278062296,341, L 257.28773075812273,343, L 257.28773075812273,357, L 256.05166278062296,359, L 250.18033988749895,355, L 246.16311896062464,353 Z;M 249.66311896062464,341, L 275.55166278062296,341, L 278.78773075812273,343, L 278.78773075812273,357, L 275.55166278062296,359, L 260.1803398874989,355, L 249.66311896062464,353 Z;M 251,341, L 283,341, L 287,343, L 287,357, L 283,359, L 264,355, L 251,353 Z;M 249.66311896062464,341, L 275.55166278062296,341, L 278.78773075812273,343, L 278.78773075812273,357, L 275.55166278062296,359, L 260.180339887499,355, L 249.66311896062464,353 Z;M 246.16311896062464,341, L 256.05166278062296,341, L 257.28773075812273,343, L 257.28773075812273,357, L 256.05166278062296,359, L 250.18033988749895,355, L 246.16311896062464,353 Z;M 241.83688103937536,341, L 231.94833721937707,341, L 230.71226924187727,343, L 230.71226924187727,357, L 231.94833721937707,359, L 237.81966011250105,355, L 241.83688103937536,353 Z;M 238.33688103937536,341, L 212.44833721937704,341, L 209.21226924187727,343, L 209.21226924187727,357, L 212.44833721937704,359, L 227.81966011250105,355, L 238.33688103937536,353 Z;M 237,341, L 205,341, L 201,343, L 201,357, L 205,359, L 224,355, L 237,353 Z",additive:"replace",attributeName:"d",begin:"0s",from:"M 237,341, L 205,341, L 201,343, L 201,357, L 205,359, L 224,355, L 237,353 Z"})})];return(0,v.jsx)(v.Fragment,{children:a?x[1]:x[0]})},X=function(e){var t=e.move,n=void 0!==t&&t,r=(0,u.useState)(!1),i=(0,l.Z)(r,2),a=i[0],o=i[1],s=(0,u.useState)("inline"),c=(0,l.Z)(s,2),d=c[0],f=c[1];(0,u.useEffect)((function(){o(n),f(n?"none":"inline")}),[n]);var x=[(0,v.jsx)("path",{id:"spatula-right",d:"M251,341h32l4,2v14l-4,2l-19-4l-13-2V341z\t",style:{display:"".concat(d)}}),(0,v.jsx)("path",{id:"animated-spatula-right",style:{display:"inline"},d:"M 246.689 341 L 258.98 341 L 260.516 343 L 260.516 357 L 258.98 359 L 251.682 355 L 246.689 353 Z",children:(0,v.jsx)("animate",{fill:"remove",accumulate:"none",repeatCount:"indefinite",calcMode:"linear",to:"M 251,341, L 283,341, L 287,343, L 287,357, L 283,359, L 264,355, L 251,353 Z",restart:"always",dur:"1s",values:"M 251,341, L 283,341, L 287,343, L 287,357, L 283,359, L 264,355, L 251,353 Z;M 249.66311896062464,341, L 275.55166278062296,341, L 278.78773075812273,343, L 278.78773075812273,357, L 275.55166278062296,359, L 260.180339887499,355, L 249.66311896062464,353 Z;M 246.16311896062464,341, L 256.05166278062296,341, L 257.28773075812273,343, L 257.28773075812273,357, L 256.05166278062296,359, L 250.18033988749895,355, L 246.16311896062464,353 Z;M 241.83688103937536,341, L 231.94833721937707,341, L 230.71226924187727,343, L 230.71226924187727,357, L 231.94833721937707,359, L 237.81966011250105,355, L 241.83688103937536,353 Z;M 238.33688103937536,341, L 212.44833721937704,341, L 209.21226924187727,343, L 209.21226924187727,357, L 212.44833721937704,359, L 227.81966011250105,355, L 238.33688103937536,353 Z;M 237,341, L 205,341, L 201,343, L 201,357, L 205,359, L 224,355, L 237,353 Z;M 238.33688103937536,341, L 212.44833721937704,341, L 209.21226924187727,343, L 209.21226924187727,357, L 212.44833721937704,359, L 227.81966011250105,355, L 238.33688103937536,353 Z;M 241.83688103937536,341, L 231.94833721937704,341, L 230.71226924187727,343, L 230.71226924187727,357, L 231.94833721937704,359, L 237.81966011250105,355, L 241.83688103937536,353 Z;M 246.16311896062464,341, L 256.05166278062296,341, L 257.28773075812273,343, L 257.28773075812273,357, L 256.05166278062296,359, L 250.18033988749895,355, L 246.16311896062464,353 Z;M 249.66311896062464,341, L 275.55166278062296,341, L 278.78773075812273,343, L 278.78773075812273,357, L 275.55166278062296,359, L 260.1803398874989,355, L 249.66311896062464,353 Z;M 251,341, L 283,341, L 287,343, L 287,357, L 283,359, L 264,355, L 251,353 Z",additive:"replace",attributeName:"d",begin:"0s",from:"M 251,341, L 283,341, L 287,343, L 287,357, L 283,359, L 264,355, L 251,353 Z"})})];return(0,v.jsx)(v.Fragment,{children:a?x[1]:x[0]})},Q=function(){return(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"bioreactor",viewBox:"0 0 512 512",children:[(0,v.jsx)(M,{}),(0,v.jsxs)("g",{id:"svg2",children:[(0,v.jsxs)("g",{id:"layer1",transform:"translate(-113.75,-92.8125)",children:[(0,v.jsx)(E,{}),(0,v.jsxs)("g",{id:"stepper",children:[(0,v.jsx)(A,{}),(0,v.jsx)(G,{}),(0,v.jsx)(H,{})]}),(0,v.jsxs)("g",{id:"pump-in",children:[(0,v.jsx)(z,{}),(0,v.jsx)(P,{}),(0,v.jsx)(I,{}),(0,v.jsx)(q,{})]}),(0,v.jsxs)("g",{id:"pump-out",children:[(0,v.jsx)(O,{}),(0,v.jsx)(T,{}),(0,v.jsx)(D,{}),(0,v.jsx)(V,{})]}),(0,v.jsxs)("g",{id:"heating",children:[(0,v.jsx)(B,{}),(0,v.jsx)(R,{}),(0,v.jsx)(W,{})]}),(0,v.jsx)("g",{id:"weight",children:(0,v.jsx)(U,{})}),(0,v.jsx)("g",{id:"ph",children:(0,v.jsx)(J,{})})]}),(0,v.jsx)(K,{move:!0}),(0,v.jsx)(X,{move:!0})]}),(0,v.jsx)($,{})]})},Y=function(e){var t,n=e.data,r=(0,u.useState)(""),i=(0,l.Z)(r,2),a=i[0],o=i[1],s=(0,u.useState)(0),c=(0,l.Z)(s,2),d=c[0],f=c[1],h=null===(t=n.parametersArray)||void 0===t?void 0:t.find((function(e){return"Error"===e.name}));return(0,u.useEffect)((function(){var e;try{a&&o((function(t){var n=Number(h.value);f(n>0||n<0?-1:0),e=setTimeout((function(){f(0)}),5e3)}))}catch(t){console.log(t)}return o(h.value),function(){return e&&clearTimeout(e)}}),[null===n||void 0===n?void 0:n.epoch]),(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"ml-auto",children:(null===n||void 0===n?void 0:n.epoch)&&(0,v.jsxs)("p",{className:"mx-2 my-2 text-base font-medium text-black self-end",children:["Awake time:",(0,v.jsx)("span",{className:"mx-1 text-sm text-neutral-500",children:(0,m.E)(null===n||void 0===n?void 0:n.epoch)})]})}),(0,v.jsx)("div",{className:"flex flex-row flex-wrap",children:(0,v.jsxs)("div",{className:"flex flex-col flex-auto",children:[(0,v.jsxs)("div",{className:"flex flex-row justify-around flex-wrap m-2 p-2 rounded-md bg-blue-gray-100 shadow-md",style:{transform:"scale(1)"},children:[(0,v.jsx)("div",{className:"flex flex-row justify-around flex-auto",style:{transform:"scale(1)"},children:(0,v.jsx)(Q,{})}),(0,v.jsx)("div",{className:"flex flex-row justify-around flex-wrap",children:(0,v.jsx)(x.Lm,{})})]}),(0,v.jsx)("div",{className:"flex flex-row justify-around flex-auto",children:(0,v.jsx)(x._J,{color:d})}),(0,v.jsx)("div",{className:"flex flex-row justify-around flex-wrap content-start",children:(0,v.jsx)(x.sx,{})})]})})]})},ee=(0,u.memo)(Y),te=n(8286),ne=function(e){var t=e.device,n=e.refreshInterval,r=(0,u.useState)([]),i=(0,l.Z)(r,2),a=i[0],o=i[1],s=(0,u.useState)([]),d=(0,l.Z)(s,2),f=d[0],x=d[1];(0,u.useEffect)((function(){null!==t&&void 0!==t&&t._id&&(0,j.w3)(null===t||void 0===t?void 0:t._id).then((function(e){m(e),x(e)}))}),[null===t||void 0===t?void 0:t._id]),(0,u.useEffect)((function(){if(null!==t&&void 0!==t&&t._id&&null!==t&&void 0!==t&&t.connected){var e=setInterval((function(){return(0,j.w3)(null===t||void 0===t?void 0:t._id).then((function(e){m(e),x(e)}))}),n);return function(){return clearInterval(e)}}}),[null===t||void 0===t?void 0:t._id,null===t||void 0===t?void 0:t.connected,n]);var m=function(e){if(0===a.length&&e&&e.length>0){var t,n=null===(t=e[0].parametersArray)||void 0===t?void 0:t.map((function(e){return e.name||e.label}));o(["Time"].concat((0,c.Z)(n)))}},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map((function(e){return e.parametersArray[t].value}))},p=function(e){return e.map((function(e){return new Date(e.epoch).toLocaleTimeString()}))};return(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsxs)("div",{className:"flex flex-row",children:[(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsx)(te.Z,{data:[{x:p(f).reverse(),y:h(f,6).reverse(),type:"scatter",mode:"lines+markers",marker:{color:"red"}}],layout:{title:{text:"Plot Weight"},xaxis:{title:{text:"Time"},nticks:10,tickangle:-45},yaxis:{title:{text:"Weight [gr]"}}}})}),(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsx)(te.Z,{data:[{x:p(f).reverse(),y:h(f,2).reverse(),type:"scatter",mode:"lines+markers",marker:{color:"red"}}],layout:{title:{text:"Plot Temperature PCB"},xaxis:{title:{text:"Time",constraintoward:"left"},nticks:10,tickangle:-45},yaxis:{title:{text:"Temp [\xb0C]"}}}})})]}),(0,v.jsxs)("div",{className:"flex flex-row",children:[(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsx)(te.Z,{data:[{x:p(f).reverse(),y:h(f).reverse(),type:"scatter",mode:"lines+markers",marker:{color:"red"}}],layout:{title:{text:"Plot Temperature A"},xaxis:{title:{text:"Time"},nticks:10,tickangle:-45},yaxis:{title:{text:"Temp [\xb0C]"}}}})}),(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsx)(te.Z,{data:[{x:p(f).reverse(),y:h(f,1).reverse(),type:"scatter",mode:"lines+markers",marker:{color:"red"}}],layout:{title:{text:"Plot Temperature B"},xaxis:{title:{text:"Time"},nticks:10,tickangle:-45},yaxis:{title:{text:"Temp [\xb0C]"}}}})})]})]})},re=(0,u.memo)(ne),ie=n(1134),ae=[0,1].map((function(e){return{label:0===e?"Action":"Change Parameter",value:e,type:"option"}})),oe=["Temperature control","Agitation control","Food control 1","Food control 2","Food control 3","Food control 4"].map((function(e,t){return{label:e,value:Math.pow(2,t),type:"option"}})),se=["Do nothing","Wait in minutes","Wait in hours","Wait for weight reduction to yy% of maximum weight","Wait for weight increase to yy% of maximum weight","Wait for temperature change (continue if delta < yy [\xb0C/100])","Set all the flags"].map((function(e,t){return{label:e,value:t,type:"option"}})),ce=function(e){var t=e.stepsValue,n=e.register,r=e.OnRefreshIntervalChanged;return t.map((function(e,t){return(0,v.jsxs)("div",{className:"flex flex-row",children:[(0,v.jsx)("div",{className:"my-2.5 flex flex-auto justify-between",children:(0,v.jsxs)("label",{className:"text-gray-400",children:["Set Step ",e,":"]})}),(0,v.jsx)("div",{className:"mx-1 my-1 flex flex-row justify-end",children:(0,v.jsx)(p.Ltx,{title:"Configuration",options:[ae],onSelect:r})}),(0,v.jsx)("div",{className:"mx-1 my-1 flex flex-row justify-end",children:(0,v.jsx)(p.Ltx,{title:"Flags",options:[oe],onSelect:r})}),(0,v.jsx)("div",{className:"mx-1 my-1 flex flex-row justify-end",children:(0,v.jsx)(p.Ltx,{className:"sm:w-min md:w-1/2",title:"Actions",options:[se],onSelect:r})}),(0,v.jsx)("div",{className:"mx-1 my-1 flex flex-row justify-end",children:(0,v.jsx)("input",(0,a.Z)({className:"sm:w-min md:min-w-full",type:"number",placeholder:"Time or Weight quantity (default: 0)"},n("Step ".concat(e),{required:!0,min:0,max:"".concat(se?2047:100),maxLength:100})))})]},t)}))},le=function(e){var t=e.data,n=(0,u.useMemo)((function(){return(0,c.Z)(Array(16).keys()).map((function(e){return e+1}))}),[]),r=(0,ie.cI)(),i=r.register,a=r.handleSubmit,o=r.formState.errors,s=function(e){return console.log(e)};0!==Object.keys(o).length&&console.log(o);return(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("div",{className:"ml-auto",children:(null===t||void 0===t?void 0:t.epoch)&&(0,v.jsxs)("p",{className:"mx-2 my-2 text-base font-medium text-black self-end",children:["Awake time:",(0,v.jsx)("span",{className:"mx-1 text-sm text-neutral-500",children:(0,m.E)(null===t||void 0===t?void 0:t.epoch)})]})}),(0,v.jsx)(x._B,{title:"Edit parameters"}),(0,v.jsx)("div",{className:"flex flex-column",children:(0,v.jsxs)("form",{onSubmit:a(s),children:[(0,v.jsx)(ce,{stepsValue:n,register:i,OnRefreshIntervalChanged:function(e){}}),(0,v.jsx)("div",{className:"my-1 flex flex-row justify-end",children:(0,v.jsx)(p.zxk,{className:"mx-2",variant:"white",onClick:s,children:"Send"})})]})})]})},ue=function(e){var t,n,r=e.device,i=e.goBack,a=e.onOpenModel,o=e.onRequest;return(0,v.jsxs)("div",{className:"my-2 p-2 flex flex-row items-start rounded-md bg-white shadow",children:[(0,v.jsx)(p.v4_,{className:"my-3 mr-2 h-6 w-6 text-neutral-300 cursor-pointer",onClick:i}),(0,v.jsxs)("div",{className:"w-full my-2 flex flex-col",children:[(0,v.jsxs)("div",{className:"flex flex-row items-center",children:[(0,v.jsx)("h1",{className:"mr-4 text-lg font-semibold truncate text-primary-800",children:null===r||void 0===r?void 0:r.name}),(0,v.jsx)(p.Cts,{dot:!0,rounded:!0,label:null!==r&&void 0!==r&&r.connected?"Active":"Inactive",size:p.ODk.SMALL,color:null!==r&&void 0!==r&&r.connected?"success":"neutral",className:"w-min h-min"})]}),(0,v.jsxs)("div",{className:"flex flex-row flex-wrap justify-between items-center",children:[(0,v.jsx)("h3",{className:"mt-2 text-xs font-italic text-neutral-600 font-semibold truncate",children:"".concat(null===r||void 0===r||null===(t=r.kind)||void 0===t?void 0:t.name," (").concat(null===r||void 0===r||null===(n=r.kind)||void 0===n?void 0:n.kind,")")}),(0,v.jsxs)("div",{className:"flex flex-row mt-2 ",children:[(0,v.jsx)(p.zxk,{size:"small",variant:"white",className:"mr-2 ",onClick:function(){return a(!0)},children:(0,v.jsx)(p.uf3,{className:"text-gray-700"})}),!(null!==r&&void 0!==r&&r.connected)&&(0,v.jsx)(p.zxk,{size:"xSmall",onClick:o,children:"Request"})]})]})]})]})},de=n(2258),fe=n(9867),xe=["connected"],me=["General","History","Advanced","Configuration","Bioreactor","Bioreactor Plots","Bioreactor Settings"].map((function(e){return{value:e,label:e}})),ve=function(e){var t=(0,u.useState)(),n=(0,l.Z)(t,2),r=n[0],x=n[1],m=(0,u.useState)(me[0]),Z=(0,l.Z)(m,2),F=Z[0],b=Z[1],N=(0,u.useState)(!1),_=(0,l.Z)(N,2),S=_[0],M=_[1],E=(0,u.useState)(!1),A=(0,l.Z)(E,2),z=A[0],P=A[1],I=(0,u.useState)({}),O=(0,l.Z)(I,2),T=O[0],D=O[1],B=(0,u.useState)(3e4),G=(0,l.Z)(B,2),R=G[0],W=G[1],H=(0,u.useState)([]),V=(0,l.Z)(H,2),q=V[0],U=V[1],J=(0,u.useState)([]),$=(0,l.Z)(J,2),K=$[0],X=$[1],Q=(0,u.useState)([]),Y=(0,l.Z)(Q,2),te=Y[0],ne=Y[1],ie=(0,u.useState)([]),ae=(0,l.Z)(ie,2),oe=ae[0],se=ae[1],ce=(0,g.Z)().addWarningNotification,ve=(0,f.UO)(),he=(0,f.s0)();(0,u.useEffect)((function(){var e="".concat(ve.id);(0,j._v)(e).then((function(e){x(e);var t=Number(null===e||void 0===e?void 0:e.id).toString(16).slice(0,2);if("36"!==t&&"Na"!==t){var n=(0,c.Z)(me);n=n.filter((function(e){return"Bioreactor"!==e.value||"Bioreactor Plots"!==e.value||"Bioreactor Settings"!==e.value})),me=n}}))}),[ve.id]);var pe=(0,u.useCallback)((0,s.Z)((0,o.Z)().mark((function e(){var t,n,i,a,s,l,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,c.Z)(Array(16).keys()).map((function(e){return e+1})),null===r||void 0===r||!r.id){e.next=21;break}if(null===r||void 0===r||!r.connected){e.next=20;break}return e.prev=3,e.next=6,(0,y.xf)(null===r||void 0===r?void 0:r.id,L.PH.compactSettings);case 6:l=e.sent,u=(0,d.parseCurrentSettings)(l,{kind:null===r||void 0===r||null===(n=r.kind)||void 0===n?void 0:n.kind,parameterInfo:!0,parametersArray:!0}),D(u),(0,j.C7)(r._id,u),U(null===(i=u.parametersArray)||void 0===i?void 0:i.find((function(e){return"Status"===e.name}))),X(null===(a=u.parametersArray)||void 0===a?void 0:a.find((function(e){return"Error"===e.name}))),ne(null===(s=u.parametersArray)||void 0===s?void 0:s.find((function(e){return"Current step"===e.name}))),se(t.map((function(e){var t;return null===(t=u.parametersArray)||void 0===t?void 0:t.find((function(t){return t.name==="Step ".concat(e)}))}))),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(3);case 18:e.next=21;break;case 20:(0,j.Gu)(r._id).then((function(e){var n,r,i;e.length>0&&(D(e[0]),U(null===(n=e[0].parametersArray)||void 0===n?void 0:n.find((function(e){return"Status"===e.name}))),X(null===(r=e[0].parametersArray)||void 0===r?void 0:r.find((function(e){return"Error"===e.name}))),ne(null===(i=e[0].parametersArray)||void 0===i?void 0:i.find((function(e){return"Current step"===e.name}))),se(t.map((function(t){var n;return null===(n=e[0].parametersArray)||void 0===n?void 0:n.find((function(e){return e.name==="Step ".concat(t)}))}))))}));case 21:case"end":return e.stop()}}),e,null,[[3,16]])}))),[null===r||void 0===r?void 0:r.id,null===r||void 0===r?void 0:r.connected]);(0,u.useEffect)((function(){pe()}),[pe]),(0,u.useEffect)((function(){if(null!==r&&void 0!==r&&r.id&&null!==r&&void 0!==r&&r.connected){var e=setInterval((function(){return pe()}),R);return function(){return clearInterval(e)}}}),[pe,R]),(0,u.useEffect)((function(){je();var e=(0,y.wc)((function(e){var t=e.filter((function(e){return e.id===(null===r||void 0===r?void 0:r.id)})).length>0;!t||null!==r&&void 0!==r&&r.connected?!t&&null!==r&&void 0!==r&&r.connected&&(ce("".concat(null===r||void 0===r?void 0:r.name," is disconnected")),x((0,a.Z)((0,a.Z)({},r),{},{connected:!1}))):x((0,a.Z)((0,a.Z)({},r),{},{connected:!0}))}),1e3);return function(){return e.then((function(e){return clearInterval(e)}))}}),[null===r||void 0===r?void 0:r.id,null===r||void 0===r?void 0:r.connected,z]);var je=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.JG)();case 2:e.sent.filter((function(e){return e.id===(null===r||void 0===r?void 0:r.id)})).length>0&&x((0,a.Z)((0,a.Z)({},r),{},{connected:!0}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.activeElement.blur(),e.next=3,(0,y.nE)();case 3:je();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.connected,n=(0,i.Z)(t,xe),(0,j.xl)(n).then((function(){x(t),P(!z),M(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"mx-4 pb-4",children:[(0,v.jsx)(ue,{device:r,goBack:function(){return he(-1)},onOpenModel:M,onRequest:we}),(0,v.jsx)(p.X9i,{onSelect:b,selected:F,options:me}),(0,v.jsx)("div",{className:"p-3 mt-4 sm:m-0 flex flex-col items-center rounded-md sm:rounded-t-none bg-white shadow",children:function(e){switch(e.value){case"General":return(0,v.jsx)(h,{data:T});case"History":return(0,v.jsx)(w,{device:r,refreshInterval:R});case"Advanced":return(0,v.jsx)(C,{device:r});case"Configuration":return(0,v.jsx)(k,{device:r,refreshInterval:R,setRefreshInterval:W,data:T,refreshData:function(){return pe()}});case"Bioreactor":return(0,v.jsx)(fe.mh.Provider,{value:q,children:(0,v.jsx)(fe.Sh.Provider,{value:K,children:(0,v.jsx)(fe.Ve.Provider,{value:te,children:(0,v.jsx)(fe.R0.Provider,{value:oe,children:(0,v.jsx)(ee,{data:T})})})})});case"Bioreactor Plots":return(0,v.jsx)(re,{device:r,refreshInterval:R});case"Bioreactor Settings":return(0,v.jsx)(le,{data:T});default:return(0,v.jsx)("div",{})}}(F)}),(0,v.jsx)(de.Z,{isOpen:S,onClose:function(){return M(!1)},initialValues:r,onSave:ge})]})}},2258:function(e,t,n){"use strict";var r=n(1413),i=(n(2791),n(1724)),a=n(5749),o=n(7104),s=n(184),c=i.Ry().shape({name:i.Z_().max(50,"Name too Long!").matches(/^[A-z0-9_-]*$/,"Field supports only : letters / numbers / _ / - ").required("Required")}),l=o.cV.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{label:e.name,value:e.kind})}));t.Z=function(e){var t,n=e.initialValues,i=e.isOpen,u=e.onClose,d=e.onSave,f={name:null===n||void 0===n?void 0:n.name,kind:null===n||void 0===n||null===(t=n.kind)||void 0===t?void 0:t.kind};return(0,s.jsxs)(a.u_l,{isOpen:i,onRequestClose:u,icon:(0,s.jsx)(a.fUM,{}),iconColor:"neutral",animated:!0,hasCloseButton:!0,requestCloseOnBackdrop:!0,requestCloseOnEsc:!0,fluid:!0,wrapperComponent:a.l09,wrapperProps:{initialValues:f,validationSchema:c,onSubmit:function(e){var t=(0,r.Z)((0,r.Z)({},n),{},{name:e.name,kind:o.cV.filter((function(t){return t.kind===e.kind}))[0]});d(t)},className:"h-full"},children:[(0,s.jsx)(a.u_l.Header,{children:"Edit device information"}),(0,s.jsxs)(a.u_l.Body,{children:[(0,s.jsxs)("div",{className:"w-full mr-32 pr-16 mt-4 mb-20 items-center",children:[(0,s.jsx)(a.mgC,{name:"kind",id:"kind",label:"Kind",options:l,renderOption:function(e){return"".concat(e.label)},getValue:function(e){return e.value},required:!0,className:"mt-4 flex-1"}),(0,s.jsx)(a.UPk,{name:"name",id:"name",label:"Name",required:!0,className:"mt-8 flex-1",inputClassName:"w-full"})]}),(0,s.jsx)(a.Xq4,{})]}),(0,s.jsx)(a.u_l.Footer,{children:(0,s.jsx)(a.Mmi,{className:"w-full sm:w-max ",children:"Save"})})]})}},6917:function(e,t,n){"use strict";var r=n(4165),i=n(1413),a=n(5861),o=n(1853),s={};t.Z=function(e){var t=function(){return e in s||(s[e]=new o.Z(e,{revs_limit:1,auto_compaction:!0})),s[e]},n=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){t().allDocs((0,i.Z)({include_docs:!0},n)).then((function(t){return e(t)})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{getInfo:function(){return new Promise((function(e,n){t().info().then((function(t){return e(t)})).catch((function(e){return n(e)}))}))},getAll:n,get:function(e){return new Promise((function(n,r){var i=t();e?i.get(e).then((function(e){return n(e)})).catch((function(e){return r(e)})):r(new Error("Doc fetch : docId is required"))}))},put:function(e){return new Promise((function(n,r){var i=t();"_id"in e?i.put(e).then((function(e){return n(e)})).catch((function(e){return r(e)})):r(new Error("Doc create : _id is required in doc"))}))},update:function(e){return new Promise((function(n,r){var a=t();"_id"in e?a.get(e._id).then((function(t){return a.put((0,i.Z)((0,i.Z)({},e),{},{_rev:t._rev})).then((function(e){return n(e)})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)})):r(new Error("Doc update : _id is required in doc"))}))},remove:function(e){return new Promise((function(n,r){var i=t();e?i.get(e).then((function(t){return i.remove({_id:e,_rev:t._rev}).then((function(e){return n(e)})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)})):r(new Error("Doc remove : docId is required"))}))},listenToChanges:function(e,n,r){return t().changes((0,i.Z)({since:"now",live:!0,include_docs:!0},r)).on("change",e).on("error",n)},close:function(){var n=t();return delete s[e],n.close()},destroy:function(){var n=t();return delete s[e],n.destroy()}}}},7104:function(e,t,n){"use strict";n.d(t,{Bh:function(){return l},GZ:function(){return s},PH:function(){return f},QT:function(){return c},cV:function(){return x},me:function(){return d},uv:function(){return u}});var r=n(4925),i=n(3938),a=n.n(i),o=["events","parameters"],s="BIOREACTOR-UI_devices",c="https:"===window.location.protocol?"443":"80",l="https:"===window.location.protocol?"wss":"http",u=["http","tcp","wss"],d={broadcast:"broadcast",interactive:"interactive",local:"local"},f={help:"h",settings:"u",compactSettings:"uc",runExperiment:"r",kinetic:"k",reset:"ur1234",sleep:"l",setParameter:function(e,t){return"".concat(e).concat(t)}},x=Object.keys(a()).filter((function(e){return a()[e].kind})).map((function(e){var t=a()[e];t.events,t.parameters;return(0,r.Z)(t,o)}))},8808:function(e,t,n){"use strict";n.d(t,{$n:function(){return b},Aj:function(){return x},C7:function(){return w},D4:function(){return y},Gu:function(){return Z},PW:function(){return m},S6:function(){return j},_A:function(){return L},_v:function(){return v},d9:function(){return d},h1:function(){return k},n1:function(){return p},w3:function(){return g},xN:function(){return f},xl:function(){return h},xs:function(){return F}});var r=n(4165),i=n(5861),a=n(1413),o=n(3938),s=n.n(o),c=n(6917),l=n(7104),u=function(e,t){console.log(e);var n=new Error("".concat(t," \n").concat(null===e||void 0===e?void 0:e.message));throw n.name="DATABASE_ERROR",n},d=function(e,t,n){return"".concat(e,"_").concat(t,"_").concat(n)},f=function(e){try{if(e)return s().fromDeviceID(Number(e))}catch(t){return void console.log(t)}},x=function(e,t){var n,r;return e&&t?null===(n=s()[e])||void 0===n||null===(r=n.parameters)||void 0===r?void 0:r.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{value:t[e.label]})})):void 0},m=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.Z)(l.GZ).getAll({startkey:"".concat(t),endkey:"".concat(t,"\uffff")}).then((function(e){return e.rows.map((function(e){return e.doc}))})).catch((function(e){return u(e,"Get locally saved devices error")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.Z)(l.GZ).get(t).catch((function(e){return u(e,"Get device error")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.Z)(l.GZ).update(t).catch((function(e){return u(e,"Update device error")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return(0,c.Z)(l.GZ).remove(e).catch((function(e){return u(e,"Delete device error")}))},j=function(e){return(0,c.Z)(l.GZ).put(e).catch((function(e){return"conflict"===e.name?u(e,"Device name must be unique"):u(e,"Insert device error")}))},w=function(e,t){return(0,c.Z)(e).put((0,a.Z)({_id:Date.now().toString()},t))},g=function(e){return(0,c.Z)(e).getAll({descending:!0}).then((function(e){return e.rows.map((function(e){return e.doc}))}))},y=function(e,t,n){return(0,c.Z)(e).getAll({descending:!0,skip:(t-1)*n,limit:n}).then((function(e){return e.rows.map((function(e){return e.doc}))}))},L=function(e){return(0,c.Z)(e).getAll({include_docs:!1}).then((function(e){return e.total_rows}))},Z=function(e){return(0,c.Z)(e).getAll({descending:!0,limit:1}).then((function(e){return e.rows.map((function(e){return e.doc}))}))},k=function(e){return(0,c.Z)(e).destroy()},F=function(e,t,n){return(0,c.Z)(e).listenToChanges(t,n)},b=function(e){return(0,c.Z)(e).close()}},8433:function(e,t,n){"use strict";n.d(t,{JG:function(){return x},d9:function(){return d},nE:function(){return f},wc:function(){return m},xf:function(){return v}});var r=n(4165),i=n(5861),a=n(763),o=n(8231),s=n(7104),c=n(8808),l=1e3,u=new o.w(navigator.serial),d=function(e){var t=e.id,n=e.name,r=(0,c.xN)(t);return{_id:(0,c.d9)(s.me.local,null===r||void 0===r?void 0:r.kind,t),id:t,name:n||"".concat(null===r||void 0===r?void 0:r.kind,"-").concat(t),kind:r}},f=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.requestDevices();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.updateDevices();case 2:return e.next=4,u.getDevicesList({ready:!0});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,o,s=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:l,o=setInterval((0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:n=e.sent,(0,a.isFunction)(t)&&t(n);case 4:case"end":return e.stop()}}),e)}))),n),e.abrupt("return",o);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.sendCommand(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},5963:function(e,t,n){"use strict";n.d(t,{E:function(){return i},e:function(){return r}});var r=function(e,t){var n;return e.filter((n=t,function(e){return 0===n.filter((function(t){return t.id===e.id})).length}))},i=function(e){var t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),r=Math.floor(e/36e5%24),i="".concat(t,"s");return r?i="".concat(r,"h ").concat(n,"m ")+i:n&&(i="".concat(n,"m ")+i),i}},5525:function(){}}]);
//# sourceMappingURL=476.f44719fa.chunk.js.map