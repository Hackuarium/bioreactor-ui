(this["webpackJsonpbioreactor-ui"]=this["webpackJsonpbioreactor-ui"]||[]).push([[15],{407:function(e,t,n){"use strict";n.r(t);var c=n(53),r=n.n(c),s=n(59),a=n(6),i=n(2),o=n(20),l=n(210),u=n(0),d=function(e){var t=e.data,n=e.onSelect,c=e.onEdit,r=e.onDelete;return Object(u.jsx)("div",{className:"overflow-hidden bg-white shadow sm:rounded-md",children:t.map((function(e){var t;return Object(u.jsxs)("li",{className:"block transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:bg-gray-50 cursor-pointer",onClick:function(t){return n(e,t)},children:[Object(u.jsxs)("div",{className:"relative flex items-center px-4 py-4 sm:px-6",children:[Object(u.jsx)("div",{className:"flex items-center flex-1 min-w-0",children:Object(u.jsxs)("div",{className:"flex-1 min-w-0 px-4 sm:grid sm:grid-col-2 sm:gap-4",children:[Object(u.jsxs)("div",{className:"col-span-2 flex flex-row items-center flex-wrap",children:[Object(u.jsx)("p",{className:"mr-4 text-lg font-semibold truncate text-primary-700 ",children:e.name}),Object(u.jsx)(o.a,{dot:!0,rounded:!0,label:e.connected?"Active":"Inactive",size:o.b.SMALL,color:e.connected?"success":"neutral",className:"w-min h-min"})]}),Object(u.jsx)("div",{className:"pt-2 sm:pt-0 flex flex-col text-xs font-italic text-neutral-600 justify-center",children:Object(u.jsx)("p",{className:"truncate",children:Object(u.jsx)("span",{className:"font-semibold",children:null===e||void 0===e||null===(t=e.kind)||void 0===t?void 0:t.name})})}),Object(u.jsxs)("div",{className:"pt-2 sm:pt-0 flex justify-end items-center cursor-default",children:[Object(u.jsx)("button",{className:"mx-1 p-2 border rounded shadow-sm bg-neutral-100 focus:outline-none active:bg-neutral-200",onClick:function(t){return c(e,t)},children:Object(u.jsx)(o.F,{className:"text-gray-700"})}),Object(u.jsx)("button",{className:"mx-1 p-2 border rounded shadow-sm bg-neutral-100 focus:outline-none active:bg-neutral-200",onClick:function(t){return r(e,t)},children:Object(u.jsx)(o.I,{className:"text-gray-700"})})]})]})}),Object(u.jsx)("div",{children:Object(u.jsx)(o.s,{className:"w-5 h-5 text-neutral-400"})})]}),Object(u.jsx)("div",{className:"w-full border-t border-neutral-100"})]},e.id)}))})},f=n(117),j=n(106),b=n(116),m=n(123);t.default=function(e){var t=e.history,n=e.match,c=Object(i.useState)(!1),x=Object(a.a)(c,2),h=x[0],p=x[1],v=Object(i.useState)([]),O=Object(a.a)(v,2),w=O[0],N=O[1],g=Object(i.useState)({}),y=Object(a.a)(g,2),k=y[0],S=y[1],E=Object(f.a)().addInfoNotification;Object(i.useEffect)((function(){return C()}),[]),Object(i.useEffect)((function(){var e=Object(m.b)((function(e){var t,n=e.map((function(e){return e.id})),c=w.map((function(e){return n.includes(e.id)&&!e.connected?(e.connected=!0,t=!0):!n.includes(e.id)&&e.connected&&(e.connected=!1,t=!0),e}));t&&N(c)}),1e3);return function(){return e.then((function(e){return clearInterval(e)}))}}),[w]);var C=function(){Object(b.f)(j.g.local).then(N)},D=function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.activeElement.blur(),e.next=3,Object(m.g)();case 3:return e.next=5,Object(m.c)();case 5:t=e.sent,I(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){Object(b.f)(j.g.local).then((function(t){var n=function(e,t){var n;return e.filter((n=t,function(e){return 0===n.filter((function(t){return t.id===e.id})).length}))}(e,t);n.length>0&&(E("New device connected"),n.forEach((function(e){Object(b.b)(Object(m.f)(e))})),C())}))},A=function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation(),S(t),p(!0);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation(),Object(m.a)(null===t||void 0===t?void 0:t._id),Object(b.d)(null===t||void 0===t?void 0:t._id).then((function(){return C()}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(b.g)(t).then((function(){S({}),p(!1),C()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"p-8",children:[Object(u.jsx)("h2",{className:"text-3xl font-semibold mb-10",children:"Local devices"}),Object(u.jsx)("div",{className:"w-full flex justify-end mb-4",children:Object(u.jsx)(o.c,{onClick:D,children:"Request Device"})}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"w-full my-2 flex flex-row items-center ",children:[Object(u.jsx)("h3",{className:"w-max ml-2 mr-4 text-neutral-600 text-sm whitespace-nowrap ",children:"Available devices"}),Object(u.jsx)("div",{className:"w-full border-t border-neutral-300"})]}),w.length>0?Object(u.jsx)(d,{data:w,onSelect:function(e,c){t.push(n.url+"/"+e._id)},onEdit:A,onDelete:L}):Object(u.jsxs)("div",{className:"mx-5 mt-10 flex flex-col items-center",children:[Object(u.jsx)("h3",{className:"text-sm font-bold text-gray-300 leading-loose",children:"No connected Devices"}),Object(u.jsx)("h3",{className:"text-xs font-base text-gray-300",children:"Please plug your device into the computer"})]})]}),Object(u.jsx)(l.a,{isOpen:h,onClose:function(){p(!1),S({})},initialValues:k,onSave:P})]})}}}]);
//# sourceMappingURL=15.645ea633.chunk.js.map