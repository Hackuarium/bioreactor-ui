{"version":3,"file":"static/js/536.755c8362.chunk.js","mappings":"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IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAC1B,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACtF,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACtF,SAAU,IAAM,SAAU,IAC1B,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,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AAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAC1B,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACvE,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IACxD,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACtF,SAAU,IAAM,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IAAK,SAAU,IACtF,SAAU,IAAM,SAAU,IAC1B,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,IAAM,SAAU,IAAK,SAAU,IACzC,SAAU,KAAM,SAAU,K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","sources":["../node_modules/events/events.js","../node_modules/immediate/lib/index.js","../node_modules/immediate/lib/messageChannel.js","../node_modules/immediate/lib/mutation.js","../node_modules/immediate/lib/queueMicrotask.js","../node_modules/immediate/lib/stateChange.js","../node_modules/immediate/lib/timeout.js","../node_modules/legoino-device-information/src/devices/Beemos.js","../node_modules/legoino-device-information/src/devices/Computer.js","../node_modules/legoino-device-information/src/devices/OpenBio.js","../node_modules/legoino-device-information/src/devices/OpenBio6.js","../node_modules/legoino-device-information/src/devices/OpenSpectro.js","../node_modules/legoino-device-information/src/devices/SimpleSpectro.js","../node_modules/legoino-device-information/src/devices/Solar2015.js","../node_modules/legoino-device-information/src/ensureAllParameters.js","../node_modules/legoino-device-information/src/index.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_arrayReduce.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_asciiToArray.js","../node_modules/lodash/_asciiWords.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/_baseHas.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/_basePropertyOf.js","../node_modules/lodash/_baseSlice.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_castSlice.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_createCaseFirst.js","../node_modules/lodash/_createCompounder.js","../node_modules/lodash/_deburrLetter.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/_hasUnicode.js","../node_modules/lodash/_hasUnicodeWord.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_root.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_stringToArray.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_toKey.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_unicodeToArray.js","../node_modules/lodash/_unicodeWords.js","../node_modules/lodash/camelCase.js","../node_modules/lodash/capitalize.js","../node_modules/lodash/deburr.js","../node_modules/lodash/eq.js","../node_modules/lodash/get.js","../node_modules/lodash/has.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/identity.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/isArray.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/isLength.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/keys.js","../node_modules/lodash/lodash.js","../node_modules/lodash/mapKeys.js","../node_modules/lodash/mapValues.js","../node_modules/lodash/memoize.js","../node_modules/lodash/property.js","../node_modules/lodash/snakeCase.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/toString.js","../node_modules/lodash/upperFirst.js","../node_modules/lodash/words.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/v4.js","../node_modules/pouchdb/lib/index-browser.es.js","../node_modules/property-expr/index.js","../node_modules/spark-md5/spark-md5.js","../node_modules/toposort/index.js","../node_modules/vuvuzela/index.js","../node_modules/nanoclone/src/index.js","../node_modules/yup/es/util/printValue.js","../node_modules/yup/es/locale.js","../node_modules/yup/es/util/isSchema.js","../node_modules/yup/es/Condition.js","../node_modules/yup/es/util/toArray.js","../node_modules/yup/es/ValidationError.js","../node_modules/yup/es/util/runTests.js","../node_modules/yup/es/Reference.js","../node_modules/yup/es/util/createValidation.js","../node_modules/yup/es/util/reach.js","../node_modules/yup/es/util/ReferenceSet.js","../node_modules/yup/es/schema.js","../node_modules/yup/es/mixed.js","../node_modules/yup/es/util/isAbsent.js","../node_modules/yup/es/boolean.js","../node_modules/yup/es/string.js","../node_modules/yup/es/number.js","../node_modules/yup/es/util/isodate.js","../node_modules/yup/es/date.js","../node_modules/yup/es/util/sortByKeyOrder.js","../node_modules/yup/es/object.js","../node_modules/yup/es/util/sortFields.js","../node_modules/yup/es/array.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict';\nvar types = [\n  require('./nextTick'),\n  require('./queueMicrotask'),\n  require('./mutation.js'),\n  require('./messageChannel'),\n  require('./stateChange'),\n  require('./timeout')\n];\nvar draining;\nvar currentQueue;\nvar queueIndex = -1;\nvar queue = [];\nvar scheduled = false;\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n  draining = false;\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n  if (queue.length) {\n    nextTick();\n  }\n}\n\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  if (draining) {\n    return;\n  }\n  scheduled = false;\n  draining = true;\n  var len = queue.length;\n  var timeout = setTimeout(cleanUpNextTick);\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n    while (currentQueue && ++queueIndex < len) {\n      currentQueue[queueIndex].run();\n    }\n    queueIndex = -1;\n    len = queue.length;\n  }\n  currentQueue = null;\n  queueIndex = -1;\n  draining = false;\n  clearTimeout(timeout);\n}\nvar scheduleDrain;\nvar i = -1;\nvar len = types.length;\nwhile (++i < len) {\n  if (types[i] && types[i].test && types[i].test()) {\n    scheduleDrain = types[i].install(nextTick);\n    break;\n  }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\nItem.prototype.run = function () {\n  var fun = this.fun;\n  var array = this.array;\n  switch (array.length) {\n  case 0:\n    return fun();\n  case 1:\n    return fun(array[0]);\n  case 2:\n    return fun(array[0], array[1]);\n  case 3:\n    return fun(array[0], array[1], array[2]);\n  default:\n    return fun.apply(null, array);\n  }\n\n};\nmodule.exports = immediate;\nfunction immediate(task) {\n  var args = new Array(arguments.length - 1);\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n  queue.push(new Item(task, args));\n  if (!scheduled && !draining) {\n    scheduled = true;\n    scheduleDrain();\n  }\n}\n","'use strict';\n\nexports.test = function () {\n  if (global.setImmediate) {\n    // we can only get here in IE10\n    // which doesn't handel postMessage well\n    return false;\n  }\n  return typeof global.MessageChannel !== 'undefined';\n};\n\nexports.install = function (func) {\n  var channel = new global.MessageChannel();\n  channel.port1.onmessage = func;\n  return function () {\n    channel.port2.postMessage(0);\n  };\n};","'use strict';\n//based off rsvp https://github.com/tildeio/rsvp.js\n//license https://github.com/tildeio/rsvp.js/blob/master/LICENSE\n//https://github.com/tildeio/rsvp.js/blob/master/lib/rsvp/asap.js\n\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nexports.test = function () {\n  return Mutation;\n};\n\nexports.install = function (handle) {\n  var called = 0;\n  var observer = new Mutation(handle);\n  var element = global.document.createTextNode('');\n  observer.observe(element, {\n    characterData: true\n  });\n  return function () {\n    element.data = (called = ++called % 2);\n  };\n};","'use strict';\nexports.test = function () {\n  return typeof global.queueMicrotask === 'function';\n};\n\nexports.install = function (func) {\n  return function () {\n    global.queueMicrotask(func);\n  };\n};\n","'use strict';\n\nexports.test = function () {\n  return 'document' in global && 'onreadystatechange' in global.document.createElement('script');\n};\n\nexports.install = function (handle) {\n  return function () {\n\n    // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n    // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n    var scriptEl = global.document.createElement('script');\n    scriptEl.onreadystatechange = function () {\n      handle();\n\n      scriptEl.onreadystatechange = null;\n      scriptEl.parentNode.removeChild(scriptEl);\n      scriptEl = null;\n    };\n    global.document.documentElement.appendChild(scriptEl);\n\n    return handle;\n  };\n};","'use strict';\nexports.test = function () {\n  return true;\n};\n\nexports.install = function (t) {\n  return function () {\n    setTimeout(t, 0);\n  };\n};","'use strict';\n\nmodule.exports = {\n  name: 'Bee Monistoring System',\n  kind: 'Beemos',\n  numberParameters: 52,\n  numberLogParameters: 26,\n  id: 'B',\n  description: 'Bee Monitoring System data result',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      variable: 'externalTemperature',\n      name: 'Ext temperature',\n      description: 'External temperature',\n      factor: 100,\n      unit: '°C',\n      writable: false,\n    },\n    {\n      label: 'B',\n      variable: 'externalHumidity',\n      name: 'Ext humidity',\n      description: 'External humidity',\n      factor: 100,\n      unit: '%',\n      writable: false,\n    },\n    {\n      label: 'C',\n      variable: 'pressure',\n      name: 'Pressure',\n      description: 'Press',\n      factor: 10,\n      unit: 'mbar',\n      writable: false,\n    },\n    {\n      label: 'D',\n      variable: 'luminosity',\n      name: 'Luminosity',\n      description: 'Luminosity (Arbitrary unit)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'E',\n      variable: 'red',\n      name: 'Red',\n      description: 'Red luminosity (Arbitrary unit)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'F',\n      variable: 'green',\n      name: 'Green',\n      description: 'Green luminosity (Arbitrary unit)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'G',\n      variable: 'blue',\n      name: 'Blue',\n      description: 'Blue luminosity (Arbitrary unit)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'H',\n      variable: 'infrared',\n      name: 'Infrared',\n      description: 'Infrared luminosity (Arbitrary unit)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'I',\n      variable: 'latitude',\n      name: 'Latitude',\n      description: 'Latitude',\n      factor: 100,\n      unit: '°',\n      writable: false,\n    },\n    {\n      label: 'J',\n      variable: 'longitude',\n      name: 'Longitude',\n      description: 'Longitude',\n      factor: 100,\n      unit: '°',\n      writable: false,\n    },\n    {\n      label: 'K',\n      variable: 'internalTemperature',\n      name: 'Int temperature',\n      description: 'Internal temperature',\n      factor: 100,\n      unit: '°C',\n      writable: false,\n    },\n    {\n      label: 'L',\n      variable: 'internalHumidity',\n      name: 'Int humidity',\n      description: 'Internal humidity',\n      factor: 100,\n      unit: '%',\n      writable: false,\n    },\n    {\n      label: 'M',\n      variable: 'internalTemperatureA',\n      name: 'Int temperature A',\n      description: 'Internal temperature A',\n      factor: 100,\n      unit: '°C',\n      writable: false,\n    },\n    {\n      label: 'N',\n      variable: 'internalTemperatureB',\n      name: 'Int temperature B',\n      description: 'Internal temperature B',\n      factor: 100,\n      unit: '°C',\n      writable: false,\n    },\n\n    {\n      label: 'O',\n      variable: 'weightInternalUnit',\n      name: 'Weight internal unit',\n      description: 'Weight in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'P',\n      variable: 'weight',\n      name: 'Weight',\n      description: 'Weight',\n      factor: 100,\n      unit: 'kg',\n      writable: false,\n    },\n    {\n      label: 'W',\n      variable: 'battery',\n      name: 'Battery',\n      description: 'Battery voltage',\n      factor: 1000,\n      unit: 'V',\n      writable: false,\n    },\n    {\n      label: 'X',\n      variable: 'charging',\n      name: 'Charging',\n      description: 'Indication showing if the battery is charging',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'Y',\n      variable: 'rssi',\n      name: 'Wifi RSSI',\n      description: 'Power of Wifi signal',\n      factor: 1,\n      unit: 'dB',\n      writable: false,\n    },\n    {\n      label: 'Z',\n      variable: 'error',\n      name: 'Error',\n      description: 'Current error code',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AA',\n      variable: 'loggingInterval',\n      name: 'Logging interval',\n      description: 'Interval in seconds between logs',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n    {\n      label: 'AB',\n      variable: 'weightOffset',\n      name: 'Weight offset',\n      description: 'Offset to convert weight from internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AC',\n      variable: 'weightFactor',\n      name: 'Weight factor',\n      description: 'Factor to convert the weight from internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AK',\n      variable: 'gate1In',\n      name: 'Gate 1 IN',\n      description: 'Number of input on gate 1',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AL',\n      variable: 'gate1Out',\n      name: 'Gate 1 OUT',\n      description: 'Number of output on gate 1',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AM',\n      variable: 'gate2In',\n      name: 'Gate 2 IN',\n      description: 'Number of input on gate 2',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AN',\n      variable: 'gate2Out',\n      name: 'Gate 2 OUT',\n      description: 'Number of output on gate 2',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AO',\n      variable: 'gate3In',\n      name: 'Gate 3 IN',\n      description: 'Number of input on gate 3',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AP',\n      variable: 'gate3Out',\n      name: 'Gate 3 OUT',\n      description: 'Number of output on gate 3',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AQ',\n      variable: 'gate4In',\n      name: 'Gate 4 IN',\n      description: 'Number of input on gate 4',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AR',\n      variable: 'gate4Out',\n      name: 'Gate 4 OUT',\n      description: 'Number of output on gate 4',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AS',\n      variable: 'gate5In',\n      name: 'Gate 5 IN',\n      description: 'Number of input on gate 5',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AT',\n      variable: 'gate5Out',\n      name: 'Gate 5 OUT',\n      description: 'Number of output on gate 5',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AU',\n      variable: 'gate6In',\n      name: 'Gate 6 IN',\n      description: 'Number of input on gate 6',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AV',\n      variable: 'gate6Out',\n      name: 'Gate 6 OUT',\n      description: 'Number of output on gate 6',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AW',\n      variable: 'gate7In',\n      name: 'Gate 7 IN',\n      description: 'Number of input on gate 7',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AX',\n      variable: 'gate7Out',\n      name: 'Gate 7 OUT',\n      description: 'Number of output on gate 7',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AY',\n      variable: 'gate8In',\n      name: 'Gate 8 IN',\n      description: 'Number of input on gate 8',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'AZ',\n      variable: 'gate8Out',\n      name: 'Gate 8 OUT',\n      description: 'Number of output on gate 8',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Computer monitoring',\n  kind: 'Computer',\n  numberParameters: 16,\n  numberLogParameters: 16,\n  description: '',\n  id: 'C',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      variable: 'cpuTemperature',\n      name: 'CPU Temperature',\n      description: '',\n      factor: 1,\n      unit: '°C',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      variable: 'memFree',\n      name: 'Free memory',\n      description: 'Free memory in percent',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      variable: 'swapFree',\n      name: 'Free swap',\n      description: 'Free swap in percent',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      variable: 'fsRead',\n      name: 'FS Read',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false,\n    },\n\n    {\n      label: 'E',\n      variable: 'fsWrite',\n      name: 'FS Write',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false,\n    },\n\n    {\n      label: 'F',\n      variable: 'networkRead',\n      name: 'Network Read',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false,\n    },\n\n    {\n      label: 'G',\n      variable: 'networkWrite',\n      name: 'Network Write',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false,\n    },\n\n    {\n      label: 'H',\n      variable: 'load',\n      name: 'Load',\n      description: 'Total load',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'I',\n      variable: 'userLoad',\n      name: 'User load',\n      description: 'Load from user',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'J',\n      variable: 'systemLoad',\n      name: 'System load',\n      description: 'Load from system',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'K',\n      variable: 'niceLoad',\n      name: 'Nice load',\n      description: 'Load for Nice',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'L',\n      variable: 'idleLoad',\n      name: 'Idle load',\n      description: 'Idle percent of time',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'M',\n      variable: 'irqLoad',\n      name: 'IRQ load',\n      description: 'Load due to IRQ',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n\n    {\n      label: 'N',\n      variable: 'fsMinimalUse',\n      name: 'FS minimal use',\n      description: 'Minimal percent spaced used in a filesystem',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n    {\n      label: 'O',\n      variable: 'fsMaximalUse',\n      name: 'FS maximal use',\n      description: 'Maximal percent spaced used in a filesystem',\n      factor: 1,\n      unit: '%',\n      writable: false,\n    },\n    {\n      label: 'P',\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Open bioreactor',\n  kind: 'OpenBio',\n  description: '',\n  url: '',\n  id: '$',\n  numberParameters: 52,\n  numberLogParameters: 26,\n  parameters: [\n    {\n      label: 'A',\n      variable: 'liquidTemp',\n      name: 'T° LIQ',\n      description: 'Temperature of the bioreactor solution',\n      factor: 100,\n      unit: '°C',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      variable: 'pcbTemp',\n      name: 'T° PCB',\n      description: 'Temperature of the bioreactor circuit',\n      factor: 100,\n      unit: '°C',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      variable: 'pidTemp',\n      name: 'Pid',\n      description: 'PID absolute value',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      variable: 'targetTemp',\n      name: 'T° target',\n      description: 'Target temperature',\n      factor: 100,\n      unit: '°C',\n      writable: true,\n    },\n\n    {\n      label: 'E',\n      variable: 'weight',\n      name: 'Weight',\n      description: 'Weight of the bioreactor tank, in internal value',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'F',\n      variable: 'grWeight',\n      name: 'Weight (g)',\n      description: 'Weight of the bioreactor tank, in gr if calibrated',\n      factor: 1,\n      unit: 'g',\n      writable: false,\n    },\n\n    {\n      label: 'G',\n      variable: 'waitSinceLast',\n      name: 'Time since last event',\n      description: 'Time in min since last weight event',\n      factor: 1,\n      unit: 'min',\n      writable: false,\n    },\n\n    {\n      label: 'H',\n      variable: 'minWeight',\n      name: 'Weight min',\n      description: 'Weight min in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'I',\n      variable: 'maxWeight',\n      name: 'Weight max',\n      description: 'Weight max in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'J',\n    },\n\n    {\n      label: 'K',\n    },\n\n    {\n      label: 'L',\n    },\n\n    {\n      label: 'M',\n    },\n\n    {\n      label: 'N',\n    },\n\n    {\n      label: 'O',\n    },\n\n    {\n      label: 'P',\n    },\n\n    {\n      label: 'Q',\n    },\n\n    {\n      label: 'R',\n    },\n\n    {\n      label: 'S',\n    },\n\n    {\n      label: 'T',\n    },\n\n    {\n      label: 'U',\n    },\n\n    {\n      label: 'V',\n    },\n\n    {\n      label: 'W',\n    },\n\n    {\n      label: 'X',\n    },\n\n    {\n      label: 'Y',\n      variable: 'error',\n      name: 'Error',\n      unit: '',\n      factor: 1,\n      description: `\n            bit 0: pcb probe, 1: liquid probe, 2: pcb temperature,\n            3: liquid temperature, 4: target temp. range, 5: weight range`,\n      writable: true,\n      flags: {\n        pcbProbe: {\n          bit: 0,\n          description: 'PCB temperature probe not responding',\n        },\n        liquidProbe: {\n          bit: 1,\n          description: 'Liquid temperature probe not responding',\n        },\n        pcbTemperature: {\n          bit: 2,\n          description: 'PCB temperature out of range',\n        },\n        liquidTemperature: {\n          bit: 3,\n          description: 'Liquid temperature out of range',\n        },\n        targetTemperature: {\n          bit: 4,\n          description: 'Target temperature out of range',\n        },\n        weight: {\n          bit: 5,\n          description: 'Weight out of range',\n        },\n      },\n    },\n\n    {\n      label: 'Z',\n      variable: 'status',\n      name: 'Status',\n      description: `Status of the Bioreactor, the bits of this integer code\n        for the state of specific elements of the reactor (eg. motor ON/OFF, PUMP ON/OFF etc.).\n        bits: 0: stepper, 1: weight, 2: pid, 7: sedimentation, 8: filling, 9: emptying\n        `,\n      factor: 1,\n      unit: '',\n      writable: true,\n      flags: {\n        stepper: {\n          bit: 0,\n          description: 'Stepper running',\n        },\n        food: {\n          bit: 1,\n          description: 'Food running',\n        },\n        pid: {\n          bit: 2,\n          description: 'PID running',\n        },\n        sedimentation: {\n          bit: 7,\n          description: 'Sedimentation running',\n        },\n        filling: {\n          bit: 8,\n          description: 'Filling tank',\n        },\n        emptying: {\n          bit: 9,\n          description: 'Emptying tank',\n        },\n      },\n    },\n\n    {\n      label: 'AA',\n      variable: 'stepperSpeed',\n      name: 'Stepper speed',\n      description: '',\n      factor: 1,\n      unit: 'RPM',\n      writable: true,\n    },\n\n    {\n      label: 'AB',\n      variable: 'stepperOnDelay',\n      name: 'Stepper on delay',\n      description: 'Time in (s) for which the stepper stays on',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'AC',\n      variable: 'stepperOffDelay',\n      name: 'Stepper off delay',\n      description: 'Time to wait in (s) before between stirring periods',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'AD',\n    },\n\n    {\n      label: 'AE',\n    },\n\n    {\n      label: 'AF',\n      variable: 'sedTime',\n      name: 'Sedimentation Time',\n      description:\n        'Sedimentation time in min after Semi-batch operation,' +\n        'corresponds to the waiting time without stirring before emptying the reactor to the minimum level',\n      min: 0,\n      max: 32767,\n      factor: 1,\n      unit: 'min',\n      writable: true,\n    },\n\n    {\n      label: 'AG',\n      variable: 'filledTime',\n      name: 'Filled Time',\n      description:\n        'Filled time in min after Semi-batch operation,' +\n        'corresponds to the total time with and without stirring before emptying the reactor to the minimum level' +\n        'must be set longer than the sedimentation time if stirring is desired',\n      min: 0,\n      max: 32767,\n      factor: 1,\n      unit: 'min',\n      writable: true,\n    },\n\n    {\n      label: 'AH',\n      variable: 'weightFactor',\n      name: 'Weight factor',\n      description: 'Factor allowing to convert the internal weight value to g',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AI',\n      variable: 'weightOffset',\n      name: 'Weight offset',\n      description: '',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AJ',\n    },\n\n    {\n      label: 'AK',\n    },\n\n    {\n      label: 'AL',\n    },\n\n    {\n      label: 'AM',\n    },\n\n    {\n      label: 'AN',\n    },\n\n    {\n      label: 'AO',\n    },\n\n    {\n      label: 'AP',\n    },\n\n    {\n      label: 'AQ',\n    },\n\n    {\n      label: 'AR',\n    },\n\n    {\n      label: 'AS',\n    },\n\n    {\n      label: 'AT',\n    },\n\n    {\n      label: 'AU',\n    },\n\n    {\n      label: 'AV',\n    },\n\n    {\n      label: 'AW',\n    },\n\n    {\n      label: 'AX',\n    },\n\n    {\n      label: 'AY',\n    },\n\n    {\n      label: 'AZ',\n      variable: 'enable',\n      name: 'Enable',\n      description: 'pid - food - stepper : ex. 1: only stepper',\n      factor: 1,\n      unit: '',\n      writable: true,\n      flags: {\n        stepper: {\n          bit: 0,\n          description: 'Stepper control',\n        },\n        food: {\n          bit: 1,\n          description: 'Food control',\n        },\n        pid: {\n          bit: 2,\n          description: 'PID control',\n        },\n      },\n    },\n  ],\n  events: [\n    {\n      id: 1,\n      name: 'Arduino boot',\n      description: '',\n    },\n    {\n      id: 2,\n      name: 'Set safe mode',\n      description: '',\n    },\n    {\n      id: 3,\n      name: 'Status enable',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'stepper',\n        1: 'food',\n        2: 'pid',\n        7: 'sedimentation',\n        8: 'filling',\n        9: 'emptying',\n      },\n    },\n    {\n      id: 4,\n      name: 'Status disable',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'stepper',\n        1: 'food',\n        2: 'pid',\n        7: 'sedimentation',\n        8: 'filling',\n        9: 'emptying',\n      },\n    },\n    {\n      id: 6,\n      name: 'Error: failed',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'pcb temperature probe',\n        1: 'liquid temperature probe',\n        2: 'pcb temperature range',\n        3: 'liquid temperature range',\n        4: 'target temperature range',\n        5: 'weight range',\n      },\n    },\n    {\n      id: 7,\n      name: 'Error: recover',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'pcb temperature probe',\n        1: 'liquid temperature probe',\n        2: 'pcb temperature range',\n        3: 'liquid temperature range',\n        4: 'target temperature range',\n        5: 'weight range',\n      },\n    },\n    {\n      id: 20,\n      name: 'Rotation start',\n      description: '',\n    },\n    {\n      id: 21,\n      name: 'Rotation stop',\n      description: '',\n    },\n    {\n      id: 150,\n      name: 'Not found log entry N',\n      description: '',\n    },\n    {\n      id: 255,\n      name: 'Save all parameters',\n      description: '',\n    },\n    {\n      id: 256,\n      name: 'Change value of A',\n      description: '',\n    },\n    {\n      id: 257,\n      name: 'Change value of B',\n      description: '',\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Open bioreactor v6',\n  kind: 'OpenBio6',\n  description: '',\n  url: '',\n  id: '6',\n  numberParameters: 68,\n  numberLogParameters: 26,\n  parameters: [\n    {\n      label: 'A',\n      variable: 'externalTemperature1',\n      name: 'T° EXT 1',\n      description: 'External temperature 1',\n      factor: 100,\n      unit: '°C',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      variable: 'externalTemperature2',\n      name: 'T° EXT 2',\n      description: 'External temperature 2',\n      factor: 100,\n      unit: '°C',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      variable: 'pcbTemp',\n      name: 'T° PCB',\n      description: 'Temperature of the bioreactor circuit',\n      factor: 100,\n      unit: '°C',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      variable: 'pidTemp',\n      name: 'Pid',\n      description: 'PID absolute value',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'E',\n      variable: 'targetTemp',\n      name: 'T° target',\n      description: 'Target temperature',\n      factor: 100,\n      unit: '°C',\n      writable: true,\n    },\n\n    {\n      label: 'F',\n      variable: 'weight',\n      name: 'Weight',\n      description: 'Weight of the bioreactor tank, in internal value',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'G',\n      variable: 'grWeight',\n      name: 'Weight (g)',\n      description: 'Weight of the bioreactor tank, in gr if calibrated',\n      factor: 1,\n      unit: 'g',\n      writable: false,\n    },\n\n    {\n      label: 'H',\n      variable: 'weightLastEvent',\n      name: 'Weight since last event',\n      description: 'Save the last weight to avoid problems when there are power outages',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'I',\n      variable: 'maxWeight',\n      name: 'Weight max',\n      description: 'Weight max in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'J',\n    },\n\n    {\n      label: 'K',\n    },\n\n    {\n      label: 'L',\n    },\n\n    {\n      label: 'M',\n    },\n\n    {\n      label: 'N',\n    },\n\n    {\n      label: 'O',\n    },\n\n    {\n      label: 'P',\n    },\n\n    {\n      label: 'Q',\n    },\n\n    {\n      label: 'R',\n    },\n\n    {\n      label: 'S',\n    },\n\n    {\n      label: 'T',\n    },\n\n    {\n      label: 'U',\n    },\n\n    {\n      label: 'V',\n    },\n\n    {\n      label: 'W',\n      variable: 'currentStep',\n      name: 'Current step',\n      description: 'Current step in the pipeline',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'X',\n      variable: 'currentWaitTime',\n      name: 'Current wait time',\n      description: 'Current step wait time',\n      factor: 1,\n      unit: 'min',\n      writable: false,\n    },\n\n    {\n      label: 'Y',\n      variable: 'error',\n      name: 'Error',\n      unit: '',\n      factor: 1,\n      description: `\n            bit 0: pcb probe, 1: liquid probe 1, 2: liquid probe 2, 3: pcb temperature, 4: liquid temperature 1, 5: liquid temperature 2, 6: target temp. range, 7: weight range`,\n      writable: true,\n      flags: {\n        0: 'Pcb probe failed (one wire not answering)',\n        1: 'Liquid probe in the top failed (one wire not answering)',\n        2: 'Liquid probe in the bottom failed (one wire not answering)',\n        3: 'Temperature of PCB is out of range',\n        4: 'Temperature of liquid in the top is out of range',\n        5: 'Temperature of liquid in the bottom is out of range',\n        6: 'Target temperature is out of range',\n        7: 'Weight out of range',\n      },\n    },\n\n    {\n      label: 'Z',\n      variable: 'status',\n      name: 'Status',\n      description: `Status of the Bioreactor, the bits of this integer code\n        for the state of specific elements of the reactor (eg. motor ON/OFF, PUMP ON/OFF etc.).\n        bits: 0: pid, 1: stepper, 2: pump 1, 3: pump 2, 4: pump 3, 5: pump 4, 6: ph, 7: gas, 8: sedimentation, 9: filling, 10: emptying, 11: ph calibration, 12: acid addition, 13: base addition`,\n      factor: 1,\n      unit: '',\n      writable: true,\n      flags: {\n        0: 'Heating control',\n        1: 'Agitation control',\n        2: 'Food control 1',\n        3: 'Food control 2',\n        4: 'Food control 3',\n        5: 'Food control 4',\n        6: 'pH control',\n        7: 'Gas control',\n        8: 'Sedimentation stage',\n        9: 'Filling pump',\n        10: 'Emptying pump',\n        11: 'pH calibration',\n        12: 'Acid addition',\n        13: 'Base addition',\n      },\n    },\n\n    {\n      label: 'AA',\n      variable: 'stepperSpeed',\n      name: 'Stepper speed',\n      description: '',\n      factor: 1,\n      unit: 'RPM',\n      writable: true,\n    },\n\n    {\n      label: 'AB',\n      variable: 'stepperSteps',\n      name: 'Stepper steps',\n      description:\n        'Number of step before changing direction. 1 tour = 200 steps',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'AC',\n      variable: 'stepperOffDelay',\n      name: 'Stepper off delay',\n      description: 'Time to wait in (s) before between stirring periods',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'AD',\n      variable: 'weightFactor',\n      name: 'Weight factor',\n      description: 'Factor allowing to convert the internal weight value to g',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AE',\n      variable: 'weightOffset',\n      name: 'Weight offset',\n      description: '',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AF',\n      variable: 'sedimentationTime',\n      name: 'Sedimentation time',\n      description: 'Time to wait in (minutes) to wait without rotation before emptying',\n      factor: 1,\n      unit: 'min',\n      writable: false,\n    },\n\n    {\n      label: 'AG',\n      variable: 'fillingTime',\n      name: 'Filling time',\n      description: 'Time to wait in (minutes) to stay in the filled state',\n      factor: 1,\n      unit: 'min',\n      writable: false,\n    },\n\n    {\n      label: 'AH',\n    },\n\n    {\n      label: 'AI',\n    },\n\n    {\n      label: 'AJ',\n    },\n\n    {\n      label: 'AK',\n    },\n\n    {\n      label: 'AL',\n    },\n\n    {\n      label: 'AM',\n    },\n\n    {\n      label: 'AN',\n    },\n\n    {\n      label: 'AO',\n    },\n\n    {\n      label: 'AP',\n    },\n\n    {\n      label: 'AQ',\n    },\n\n    {\n      label: 'AR',\n    },\n\n    {\n      label: 'AS',\n    },\n\n    {\n      label: 'AT',\n    },\n\n    {\n      label: 'AU',\n    },\n\n    {\n      label: 'AV',\n    },\n\n    {\n      label: 'AW',\n    },\n\n    {\n      label: 'AX',\n    },\n\n    {\n      label: 'AY',\n    },\n\n    {\n      label: 'AZ',\n      variable: 'enable',\n      name: 'Enable',\n      description: 'bits: 0: pid, 1: stepper, 2: pump 1, 3: pump 2, 4: pumpo 3, 5: pump 4',\n      factor: 1,\n      unit: '',\n      writable: true,\n      flags: {\n        0: 'pid',\n        1: 'stepper',\n        2: 'output 1',\n        3: 'output 2',\n        4: 'output 3',\n        5: 'output 4',\n      },\n    },\n\n    {\n      label: 'BA',\n      variable: 'step01',\n      name: 'Step 1',\n      description: 'Step 1',\n    },\n\n    {\n      label: 'BB',\n      variable: 'step02',\n      name: 'Step 2',\n      description: 'Step 2',\n    },\n\n    {\n      label: 'BC',\n      variable: 'step03',\n      name: 'Step 3',\n      description: 'Step 3',\n    },\n\n    {\n      label: 'BD',\n      variable: 'step04',\n      name: 'Step 4',\n      description: 'Step 4',\n    },\n\n    {\n      label: 'BE',\n      variable: 'step05',\n      name: 'Step 5',\n      description: 'Step 5',\n    },\n\n    {\n      label: 'BF',\n      variable: 'step06',\n      name: 'Step 6',\n      description: 'Step 6',\n    },\n\n    {\n      label: 'BG',\n      variable: 'step07',\n      name: 'Step 7',\n      description: 'Step 7',\n    },\n\n    {\n      label: 'BH',\n      variable: 'step08',\n      name: 'Step 8',\n      description: 'Step 8',\n    },\n\n    {\n      label: 'BI',\n      variable: 'step09',\n      name: 'Step 9',\n      description: 'Step 9',\n    },\n\n    {\n      label: 'BJ',\n      variable: 'step10',\n      name: 'Step 10',\n      description: 'Step 10',\n    },\n\n    {\n      label: 'BK',\n      variable: 'step11',\n      name: 'Step 11',\n      description: 'Step 11',\n    },\n\n    {\n      label: 'BL',\n      variable: 'step12',\n      name: 'Step 12',\n      description: 'Step 12',\n    },\n\n    {\n      label: 'BM',\n      variable: 'step13',\n      name: 'Step 13',\n      description: 'Step 13',\n    },\n\n    {\n      label: 'BN',\n      variable: 'step14',\n      name: 'Step 14',\n      description: 'Step 14',\n    },\n\n    {\n      label: 'BO',\n      variable: 'step15',\n      name: 'Step 15',\n      description: 'Step 15',\n    },\n\n    {\n      label: 'BP',\n      variable: 'step16',\n      name: 'Step 16',\n      description: 'Step 16',\n    },\n  ],\n  events: [\n    {\n      id: 1,\n      name: 'Arduino boot',\n      description: '',\n    },\n    {\n      id: 2,\n      name: 'Set safe mode',\n      description: '',\n    },\n    {\n      id: 3,\n      name: 'Status enable',\n      description:\n        'bits: 0: pid, 1: stepper, 2: pump 1, 3: pump 2, 4: pumpo 3, 5: pump 4, 6: ph, 7: gas, 8: sedimentation, 9: filling, 10: emptying, 11: ph calibration, 12: acid addition, 13: base addition',\n      flags: {\n        0: 'Heating control',\n        1: 'Agitation control',\n        2: 'Food control 1',\n        3: 'Food control 2',\n        4: 'Food control 3',\n        5: 'Food control 4',\n        6: 'pH control',\n        7: 'Gas control',\n        8: 'Sedimentation stage',\n        9: 'Filling pump',\n        10: 'Emptying pump',\n        11: 'pH calibration',\n        12: 'Acid addition',\n        13: 'Base addition',\n      },\n    },\n    {\n      id: 4,\n      name: 'Status disable',\n      description:\n        'bits: 0: pid, 1: stepper, 2: pump 1, 3: pump 2, 4: pumpo 3, 5: pump 4, 6: ph, 7: gas, 8: sedimentation, 9: filling, 10: emptying, 11: ph calibration, 12: acid addition, 13: base addition',\n      flags: {\n        0: 'Heating control',\n        1: 'Agitation control',\n        2: 'Food control 1',\n        3: 'Food control 2',\n        4: 'Food control 3',\n        5: 'Food control 4',\n        6: 'pH control',\n        7: 'Gas control',\n        8: 'Sedimentation stage',\n        9: 'Filling pump',\n        10: 'Emptying pump',\n        11: 'pH calibration',\n        12: 'Acid addition',\n        13: 'Base addition',\n      },\n    },\n    {\n      id: 6,\n      name: 'Error: failed',\n      description: `\n            bit 0: pcb probe, 1: liquid probe 1, 2: liquid probe 2, 3: pcb temperature, 4: liquid temperature 1, 5: liquid temperature 2, 6: target temp. range, 7: weight range`,\n      writable: true,\n      flags: {\n        0: 'Pcb probe failed (one wire not answering)',\n        1: 'Liquid probe in the top failed (one wire not answering)',\n        2: 'Liquid probe in the bottom failed (one wire not answering)',\n        3: 'Temperature of PCB is out of range',\n        4: 'Temperature of liquid in the top is out of range',\n        5: 'Temperature of liquid in the bottom is out of range',\n        6: 'Target temperature is out of range',\n        7: 'Weight out of range',\n      },\n    },\n    {\n      id: 7,\n      name: 'Error: recover',\n      description: `\n            bit 0: pcb probe, 1: liquid probe 1, 2: liquid probe 2, 3: pcb temperature, 4: liquid temperature 1, 5: liquid temperature 2, 6: target temp. range, 7: weight range`,\n      writable: true,\n      flags: {\n        0: 'Pcb probe failed (one wire not answering)',\n        1: 'Liquid probe in the top failed (one wire not answering)',\n        2: 'Liquid probe in the bottom failed (one wire not answering)',\n        3: 'Temperature of PCB is out of range',\n        4: 'Temperature of liquid in the top is out of range',\n        5: 'Temperature of liquid in the bottom is out of range',\n        6: 'Target temperature is out of range',\n        7: 'Weight out of range',\n      },\n    },\n    {\n      id: 20,\n      name: 'Rotation start',\n      description: '',\n    },\n    {\n      id: 21,\n      name: 'Rotation stop',\n      description: '',\n    },\n    {\n      id: 150,\n      name: 'Not found log entry N',\n      description: '',\n    },\n    {\n      id: 255,\n      name: 'Save all parameters',\n      description: '',\n    },\n    {\n      id: 256,\n      name: 'Change value of A',\n      description: '',\n    },\n    {\n      id: 257,\n      name: 'Change value of B',\n      description: '',\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Open spectrophotometer',\n  kind: 'OpenSpectro',\n  numberParameters: 26,\n  id: 'S',\n  description: '',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      name: 'Red point',\n      description: 'which point of the linear detector is the maximum for red',\n      factor: 1,\n      unit: 'pixel#',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      name: 'Green point',\n      description:\n        'which point of the linear detector is the maximum for green',\n      factor: 1,\n      unit: 'pixel#',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      name: 'Blue point',\n      description: 'which point of the linear detector is the maximum for blue',\n      factor: 1,\n      unit: 'pixel#',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      name: 'Compression',\n      description: '0 means no compression, can be set',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n    {\n      label: 'E',\n      name: 'R-Intensity',\n      description: 'Red led intensity (0 to 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'F',\n      name: 'G-Intensity',\n      description: 'Green led intensity (0 to 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'G',\n      name: 'B-Intensity',\n      description: 'Blue led intensity (0 to 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'H',\n      name: 'Scan#',\n      description: 'Number of scans (maximum 64)',\n      factor: 1,\n      unit: '',\n      min: 1,\n      max: 64,\n      writable: true,\n    },\n\n    {\n      label: 'I',\n      name: 'DelayExp',\n      description: 'Delay between experiments in seconds',\n      factor: 1,\n      unit: 's',\n      writable: false,\n    },\n\n    {\n      label: 'J',\n      name: 'Acq Time',\n      description: 'Accumulation time in ms(in ms, good value=30)',\n      factor: 1,\n      unit: 'ms',\n      writable: true,\n    },\n\n    {\n      label: 'K',\n      name: 'lambda-R',\n      description: 'Red maximum wavelength (nm)',\n      factor: 1,\n      unit: 'nm',\n      writable: false,\n    },\n\n    {\n      label: 'L',\n      name: 'lambda-G',\n      description: 'Green maximum wavelength (nm)',\n      factor: 1,\n      unit: 'nm',\n      writable: false,\n    },\n\n    {\n      label: 'M',\n      name: 'lambda-M',\n      description: 'Blue maximum wavelength (nm)',\n      factor: 1,\n      unit: 'nm',\n      writable: false,\n    },\n\n    {\n      label: 'U',\n      name: 'red test',\n      description: 'Set intensity of red led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'V',\n      name: 'green test',\n      description: 'Set intensity of green led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'W',\n      name: 'blue test',\n      description: 'Set intensity of blue led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'X',\n      name: 'white test',\n      description: 'Set intensity of white led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n    {\n      label: 'Y',\n    },\n    {\n      label: 'Z',\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Simple spectrophotometer',\n  kind: 'SimpleSpectro',\n  numberParameters: 26,\n  description: '',\n  id: 'T',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      name: 'Transmission of sample (Red)',\n      description: 'Frequency related to the energy of red led through sample',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      name: 'Transmission of sample (Green)',\n      description:\n        'Frequency related to the energy of green led through sample',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      name: 'Transmission of sample (Blue)',\n      description: 'Frequency related to the energy of blue led through sample',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      name: 'Emission of sample (Blue)',\n      description:\n        'Frequency related to the energy of blue perpendicular led re-emitted by sample (fluorescence)',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'F',\n      name: 'Transmission of blank (Red)',\n      description: 'Frequency related to the energy of red led through blank',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'G',\n      name: 'Transmission of blank (Green)',\n      description: 'Frequency related to the energy of green led through blank',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'H',\n      name: 'Transmission of blank (Blue)',\n      description: 'Frequency related to the energy of blue led through blank',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'I',\n      name: 'Emission of blank (Blue)',\n      description:\n        'Frequency related to the energy of blue perpendicular led re-emitted by blank (fluorescence)',\n      factor: 1,\n      unit: 'Hz',\n      writable: false,\n    },\n\n    {\n      label: 'K',\n      name: 'Delay before blank',\n      description: 'Delay before the acquisition of the blank in seconds',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'L',\n      name: 'Delay before sample',\n      description: 'Delay before the acquisition of the sample in seconds',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'M',\n      name: 'Delay between experiments',\n      description:\n        'Delay between the acquisition of the experiments (kinetic) in seconds',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'N',\n      name: 'Nb experiments',\n      description:\n        'Number of experiments for kinetic (max 240 / (number colors + 1))',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'O',\n      name: 'Next exp. number',\n      description: 'Number of the next experiment',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'P',\n      name: 'Waiting time',\n      description: 'Current waiting time before next experiment',\n      factor: 1,\n      unit: 's',\n      writable: false,\n    },\n\n    {\n      label: 'Q',\n      name: 'Nb sampling',\n      description:\n        'Number of acquisitions of 100ms that will be taken (default 10). This value could be reduced for fast kinetic',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'R',\n      name: 'Invert rotary',\n      description: ' Invert the rotary button direction',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'S',\n      name: 'Battery voltage',\n      description: 'Current battery voltage',\n      factor: 100,\n      unit: 'V',\n      writable: true,\n    },\n\n    {\n      label: 'T',\n      name: 'Temperature',\n      description: 'Current temperature',\n      factor: 100,\n      unit: '°C',\n      writable: true,\n    },\n\n    {\n      label: 'V',\n      name: 'Active channels',\n      description:\n        'Active leds and other. A number between 0 and 63. Each bit represents a function (Red, Green, Blue, UV, Voltage, Temperature). 5 would correspond to Red and Blue (binary combination).',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'W',\n      name: 'Error',\n      description: 'Error',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'X',\n      name: 'Result channel',\n      description: 'Value of the channel that will be displayed in the result',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'Y',\n      name: 'Status',\n      description: 'Status',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n\n    {\n      label: 'Z',\n      name: 'Current menu',\n      description: 'Current menu',\n      factor: 1,\n      unit: '',\n      writable: true,\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Solar decathlon 2015',\n  kind: 'Solar',\n  numberParameters: 4,\n  numberLogParameters: 4,\n  id: '#',\n  description: '',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      name: 'Temperature',\n      description: '',\n      factor: 100,\n      unit: '°C',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      name: 'Light',\n      description: '',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      name: 'Pressure',\n      description: '',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      name: 'Humidity',\n      description: '',\n      factor: 10,\n      unit: '%',\n      writable: false,\n    },\n  ],\n};\n","'use strict';\n\n/**\n * add possibly missing parameters in the array\n * @param {*} device\n * @returns\n */\nfunction ensureAllParameters(device) {\n  const existingParameters = device.parameters;\n  let currentPosition = 0;\n  const parameters = [];\n  for (let parameter of existingParameters) {\n    if (!parameter.label) {\n      throw new Error(`missing label for ${JSON.stringify(parameter)}`);\n    }\n    const labelPosition = labelToNumber(parameter.label);\n    if (labelPosition < currentPosition) {\n      throw new Error(\n        `expectedPosition > currentPosition for ${JSON.stringify(parameter)}`,\n      );\n    }\n    while (labelPosition > currentPosition) {\n      parameters.push(undefined);\n      currentPosition++;\n    }\n    parameters.push(parameter);\n    currentPosition++;\n  }\n  device.parameters = parameters;\n  return device;\n}\n\nfunction labelToNumber(code) {\n  let value = 0;\n  for (let char of code) {\n    value *= 26;\n    value += char.charCodeAt(0) - 64;\n  }\n  return value - 1;\n}\n\nmodule.exports = ensureAllParameters;\n","'use strict';\n\nconst ensureAllParameters = require('./ensureAllParameters.js');\n\nlet devices = {\n  OpenBio: ensureAllParameters(require('./devices/OpenBio')),\n  OpenBio6: ensureAllParameters(require('./devices/OpenBio6')),\n  OpenSpectro: ensureAllParameters(require('./devices/OpenSpectro')),\n  SimpleSpectro: ensureAllParameters(require('./devices/SimpleSpectro')),\n  Solar2015: ensureAllParameters(require('./devices/Solar2015')),\n  Beemos: ensureAllParameters(require('./devices/Beemos')),\n  Computer: ensureAllParameters(require('./devices/Computer')),\n  fromDeviceID,\n};\n\n/**\n * Return a device information from the deviceID\n * @param {string|number} id\n * @returns\n */\nfunction fromDeviceID(id) {\n  if (typeof id === 'number') {\n    id = String.fromCharCode((id / 256) >> 0) + String.fromCharCode(id % 256);\n  }\n  if (typeof id !== 'string') {\n    throw Error('Device ID not a string or number');\n  }\n  if (id.length !== 2) {\n    throw Error(\n      `Device ID should be 2 character long and found: ${id.ldength}`,\n    );\n  }\n  const firstCharacter = id.substring(0, 1);\n  for (let key in devices) {\n    if (devices[key].id === firstCharacter) {\n      return ensureAllParameters(devices[key]);\n    }\n  }\n  return undefined;\n}\n\nmodule.exports = devices;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nmodule.exports = asciiWords;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nmodule.exports = createCaseFirst;\n","var arrayReduce = require('./_arrayReduce'),\n    deburr = require('./deburr'),\n    words = require('./words');\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nmodule.exports = createCompounder;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nmodule.exports = deburrLetter;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nmodule.exports = hasUnicodeWord;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nmodule.exports = unicodeWords;\n","var capitalize = require('./capitalize'),\n    createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\nmodule.exports = camelCase;\n","var toString = require('./toString'),\n    upperFirst = require('./upperFirst');\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\nmodule.exports = capitalize;\n","var deburrLetter = require('./_deburrLetter'),\n    toString = require('./toString');\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('déjà vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nmodule.exports = deburr;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * The opposite of `_.mapValues`; this method creates an object with the\n * same values as `object` and keys generated by running each own enumerable\n * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n * with three arguments: (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapValues\n * @example\n *\n * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n *   return key + value;\n * });\n * // => { 'a1': 1, 'b2': 2 }\n */\nfunction mapKeys(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, iteratee(value, key, object), value);\n  });\n  return result;\n}\n\nmodule.exports = mapKeys;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nmodule.exports = snakeCase;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var createCaseFirst = require('./_createCaseFirst');\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nmodule.exports = upperFirst;\n","var asciiWords = require('./_asciiWords'),\n    hasUnicodeWord = require('./_hasUnicodeWord'),\n    toString = require('./toString'),\n    unicodeWords = require('./_unicodeWords');\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nmodule.exports = words;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import immediate from 'immediate';\nimport Md5 from 'spark-md5';\nimport { v4 } from 'uuid';\nimport vuvuzela from 'vuvuzela';\nimport EE from 'events';\n\nfunction mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.keys = function () {\n  return Object.keys(this._store).map(k => unmangle(k));\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date && isFinite(object)) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return function (...args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  };\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return function (...args) {\n    // Clone arguments\n    args = clone(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  };\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(function (...args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  });\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new ExportedMap();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nvar hasLocal;\n\ntry {\n  localStorage.setItem('_pouch_check_localstorage', 1);\n  hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n} catch (e) {\n  hasLocal = false;\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n\nclass Changes extends EE {\n  constructor() {\n    super();\n    \n    this._listeners = {};\n    \n    if (hasLocalStorage()) {\n      addEventListener(\"storage\", function (e) {\n        this.emit(e.key);\n      });\n    }\n  }\n\n  addListener(dbName, id, db, opts) {\n    if (this._listeners[id]) {\n      return;\n    }\n    var inprogress = false;\n    var self = this;\n    function eventFunction() {\n      if (!self._listeners[id]) {\n        return;\n      }\n      if (inprogress) {\n        inprogress = 'waiting';\n        return;\n      }\n      inprogress = true;\n      var changesOpts = pick(opts, [\n        'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n        'doc_ids', 'view', 'since', 'query_params', 'binary', 'return_docs'\n      ]);\n  \n      function onError() {\n        inprogress = false;\n      }\n  \n      db.changes(changesOpts).on('change', function (c) {\n        if (c.seq > opts.since && !opts.cancelled) {\n          opts.since = c.seq;\n          opts.onChange(c);\n        }\n      }).on('complete', function () {\n        if (inprogress === 'waiting') {\n          immediate(eventFunction);\n        }\n        inprogress = false;\n      }).on('error', onError);\n    }\n    this._listeners[id] = eventFunction;\n    this.on(dbName, eventFunction);\n  }\n  \n  removeListener(dbName, id) {\n    if (!(id in this._listeners)) {\n      return;\n    }\n    super.removeListener(dbName, this._listeners[id]);\n    delete this._listeners[id];\n  }\n  \n  notifyLocalWindows(dbName) {\n    //do a useless change on a storage thing\n    //in order to get other windows's listeners to activate\n    if (hasLocalStorage()) {\n      localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n    }\n  }\n  \n  notify(dbName) {\n    this.emit(dbName);\n    this.notifyLocalWindows(dbName);\n  }\n}\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (typeof console !== 'undefined' && typeof console[method] === 'function') {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar $inject_Object_assign = assign;\n\nclass PouchError extends Error {\n  constructor(status, error, reason) {\n    super();\n    this.status = status;\n    this.name = error;\n    this.message = reason;\n    this.error = true;\n  }\n\n  toString() {\n    return JSON.stringify({\n      status: this.status,\n      name: this.name,\n      message: this.message,\n      reason: this.reason\n    });\n  }\n}\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    var names = Object.getOwnPropertyNames(error);\n    for (var i = 0, len = names.length; i < len; i++) {\n      if (typeof error[names[i]] !== 'function') {\n        this[names[i]] = error[names[i]];\n      }\n    }\n\n    if (this.stack === undefined) {\n      this.stack = (new Error()).stack;\n    }\n\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  if (!('stack' in err)) {\n    err.stack = (new Error()).stack;\n  }\n\n  return err;\n}\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (Object.prototype.hasOwnProperty.call(change.doc._attachments, att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EE.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (Object.prototype.hasOwnProperty.call(scope, key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return db.get(docId)\n    .catch(function (err) {\n      /* istanbul ignore next */\n      if (err.status !== 404) {\n        throw err;\n      }\n      return {};\n    })\n    .then(function (doc) {\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return {updated: false, rev: docRev};\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      return tryAndPut(db, newDoc, diffFun);\n    });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nvar thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\n\nvar setImmediateShim = self.setImmediate || self.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return thisBtoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\n/**\n * Creates a new revision string that does NOT include the revision height\n * For example '56649f1b0506c6ca9fda0746eb0cacdf'\n */\nfunction rev$$1(doc, deterministic_revs) {\n  if (!deterministic_revs) {\n    return v4().replace(/-/g, '').toLowerCase();\n  }\n\n  var mutateableDoc = $inject_Object_assign({}, doc);\n  delete mutateableDoc._rev_tree;\n  return stringMd5(JSON.stringify(mutateableDoc));\n}\n\nvar uuid = v4; // mimic old import, only v4 is ever used elsewhere\n\n// We fetch all leafs of the revision tree, and sort them based on tree length\n// and whether they were deleted, undeleted documents with the longest revision\n// tree (most edits) win\n// The final sort algorithm is slightly documented in a sidebar here:\n// http://guide.couchdb.org/draft/conflicts.html\nfunction winningRev(metadata) {\n  var winningId;\n  var winningPos;\n  var winningDeleted;\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var tree = node.ids;\n    var branches = tree[2];\n    var pos = node.pos;\n    if (branches.length) { // non-leaf\n      for (var i = 0, len = branches.length; i < len; i++) {\n        toVisit.push({pos: pos + 1, ids: branches[i]});\n      }\n      continue;\n    }\n    var deleted = !!tree[1].deleted;\n    var id = tree[0];\n    // sort by deleted, then pos, then id\n    if (!winningId || (winningDeleted !== deleted ? winningDeleted :\n        winningPos !== pos ? winningPos < pos : winningId < id)) {\n      winningId = id;\n      winningPos = pos;\n      winningDeleted = deleted;\n    }\n  }\n\n  return winningPos + '-' + winningId;\n}\n\n// Pretty much all below can be combined into a higher order function to\n// traverse revisions\n// The return value from the callback will be passed as context to all\n// children of that node\nfunction traverseRevTree(revs, callback) {\n  var toVisit = revs.slice();\n\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var branches = tree[2];\n    var newCtx =\n      callback(branches.length === 0, pos, tree[0], node.ctx, tree[1]);\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], ctx: newCtx});\n    }\n  }\n}\n\nfunction sortByPos(a, b) {\n  return a.pos - b.pos;\n}\n\nfunction collectLeaves(revs) {\n  var leaves = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, acc, opts) {\n    if (isLeaf) {\n      leaves.push({rev: pos + \"-\" + id, pos: pos, opts: opts});\n    }\n  });\n  leaves.sort(sortByPos).reverse();\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    delete leaves[i].pos;\n  }\n  return leaves;\n}\n\n// returns revs of all conflicts that is leaves such that\n// 1. are not deleted and\n// 2. are different than winning revision\nfunction collectConflicts(metadata) {\n  var win = winningRev(metadata);\n  var leaves = collectLeaves(metadata.rev_tree);\n  var conflicts = [];\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    var leaf = leaves[i];\n    if (leaf.rev !== win && !leaf.opts.deleted) {\n      conflicts.push(leaf.rev);\n    }\n  }\n  return conflicts;\n}\n\n// compact a tree by marking its non-leafs as missing,\n// and return a list of revs to delete\nfunction compactTree(metadata) {\n  var revs = [];\n  traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                               revHash, ctx, opts) {\n    if (opts.status === 'available' && !isLeaf) {\n      revs.push(pos + '-' + revHash);\n      opts.status = 'missing';\n    }\n  });\n  return revs;\n}\n\n// `findPathToLeaf()` returns an array of revs that goes from the specified\n// leaf rev to the root of that leaf’s branch.\n//\n// eg. for this rev tree:\n// 1-9692 ▶ 2-37aa ▶ 3-df22 ▶ 4-6e94 ▶ 5-df4a ▶ 6-6a3a ▶ 7-57e5\n//          ┃                 ┗━━━━━━▶ 5-8d8c ▶ 6-65e0\n//          ┗━━━━━━▶ 3-43f6 ▶ 4-a3b4\n//\n// For a `targetRev` of '7-57e5', `findPathToLeaf()` would return ['7-57e5', '6-6a3a', '5-df4a']\n// The `revs` arument has the same structure as what `revs_tree` has on e.g.\n// the IndexedDB representation of the rev tree datastructure. Please refer to\n// tests/unit/test.purge.js for examples of what these look like.\n//\n// This function will throw an error if:\n// - The requested revision does not exist\n// - The requested revision is not a leaf\nfunction findPathToLeaf(revs, targetRev) {\n  let path = [];\n  const toVisit = revs.slice();\n\n  let node;\n  while ((node = toVisit.pop())) {\n    const { pos, ids: tree } = node;\n    const rev = `${pos}-${tree[0]}`;\n    const branches = tree[2];\n\n    // just assuming we're already working on the path up towards our desired leaf.\n    path.push(rev);\n\n    // we've reached the leaf of our dreams, so return the computed path.\n    if (rev === targetRev) {\n      //…unleeeeess\n      if (branches.length !== 0) {\n        throw new Error('The requested revision is not a leaf');\n      }\n      return path.reverse();\n    }\n\n    // this is based on the assumption that after we have a leaf (`branches.length == 0`), we handle the next\n    // branch. this is true for all branches other than the path leading to the winning rev (which is 7-57e5 in\n    // the example above. i've added a reset condition for branching nodes (`branches.length > 1`) as well.\n    if (branches.length === 0 || branches.length > 1) {\n      path = [];\n    }\n\n    // as a next step, we push the branches of this node to `toVisit` for visiting it during the next iteration\n    for (let i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({ pos: pos + 1, ids: branches[i] });\n    }\n  }\n  if (path.length === 0) {\n    throw new Error('The requested revision does not exist');\n  }\n  return path.reverse();\n}\n\n// build up a list of all the paths to the leafs in this revision tree\nfunction rootToLeaf(revs) {\n  var paths = [];\n  var toVisit = revs.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, opts: opts});\n    if (isLeaf) {\n      paths.push({pos: (pos + 1 - history.length), ids: history});\n    }\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], history: history});\n    }\n  }\n  return paths.reverse();\n}\n\n// for a better overview of what this is doing, read:\n\nfunction sortByPos$1(a, b) {\n  return a.pos - b.pos;\n}\n\n// classic binary search\nfunction binarySearch(arr, item, comparator) {\n  var low = 0;\n  var high = arr.length;\n  var mid;\n  while (low < high) {\n    mid = (low + high) >>> 1;\n    if (comparator(arr[mid], item) < 0) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  return low;\n}\n\n// assuming the arr is sorted, insert the item in the proper place\nfunction insertSorted(arr, item, comparator) {\n  var idx = binarySearch(arr, item, comparator);\n  arr.splice(idx, 0, item);\n}\n\n// Turn a path as a flat array into a tree with a single branch.\n// If any should be stemmed from the beginning of the array, that's passed\n// in as the second argument\nfunction pathToTree(path, numStemmed) {\n  var root;\n  var leaf;\n  for (var i = numStemmed, len = path.length; i < len; i++) {\n    var node = path[i];\n    var currentLeaf = [node.id, node.opts, []];\n    if (leaf) {\n      leaf[2].push(currentLeaf);\n      leaf = currentLeaf;\n    } else {\n      root = leaf = currentLeaf;\n    }\n  }\n  return root;\n}\n\n// compare the IDs of two trees\nfunction compareTree(a, b) {\n  return a[0] < b[0] ? -1 : 1;\n}\n\n// Merge two trees together\n// The roots of tree1 and tree2 must be the same revision\nfunction mergeTree(in_tree1, in_tree2) {\n  var queue = [{tree1: in_tree1, tree2: in_tree2}];\n  var conflicts = false;\n  while (queue.length > 0) {\n    var item = queue.pop();\n    var tree1 = item.tree1;\n    var tree2 = item.tree2;\n\n    if (tree1[1].status || tree2[1].status) {\n      tree1[1].status =\n        (tree1[1].status ===  'available' ||\n        tree2[1].status === 'available') ? 'available' : 'missing';\n    }\n\n    for (var i = 0; i < tree2[2].length; i++) {\n      if (!tree1[2][0]) {\n        conflicts = 'new_leaf';\n        tree1[2][0] = tree2[2][i];\n        continue;\n      }\n\n      var merged = false;\n      for (var j = 0; j < tree1[2].length; j++) {\n        if (tree1[2][j][0] === tree2[2][i][0]) {\n          queue.push({tree1: tree1[2][j], tree2: tree2[2][i]});\n          merged = true;\n        }\n      }\n      if (!merged) {\n        conflicts = 'new_branch';\n        insertSorted(tree1[2], tree2[2][i], compareTree);\n      }\n    }\n  }\n  return {conflicts: conflicts, tree: in_tree1};\n}\n\nfunction doMerge(tree, path, dontExpand) {\n  var restree = [];\n  var conflicts = false;\n  var merged = false;\n  var res;\n\n  if (!tree.length) {\n    return {tree: [path], conflicts: 'new_leaf'};\n  }\n\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var branch = tree[i];\n    if (branch.pos === path.pos && branch.ids[0] === path.ids[0]) {\n      // Paths start at the same position and have the same root, so they need\n      // merged\n      res = mergeTree(branch.ids, path.ids);\n      restree.push({pos: branch.pos, ids: res.tree});\n      conflicts = conflicts || res.conflicts;\n      merged = true;\n    } else if (dontExpand !== true) {\n      // The paths start at a different position, take the earliest path and\n      // traverse up until it as at the same point from root as the path we\n      // want to merge.  If the keys match we return the longer path with the\n      // other merged After stemming we dont want to expand the trees\n\n      var t1 = branch.pos < path.pos ? branch : path;\n      var t2 = branch.pos < path.pos ? path : branch;\n      var diff = t2.pos - t1.pos;\n\n      var candidateParents = [];\n\n      var trees = [];\n      trees.push({ids: t1.ids, diff: diff, parent: null, parentIdx: null});\n      while (trees.length > 0) {\n        var item = trees.pop();\n        if (item.diff === 0) {\n          if (item.ids[0] === t2.ids[0]) {\n            candidateParents.push(item);\n          }\n          continue;\n        }\n        var elements = item.ids[2];\n        for (var j = 0, elementsLen = elements.length; j < elementsLen; j++) {\n          trees.push({\n            ids: elements[j],\n            diff: item.diff - 1,\n            parent: item.ids,\n            parentIdx: j\n          });\n        }\n      }\n\n      var el = candidateParents[0];\n\n      if (!el) {\n        restree.push(branch);\n      } else {\n        res = mergeTree(el.ids, t2.ids);\n        el.parent[2][el.parentIdx] = res.tree;\n        restree.push({pos: t1.pos, ids: t1.ids});\n        conflicts = conflicts || res.conflicts;\n        merged = true;\n      }\n    } else {\n      restree.push(branch);\n    }\n  }\n\n  // We didnt find\n  if (!merged) {\n    restree.push(path);\n  }\n\n  restree.sort(sortByPos$1);\n\n  return {\n    tree: restree,\n    conflicts: conflicts || 'internal_node'\n  };\n}\n\n// To ensure we dont grow the revision tree infinitely, we stem old revisions\nfunction stem(tree, depth) {\n  // First we break out the tree into a complete list of root to leaf paths\n  var paths = rootToLeaf(tree);\n  var stemmedRevs;\n\n  var result;\n  for (var i = 0, len = paths.length; i < len; i++) {\n    // Then for each path, we cut off the start of the path based on the\n    // `depth` to stem to, and generate a new set of flat trees\n    var path = paths[i];\n    var stemmed = path.ids;\n    var node;\n    if (stemmed.length > depth) {\n      // only do the stemming work if we actually need to stem\n      if (!stemmedRevs) {\n        stemmedRevs = {}; // avoid allocating this object unnecessarily\n      }\n      var numStemmed = stemmed.length - depth;\n      node = {\n        pos: path.pos + numStemmed,\n        ids: pathToTree(stemmed, numStemmed)\n      };\n\n      for (var s = 0; s < numStemmed; s++) {\n        var rev = (path.pos + s) + '-' + stemmed[s].id;\n        stemmedRevs[rev] = true;\n      }\n    } else { // no need to actually stem\n      node = {\n        pos: path.pos,\n        ids: pathToTree(stemmed, 0)\n      };\n    }\n\n    // Then we remerge all those flat trees together, ensuring that we dont\n    // connect trees that would go beyond the depth limit\n    if (result) {\n      result = doMerge(result, node, true).tree;\n    } else {\n      result = [node];\n    }\n  }\n\n  // this is memory-heavy per Chrome profiler, avoid unless we actually stemmed\n  if (stemmedRevs) {\n    traverseRevTree(result, function (isLeaf, pos, revHash) {\n      // some revisions may have been removed in a branch but not in another\n      delete stemmedRevs[pos + '-' + revHash];\n    });\n  }\n\n  return {\n    tree: result,\n    revs: stemmedRevs ? Object.keys(stemmedRevs) : []\n  };\n}\n\nfunction merge(tree, path, depth) {\n  var newTree = doMerge(tree, path);\n  var stemmed = stem(newTree.tree, depth);\n  return {\n    tree: stemmed.tree,\n    stemmedRevs: stemmed.revs,\n    conflicts: newTree.conflicts\n  };\n}\n\n// return true if a rev exists in the rev tree, false otherwise\nfunction revExists(revs, rev) {\n  var toVisit = revs.slice();\n  var splitRev = rev.split('-');\n  var targetPos = parseInt(splitRev[0], 10);\n  var targetId = splitRev[1];\n\n  var node;\n  while ((node = toVisit.pop())) {\n    if (node.pos === targetPos && node.ids[0] === targetId) {\n      return true;\n    }\n    var branches = node.ids[2];\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: node.pos + 1, ids: branches[i]});\n    }\n  }\n  return false;\n}\n\nfunction getTrees(node) {\n  return node.ids;\n}\n\n// check if a specific revision of a doc has been deleted\n//  - metadata: the metadata object from the doc store\n//  - rev: (optional) the revision to check. defaults to winning revision\nfunction isDeleted(metadata, rev) {\n  if (!rev) {\n    rev = winningRev(metadata);\n  }\n  var id = rev.substring(rev.indexOf('-') + 1);\n  var toVisit = metadata.rev_tree.map(getTrees);\n\n  var tree;\n  while ((tree = toVisit.pop())) {\n    if (tree[0] === id) {\n      return !!tree[1].deleted;\n    }\n    toVisit = toVisit.concat(tree[2]);\n  }\n}\n\nfunction isLocalId(id) {\n  return (/^_local/).test(id);\n}\n\n// returns the current leaf node for a given revision\nfunction latest(rev, metadata) {\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, pos: pos, opts: opts});\n\n    if (isLeaf) {\n      for (var i = 0, len = history.length; i < len; i++) {\n        var historyNode = history[i];\n        var historyRev = historyNode.pos + '-' + historyNode.id;\n\n        if (historyRev === rev) {\n          // return the rev of this leaf\n          return pos + '-' + id;\n        }\n      }\n    }\n\n    for (var j = 0, l = branches.length; j < l; j++) {\n      toVisit.push({pos: pos + 1, ids: branches[j], history: history});\n    }\n  }\n\n  /* istanbul ignore next */\n  throw new Error('Unable to resolve latest revision for id ' + metadata.id + ', rev ' + rev);\n}\n\nfunction tryCatchInChangeListener(self, change, pending, lastSeq) {\n  // isolate try/catches to avoid V8 deoptimizations\n  try {\n    self.emit('change', change, pending, lastSeq);\n  } catch (e) {\n    guardedConsole('error', 'Error in .on(\"change\", function):', e);\n  }\n}\n\nfunction processChange(doc, metadata, opts) {\n  var changeList = [{rev: doc._rev}];\n  if (opts.style === 'all_docs') {\n    changeList = collectLeaves(metadata.rev_tree)\n    .map(function (x) { return {rev: x.rev}; });\n  }\n  var change = {\n    id: metadata.id,\n    changes: changeList,\n    doc: doc\n  };\n\n  if (isDeleted(metadata, doc._rev)) {\n    change.deleted = true;\n  }\n  if (opts.conflicts) {\n    change.doc._conflicts = collectConflicts(metadata);\n    if (!change.doc._conflicts.length) {\n      delete change.doc._conflicts;\n    }\n  }\n  return change;\n}\n\nclass Changes$1 extends EE {\n  constructor(db, opts, callback) {\n    super();\n    this.db = db;\n    opts = opts ? clone(opts) : {};\n    var complete = opts.complete = once((err, resp) => {\n      if (err) {\n        if (listenerCount(this, 'error') > 0) {\n          this.emit('error', err);\n        }\n      } else {\n        this.emit('complete', resp);\n      }\n      this.removeAllListeners();\n      db.removeListener('destroyed', onDestroy);\n    });\n    if (callback) {\n      this.on('complete', function (resp) {\n        callback(null, resp);\n      });\n      this.on('error', callback);\n    }\n    const onDestroy = () => {\n      this.cancel();\n    };\n    db.once('destroyed', onDestroy);\n  \n    opts.onChange = (change, pending, lastSeq) => {\n      /* istanbul ignore if */\n      if (this.isCancelled) {\n        return;\n      }\n      tryCatchInChangeListener(this, change, pending, lastSeq);\n    };\n  \n    var promise = new Promise(function (fulfill, reject) {\n      opts.complete = function (err, res) {\n        if (err) {\n          reject(err);\n        } else {\n          fulfill(res);\n        }\n      };\n    });\n    this.once('cancel', function () {\n      db.removeListener('destroyed', onDestroy);\n      opts.complete(null, {status: 'cancelled'});\n    });\n    this.then = promise.then.bind(promise);\n    this['catch'] = promise['catch'].bind(promise);\n    this.then(function (result) {\n      complete(null, result);\n    }, complete);\n  \n  \n  \n    if (!db.taskqueue.isReady) {\n      db.taskqueue.addTask((failed) => {\n        if (failed) {\n          opts.complete(failed);\n        } else if (this.isCancelled) {\n          this.emit('cancel');\n        } else {\n          this.validateChanges(opts);\n        }\n      });\n    } else {\n      this.validateChanges(opts);\n    }\n  }\n\n  cancel() {\n    this.isCancelled = true;\n    if (this.db.taskqueue.isReady) {\n      this.emit('cancel');\n    }\n  }\n\n  validateChanges(opts) {\n    var callback = opts.complete;\n  \n    /* istanbul ignore else */\n    if (PouchDB._changesFilterPlugin) {\n      PouchDB._changesFilterPlugin.validate(opts, (err) => {\n        if (err) {\n          return callback(err);\n        }\n        this.doChanges(opts);\n      });\n    } else {\n      this.doChanges(opts);\n    }\n  }\n\n  doChanges(opts) {\n    var callback = opts.complete;\n  \n    opts = clone(opts);\n    if ('live' in opts && !('continuous' in opts)) {\n      opts.continuous = opts.live;\n    }\n    opts.processChange = processChange;\n  \n    if (opts.since === 'latest') {\n      opts.since = 'now';\n    }\n    if (!opts.since) {\n      opts.since = 0;\n    }\n    if (opts.since === 'now') {\n      this.db.info().then((info) => {\n        /* istanbul ignore if */\n        if (this.isCancelled) {\n          callback(null, {status: 'cancelled'});\n          return;\n        }\n        opts.since = info.update_seq;\n        this.doChanges(opts);\n      }, callback);\n      return;\n    }\n  \n    /* istanbul ignore else */\n    if (PouchDB._changesFilterPlugin) {\n      PouchDB._changesFilterPlugin.normalize(opts);\n      if (PouchDB._changesFilterPlugin.shouldFilter(this, opts)) {\n        return PouchDB._changesFilterPlugin.filter(this, opts);\n      }\n    } else {\n      ['doc_ids', 'filter', 'selector', 'view'].forEach(function (key) {\n        if (key in opts) {\n          guardedConsole('warn',\n            'The \"' + key + '\" option was passed in to changes/replicate, ' +\n            'but pouchdb-changes-filter plugin is not installed, so it ' +\n            'was ignored. Please install the plugin to enable filtering.'\n          );\n        }\n      });\n    }\n  \n    if (!('descending' in opts)) {\n      opts.descending = false;\n    }\n  \n    // 0 and 1 should return 1 document\n    opts.limit = opts.limit === 0 ? 1 : opts.limit;\n    opts.complete = callback;\n    var newPromise = this.db._changes(opts);\n    /* istanbul ignore else */\n    if (newPromise && typeof newPromise.cancel === 'function') {\n      const cancel = this.cancel;\n      this.cancel = (...args) => {\n        newPromise.cancel();\n        cancel.apply(this, args);\n      };\n    }\n  }\n}\n\n/*\n * A generic pouch adapter\n */\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Wrapper for functions that call the bulkdocs api with a single doc,\n// if the first result is an error, return an error\nfunction yankError(callback, docId) {\n  return function (err, results) {\n    if (err || (results[0] && results[0].error)) {\n      err = err || results[0];\n      err.docId = docId;\n      callback(err);\n    } else {\n      callback(null, results.length ? results[0]  : results);\n    }\n  };\n}\n\n// clean docs given to us by the user\nfunction cleanDocs(docs) {\n  for (var i = 0; i < docs.length; i++) {\n    var doc = docs[i];\n    if (doc._deleted) {\n      delete doc._attachments; // ignore atts for deleted docs\n    } else if (doc._attachments) {\n      // filter out extraneous keys from _attachments\n      var atts = Object.keys(doc._attachments);\n      for (var j = 0; j < atts.length; j++) {\n        var att = atts[j];\n        doc._attachments[att] = pick(doc._attachments[att],\n          ['data', 'digest', 'content_type', 'length', 'revpos', 'stub']);\n      }\n    }\n  }\n}\n\n// compare two docs, first by _id then by _rev\nfunction compareByIdThenRev(a, b) {\n  var idCompare = compare(a._id, b._id);\n  if (idCompare !== 0) {\n    return idCompare;\n  }\n  var aStart = a._revisions ? a._revisions.start : 0;\n  var bStart = b._revisions ? b._revisions.start : 0;\n  return compare(aStart, bStart);\n}\n\n// for every node in a revision tree computes its distance from the closest\n// leaf\nfunction computeHeight(revs) {\n  var height = {};\n  var edges = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, prnt) {\n    var rev = pos + \"-\" + id;\n    if (isLeaf) {\n      height[rev] = 0;\n    }\n    if (prnt !== undefined) {\n      edges.push({from: prnt, to: rev});\n    }\n    return rev;\n  });\n\n  edges.reverse();\n  edges.forEach(function (edge) {\n    if (height[edge.from] === undefined) {\n      height[edge.from] = 1 + height[edge.to];\n    } else {\n      height[edge.from] = Math.min(height[edge.from], 1 + height[edge.to]);\n    }\n  });\n  return height;\n}\n\nfunction allDocsKeysParse(opts) {\n  var keys =  ('limit' in opts) ?\n    opts.keys.slice(opts.skip, opts.limit + opts.skip) :\n    (opts.skip > 0) ? opts.keys.slice(opts.skip) : opts.keys;\n  opts.keys = keys;\n  opts.skip = 0;\n  delete opts.limit;\n  if (opts.descending) {\n    keys.reverse();\n    opts.descending = false;\n  }\n}\n\n// all compaction is done in a queue, to avoid attaching\n// too many listeners at once\nfunction doNextCompaction(self) {\n  var task = self._compactionQueue[0];\n  var opts = task.opts;\n  var callback = task.callback;\n  self.get('_local/compaction').catch(function () {\n    return false;\n  }).then(function (doc) {\n    if (doc && doc.last_seq) {\n      opts.last_seq = doc.last_seq;\n    }\n    self._compact(opts, function (err, res) {\n      /* istanbul ignore if */\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, res);\n      }\n      immediate(function () {\n        self._compactionQueue.shift();\n        if (self._compactionQueue.length) {\n          doNextCompaction(self);\n        }\n      });\n    });\n  });\n}\n\nfunction appendPurgeSeq(db, docId, rev) {\n  return db.get('_local/purges').then(function (doc) {\n    const purgeSeq = doc.purgeSeq + 1;\n    doc.purges.push({\n      docId,\n      rev,\n      purgeSeq,\n    });\n    if (doc.purges.length > self.purged_infos_limit) {\n      doc.purges.splice(0, doc.purges.length - self.purged_infos_limit);\n    }\n    doc.purgeSeq = purgeSeq;\n    return doc;\n  }).catch(function (err) {\n    if (err.status !== 404) {\n      throw err;\n    }\n    return {\n      _id: '_local/purges',\n      purges: [{\n        docId,\n        rev,\n        purgeSeq: 0,\n      }],\n      purgeSeq: 0,\n    };\n  }).then(function (doc) {\n    return db.put(doc);\n  });\n}\n\nfunction attachmentNameError(name) {\n  if (name.charAt(0) === '_') {\n    return name + ' is not a valid attachment name, attachment ' +\n      'names cannot start with \\'_\\'';\n  }\n  return false;\n}\n\nclass AbstractPouchDB extends EE {\n  _setup() {\n    this.post = adapterFun('post', function (doc, opts, callback) {\n      if (typeof opts === 'function') {\n        callback = opts;\n        opts = {};\n      }\n      if (typeof doc !== 'object' || Array.isArray(doc)) {\n        return callback(createError(NOT_AN_OBJECT));\n      }\n      this.bulkDocs({docs: [doc]}, opts, yankError(callback, doc._id));\n    }).bind(this);\n\n    this.put = adapterFun('put', function (doc, opts, cb) {\n      if (typeof opts === 'function') {\n        cb = opts;\n        opts = {};\n      }\n      if (typeof doc !== 'object' || Array.isArray(doc)) {\n        return cb(createError(NOT_AN_OBJECT));\n      }\n      invalidIdError(doc._id);\n      if (isLocalId(doc._id) && typeof this._putLocal === 'function') {\n        if (doc._deleted) {\n          return this._removeLocal(doc, cb);\n        } else {\n          return this._putLocal(doc, cb);\n        }\n      }\n\n      const putDoc = (next) => {\n        if (typeof this._put === 'function' && opts.new_edits !== false) {\n          this._put(doc, opts, next);\n        } else {\n          this.bulkDocs({docs: [doc]}, opts, yankError(next, doc._id));\n        }\n      };\n\n      if (opts.force && doc._rev) {\n        transformForceOptionToNewEditsOption();\n        putDoc(function (err) {\n          var result = err ? null : {ok: true, id: doc._id, rev: doc._rev};\n          cb(err, result);\n        });\n      } else {\n        putDoc(cb);\n      }\n\n      function transformForceOptionToNewEditsOption() {\n        var parts = doc._rev.split('-');\n        var oldRevId = parts[1];\n        var oldRevNum = parseInt(parts[0], 10);\n\n        var newRevNum = oldRevNum + 1;\n        var newRevId = rev$$1();\n\n        doc._revisions = {\n          start: newRevNum,\n          ids: [newRevId, oldRevId]\n        };\n        doc._rev = newRevNum + '-' + newRevId;\n        opts.new_edits = false;\n      }\n    }).bind(this);\n\n    this.putAttachment = adapterFun('putAttachment', function (docId, attachmentId, rev, blob, type) {\n      var api = this;\n      if (typeof type === 'function') {\n        type = blob;\n        blob = rev;\n        rev = null;\n      }\n      // Lets fix in https://github.com/pouchdb/pouchdb/issues/3267\n      /* istanbul ignore if */\n      if (typeof type === 'undefined') {\n        type = blob;\n        blob = rev;\n        rev = null;\n      }\n      if (!type) {\n        guardedConsole('warn', 'Attachment', attachmentId, 'on document', docId, 'is missing content_type');\n      }\n\n      function createAttachment(doc) {\n        var prevrevpos = '_rev' in doc ? parseInt(doc._rev, 10) : 0;\n        doc._attachments = doc._attachments || {};\n        doc._attachments[attachmentId] = {\n          content_type: type,\n          data: blob,\n          revpos: ++prevrevpos\n        };\n        return api.put(doc);\n      }\n\n      return api.get(docId).then(function (doc) {\n        if (doc._rev !== rev) {\n          throw createError(REV_CONFLICT);\n        }\n\n        return createAttachment(doc);\n      }, function (err) {\n        // create new doc\n        /* istanbul ignore else */\n        if (err.reason === MISSING_DOC.message) {\n          return createAttachment({_id: docId});\n        } else {\n          throw err;\n        }\n      });\n    }).bind(this);\n\n    this.removeAttachment = adapterFun('removeAttachment', function (docId, attachmentId, rev, callback) {\n      this.get(docId, (err, obj) => {\n        /* istanbul ignore if */\n        if (err) {\n          callback(err);\n          return;\n        }\n        if (obj._rev !== rev) {\n          callback(createError(REV_CONFLICT));\n          return;\n        }\n        /* istanbul ignore if */\n        if (!obj._attachments) {\n          return callback();\n        }\n        delete obj._attachments[attachmentId];\n        if (Object.keys(obj._attachments).length === 0) {\n          delete obj._attachments;\n        }\n        this.put(obj, callback);\n      });\n    }).bind(this);\n\n    this.remove = adapterFun('remove', function (docOrId, optsOrRev, opts, callback) {\n      var doc;\n      if (typeof optsOrRev === 'string') {\n        // id, rev, opts, callback style\n        doc = {\n          _id: docOrId,\n          _rev: optsOrRev\n        };\n        if (typeof opts === 'function') {\n          callback = opts;\n          opts = {};\n        }\n      } else {\n        // doc, opts, callback style\n        doc = docOrId;\n        if (typeof optsOrRev === 'function') {\n          callback = optsOrRev;\n          opts = {};\n        } else {\n          callback = opts;\n          opts = optsOrRev;\n        }\n      }\n      opts = opts || {};\n      opts.was_delete = true;\n      var newDoc = {_id: doc._id, _rev: (doc._rev || opts.rev)};\n      newDoc._deleted = true;\n      if (isLocalId(newDoc._id) && typeof this._removeLocal === 'function') {\n        return this._removeLocal(doc, callback);\n      }\n      this.bulkDocs({docs: [newDoc]}, opts, yankError(callback, newDoc._id));\n    }).bind(this);\n\n    this.revsDiff = adapterFun('revsDiff', function (req, opts, callback) {\n      if (typeof opts === 'function') {\n        callback = opts;\n        opts = {};\n      }\n      var ids = Object.keys(req);\n\n      if (!ids.length) {\n        return callback(null, {});\n      }\n\n      var count = 0;\n      var missing = new ExportedMap();\n\n      function addToMissing(id, revId) {\n        if (!missing.has(id)) {\n          missing.set(id, {missing: []});\n        }\n        missing.get(id).missing.push(revId);\n      }\n\n      function processDoc(id, rev_tree) {\n        // Is this fast enough? Maybe we should switch to a set simulated by a map\n        var missingForId = req[id].slice(0);\n        traverseRevTree(rev_tree, function (isLeaf, pos, revHash, ctx,\n          opts) {\n            var rev = pos + '-' + revHash;\n            var idx = missingForId.indexOf(rev);\n            if (idx === -1) {\n              return;\n            }\n\n            missingForId.splice(idx, 1);\n            /* istanbul ignore if */\n            if (opts.status !== 'available') {\n              addToMissing(id, rev);\n            }\n          });\n\n        // Traversing the tree is synchronous, so now `missingForId` contains\n        // revisions that were not found in the tree\n        missingForId.forEach(function (rev) {\n          addToMissing(id, rev);\n        });\n      }\n\n      ids.map(function (id) {\n        this._getRevisionTree(id, function (err, rev_tree) {\n          if (err && err.status === 404 && err.message === 'missing') {\n            missing.set(id, {missing: req[id]});\n          } else if (err) {\n            /* istanbul ignore next */\n            return callback(err);\n          } else {\n            processDoc(id, rev_tree);\n          }\n\n          if (++count === ids.length) {\n            // convert LazyMap to object\n            var missingObj = {};\n            missing.forEach(function (value, key) {\n              missingObj[key] = value;\n            });\n            return callback(null, missingObj);\n          }\n        });\n      }, this);\n    }).bind(this);\n\n    // _bulk_get API for faster replication, as described in\n    // https://github.com/apache/couchdb-chttpd/pull/33\n    // At the \"abstract\" level, it will just run multiple get()s in\n    // parallel, because this isn't much of a performance cost\n    // for local databases (except the cost of multiple transactions, which is\n    // small). The http adapter overrides this in order\n    // to do a more efficient single HTTP request.\n    this.bulkGet = adapterFun('bulkGet', function (opts, callback) {\n      bulkGet(this, opts, callback);\n    }).bind(this);\n\n    // compact one document and fire callback\n    // by compacting we mean removing all revisions which\n    // are further from the leaf in revision tree than max_height\n    this.compactDocument = adapterFun('compactDocument', function (docId, maxHeight, callback) {\n      this._getRevisionTree(docId, (err, revTree) => {\n        /* istanbul ignore if */\n        if (err) {\n          return callback(err);\n        }\n        var height = computeHeight(revTree);\n        var candidates = [];\n        var revs = [];\n        Object.keys(height).forEach(function (rev) {\n          if (height[rev] > maxHeight) {\n            candidates.push(rev);\n          }\n        });\n\n        traverseRevTree(revTree, function (isLeaf, pos, revHash, ctx, opts) {\n          var rev = pos + '-' + revHash;\n          if (opts.status === 'available' && candidates.indexOf(rev) !== -1) {\n            revs.push(rev);\n          }\n        });\n        this._doCompaction(docId, revs, callback);\n      });\n    }).bind(this);\n\n    // compact the whole database using single document\n    // compaction\n    this.compact = adapterFun('compact', function (opts, callback) {\n      if (typeof opts === 'function') {\n        callback = opts;\n        opts = {};\n      }\n\n      opts = opts || {};\n\n      this._compactionQueue = this._compactionQueue || [];\n      this._compactionQueue.push({opts: opts, callback: callback});\n      if (this._compactionQueue.length === 1) {\n        doNextCompaction(this);\n      }\n    }).bind(this);\n\n    /* Begin api wrappers. Specific functionality to storage belongs in the _[method] */\n    this.get = adapterFun('get', function (id, opts, cb) {\n      if (typeof opts === 'function') {\n        cb = opts;\n        opts = {};\n      }\n      if (typeof id !== 'string') {\n        return cb(createError(INVALID_ID));\n      }\n      if (isLocalId(id) && typeof this._getLocal === 'function') {\n        return this._getLocal(id, cb);\n      }\n      var leaves = [];\n\n      const finishOpenRevs = () => {\n        var result = [];\n        var count = leaves.length;\n        /* istanbul ignore if */\n        if (!count) {\n          return cb(null, result);\n        }\n\n        // order with open_revs is unspecified\n        leaves.forEach((leaf) => {\n          this.get(id, {\n            rev: leaf,\n            revs: opts.revs,\n            latest: opts.latest,\n            attachments: opts.attachments,\n            binary: opts.binary\n          }, function (err, doc) {\n            if (!err) {\n              // using latest=true can produce duplicates\n              var existing;\n              for (var i = 0, l = result.length; i < l; i++) {\n                if (result[i].ok && result[i].ok._rev === doc._rev) {\n                  existing = true;\n                  break;\n                }\n              }\n              if (!existing) {\n                result.push({ok: doc});\n              }\n            } else {\n              result.push({missing: leaf});\n            }\n            count--;\n            if (!count) {\n              cb(null, result);\n            }\n          });\n        });\n      };\n\n      if (opts.open_revs) {\n        if (opts.open_revs === \"all\") {\n          this._getRevisionTree(id, function (err, rev_tree) {\n            /* istanbul ignore if */\n            if (err) {\n              return cb(err);\n            }\n            leaves = collectLeaves(rev_tree).map(function (leaf) {\n              return leaf.rev;\n            });\n            finishOpenRevs();\n          });\n        } else {\n          if (Array.isArray(opts.open_revs)) {\n            leaves = opts.open_revs;\n            for (var i = 0; i < leaves.length; i++) {\n              var l = leaves[i];\n              // looks like it's the only thing couchdb checks\n              if (!(typeof (l) === \"string\" && /^\\d+-/.test(l))) {\n                return cb(createError(INVALID_REV));\n              }\n            }\n            finishOpenRevs();\n          } else {\n            return cb(createError(UNKNOWN_ERROR, 'function_clause'));\n          }\n        }\n        return; // open_revs does not like other options\n      }\n\n      return this._get(id, opts, (err, result) => {\n        if (err) {\n          err.docId = id;\n          return cb(err);\n        }\n\n        var doc = result.doc;\n        var metadata = result.metadata;\n        var ctx = result.ctx;\n\n        if (opts.conflicts) {\n          var conflicts = collectConflicts(metadata);\n          if (conflicts.length) {\n            doc._conflicts = conflicts;\n          }\n        }\n\n        if (isDeleted(metadata, doc._rev)) {\n          doc._deleted = true;\n        }\n\n        if (opts.revs || opts.revs_info) {\n          var splittedRev = doc._rev.split('-');\n          var revNo       = parseInt(splittedRev[0], 10);\n          var revHash     = splittedRev[1];\n\n          var paths = rootToLeaf(metadata.rev_tree);\n          var path = null;\n\n          for (var i = 0; i < paths.length; i++) {\n            var currentPath = paths[i];\n            var hashIndex = currentPath.ids.map(function (x) { return x.id; })\n              .indexOf(revHash);\n            var hashFoundAtRevPos = hashIndex === (revNo - 1);\n\n            if (hashFoundAtRevPos || (!path && hashIndex !== -1)) {\n              path = currentPath;\n            }\n          }\n\n          /* istanbul ignore if */\n          if (!path) {\n            err = new Error('invalid rev tree');\n            err.docId = id;\n            return cb(err);\n          }\n\n          var indexOfRev = path.ids.map(function (x) { return x.id; })\n            .indexOf(doc._rev.split('-')[1]) + 1;\n          var howMany = path.ids.length - indexOfRev;\n          path.ids.splice(indexOfRev, howMany);\n          path.ids.reverse();\n\n          if (opts.revs) {\n            doc._revisions = {\n              start: (path.pos + path.ids.length) - 1,\n              ids: path.ids.map(function (rev) {\n                return rev.id;\n              })\n            };\n          }\n          if (opts.revs_info) {\n            var pos =  path.pos + path.ids.length;\n            doc._revs_info = path.ids.map(function (rev) {\n              pos--;\n              return {\n                rev: pos + '-' + rev.id,\n                status: rev.opts.status\n              };\n            });\n          }\n        }\n\n        if (opts.attachments && doc._attachments) {\n          var attachments = doc._attachments;\n          var count = Object.keys(attachments).length;\n          if (count === 0) {\n            return cb(null, doc);\n          }\n          Object.keys(attachments).forEach((key) => {\n            this._getAttachment(doc._id, key, attachments[key], {\n              // Previously the revision handling was done in adapter.js\n              // getAttachment, however since idb-next doesnt we need to\n              // pass the rev through\n              rev: doc._rev,\n              binary: opts.binary,\n              ctx: ctx\n            }, function (err, data) {\n              var att = doc._attachments[key];\n              att.data = data;\n              delete att.stub;\n              delete att.length;\n              if (!--count) {\n                cb(null, doc);\n              }\n            });\n          });\n        } else {\n          if (doc._attachments) {\n            for (var key in doc._attachments) {\n              /* istanbul ignore else */\n              if (Object.prototype.hasOwnProperty.call(doc._attachments, key)) {\n                doc._attachments[key].stub = true;\n              }\n            }\n          }\n          cb(null, doc);\n        }\n      });\n    }).bind(this);\n\n    // TODO: I dont like this, it forces an extra read for every\n    // attachment read and enforces a confusing api between\n    // adapter.js and the adapter implementation\n    this.getAttachment = adapterFun('getAttachment', function (docId, attachmentId, opts, callback) {\n      if (opts instanceof Function) {\n        callback = opts;\n        opts = {};\n      }\n      this._get(docId, opts, (err, res) => {\n        if (err) {\n          return callback(err);\n        }\n        if (res.doc._attachments && res.doc._attachments[attachmentId]) {\n          opts.ctx = res.ctx;\n          opts.binary = true;\n          this._getAttachment(docId, attachmentId,\n                              res.doc._attachments[attachmentId], opts, callback);\n        } else {\n          return callback(createError(MISSING_DOC));\n        }\n      });\n    }).bind(this);\n\n    this.allDocs = adapterFun('allDocs', function (opts, callback) {\n      if (typeof opts === 'function') {\n        callback = opts;\n        opts = {};\n      }\n      opts.skip = typeof opts.skip !== 'undefined' ? opts.skip : 0;\n      if (opts.start_key) {\n        opts.startkey = opts.start_key;\n      }\n      if (opts.end_key) {\n        opts.endkey = opts.end_key;\n      }\n      if ('keys' in opts) {\n        if (!Array.isArray(opts.keys)) {\n          return callback(new TypeError('options.keys must be an array'));\n        }\n        var incompatibleOpt =\n          ['startkey', 'endkey', 'key'].filter(function (incompatibleOpt) {\n          return incompatibleOpt in opts;\n        })[0];\n        if (incompatibleOpt) {\n          callback(createError(QUERY_PARSE_ERROR,\n            'Query parameter `' + incompatibleOpt +\n            '` is not compatible with multi-get'\n          ));\n          return;\n        }\n        if (!isRemote(this)) {\n          allDocsKeysParse(opts);\n          if (opts.keys.length === 0) {\n            return this._allDocs({limit: 0}, callback);\n          }\n        }\n      }\n\n      return this._allDocs(opts, callback);\n    }).bind(this);\n\n    this.close = adapterFun('close', function (callback) {\n      this._closed = true;\n      this.emit('closed');\n      return this._close(callback);\n    }).bind(this);\n\n    this.info = adapterFun('info', function (callback) {\n      this._info((err, info) => {\n        if (err) {\n          return callback(err);\n        }\n        // assume we know better than the adapter, unless it informs us\n        info.db_name = info.db_name || this.name;\n        info.auto_compaction = !!(this.auto_compaction && !isRemote(this));\n        info.adapter = this.adapter;\n        callback(null, info);\n      });\n    }).bind(this);\n\n    this.id = adapterFun('id', function (callback) {\n      return this._id(callback);\n    }).bind(this);\n\n    this.bulkDocs = adapterFun('bulkDocs', function (req, opts, callback) {\n      if (typeof opts === 'function') {\n        callback = opts;\n        opts = {};\n      }\n\n      opts = opts || {};\n\n      if (Array.isArray(req)) {\n        req = {\n          docs: req\n        };\n      }\n\n      if (!req || !req.docs || !Array.isArray(req.docs)) {\n        return callback(createError(MISSING_BULK_DOCS));\n      }\n\n      for (var i = 0; i < req.docs.length; ++i) {\n        if (typeof req.docs[i] !== 'object' || Array.isArray(req.docs[i])) {\n          return callback(createError(NOT_AN_OBJECT));\n        }\n      }\n\n      var attachmentError;\n      req.docs.forEach(function (doc) {\n        if (doc._attachments) {\n          Object.keys(doc._attachments).forEach(function (name) {\n            attachmentError = attachmentError || attachmentNameError(name);\n            if (!doc._attachments[name].content_type) {\n              guardedConsole('warn', 'Attachment', name, 'on document', doc._id, 'is missing content_type');\n            }\n          });\n        }\n      });\n\n      if (attachmentError) {\n        return callback(createError(BAD_REQUEST, attachmentError));\n      }\n\n      if (!('new_edits' in opts)) {\n        if ('new_edits' in req) {\n          opts.new_edits = req.new_edits;\n        } else {\n          opts.new_edits = true;\n        }\n      }\n\n      var adapter = this;\n      if (!opts.new_edits && !isRemote(adapter)) {\n        // ensure revisions of the same doc are sorted, so that\n        // the local adapter processes them correctly (#2935)\n        req.docs.sort(compareByIdThenRev);\n      }\n\n      cleanDocs(req.docs);\n\n      // in the case of conflicts, we want to return the _ids to the user\n      // however, the underlying adapter may destroy the docs array, so\n      // create a copy here\n      var ids = req.docs.map(function (doc) {\n        return doc._id;\n      });\n\n      this._bulkDocs(req, opts, function (err, res) {\n        if (err) {\n          return callback(err);\n        }\n        if (!opts.new_edits) {\n          // this is what couch does when new_edits is false\n          res = res.filter(function (x) {\n            return x.error;\n          });\n        }\n        // add ids for error/conflict responses (not required for CouchDB)\n        if (!isRemote(adapter)) {\n          for (var i = 0, l = res.length; i < l; i++) {\n            res[i].id = res[i].id || ids[i];\n          }\n        }\n\n        callback(null, res);\n      });\n    }).bind(this);\n\n    this.registerDependentDatabase = adapterFun('registerDependentDatabase', function (dependentDb, callback) {\n      var dbOptions = clone(this.__opts);\n      if (this.__opts.view_adapter) {\n        dbOptions.adapter = this.__opts.view_adapter;\n      }\n\n      var depDB = new this.constructor(dependentDb, dbOptions);\n\n      function diffFun(doc) {\n        doc.dependentDbs = doc.dependentDbs || {};\n        if (doc.dependentDbs[dependentDb]) {\n          return false; // no update required\n        }\n        doc.dependentDbs[dependentDb] = true;\n        return doc;\n      }\n      upsert(this, '_local/_pouch_dependentDbs', diffFun).then(function () {\n        callback(null, {db: depDB});\n      }).catch(callback);\n    }).bind(this);\n\n    this.destroy = adapterFun('destroy', function (opts, callback) {\n\n      if (typeof opts === 'function') {\n        callback = opts;\n        opts = {};\n      }\n\n      var usePrefix = 'use_prefix' in this ? this.use_prefix : true;\n\n      const destroyDb = () => {\n        // call destroy method of the particular adaptor\n        this._destroy(opts, (err, resp) => {\n          if (err) {\n            return callback(err);\n          }\n          this._destroyed = true;\n          this.emit('destroyed');\n          callback(null, resp || { 'ok': true });\n        });\n      };\n\n      if (isRemote(this)) {\n        // no need to check for dependent DBs if it's a remote DB\n        return destroyDb();\n      }\n\n      this.get('_local/_pouch_dependentDbs', (err, localDoc) => {\n        if (err) {\n          /* istanbul ignore if */\n          if (err.status !== 404) {\n            return callback(err);\n          } else { // no dependencies\n            return destroyDb();\n          }\n        }\n        var dependentDbs = localDoc.dependentDbs;\n        var PouchDB = this.constructor;\n        var deletedMap = Object.keys(dependentDbs).map((name) => {\n          // use_prefix is only false in the browser\n          /* istanbul ignore next */\n          var trueName = usePrefix ?\n            name.replace(new RegExp('^' + PouchDB.prefix), '') : name;\n          return new PouchDB(trueName, this.__opts).destroy();\n        });\n        Promise.all(deletedMap).then(destroyDb, callback);\n      });\n    }).bind(this);\n  }\n\n  _compact(opts, callback) {\n    var changesOpts = {\n      return_docs: false,\n      last_seq: opts.last_seq || 0\n    };\n    var promises = [];\n\n    var taskId;\n    var compactedDocs = 0;\n\n    const onChange = (row) => {\n      this.activeTasks.update(taskId, {\n        completed_items: ++compactedDocs\n      });\n      promises.push(this.compactDocument(row.id, 0));\n    };\n    const onError = (err) => {\n      this.activeTasks.remove(taskId, err);\n      callback(err);\n    };\n    const onComplete = (resp) => {\n      var lastSeq = resp.last_seq;\n      Promise.all(promises).then(() => {\n        return upsert(this, '_local/compaction', (doc) => {\n          if (!doc.last_seq || doc.last_seq < lastSeq) {\n            doc.last_seq = lastSeq;\n            return doc;\n          }\n          return false; // somebody else got here first, don't update\n        });\n      }).then(() => {\n        this.activeTasks.remove(taskId);\n        callback(null, {ok: true});\n      }).catch(onError);\n    };\n\n    this.info().then((info) => {\n      taskId = this.activeTasks.add({\n        name: 'database_compaction',\n        total_items: info.update_seq - changesOpts.last_seq,\n      });\n\n      this.changes(changesOpts)\n        .on('change', onChange)\n        .on('complete', onComplete)\n        .on('error', onError);\n    });\n  }\n\n  changes(opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n\n    opts = opts || {};\n\n    // By default set return_docs to false if the caller has opts.live = true,\n    // this will prevent us from collecting the set of changes indefinitely\n    // resulting in growing memory\n    opts.return_docs = ('return_docs' in opts) ? opts.return_docs : !opts.live;\n\n    return new Changes$1(this, opts, callback);\n  }\n\n  type() {\n    return (typeof this._type === 'function') ? this._type() : this.adapter;\n  }\n}\n\n// The abstract purge implementation expects a doc id and the rev of a leaf node in that doc.\n// It will return errors if the rev doesn’t exist or isn’t a leaf.\nAbstractPouchDB.prototype.purge = adapterFun('_purge', function (docId, rev, callback) {\n  if (typeof this._purge === 'undefined') {\n    return callback(createError(UNKNOWN_ERROR, 'Purge is not implemented in the ' + this.adapter + ' adapter.'));\n  }\n  var self = this;\n\n  self._getRevisionTree(docId, (error, revs) => {\n    if (error) {\n      return callback(error);\n    }\n    if (!revs) {\n      return callback(createError(MISSING_DOC));\n    }\n    let path;\n    try {\n      path = findPathToLeaf(revs, rev);\n    } catch (error) {\n      return callback(error.message || error);\n    }\n    self._purge(docId, path, (error, result) => {\n      if (error) {\n        return callback(error);\n      } else {\n        appendPurgeSeq(self, docId, rev).then(function () {\n          return callback(null, result);\n        });\n      }\n    });\n  });\n});\n\nclass TaskQueue {\n  constructor() {\n    this.isReady = false;\n    this.failed = false;\n    this.queue = [];\n  }\n\n  execute() {\n    var fun;\n    if (this.failed) {\n      while ((fun = this.queue.shift())) {\n        fun(this.failed);\n      }\n    } else {\n      while ((fun = this.queue.shift())) {\n        fun();\n      }\n    }\n  }\n\n  fail(err) {\n    this.failed = err;\n    this.execute();\n  }\n\n  ready(db) {\n    this.isReady = true;\n    this.db = db;\n    this.execute();\n  }\n\n  addTask(fun) {\n    this.queue.push(fun);\n    if (this.failed) {\n      this.execute();\n    }\n  }\n}\n\nfunction parseAdapter(name, opts) {\n  var match = name.match(/([a-z-]*):\\/\\/(.*)/);\n  if (match) {\n    // the http adapter expects the fully qualified name\n    return {\n      name: /https?/.test(match[1]) ? match[1] + '://' + match[2] : match[2],\n      adapter: match[1]\n    };\n  }\n\n  var adapters = PouchDB.adapters;\n  var preferredAdapters = PouchDB.preferredAdapters;\n  var prefix = PouchDB.prefix;\n  var adapterName = opts.adapter;\n\n  if (!adapterName) { // automatically determine adapter\n    for (var i = 0; i < preferredAdapters.length; ++i) {\n      adapterName = preferredAdapters[i];\n      // check for browsers that have been upgraded from websql-only to websql+idb\n      /* istanbul ignore if */\n      if (adapterName === 'idb' && 'websql' in adapters &&\n          hasLocalStorage() && localStorage['_pouch__websqldb_' + prefix + name]) {\n        // log it, because this can be confusing during development\n        guardedConsole('log', 'PouchDB is downgrading \"' + name + '\" to WebSQL to' +\n          ' avoid data loss, because it was already opened with WebSQL.');\n        continue; // keep using websql to avoid user data loss\n      }\n      break;\n    }\n  }\n\n  var adapter = adapters[adapterName];\n\n  // if adapter is invalid, then an error will be thrown later\n  var usePrefix = (adapter && 'use_prefix' in adapter) ?\n    adapter.use_prefix : true;\n\n  return {\n    name: usePrefix ? (prefix + name) : name,\n    adapter: adapterName\n  };\n}\n\nfunction inherits(A, B) {\n  A.prototype = Object.create(B.prototype, {\n    constructor: { value: A }\n  });\n}\n\nfunction createClass(parent, init) {\n  let klass = function (...args) {\n    if (!(this instanceof klass)) {\n      return new klass(...args);\n    }\n    init.apply(this, args);\n  };\n  inherits(klass, parent);\n  return klass;\n}\n\n// OK, so here's the deal. Consider this code:\n//     var db1 = new PouchDB('foo');\n//     var db2 = new PouchDB('foo');\n//     db1.destroy();\n// ^ these two both need to emit 'destroyed' events,\n// as well as the PouchDB constructor itself.\n// So we have one db object (whichever one got destroy() called on it)\n// responsible for emitting the initial event, which then gets emitted\n// by the constructor, which then broadcasts it to any other dbs\n// that may have been created with the same name.\nfunction prepareForDestruction(self) {\n\n  function onDestroyed(from_constructor) {\n    self.removeListener('closed', onClosed);\n    if (!from_constructor) {\n      self.constructor.emit('destroyed', self.name);\n    }\n  }\n\n  function onClosed() {\n    self.removeListener('destroyed', onDestroyed);\n    self.constructor.emit('unref', self);\n  }\n\n  self.once('destroyed', onDestroyed);\n  self.once('closed', onClosed);\n  self.constructor.emit('ref', self);\n}\n\nclass PouchInternal extends AbstractPouchDB {\n  constructor(name, opts) {\n    super();\n    this._setup(name, opts);\n  }\n\n  _setup(name, opts) {\n    super._setup();\n    opts = opts || {};\n\n    if (name && typeof name === 'object') {\n      opts = name;\n      name = opts.name;\n      delete opts.name;\n    }\n\n    if (opts.deterministic_revs === undefined) {\n      opts.deterministic_revs = true;\n    }\n\n    this.__opts = opts = clone(opts);\n\n    this.auto_compaction = opts.auto_compaction;\n    this.purged_infos_limit = opts.purged_infos_limit || 1000;\n    this.prefix = PouchDB.prefix;\n\n    if (typeof name !== 'string') {\n      throw new Error('Missing/invalid DB name');\n    }\n\n    var prefixedName = (opts.prefix || '') + name;\n    var backend = parseAdapter(prefixedName, opts);\n\n    opts.name = backend.name;\n    opts.adapter = opts.adapter || backend.adapter;\n\n    this.name = name;\n    this._adapter = opts.adapter;\n    PouchDB.emit('debug', ['adapter', 'Picked adapter: ', opts.adapter]);\n\n    if (!PouchDB.adapters[opts.adapter] ||\n        !PouchDB.adapters[opts.adapter].valid()) {\n      throw new Error('Invalid Adapter: ' + opts.adapter);\n    }\n\n    if (opts.view_adapter) {\n      if (!PouchDB.adapters[opts.view_adapter] ||\n          !PouchDB.adapters[opts.view_adapter].valid()) {\n        throw new Error('Invalid View Adapter: ' + opts.view_adapter);\n      }\n    }\n\n    this.taskqueue = new TaskQueue();\n\n    this.adapter = opts.adapter;\n\n    PouchDB.adapters[opts.adapter].call(this, opts, (err) => {\n      if (err) {\n        return this.taskqueue.fail(err);\n      }\n      prepareForDestruction(this);\n\n      this.emit('created', this);\n      PouchDB.emit('created', this.name);\n      this.taskqueue.ready(this);\n    });\n  }\n}\n\nconst PouchDB = createClass(PouchInternal, function (name, opts) {\n  PouchInternal.prototype._setup.call(this, name, opts);\n});\n\n// AbortController was introduced quite a while after fetch and\n// isnt required for PouchDB to function so polyfill if needed\nvar a = (typeof AbortController !== 'undefined')\n    ? AbortController\n    : function () { return {abort: function () {}}; };\n\nvar f$1 = fetch;\nvar h = Headers;\n\nclass ActiveTasks {\n  constructor() {\n    this.tasks = {};\n  }\n\n  list() {\n    return Object.values(this.tasks);\n  }\n\n  add(task) {\n    const id = v4();\n    this.tasks[id] = {\n      id,\n      name: task.name,\n      total_items: task.total_items,\n      created_at: new Date().toJSON()\n    };\n    return id;\n  }\n\n  get(id) {\n    return this.tasks[id];\n  }\n\n  /* eslint-disable no-unused-vars */\n  remove(id, reason) {\n    delete this.tasks[id];\n    return this.tasks;\n  }\n\n  update(id, updatedTask) {\n    const task = this.tasks[id];\n    if (typeof task !== 'undefined') {\n      const mergedTask = {\n        id: task.id,\n        name: task.name,\n        created_at: task.created_at,\n        total_items: updatedTask.total_items || task.total_items,\n        completed_items: updatedTask.completed_items || task.completed_items,\n        updated_at: new Date().toJSON()\n      };\n      this.tasks[id] = mergedTask;\n    }\n    return this.tasks;\n  }\n}\n\nPouchDB.adapters = {};\nPouchDB.preferredAdapters = [];\n\nPouchDB.prefix = '_pouch_';\n\nvar eventEmitter = new EE();\n\nfunction setUpEventEmitter(Pouch) {\n  Object.keys(EE.prototype).forEach(function (key) {\n    if (typeof EE.prototype[key] === 'function') {\n      Pouch[key] = eventEmitter[key].bind(eventEmitter);\n    }\n  });\n\n  // these are created in constructor.js, and allow us to notify each DB with\n  // the same name that it was destroyed, via the constructor object\n  var destructListeners = Pouch._destructionListeners = new ExportedMap();\n\n  Pouch.on('ref', function onConstructorRef(db) {\n    if (!destructListeners.has(db.name)) {\n      destructListeners.set(db.name, []);\n    }\n    destructListeners.get(db.name).push(db);\n  });\n\n  Pouch.on('unref', function onConstructorUnref(db) {\n    if (!destructListeners.has(db.name)) {\n      return;\n    }\n    var dbList = destructListeners.get(db.name);\n    var pos = dbList.indexOf(db);\n    if (pos < 0) {\n      /* istanbul ignore next */\n      return;\n    }\n    dbList.splice(pos, 1);\n    if (dbList.length > 1) {\n      /* istanbul ignore next */\n      destructListeners.set(db.name, dbList);\n    } else {\n      destructListeners.delete(db.name);\n    }\n  });\n\n  Pouch.on('destroyed', function onConstructorDestroyed(name) {\n    if (!destructListeners.has(name)) {\n      return;\n    }\n    var dbList = destructListeners.get(name);\n    destructListeners.delete(name);\n    dbList.forEach(function (db) {\n      db.emit('destroyed',true);\n    });\n  });\n}\n\nsetUpEventEmitter(PouchDB);\n\nPouchDB.adapter = function (id, obj, addToPreferredAdapters) {\n  /* istanbul ignore else */\n  if (obj.valid()) {\n    PouchDB.adapters[id] = obj;\n    if (addToPreferredAdapters) {\n      PouchDB.preferredAdapters.push(id);\n    }\n  }\n};\n\nPouchDB.plugin = function (obj) {\n  if (typeof obj === 'function') { // function style for plugins\n    obj(PouchDB);\n  } else if (typeof obj !== 'object' || Object.keys(obj).length === 0) {\n    throw new Error('Invalid plugin: got \"' + obj + '\", expected an object or a function');\n  } else {\n    Object.keys(obj).forEach(function (id) { // object style for plugins\n      PouchDB.prototype[id] = obj[id];\n    });\n  }\n  if (this.__defaults) {\n    PouchDB.__defaults = $inject_Object_assign({}, this.__defaults);\n  }\n  return PouchDB;\n};\n\nPouchDB.defaults = function (defaultOpts) {\n  let PouchWithDefaults = createClass(PouchDB, function (name, opts) {\n    opts = opts || {};\n\n    if (name && typeof name === 'object') {\n      opts = name;\n      name = opts.name;\n      delete opts.name;\n    }\n\n    opts = $inject_Object_assign({}, PouchWithDefaults.__defaults, opts);\n    PouchDB.call(this, name, opts);\n  });\n\n  PouchWithDefaults.preferredAdapters = PouchDB.preferredAdapters.slice();\n  Object.keys(PouchDB).forEach(function (key) {\n    if (!(key in PouchWithDefaults)) {\n      PouchWithDefaults[key] = PouchDB[key];\n    }\n  });\n\n  // make default options transitive\n  // https://github.com/pouchdb/pouchdb/issues/5922\n  PouchWithDefaults.__defaults = $inject_Object_assign({}, this.__defaults, defaultOpts);\n\n  return PouchWithDefaults;\n};\n\nPouchDB.fetch = function (url, opts) {\n  return f$1(url, opts);\n};\n\nPouchDB.prototype.activeTasks = PouchDB.activeTasks = new ActiveTasks();\n\n// managed automatically by set-version.js\nvar version = \"8.0.0\";\n\n// this would just be \"return doc[field]\", but fields\n// can be \"deep\" due to dot notation\nfunction getFieldFromDoc(doc, parsedField) {\n  var value = doc;\n  for (var i = 0, len = parsedField.length; i < len; i++) {\n    var key = parsedField[i];\n    value = value[key];\n    if (!value) {\n      break;\n    }\n  }\n  return value;\n}\n\nfunction compare$1(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Converts a string in dot notation to an array of its components, with backslash escaping\nfunction parseField(fieldName) {\n  // fields may be deep (e.g. \"foo.bar.baz\"), so parse\n  var fields = [];\n  var current = '';\n  for (var i = 0, len = fieldName.length; i < len; i++) {\n    var ch = fieldName[i];\n    if (i > 0 && fieldName[i - 1] === '\\\\' && (ch === '$' || ch === '.')) {\n      // escaped delimiter\n      current = current.substring(0, current.length - 1) + ch;\n    } else if (ch === '.') {\n      // When `.` is not escaped (above), it is a field delimiter\n      fields.push(current);\n      current = '';\n    } else { // normal character\n      current += ch;\n    }\n  }\n  fields.push(current);\n  return fields;\n}\n\nvar combinationFields = ['$or', '$nor', '$not'];\nfunction isCombinationalField(field) {\n  return combinationFields.indexOf(field) > -1;\n}\n\nfunction getKey(obj) {\n  return Object.keys(obj)[0];\n}\n\nfunction getValue(obj) {\n  return obj[getKey(obj)];\n}\n\n\n// flatten an array of selectors joined by an $and operator\nfunction mergeAndedSelectors(selectors) {\n\n  // sort to ensure that e.g. if the user specified\n  // $and: [{$gt: 'a'}, {$gt: 'b'}], then it's collapsed into\n  // just {$gt: 'b'}\n  var res = {};\n  var first = {$or: true, $nor: true};\n\n  selectors.forEach(function (selector) {\n    Object.keys(selector).forEach(function (field) {\n      var matcher = selector[field];\n      if (typeof matcher !== 'object') {\n        matcher = {$eq: matcher};\n      }\n\n      if (isCombinationalField(field)) {\n        // or, nor\n        if (matcher instanceof Array) {\n          if (first[field]) {\n            first[field] = false;\n            res[field] = matcher;\n            return;\n          }\n\n          var entries = [];\n          res[field].forEach(function (existing) {\n            Object.keys(matcher).forEach(function (key) {\n              var m = matcher[key];\n              var longest = Math.max(Object.keys(existing).length, Object.keys(m).length);\n              var merged = mergeAndedSelectors([existing, m]);\n              if (Object.keys(merged).length <= longest) {\n                // we have a situation like: (a :{$eq :1} || ...) && (a {$eq: 2} || ...)\n                // merging would produce a $eq 2 when actually we shouldn't ever match against these merged conditions\n                // merged should always contain more values to be valid\n                return;\n              }\n              entries.push(merged);\n            });\n          });\n          res[field] = entries;\n        } else {\n          // not\n          res[field] = mergeAndedSelectors([matcher]);\n        }\n      } else {\n        var fieldMatchers = res[field] = res[field] || {};\n        Object.keys(matcher).forEach(function (operator) {\n          var value = matcher[operator];\n\n          if (operator === '$gt' || operator === '$gte') {\n            return mergeGtGte(operator, value, fieldMatchers);\n          } else if (operator === '$lt' || operator === '$lte') {\n            return mergeLtLte(operator, value, fieldMatchers);\n          } else if (operator === '$ne') {\n            return mergeNe(value, fieldMatchers);\n          } else if (operator === '$eq') {\n            return mergeEq(value, fieldMatchers);\n          } else if (operator === \"$regex\") {\n            return mergeRegex(value, fieldMatchers);\n          }\n          fieldMatchers[operator] = value;\n        });\n      }\n    });\n  });\n\n  return res;\n}\n\n\n\n// collapse logically equivalent gt/gte values\nfunction mergeGtGte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$gte !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gte) { // more specificity\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value >= fieldMatchers.$gte) { // more specificity\n        delete fieldMatchers.$gte;\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$gt !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gt) { // more specificity\n        delete fieldMatchers.$gt;\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value > fieldMatchers.$gt) { // more specificity\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// collapse logically equivalent lt/lte values\nfunction mergeLtLte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$lte !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lte) { // more specificity\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value <= fieldMatchers.$lte) { // more specificity\n        delete fieldMatchers.$lte;\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$lt !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lt) { // more specificity\n        delete fieldMatchers.$lt;\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value < fieldMatchers.$lt) { // more specificity\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// combine $ne values into one array\nfunction mergeNe(value, fieldMatchers) {\n  if ('$ne' in fieldMatchers) {\n    // there are many things this could \"not\" be\n    fieldMatchers.$ne.push(value);\n  } else { // doesn't exist yet\n    fieldMatchers.$ne = [value];\n  }\n}\n\n// add $eq into the mix\nfunction mergeEq(value, fieldMatchers) {\n  // these all have less specificity than the $eq\n  // TODO: check for user errors here\n  delete fieldMatchers.$gt;\n  delete fieldMatchers.$gte;\n  delete fieldMatchers.$lt;\n  delete fieldMatchers.$lte;\n  delete fieldMatchers.$ne;\n  fieldMatchers.$eq = value;\n}\n\n// combine $regex values into one array\nfunction mergeRegex(value, fieldMatchers) {\n  if ('$regex' in fieldMatchers) {\n    // a value could match multiple regexes\n    fieldMatchers.$regex.push(value);\n  } else { // doesn't exist yet\n    fieldMatchers.$regex = [value];\n  }\n}\n\n//#7458: execute function mergeAndedSelectors on nested $and\nfunction mergeAndedSelectorsNested(obj) {\n    for (var prop in obj) {\n        if (Array.isArray(obj)) {\n            for (var i in obj) {\n                if (obj[i]['$and']) {\n                    obj[i] = mergeAndedSelectors(obj[i]['$and']);\n                }\n            }\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            mergeAndedSelectorsNested(value); // <- recursive call\n        }\n    }\n    return obj;\n}\n\n//#7458: determine id $and is present in selector (at any level)\nfunction isAndInSelector(obj, isAnd) {\n    for (var prop in obj) {\n        if (prop === '$and') {\n            isAnd = true;\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            isAnd = isAndInSelector(value, isAnd); // <- recursive call\n        }\n    }\n    return isAnd;\n}\n\n//\n// normalize the selector\n//\nfunction massageSelector(input) {\n  var result = clone(input);\n\n  //#7458: if $and is present in selector (at any level) merge nested $and\n  if (isAndInSelector(result, false)) {\n    result = mergeAndedSelectorsNested(result);\n    if ('$and' in result) {\n      result = mergeAndedSelectors(result['$and']);\n    }\n  }\n\n  ['$or', '$nor'].forEach(function (orOrNor) {\n    if (orOrNor in result) {\n      // message each individual selector\n      // e.g. {foo: 'bar'} becomes {foo: {$eq: 'bar'}}\n      result[orOrNor].forEach(function (subSelector) {\n        var fields = Object.keys(subSelector);\n        for (var i = 0; i < fields.length; i++) {\n          var field = fields[i];\n          var matcher = subSelector[field];\n          if (typeof matcher !== 'object' || matcher === null) {\n            subSelector[field] = {$eq: matcher};\n          }\n        }\n      });\n    }\n  });\n\n  if ('$not' in result) {\n    //This feels a little like forcing, but it will work for now,\n    //I would like to come back to this and make the merging of selectors a little more generic\n    result['$not'] = mergeAndedSelectors([result['$not']]);\n  }\n\n  var fields = Object.keys(result);\n\n  for (var i = 0; i < fields.length; i++) {\n    var field = fields[i];\n    var matcher = result[field];\n\n    if (typeof matcher !== 'object' || matcher === null) {\n      matcher = {$eq: matcher};\n    }\n    result[field] = matcher;\n  }\n\n  normalizeArrayOperators(result);\n\n  return result;\n}\n\n//\n// The $ne and $regex values must be placed in an array because these operators can be used multiple times on the same field.\n// When $and is used, mergeAndedSelectors takes care of putting some of them into arrays, otherwise it's done here.\n//\nfunction normalizeArrayOperators(selector) {\n  Object.keys(selector).forEach(function (field) {\n    var matcher = selector[field];\n\n    if (Array.isArray(matcher)) {\n      matcher.forEach(function (matcherItem) {\n        if (matcherItem && typeof matcherItem === 'object') {\n          normalizeArrayOperators(matcherItem);\n        }\n      });\n    } else if (field === '$ne') {\n      selector.$ne = [matcher];\n    } else if (field === '$regex') {\n      selector.$regex = [matcher];\n    } else if (matcher && typeof matcher === 'object') {\n      normalizeArrayOperators(matcher);\n    }\n  });\n}\n\nfunction pad(str, padWith, upToLength) {\n  var padding = '';\n  var targetLength = upToLength - str.length;\n  /* istanbul ignore next */\n  while (padding.length < targetLength) {\n    padding += padWith;\n  }\n  return padding;\n}\n\nfunction padLeft(str, padWith, upToLength) {\n  var padding = pad(str, padWith, upToLength);\n  return padding + str;\n}\n\nvar MIN_MAGNITUDE = -324; // verified by -Number.MIN_VALUE\nvar MAGNITUDE_DIGITS = 3; // ditto\nvar SEP = ''; // set to '_' for easier debugging\n\nfunction collate(a, b) {\n\n  if (a === b) {\n    return 0;\n  }\n\n  a = normalizeKey(a);\n  b = normalizeKey(b);\n\n  var ai = collationIndex(a);\n  var bi = collationIndex(b);\n  if ((ai - bi) !== 0) {\n    return ai - bi;\n  }\n  switch (typeof a) {\n    case 'number':\n      return a - b;\n    case 'boolean':\n      return a < b ? -1 : 1;\n    case 'string':\n      return stringCollate(a, b);\n  }\n  return Array.isArray(a) ? arrayCollate(a, b) : objectCollate(a, b);\n}\n\n// couch considers null/NaN/Infinity/-Infinity === undefined,\n// for the purposes of mapreduce indexes. also, dates get stringified.\nfunction normalizeKey(key) {\n  switch (typeof key) {\n    case 'undefined':\n      return null;\n    case 'number':\n      if (key === Infinity || key === -Infinity || isNaN(key)) {\n        return null;\n      }\n      return key;\n    case 'object':\n      var origKey = key;\n      if (Array.isArray(key)) {\n        var len = key.length;\n        key = new Array(len);\n        for (var i = 0; i < len; i++) {\n          key[i] = normalizeKey(origKey[i]);\n        }\n      /* istanbul ignore next */\n      } else if (key instanceof Date) {\n        return key.toJSON();\n      } else if (key !== null) { // generic object\n        key = {};\n        for (var k in origKey) {\n          if (Object.prototype.hasOwnProperty.call(origKey, k)) {\n            var val = origKey[k];\n            if (typeof val !== 'undefined') {\n              key[k] = normalizeKey(val);\n            }\n          }\n        }\n      }\n  }\n  return key;\n}\n\nfunction indexify(key) {\n  if (key !== null) {\n    switch (typeof key) {\n      case 'boolean':\n        return key ? 1 : 0;\n      case 'number':\n        return numToIndexableString(key);\n      case 'string':\n        // We've to be sure that key does not contain \\u0000\n        // Do order-preserving replacements:\n        // 0 -> 1, 1\n        // 1 -> 1, 2\n        // 2 -> 2, 2\n        /* eslint-disable no-control-regex */\n        return key\n          .replace(/\\u0002/g, '\\u0002\\u0002')\n          .replace(/\\u0001/g, '\\u0001\\u0002')\n          .replace(/\\u0000/g, '\\u0001\\u0001');\n        /* eslint-enable no-control-regex */\n      case 'object':\n        var isArray = Array.isArray(key);\n        var arr = isArray ? key : Object.keys(key);\n        var i = -1;\n        var len = arr.length;\n        var result = '';\n        if (isArray) {\n          while (++i < len) {\n            result += toIndexableString(arr[i]);\n          }\n        } else {\n          while (++i < len) {\n            var objKey = arr[i];\n            result += toIndexableString(objKey) +\n                toIndexableString(key[objKey]);\n          }\n        }\n        return result;\n    }\n  }\n  return '';\n}\n\n// convert the given key to a string that would be appropriate\n// for lexical sorting, e.g. within a database, where the\n// sorting is the same given by the collate() function.\nfunction toIndexableString(key) {\n  var zero = '\\u0000';\n  key = normalizeKey(key);\n  return collationIndex(key) + SEP + indexify(key) + zero;\n}\n\nfunction parseNumber(str, i) {\n  var originalIdx = i;\n  var num;\n  var zero = str[i] === '1';\n  if (zero) {\n    num = 0;\n    i++;\n  } else {\n    var neg = str[i] === '0';\n    i++;\n    var numAsString = '';\n    var magAsString = str.substring(i, i + MAGNITUDE_DIGITS);\n    var magnitude = parseInt(magAsString, 10) + MIN_MAGNITUDE;\n    /* istanbul ignore next */\n    if (neg) {\n      magnitude = -magnitude;\n    }\n    i += MAGNITUDE_DIGITS;\n    while (true) {\n      var ch = str[i];\n      if (ch === '\\u0000') {\n        break;\n      } else {\n        numAsString += ch;\n      }\n      i++;\n    }\n    numAsString = numAsString.split('.');\n    if (numAsString.length === 1) {\n      num = parseInt(numAsString, 10);\n    } else {\n      /* istanbul ignore next */\n      num = parseFloat(numAsString[0] + '.' + numAsString[1]);\n    }\n    /* istanbul ignore next */\n    if (neg) {\n      num = num - 10;\n    }\n    /* istanbul ignore next */\n    if (magnitude !== 0) {\n      // parseFloat is more reliable than pow due to rounding errors\n      // e.g. Number.MAX_VALUE would return Infinity if we did\n      // num * Math.pow(10, magnitude);\n      num = parseFloat(num + 'e' + magnitude);\n    }\n  }\n  return {num: num, length : i - originalIdx};\n}\n\n// move up the stack while parsing\n// this function moved outside of parseIndexableString for performance\nfunction pop(stack, metaStack) {\n  var obj = stack.pop();\n\n  if (metaStack.length) {\n    var lastMetaElement = metaStack[metaStack.length - 1];\n    if (obj === lastMetaElement.element) {\n      // popping a meta-element, e.g. an object whose value is another object\n      metaStack.pop();\n      lastMetaElement = metaStack[metaStack.length - 1];\n    }\n    var element = lastMetaElement.element;\n    var lastElementIndex = lastMetaElement.index;\n    if (Array.isArray(element)) {\n      element.push(obj);\n    } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n      var key = stack.pop();\n      element[key] = obj;\n    } else {\n      stack.push(obj); // obj with key only\n    }\n  }\n}\n\nfunction parseIndexableString(str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n\n  /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n  while (true) {\n    var collationIndex = str[i++];\n    if (collationIndex === '\\u0000') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case '1':\n        stack.push(null);\n        break;\n      case '2':\n        stack.push(str[i] === '1');\n        i++;\n        break;\n      case '3':\n        var parsedNum = parseNumber(str, i);\n        stack.push(parsedNum.num);\n        i += parsedNum.length;\n        break;\n      case '4':\n        var parsedStr = '';\n        /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n        while (true) {\n          var ch = str[i];\n          if (ch === '\\u0000') {\n            break;\n          }\n          parsedStr += ch;\n          i++;\n        }\n        // perform the reverse of the order-preserving replacement\n        // algorithm (see above)\n        /* eslint-disable no-control-regex */\n        parsedStr = parsedStr.replace(/\\u0001\\u0001/g, '\\u0000')\n          .replace(/\\u0001\\u0002/g, '\\u0001')\n          .replace(/\\u0002\\u0002/g, '\\u0002');\n        /* eslint-enable no-control-regex */\n        stack.push(parsedStr);\n        break;\n      case '5':\n        var arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '6':\n        var objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      /* istanbul ignore next */\n      default:\n        throw new Error(\n          'bad collationIndex or unexpectedly reached end of input: ' +\n            collationIndex);\n    }\n  }\n}\n\nfunction arrayCollate(a, b) {\n  var len = Math.min(a.length, b.length);\n  for (var i = 0; i < len; i++) {\n    var sort = collate(a[i], b[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n  }\n  return (a.length === b.length) ? 0 :\n    (a.length > b.length) ? 1 : -1;\n}\nfunction stringCollate(a, b) {\n  // See: https://github.com/daleharvey/pouchdb/issues/40\n  // This is incompatible with the CouchDB implementation, but its the\n  // best we can do for now\n  return (a === b) ? 0 : ((a > b) ? 1 : -1);\n}\nfunction objectCollate(a, b) {\n  var ak = Object.keys(a), bk = Object.keys(b);\n  var len = Math.min(ak.length, bk.length);\n  for (var i = 0; i < len; i++) {\n    // First sort the keys\n    var sort = collate(ak[i], bk[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n    // if the keys are equal sort the values\n    sort = collate(a[ak[i]], b[bk[i]]);\n    if (sort !== 0) {\n      return sort;\n    }\n\n  }\n  return (ak.length === bk.length) ? 0 :\n    (ak.length > bk.length) ? 1 : -1;\n}\n// The collation is defined by erlangs ordered terms\n// the atoms null, true, false come first, then numbers, strings,\n// arrays, then objects\n// null/undefined/NaN/Infinity/-Infinity are all considered null\nfunction collationIndex(x) {\n  var id = ['boolean', 'number', 'string', 'object'];\n  var idx = id.indexOf(typeof x);\n  //false if -1 otherwise true, but fast!!!!1\n  if (~idx) {\n    if (x === null) {\n      return 1;\n    }\n    if (Array.isArray(x)) {\n      return 5;\n    }\n    return idx < 3 ? (idx + 2) : (idx + 3);\n  }\n  /* istanbul ignore next */\n  if (Array.isArray(x)) {\n    return 5;\n  }\n}\n\n// conversion:\n// x yyy zz...zz\n// x = 0 for negative, 1 for 0, 2 for positive\n// y = exponent (for negative numbers negated) moved so that it's >= 0\n// z = mantisse\nfunction numToIndexableString(num) {\n\n  if (num === 0) {\n    return '1';\n  }\n\n  // convert number to exponential format for easier and\n  // more succinct string sorting\n  var expFormat = num.toExponential().split(/e\\+?/);\n  var magnitude = parseInt(expFormat[1], 10);\n\n  var neg = num < 0;\n\n  var result = neg ? '0' : '2';\n\n  // first sort by magnitude\n  // it's easier if all magnitudes are positive\n  var magForComparison = ((neg ? -magnitude : magnitude) - MIN_MAGNITUDE);\n  var magString = padLeft((magForComparison).toString(), '0', MAGNITUDE_DIGITS);\n\n  result += SEP + magString;\n\n  // then sort by the factor\n  var factor = Math.abs(parseFloat(expFormat[0])); // [1..10)\n  /* istanbul ignore next */\n  if (neg) { // for negative reverse ordering\n    factor = 10 - factor;\n  }\n\n  var factorStr = factor.toFixed(20);\n\n  // strip zeros from the end\n  factorStr = factorStr.replace(/\\.?0+$/, '');\n\n  result += SEP + factorStr;\n\n  return result;\n}\n\n// create a comparator based on the sort object\nfunction createFieldSorter(sort) {\n\n  function getFieldValuesAsArray(doc) {\n    return sort.map(function (sorting) {\n      var fieldName = getKey(sorting);\n      var parsedField = parseField(fieldName);\n      var docFieldValue = getFieldFromDoc(doc, parsedField);\n      return docFieldValue;\n    });\n  }\n\n  return function (aRow, bRow) {\n    var aFieldValues = getFieldValuesAsArray(aRow.doc);\n    var bFieldValues = getFieldValuesAsArray(bRow.doc);\n    var collation = collate(aFieldValues, bFieldValues);\n    if (collation !== 0) {\n      return collation;\n    }\n    // this is what mango seems to do\n    return compare$1(aRow.doc._id, bRow.doc._id);\n  };\n}\n\nfunction filterInMemoryFields(rows, requestDef, inMemoryFields) {\n  rows = rows.filter(function (row) {\n    return rowFilter(row.doc, requestDef.selector, inMemoryFields);\n  });\n\n  if (requestDef.sort) {\n    // in-memory sort\n    var fieldSorter = createFieldSorter(requestDef.sort);\n    rows = rows.sort(fieldSorter);\n    if (typeof requestDef.sort[0] !== 'string' &&\n        getValue(requestDef.sort[0]) === 'desc') {\n      rows = rows.reverse();\n    }\n  }\n\n  if ('limit' in requestDef || 'skip' in requestDef) {\n    // have to do the limit in-memory\n    var skip = requestDef.skip || 0;\n    var limit = ('limit' in requestDef ? requestDef.limit : rows.length) + skip;\n    rows = rows.slice(skip, limit);\n  }\n  return rows;\n}\n\nfunction rowFilter(doc, selector, inMemoryFields) {\n  return inMemoryFields.every(function (field) {\n    var matcher = selector[field];\n    var parsedField = parseField(field);\n    var docFieldValue = getFieldFromDoc(doc, parsedField);\n    if (isCombinationalField(field)) {\n      return matchCominationalSelector(field, matcher, doc);\n    }\n\n    return matchSelector(matcher, doc, parsedField, docFieldValue);\n  });\n}\n\nfunction matchSelector(matcher, doc, parsedField, docFieldValue) {\n  if (!matcher) {\n    // no filtering necessary; this field is just needed for sorting\n    return true;\n  }\n\n  // is matcher an object, if so continue recursion\n  if (typeof matcher === 'object') {\n    return Object.keys(matcher).every(function (maybeUserOperator) {\n      var userValue = matcher[ maybeUserOperator ];\n      // explicit operator\n      if (maybeUserOperator.indexOf(\"$\") === 0) {\n        return match(maybeUserOperator, doc, userValue, parsedField, docFieldValue);\n      } else {\n        var subParsedField = parseField(maybeUserOperator);\n\n        if (\n          docFieldValue === undefined &&\n          typeof userValue !== \"object\" &&\n          subParsedField.length > 0\n        ) {\n          // the field does not exist, return or getFieldFromDoc will throw\n          return false;\n        }\n\n        var subDocFieldValue = getFieldFromDoc(docFieldValue, subParsedField);\n\n        if (typeof userValue === \"object\") {\n          // field value is an object that might contain more operators\n          return matchSelector(userValue, doc, parsedField, subDocFieldValue);\n        }\n\n        // implicit operator\n        return match(\"$eq\", doc, userValue, subParsedField, subDocFieldValue);\n      }\n    });\n  }\n\n  // no more depth, No need to recurse further\n  return matcher === docFieldValue;\n}\n\nfunction matchCominationalSelector(field, matcher, doc) {\n\n  if (field === '$or') {\n    return matcher.some(function (orMatchers) {\n      return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n    });\n  }\n\n  if (field === '$not') {\n    return !rowFilter(doc, matcher, Object.keys(matcher));\n  }\n\n  //`$nor`\n  return !matcher.find(function (orMatchers) {\n    return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n  });\n\n}\n\nfunction match(userOperator, doc, userValue, parsedField, docFieldValue) {\n  if (!matchers[userOperator]) {\n    /* istanbul ignore next */\n    throw new Error('unknown operator \"' + userOperator +\n      '\" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, ' +\n      '$nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');\n  }\n  return matchers[userOperator](doc, userValue, parsedField, docFieldValue);\n}\n\nfunction fieldExists(docFieldValue) {\n  return typeof docFieldValue !== 'undefined' && docFieldValue !== null;\n}\n\nfunction fieldIsNotUndefined(docFieldValue) {\n  return typeof docFieldValue !== 'undefined';\n}\n\nfunction modField(docFieldValue, userValue) {\n  if (typeof docFieldValue !== \"number\" ||\n    parseInt(docFieldValue, 10) !== docFieldValue) {\n    return false;\n  }\n\n  var divisor = userValue[0];\n  var mod = userValue[1];\n\n  return docFieldValue % divisor === mod;\n}\n\nfunction arrayContainsValue(docFieldValue, userValue) {\n  return userValue.some(function (val) {\n    if (docFieldValue instanceof Array) {\n      return docFieldValue.some(function (docFieldValueItem) {\n        return collate(val, docFieldValueItem) === 0;\n      });\n    }\n\n    return collate(val, docFieldValue) === 0;\n  });\n}\n\nfunction arrayContainsAllValues(docFieldValue, userValue) {\n  return userValue.every(function (val) {\n    return docFieldValue.some(function (docFieldValueItem) {\n      return collate(val, docFieldValueItem) === 0;\n    });\n  });\n}\n\nfunction arraySize(docFieldValue, userValue) {\n  return docFieldValue.length === userValue;\n}\n\nfunction regexMatch(docFieldValue, userValue) {\n  var re = new RegExp(userValue);\n\n  return re.test(docFieldValue);\n}\n\nfunction typeMatch(docFieldValue, userValue) {\n\n  switch (userValue) {\n    case 'null':\n      return docFieldValue === null;\n    case 'boolean':\n      return typeof (docFieldValue) === 'boolean';\n    case 'number':\n      return typeof (docFieldValue) === 'number';\n    case 'string':\n      return typeof (docFieldValue) === 'string';\n    case 'array':\n      return docFieldValue instanceof Array;\n    case 'object':\n      return ({}).toString.call(docFieldValue) === '[object Object]';\n  }\n}\n\nvar matchers = {\n\n  '$elemMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object' &&  docFieldValue[0] !== null) {\n      return docFieldValue.some(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.some(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$allMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    /* istanbul ignore next */\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object' &&  docFieldValue[0] !== null) {\n      return docFieldValue.every(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.every(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$eq': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) === 0;\n  },\n\n  '$gte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) >= 0;\n  },\n\n  '$gt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) > 0;\n  },\n\n  '$lte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) <= 0;\n  },\n\n  '$lt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) < 0;\n  },\n\n  '$exists': function (doc, userValue, parsedField, docFieldValue) {\n    //a field that is null is still considered to exist\n    if (userValue) {\n      return fieldIsNotUndefined(docFieldValue);\n    }\n\n    return !fieldIsNotUndefined(docFieldValue);\n  },\n\n  '$mod': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && modField(docFieldValue, userValue);\n  },\n\n  '$ne': function (doc, userValue, parsedField, docFieldValue) {\n    return userValue.every(function (neValue) {\n      return collate(docFieldValue, neValue) !== 0;\n    });\n  },\n  '$in': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$nin': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && !arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$size': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) &&\n      Array.isArray(docFieldValue) &&\n      arraySize(docFieldValue, userValue);\n  },\n\n  '$all': function (doc, userValue, parsedField, docFieldValue) {\n    return Array.isArray(docFieldValue) && arrayContainsAllValues(docFieldValue, userValue);\n  },\n\n  '$regex': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) &&\n      typeof docFieldValue == \"string\" &&\n      userValue.every(function (regexValue) {\n        return regexMatch(docFieldValue, regexValue);\n      });\n  },\n\n  '$type': function (doc, userValue, parsedField, docFieldValue) {\n    return typeMatch(docFieldValue, userValue);\n  }\n};\n\n// return true if the given doc matches the supplied selector\nfunction matchesSelector(doc, selector) {\n  /* istanbul ignore if */\n  if (typeof selector !== 'object') {\n    // match the CouchDB error message\n    throw new Error('Selector error: expected a JSON object');\n  }\n\n  selector = massageSelector(selector);\n  var row = {\n    'doc': doc\n  };\n\n  var rowsMatched = filterInMemoryFields([row], { 'selector': selector }, Object.keys(selector));\n  return rowsMatched && rowsMatched.length === 1;\n}\n\nfunction evalFilter(input) {\n  return scopeEval('\"use strict\";\\nreturn ' + input + ';', {});\n}\n\nfunction evalView(input) {\n  var code = [\n    'return function(doc) {',\n    '  \"use strict\";',\n    '  var emitted = false;',\n    '  var emit = function (a, b) {',\n    '    emitted = true;',\n    '  };',\n    '  var view = ' + input + ';',\n    '  view(doc);',\n    '  if (emitted) {',\n    '    return true;',\n    '  }',\n    '};'\n  ].join('\\n');\n\n  return scopeEval(code, {});\n}\n\nfunction validate(opts, callback) {\n  if (opts.selector) {\n    if (opts.filter && opts.filter !== '_selector') {\n      var filterName = typeof opts.filter === 'string' ?\n        opts.filter : 'function';\n      return callback(new Error('selector invalid for filter \"' + filterName + '\"'));\n    }\n  }\n  callback();\n}\n\nfunction normalize(opts) {\n  if (opts.view && !opts.filter) {\n    opts.filter = '_view';\n  }\n\n  if (opts.selector && !opts.filter) {\n    opts.filter = '_selector';\n  }\n\n  if (opts.filter && typeof opts.filter === 'string') {\n    if (opts.filter === '_view') {\n      opts.view = normalizeDesignDocFunctionName(opts.view);\n    } else {\n      opts.filter = normalizeDesignDocFunctionName(opts.filter);\n    }\n  }\n}\n\nfunction shouldFilter(changesHandler, opts) {\n  return opts.filter && typeof opts.filter === 'string' &&\n    !opts.doc_ids && !isRemote(changesHandler.db);\n}\n\nfunction filter(changesHandler, opts) {\n  var callback = opts.complete;\n  if (opts.filter === '_view') {\n    if (!opts.view || typeof opts.view !== 'string') {\n      var err = createError(BAD_REQUEST,\n        '`view` filter parameter not found or invalid.');\n      return callback(err);\n    }\n    // fetch a view from a design doc, make it behave like a filter\n    var viewName = parseDesignDocFunctionName(opts.view);\n    changesHandler.db.get('_design/' + viewName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var mapFun = ddoc && ddoc.views && ddoc.views[viewName[1]] &&\n        ddoc.views[viewName[1]].map;\n      if (!mapFun) {\n        return callback(createError(MISSING_DOC,\n          (ddoc.views ? 'missing json key: ' + viewName[1] :\n            'missing json key: views')));\n      }\n      opts.filter = evalView(mapFun);\n      changesHandler.doChanges(opts);\n    });\n  } else if (opts.selector) {\n    opts.filter = function (doc) {\n      return matchesSelector(doc, opts.selector);\n    };\n    changesHandler.doChanges(opts);\n  } else {\n    // fetch a filter from a design doc\n    var filterName = parseDesignDocFunctionName(opts.filter);\n    changesHandler.db.get('_design/' + filterName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var filterFun = ddoc && ddoc.filters && ddoc.filters[filterName[1]];\n      if (!filterFun) {\n        return callback(createError(MISSING_DOC,\n          ((ddoc && ddoc.filters) ? 'missing json key: ' + filterName[1]\n            : 'missing json key: filters')));\n      }\n      opts.filter = evalFilter(filterFun);\n      changesHandler.doChanges(opts);\n    });\n  }\n}\n\nfunction applyChangesFilterPlugin(PouchDB) {\n  PouchDB._changesFilterPlugin = {\n    validate: validate,\n    normalize: normalize,\n    shouldFilter: shouldFilter,\n    filter: filter\n  };\n}\n\n// TODO: remove from pouchdb-core (breaking)\nPouchDB.plugin(applyChangesFilterPlugin);\n\nPouchDB.version = version;\n\nfunction toObject(array) {\n  return array.reduce(function (obj, item) {\n    obj[item] = true;\n    return obj;\n  }, {});\n}\n// List of top level reserved words for doc\nvar reservedWords = toObject([\n  '_id',\n  '_rev',\n  '_access',\n  '_attachments',\n  '_deleted',\n  '_revisions',\n  '_revs_info',\n  '_conflicts',\n  '_deleted_conflicts',\n  '_local_seq',\n  '_rev_tree',\n  // replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats',\n  // Specific to Couchbase Sync Gateway\n  '_removed'\n]);\n\n// List of reserved words that should end up in the document\nvar dataWords = toObject([\n  '_access',\n  '_attachments',\n  // replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats'\n]);\n\nfunction parseRevisionInfo(rev) {\n  if (!/^\\d+-/.test(rev)) {\n    return createError(INVALID_REV);\n  }\n  var idx = rev.indexOf('-');\n  var left = rev.substring(0, idx);\n  var right = rev.substring(idx + 1);\n  return {\n    prefix: parseInt(left, 10),\n    id: right\n  };\n}\n\nfunction makeRevTreeFromRevisions(revisions, opts) {\n  var pos = revisions.start - revisions.ids.length + 1;\n\n  var revisionIds = revisions.ids;\n  var ids = [revisionIds[0], opts, []];\n\n  for (var i = 1, len = revisionIds.length; i < len; i++) {\n    ids = [revisionIds[i], {status: 'missing'}, [ids]];\n  }\n\n  return [{\n    pos: pos,\n    ids: ids\n  }];\n}\n\n// Preprocess documents, parse their revisions, assign an id and a\n// revision for new writes that are missing them, etc\nfunction parseDoc(doc, newEdits, dbOpts) {\n  if (!dbOpts) {\n    dbOpts = {\n      deterministic_revs: true\n    };\n  }\n\n  var nRevNum;\n  var newRevId;\n  var revInfo;\n  var opts = {status: 'available'};\n  if (doc._deleted) {\n    opts.deleted = true;\n  }\n\n  if (newEdits) {\n    if (!doc._id) {\n      doc._id = uuid();\n    }\n    newRevId = rev$$1(doc, dbOpts.deterministic_revs);\n    if (doc._rev) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      doc._rev_tree = [{\n        pos: revInfo.prefix,\n        ids: [revInfo.id, {status: 'missing'}, [[newRevId, opts, []]]]\n      }];\n      nRevNum = revInfo.prefix + 1;\n    } else {\n      doc._rev_tree = [{\n        pos: 1,\n        ids : [newRevId, opts, []]\n      }];\n      nRevNum = 1;\n    }\n  } else {\n    if (doc._revisions) {\n      doc._rev_tree = makeRevTreeFromRevisions(doc._revisions, opts);\n      nRevNum = doc._revisions.start;\n      newRevId = doc._revisions.ids[0];\n    }\n    if (!doc._rev_tree) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      nRevNum = revInfo.prefix;\n      newRevId = revInfo.id;\n      doc._rev_tree = [{\n        pos: nRevNum,\n        ids: [newRevId, opts, []]\n      }];\n    }\n  }\n\n  invalidIdError(doc._id);\n\n  doc._rev = nRevNum + '-' + newRevId;\n\n  var result = {metadata : {}, data : {}};\n  for (var key in doc) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(doc, key)) {\n      var specialKey = key[0] === '_';\n      if (specialKey && !reservedWords[key]) {\n        var error = createError(DOC_VALIDATION, key);\n        error.message = DOC_VALIDATION.message + ': ' + key;\n        throw error;\n      } else if (specialKey && !dataWords[key]) {\n        result.metadata[key.slice(1)] = doc[key];\n      } else {\n        result.data[key] = doc[key];\n      }\n    }\n  }\n  return result;\n}\n\nfunction parseBase64(data) {\n  try {\n    return thisAtob(data);\n  } catch (e) {\n    var err = createError(BAD_ARG,\n      'Attachment is not a valid base64 string');\n    return {error: err};\n  }\n}\n\nfunction preprocessString(att, blobType, callback) {\n  var asBinary = parseBase64(att.data);\n  if (asBinary.error) {\n    return callback(asBinary.error);\n  }\n\n  att.length = asBinary.length;\n  if (blobType === 'blob') {\n    att.data = binStringToBluffer(asBinary, att.content_type);\n  } else if (blobType === 'base64') {\n    att.data = thisBtoa(asBinary);\n  } else { // binary\n    att.data = asBinary;\n  }\n  binaryMd5(asBinary, function (result) {\n    att.digest = 'md5-' + result;\n    callback();\n  });\n}\n\nfunction preprocessBlob(att, blobType, callback) {\n  binaryMd5(att.data, function (md5) {\n    att.digest = 'md5-' + md5;\n    // size is for blobs (browser), length is for buffers (node)\n    att.length = att.data.size || att.data.length || 0;\n    if (blobType === 'binary') {\n      blobToBinaryString(att.data, function (binString) {\n        att.data = binString;\n        callback();\n      });\n    } else if (blobType === 'base64') {\n      blobToBase64(att.data, function (b64) {\n        att.data = b64;\n        callback();\n      });\n    } else {\n      callback();\n    }\n  });\n}\n\nfunction preprocessAttachment(att, blobType, callback) {\n  if (att.stub) {\n    return callback();\n  }\n  if (typeof att.data === 'string') { // input is a base64 string\n    preprocessString(att, blobType, callback);\n  } else { // input is a blob\n    preprocessBlob(att, blobType, callback);\n  }\n}\n\nfunction preprocessAttachments(docInfos, blobType, callback) {\n\n  if (!docInfos.length) {\n    return callback();\n  }\n\n  var docv = 0;\n  var overallErr;\n\n  docInfos.forEach(function (docInfo) {\n    var attachments = docInfo.data && docInfo.data._attachments ?\n      Object.keys(docInfo.data._attachments) : [];\n    var recv = 0;\n\n    if (!attachments.length) {\n      return done();\n    }\n\n    function processedAttachment(err) {\n      overallErr = err;\n      recv++;\n      if (recv === attachments.length) {\n        done();\n      }\n    }\n\n    for (var key in docInfo.data._attachments) {\n      if (Object.prototype.hasOwnProperty.call(docInfo.data._attachments, key)) {\n        preprocessAttachment(docInfo.data._attachments[key],\n          blobType, processedAttachment);\n      }\n    }\n  });\n\n  function done() {\n    docv++;\n    if (docInfos.length === docv) {\n      if (overallErr) {\n        callback(overallErr);\n      } else {\n        callback();\n      }\n    }\n  }\n}\n\nfunction updateDoc(revLimit, prev, docInfo, results,\n                   i, cb, writeDoc, newEdits) {\n\n  if (revExists(prev.rev_tree, docInfo.metadata.rev) && !newEdits) {\n    results[i] = docInfo;\n    return cb();\n  }\n\n  // sometimes this is pre-calculated. historically not always\n  var previousWinningRev = prev.winningRev || winningRev(prev);\n  var previouslyDeleted = 'deleted' in prev ? prev.deleted :\n    isDeleted(prev, previousWinningRev);\n  var deleted = 'deleted' in docInfo.metadata ? docInfo.metadata.deleted :\n    isDeleted(docInfo.metadata);\n  var isRoot = /^1-/.test(docInfo.metadata.rev);\n\n  if (previouslyDeleted && !deleted && newEdits && isRoot) {\n    var newDoc = docInfo.data;\n    newDoc._rev = previousWinningRev;\n    newDoc._id = docInfo.metadata.id;\n    docInfo = parseDoc(newDoc, newEdits);\n  }\n\n  var merged = merge(prev.rev_tree, docInfo.metadata.rev_tree[0], revLimit);\n\n  var inConflict = newEdits && ((\n    (previouslyDeleted && deleted && merged.conflicts !== 'new_leaf') ||\n    (!previouslyDeleted && merged.conflicts !== 'new_leaf') ||\n    (previouslyDeleted && !deleted && merged.conflicts === 'new_branch')));\n\n  if (inConflict) {\n    var err = createError(REV_CONFLICT);\n    results[i] = err;\n    return cb();\n  }\n\n  var newRev = docInfo.metadata.rev;\n  docInfo.metadata.rev_tree = merged.tree;\n  docInfo.stemmedRevs = merged.stemmedRevs || [];\n  /* istanbul ignore else */\n  if (prev.rev_map) {\n    docInfo.metadata.rev_map = prev.rev_map; // used only by leveldb\n  }\n\n  // recalculate\n  var winningRev$$1 = winningRev(docInfo.metadata);\n  var winningRevIsDeleted = isDeleted(docInfo.metadata, winningRev$$1);\n\n  // calculate the total number of documents that were added/removed,\n  // from the perspective of total_rows/doc_count\n  var delta = (previouslyDeleted === winningRevIsDeleted) ? 0 :\n    previouslyDeleted < winningRevIsDeleted ? -1 : 1;\n\n  var newRevIsDeleted;\n  if (newRev === winningRev$$1) {\n    // if the new rev is the same as the winning rev, we can reuse that value\n    newRevIsDeleted = winningRevIsDeleted;\n  } else {\n    // if they're not the same, then we need to recalculate\n    newRevIsDeleted = isDeleted(docInfo.metadata, newRev);\n  }\n\n  writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n    true, delta, i, cb);\n}\n\nfunction rootIsMissing(docInfo) {\n  return docInfo.metadata.rev_tree[0].ids[1].status === 'missing';\n}\n\nfunction processDocs(revLimit, docInfos, api, fetchedDocs, tx, results,\n                     writeDoc, opts, overallCallback) {\n\n  // Default to 1000 locally\n  revLimit = revLimit || 1000;\n\n  function insertDoc(docInfo, resultsIdx, callback) {\n    // Cant insert new deleted documents\n    var winningRev$$1 = winningRev(docInfo.metadata);\n    var deleted = isDeleted(docInfo.metadata, winningRev$$1);\n    if ('was_delete' in opts && deleted) {\n      results[resultsIdx] = createError(MISSING_DOC, 'deleted');\n      return callback();\n    }\n\n    // 4712 - detect whether a new document was inserted with a _rev\n    var inConflict = newEdits && rootIsMissing(docInfo);\n\n    if (inConflict) {\n      var err = createError(REV_CONFLICT);\n      results[resultsIdx] = err;\n      return callback();\n    }\n\n    var delta = deleted ? 0 : 1;\n\n    writeDoc(docInfo, winningRev$$1, deleted, deleted, false,\n      delta, resultsIdx, callback);\n  }\n\n  var newEdits = opts.new_edits;\n  var idsToDocs = new ExportedMap();\n\n  var docsDone = 0;\n  var docsToDo = docInfos.length;\n\n  function checkAllDocsDone() {\n    if (++docsDone === docsToDo && overallCallback) {\n      overallCallback();\n    }\n  }\n\n  docInfos.forEach(function (currentDoc, resultsIdx) {\n\n    if (currentDoc._id && isLocalId(currentDoc._id)) {\n      var fun = currentDoc._deleted ? '_removeLocal' : '_putLocal';\n      api[fun](currentDoc, {ctx: tx}, function (err, res) {\n        results[resultsIdx] = err || res;\n        checkAllDocsDone();\n      });\n      return;\n    }\n\n    var id = currentDoc.metadata.id;\n    if (idsToDocs.has(id)) {\n      docsToDo--; // duplicate\n      idsToDocs.get(id).push([currentDoc, resultsIdx]);\n    } else {\n      idsToDocs.set(id, [[currentDoc, resultsIdx]]);\n    }\n  });\n\n  // in the case of new_edits, the user can provide multiple docs\n  // with the same id. these need to be processed sequentially\n  idsToDocs.forEach(function (docs, id) {\n    var numDone = 0;\n\n    function docWritten() {\n      if (++numDone < docs.length) {\n        nextDoc();\n      } else {\n        checkAllDocsDone();\n      }\n    }\n    function nextDoc() {\n      var value = docs[numDone];\n      var currentDoc = value[0];\n      var resultsIdx = value[1];\n\n      if (fetchedDocs.has(id)) {\n        updateDoc(revLimit, fetchedDocs.get(id), currentDoc, results,\n          resultsIdx, docWritten, writeDoc, newEdits);\n      } else {\n        // Ensure stemming applies to new writes as well\n        var merged = merge([], currentDoc.metadata.rev_tree[0], revLimit);\n        currentDoc.metadata.rev_tree = merged.tree;\n        currentDoc.stemmedRevs = merged.stemmedRevs || [];\n        insertDoc(currentDoc, resultsIdx, docWritten);\n      }\n    }\n    nextDoc();\n  });\n}\n\n// IndexedDB requires a versioned database structure, so we use the\n// version here to manage migrations.\nvar ADAPTER_VERSION = 5;\n\n// The object stores created for each database\n// DOC_STORE stores the document meta data, its revision history and state\n// Keyed by document id\nvar DOC_STORE = 'document-store';\n// BY_SEQ_STORE stores a particular version of a document, keyed by its\n// sequence id\nvar BY_SEQ_STORE = 'by-sequence';\n// Where we store attachments\nvar ATTACH_STORE = 'attach-store';\n// Where we store many-to-many relations\n// between attachment digests and seqs\nvar ATTACH_AND_SEQ_STORE = 'attach-seq-store';\n\n// Where we store database-wide meta data in a single record\n// keyed by id: META_STORE\nvar META_STORE = 'meta-store';\n// Where we store local documents\nvar LOCAL_STORE = 'local-store';\n// Where we detect blob support\nvar DETECT_BLOB_SUPPORT_STORE = 'detect-blob-support';\n\nfunction safeJsonParse(str) {\n  // This try/catch guards against stack overflow errors.\n  // JSON.parse() is faster than vuvuzela.parse() but vuvuzela\n  // cannot overflow.\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.parse(str);\n  }\n}\n\nfunction safeJsonStringify(json) {\n  try {\n    return JSON.stringify(json);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.stringify(json);\n  }\n}\n\nfunction idbError(callback) {\n  return function (evt) {\n    var message = 'unknown_error';\n    if (evt.target && evt.target.error) {\n      message = evt.target.error.name || evt.target.error.message;\n    }\n    callback(createError(IDB_ERROR, message, evt.type));\n  };\n}\n\n// Unfortunately, the metadata has to be stringified\n// when it is put into the database, because otherwise\n// IndexedDB can throw errors for deeply-nested objects.\n// Originally we just used JSON.parse/JSON.stringify; now\n// we use this custom vuvuzela library that avoids recursion.\n// If we could do it all over again, we'd probably use a\n// format for the revision trees other than JSON.\nfunction encodeMetadata(metadata, winningRev, deleted) {\n  return {\n    data: safeJsonStringify(metadata),\n    winningRev: winningRev,\n    deletedOrLocal: deleted ? '1' : '0',\n    seq: metadata.seq, // highest seq for this doc\n    id: metadata.id\n  };\n}\n\nfunction decodeMetadata(storedObject) {\n  if (!storedObject) {\n    return null;\n  }\n  var metadata = safeJsonParse(storedObject.data);\n  metadata.winningRev = storedObject.winningRev;\n  metadata.deleted = storedObject.deletedOrLocal === '1';\n  metadata.seq = storedObject.seq;\n  return metadata;\n}\n\n// read the doc back out from the database. we don't store the\n// _id or _rev because we already have _doc_id_rev.\nfunction decodeDoc(doc) {\n  if (!doc) {\n    return doc;\n  }\n  var idx = doc._doc_id_rev.lastIndexOf(':');\n  doc._id = doc._doc_id_rev.substring(0, idx - 1);\n  doc._rev = doc._doc_id_rev.substring(idx + 1);\n  delete doc._doc_id_rev;\n  return doc;\n}\n\n// Read a blob from the database, encoding as necessary\n// and translating from base64 if the IDB doesn't support\n// native Blobs\nfunction readBlobData(body, type, asBlob, callback) {\n  if (asBlob) {\n    if (!body) {\n      callback(createBlob([''], {type: type}));\n    } else if (typeof body !== 'string') { // we have blob support\n      callback(body);\n    } else { // no blob support\n      callback(b64ToBluffer(body, type));\n    }\n  } else { // as base64 string\n    if (!body) {\n      callback('');\n    } else if (typeof body !== 'string') { // we have blob support\n      readAsBinaryString(body, function (binary) {\n        callback(thisBtoa(binary));\n      });\n    } else { // no blob support\n      callback(body);\n    }\n  }\n}\n\nfunction fetchAttachmentsIfNecessary(doc, opts, txn, cb) {\n  var attachments = Object.keys(doc._attachments || {});\n  if (!attachments.length) {\n    return cb && cb();\n  }\n  var numDone = 0;\n\n  function checkDone() {\n    if (++numDone === attachments.length && cb) {\n      cb();\n    }\n  }\n\n  function fetchAttachment(doc, att) {\n    var attObj = doc._attachments[att];\n    var digest = attObj.digest;\n    var req = txn.objectStore(ATTACH_STORE).get(digest);\n    req.onsuccess = function (e) {\n      attObj.body = e.target.result.body;\n      checkDone();\n    };\n  }\n\n  attachments.forEach(function (att) {\n    if (opts.attachments && opts.include_docs) {\n      fetchAttachment(doc, att);\n    } else {\n      doc._attachments[att].stub = true;\n      checkDone();\n    }\n  });\n}\n\n// IDB-specific postprocessing necessary because\n// we don't know whether we stored a true Blob or\n// a base64-encoded string, and if it's a Blob it\n// needs to be read outside of the transaction context\nfunction postProcessAttachments(results, asBlob) {\n  return Promise.all(results.map(function (row) {\n    if (row.doc && row.doc._attachments) {\n      var attNames = Object.keys(row.doc._attachments);\n      return Promise.all(attNames.map(function (att) {\n        var attObj = row.doc._attachments[att];\n        if (!('body' in attObj)) { // already processed\n          return;\n        }\n        var body = attObj.body;\n        var type = attObj.content_type;\n        return new Promise(function (resolve) {\n          readBlobData(body, type, asBlob, function (data) {\n            row.doc._attachments[att] = $inject_Object_assign(\n              pick(attObj, ['digest', 'content_type']),\n              {data: data}\n            );\n            resolve();\n          });\n        });\n      }));\n    }\n  }));\n}\n\nfunction compactRevs(revs, docId, txn) {\n\n  var possiblyOrphanedDigests = [];\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var attStore = txn.objectStore(ATTACH_STORE);\n  var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n  var count = revs.length;\n\n  function checkDone() {\n    count--;\n    if (!count) { // done processing all revs\n      deleteOrphanedAttachments();\n    }\n  }\n\n  function deleteOrphanedAttachments() {\n    if (!possiblyOrphanedDigests.length) {\n      return;\n    }\n    possiblyOrphanedDigests.forEach(function (digest) {\n      var countReq = attAndSeqStore.index('digestSeq').count(\n        IDBKeyRange.bound(\n          digest + '::', digest + '::\\uffff', false, false));\n      countReq.onsuccess = function (e) {\n        var count = e.target.result;\n        if (!count) {\n          // orphaned\n          attStore.delete(digest);\n        }\n      };\n    });\n  }\n\n  revs.forEach(function (rev) {\n    var index = seqStore.index('_doc_id_rev');\n    var key = docId + \"::\" + rev;\n    index.getKey(key).onsuccess = function (e) {\n      var seq = e.target.result;\n      if (typeof seq !== 'number') {\n        return checkDone();\n      }\n      seqStore.delete(seq);\n\n      var cursor = attAndSeqStore.index('seq')\n        .openCursor(IDBKeyRange.only(seq));\n\n      cursor.onsuccess = function (event) {\n        var cursor = event.target.result;\n        if (cursor) {\n          var digest = cursor.value.digestSeq.split('::')[0];\n          possiblyOrphanedDigests.push(digest);\n          attAndSeqStore.delete(cursor.primaryKey);\n          cursor.continue();\n        } else { // done\n          checkDone();\n        }\n      };\n    };\n  });\n}\n\nfunction openTransactionSafely(idb, stores, mode) {\n  try {\n    return {\n      txn: idb.transaction(stores, mode)\n    };\n  } catch (err) {\n    return {\n      error: err\n    };\n  }\n}\n\nvar changesHandler = new Changes();\n\nfunction idbBulkDocs(dbOpts, req, opts, api, idb, callback) {\n  var docInfos = req.docs;\n  var txn;\n  var docStore;\n  var bySeqStore;\n  var attachStore;\n  var attachAndSeqStore;\n  var metaStore;\n  var docInfoError;\n  var metaDoc;\n\n  for (var i = 0, len = docInfos.length; i < len; i++) {\n    var doc = docInfos[i];\n    if (doc._id && isLocalId(doc._id)) {\n      continue;\n    }\n    doc = docInfos[i] = parseDoc(doc, opts.new_edits, dbOpts);\n    if (doc.error && !docInfoError) {\n      docInfoError = doc;\n    }\n  }\n\n  if (docInfoError) {\n    return callback(docInfoError);\n  }\n\n  var allDocsProcessed = false;\n  var docCountDelta = 0;\n  var results = new Array(docInfos.length);\n  var fetchedDocs = new ExportedMap();\n  var preconditionErrored = false;\n  var blobType = api._meta.blobSupport ? 'blob' : 'base64';\n\n  preprocessAttachments(docInfos, blobType, function (err) {\n    if (err) {\n      return callback(err);\n    }\n    startTransaction();\n  });\n\n  function startTransaction() {\n\n    var stores = [\n      DOC_STORE, BY_SEQ_STORE,\n      ATTACH_STORE,\n      LOCAL_STORE, ATTACH_AND_SEQ_STORE,\n      META_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    txn = txnResult.txn;\n    txn.onabort = idbError(callback);\n    txn.ontimeout = idbError(callback);\n    txn.oncomplete = complete;\n    docStore = txn.objectStore(DOC_STORE);\n    bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    attachStore = txn.objectStore(ATTACH_STORE);\n    attachAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n    metaStore = txn.objectStore(META_STORE);\n\n    metaStore.get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result;\n      updateDocCountIfReady();\n    };\n\n    verifyAttachments(function (err) {\n      if (err) {\n        preconditionErrored = true;\n        return callback(err);\n      }\n      fetchExistingDocs();\n    });\n  }\n\n  function onAllDocsProcessed() {\n    allDocsProcessed = true;\n    updateDocCountIfReady();\n  }\n\n  function idbProcessDocs() {\n    processDocs(dbOpts.revs_limit, docInfos, api, fetchedDocs,\n                txn, results, writeDoc, opts, onAllDocsProcessed);\n  }\n\n  function updateDocCountIfReady() {\n    if (!metaDoc || !allDocsProcessed) {\n      return;\n    }\n    // caching the docCount saves a lot of time in allDocs() and\n    // info(), which is why we go to all the trouble of doing this\n    metaDoc.docCount += docCountDelta;\n    metaStore.put(metaDoc);\n  }\n\n  function fetchExistingDocs() {\n\n    if (!docInfos.length) {\n      return;\n    }\n\n    var numFetched = 0;\n\n    function checkDone() {\n      if (++numFetched === docInfos.length) {\n        idbProcessDocs();\n      }\n    }\n\n    function readMetadata(event) {\n      var metadata = decodeMetadata(event.target.result);\n\n      if (metadata) {\n        fetchedDocs.set(metadata.id, metadata);\n      }\n      checkDone();\n    }\n\n    for (var i = 0, len = docInfos.length; i < len; i++) {\n      var docInfo = docInfos[i];\n      if (docInfo._id && isLocalId(docInfo._id)) {\n        checkDone(); // skip local docs\n        continue;\n      }\n      var req = docStore.get(docInfo.metadata.id);\n      req.onsuccess = readMetadata;\n    }\n  }\n\n  function complete() {\n    if (preconditionErrored) {\n      return;\n    }\n\n    changesHandler.notify(api._meta.name);\n    callback(null, results);\n  }\n\n  function verifyAttachment(digest, callback) {\n\n    var req = attachStore.get(digest);\n    req.onsuccess = function (e) {\n      if (!e.target.result) {\n        var err = createError(MISSING_STUB,\n          'unknown stub attachment with digest ' +\n          digest);\n        err.status = 412;\n        callback(err);\n      } else {\n        callback();\n      }\n    };\n  }\n\n  function verifyAttachments(finish) {\n\n\n    var digests = [];\n    docInfos.forEach(function (docInfo) {\n      if (docInfo.data && docInfo.data._attachments) {\n        Object.keys(docInfo.data._attachments).forEach(function (filename) {\n          var att = docInfo.data._attachments[filename];\n          if (att.stub) {\n            digests.push(att.digest);\n          }\n        });\n      }\n    });\n    if (!digests.length) {\n      return finish();\n    }\n    var numDone = 0;\n    var err;\n\n    function checkDone() {\n      if (++numDone === digests.length) {\n        finish(err);\n      }\n    }\n    digests.forEach(function (digest) {\n      verifyAttachment(digest, function (attErr) {\n        if (attErr && !err) {\n          err = attErr;\n        }\n        checkDone();\n      });\n    });\n  }\n\n  function writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n                    isUpdate, delta, resultsIdx, callback) {\n\n    docInfo.metadata.winningRev = winningRev$$1;\n    docInfo.metadata.deleted = winningRevIsDeleted;\n\n    var doc = docInfo.data;\n    doc._id = docInfo.metadata.id;\n    doc._rev = docInfo.metadata.rev;\n\n    if (newRevIsDeleted) {\n      doc._deleted = true;\n    }\n\n    var hasAttachments = doc._attachments &&\n      Object.keys(doc._attachments).length;\n    if (hasAttachments) {\n      return writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n        isUpdate, resultsIdx, callback);\n    }\n\n    docCountDelta += delta;\n    updateDocCountIfReady();\n\n    finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n      isUpdate, resultsIdx, callback);\n  }\n\n  function finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n                     isUpdate, resultsIdx, callback) {\n\n    var doc = docInfo.data;\n    var metadata = docInfo.metadata;\n\n    doc._doc_id_rev = metadata.id + '::' + metadata.rev;\n    delete doc._id;\n    delete doc._rev;\n\n    function afterPutDoc(e) {\n      var revsToDelete = docInfo.stemmedRevs || [];\n\n      if (isUpdate && api.auto_compaction) {\n        revsToDelete = revsToDelete.concat(compactTree(docInfo.metadata));\n      }\n\n      if (revsToDelete && revsToDelete.length) {\n        compactRevs(revsToDelete, docInfo.metadata.id, txn);\n      }\n\n      metadata.seq = e.target.result;\n      // Current _rev is calculated from _rev_tree on read\n      // delete metadata.rev;\n      var metadataToStore = encodeMetadata(metadata, winningRev$$1,\n        winningRevIsDeleted);\n      var metaDataReq = docStore.put(metadataToStore);\n      metaDataReq.onsuccess = afterPutMetadata;\n    }\n\n    function afterPutDocError(e) {\n      // ConstraintError, need to update, not put (see #1638 for details)\n      e.preventDefault(); // avoid transaction abort\n      e.stopPropagation(); // avoid transaction onerror\n      var index = bySeqStore.index('_doc_id_rev');\n      var getKeyReq = index.getKey(doc._doc_id_rev);\n      getKeyReq.onsuccess = function (e) {\n        var putReq = bySeqStore.put(doc, e.target.result);\n        putReq.onsuccess = afterPutDoc;\n      };\n    }\n\n    function afterPutMetadata() {\n      results[resultsIdx] = {\n        ok: true,\n        id: metadata.id,\n        rev: metadata.rev\n      };\n      fetchedDocs.set(docInfo.metadata.id, docInfo.metadata);\n      insertAttachmentMappings(docInfo, metadata.seq, callback);\n    }\n\n    var putReq = bySeqStore.put(doc);\n\n    putReq.onsuccess = afterPutDoc;\n    putReq.onerror = afterPutDocError;\n  }\n\n  function writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n                            isUpdate, resultsIdx, callback) {\n\n\n    var doc = docInfo.data;\n\n    var numDone = 0;\n    var attachments = Object.keys(doc._attachments);\n\n    function collectResults() {\n      if (numDone === attachments.length) {\n        finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n          isUpdate, resultsIdx, callback);\n      }\n    }\n\n    function attachmentSaved() {\n      numDone++;\n      collectResults();\n    }\n\n    attachments.forEach(function (key) {\n      var att = docInfo.data._attachments[key];\n      if (!att.stub) {\n        var data = att.data;\n        delete att.data;\n        att.revpos = parseInt(winningRev$$1, 10);\n        var digest = att.digest;\n        saveAttachment(digest, data, attachmentSaved);\n      } else {\n        numDone++;\n        collectResults();\n      }\n    });\n  }\n\n  // map seqs to attachment digests, which\n  // we will need later during compaction\n  function insertAttachmentMappings(docInfo, seq, callback) {\n\n    var attsAdded = 0;\n    var attsToAdd = Object.keys(docInfo.data._attachments || {});\n\n    if (!attsToAdd.length) {\n      return callback();\n    }\n\n    function checkDone() {\n      if (++attsAdded === attsToAdd.length) {\n        callback();\n      }\n    }\n\n    function add(att) {\n      var digest = docInfo.data._attachments[att].digest;\n      var req = attachAndSeqStore.put({\n        seq: seq,\n        digestSeq: digest + '::' + seq\n      });\n\n      req.onsuccess = checkDone;\n      req.onerror = function (e) {\n        // this callback is for a constaint error, which we ignore\n        // because this docid/rev has already been associated with\n        // the digest (e.g. when new_edits == false)\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n        checkDone();\n      };\n    }\n    for (var i = 0; i < attsToAdd.length; i++) {\n      add(attsToAdd[i]); // do in parallel\n    }\n  }\n\n  function saveAttachment(digest, data, callback) {\n\n\n    var getKeyReq = attachStore.count(digest);\n    getKeyReq.onsuccess = function (e) {\n      var count = e.target.result;\n      if (count) {\n        return callback(); // already exists\n      }\n      var newAtt = {\n        digest: digest,\n        body: data\n      };\n      var putReq = attachStore.put(newAtt);\n      putReq.onsuccess = callback;\n    };\n  }\n}\n\n// Abstraction over IDBCursor and getAll()/getAllKeys() that allows us to batch our operations\n// while falling back to a normal IDBCursor operation on browsers that don't support getAll() or\n// getAllKeys(). This allows for a much faster implementation than just straight-up cursors, because\n// we're not processing each document one-at-a-time.\nfunction runBatchedCursor(objectStore, keyRange, descending, batchSize, onBatch) {\n\n  if (batchSize === -1) {\n    batchSize = 1000;\n  }\n\n  // Bail out of getAll()/getAllKeys() in the following cases:\n  // 1) either method is unsupported - we need both\n  // 2) batchSize is 1 (might as well use IDBCursor)\n  // 3) descending – no real way to do this via getAll()/getAllKeys()\n\n  var useGetAll = typeof objectStore.getAll === 'function' &&\n    typeof objectStore.getAllKeys === 'function' &&\n    batchSize > 1 && !descending;\n\n  var keysBatch;\n  var valuesBatch;\n  var pseudoCursor;\n\n  function onGetAll(e) {\n    valuesBatch = e.target.result;\n    if (keysBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function onGetAllKeys(e) {\n    keysBatch = e.target.result;\n    if (valuesBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function continuePseudoCursor() {\n    if (!keysBatch.length) { // no more results\n      return onBatch();\n    }\n    // fetch next batch, exclusive start\n    var lastKey = keysBatch[keysBatch.length - 1];\n    var newKeyRange;\n    if (keyRange && keyRange.upper) {\n      try {\n        newKeyRange = IDBKeyRange.bound(lastKey, keyRange.upper,\n          true, keyRange.upperOpen);\n      } catch (e) {\n        if (e.name === \"DataError\" && e.code === 0) {\n          return onBatch(); // we're done, startkey and endkey are equal\n        }\n      }\n    } else {\n      newKeyRange = IDBKeyRange.lowerBound(lastKey, true);\n    }\n    keyRange = newKeyRange;\n    keysBatch = null;\n    valuesBatch = null;\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  }\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (!cursor) { // done\n      return onBatch();\n    }\n    // regular IDBCursor acts like a batch where batch size is always 1\n    onBatch([cursor.key], [cursor.value], cursor);\n  }\n\n  if (useGetAll) {\n    pseudoCursor = {\"continue\": continuePseudoCursor};\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  } else if (descending) {\n    objectStore.openCursor(keyRange, 'prev').onsuccess = onCursor;\n  } else {\n    objectStore.openCursor(keyRange).onsuccess = onCursor;\n  }\n}\n\n// simple shim for objectStore.getAll(), falling back to IDBCursor\nfunction getAll(objectStore, keyRange, onSuccess) {\n  if (typeof objectStore.getAll === 'function') {\n    // use native getAll\n    objectStore.getAll(keyRange).onsuccess = onSuccess;\n    return;\n  }\n  // fall back to cursors\n  var values = [];\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (cursor) {\n      values.push(cursor.value);\n      cursor.continue();\n    } else {\n      onSuccess({\n        target: {\n          result: values\n        }\n      });\n    }\n  }\n\n  objectStore.openCursor(keyRange).onsuccess = onCursor;\n}\n\nfunction allDocsKeys(keys, docStore, onBatch) {\n  // It's not guaranted to be returned in right order  \n  var valuesBatch = new Array(keys.length);\n  var count = 0;\n  keys.forEach(function (key, index) {\n    docStore.get(key).onsuccess = function (event) {\n      if (event.target.result) {\n        valuesBatch[index] = event.target.result;\n      } else {\n        valuesBatch[index] = {key: key, error: 'not_found'};\n      }\n      count++;\n      if (count === keys.length) {\n        onBatch(keys, valuesBatch, {});\n      }\n    };\n  });\n}\n\nfunction createKeyRange(start, end, inclusiveEnd, key, descending) {\n  try {\n    if (start && end) {\n      if (descending) {\n        return IDBKeyRange.bound(end, start, !inclusiveEnd, false);\n      } else {\n        return IDBKeyRange.bound(start, end, false, !inclusiveEnd);\n      }\n    } else if (start) {\n      if (descending) {\n        return IDBKeyRange.upperBound(start);\n      } else {\n        return IDBKeyRange.lowerBound(start);\n      }\n    } else if (end) {\n      if (descending) {\n        return IDBKeyRange.lowerBound(end, !inclusiveEnd);\n      } else {\n        return IDBKeyRange.upperBound(end, !inclusiveEnd);\n      }\n    } else if (key) {\n      return IDBKeyRange.only(key);\n    }\n  } catch (e) {\n    return {error: e};\n  }\n  return null;\n}\n\nfunction idbAllDocs(opts, idb, callback) {\n  var start = 'startkey' in opts ? opts.startkey : false;\n  var end = 'endkey' in opts ? opts.endkey : false;\n  var key = 'key' in opts ? opts.key : false;\n  var keys = 'keys' in opts ? opts.keys : false; \n  var skip = opts.skip || 0;\n  var limit = typeof opts.limit === 'number' ? opts.limit : -1;\n  var inclusiveEnd = opts.inclusive_end !== false;\n\n  var keyRange ; \n  var keyRangeError;\n  if (!keys) {\n    keyRange = createKeyRange(start, end, inclusiveEnd, key, opts.descending);\n    keyRangeError = keyRange && keyRange.error;\n    if (keyRangeError && \n      !(keyRangeError.name === \"DataError\" && keyRangeError.code === 0)) {\n      // DataError with error code 0 indicates start is less than end, so\n      // can just do an empty query. Else need to throw\n      return callback(createError(IDB_ERROR,\n        keyRangeError.name, keyRangeError.message));\n    }\n  }\n\n  var stores = [DOC_STORE, BY_SEQ_STORE, META_STORE];\n\n  if (opts.attachments) {\n    stores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, stores, 'readonly');\n  if (txnResult.error) {\n    return callback(txnResult.error);\n  }\n  var txn = txnResult.txn;\n  txn.oncomplete = onTxnComplete;\n  txn.onabort = idbError(callback);\n  var docStore = txn.objectStore(DOC_STORE);\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var metaStore = txn.objectStore(META_STORE);\n  var docIdRevIndex = seqStore.index('_doc_id_rev');\n  var results = [];\n  var docCount;\n  var updateSeq;\n\n  metaStore.get(META_STORE).onsuccess = function (e) {\n    docCount = e.target.result.docCount;\n  };\n\n  /* istanbul ignore if */\n  if (opts.update_seq) {\n    getMaxUpdateSeq(seqStore, function (e) { \n      if (e.target.result && e.target.result.length > 0) {\n        updateSeq = e.target.result[0];\n      }\n    });\n  }\n\n  function getMaxUpdateSeq(objectStore, onSuccess) {\n    function onCursor(e) {\n      var cursor = e.target.result;\n      var maxKey = undefined;\n      if (cursor && cursor.key) {\n        maxKey = cursor.key;\n      } \n      return onSuccess({\n        target: {\n          result: [maxKey]\n        }\n      });\n    }\n    objectStore.openCursor(null, 'prev').onsuccess = onCursor;\n  }\n\n  // if the user specifies include_docs=true, then we don't\n  // want to block the main cursor while we're fetching the doc\n  function fetchDocAsynchronously(metadata, row, winningRev$$1) {\n    var key = metadata.id + \"::\" + winningRev$$1;\n    docIdRevIndex.get(key).onsuccess =  function onGetDoc(e) {\n      row.doc = decodeDoc(e.target.result) || {};\n      if (opts.conflicts) {\n        var conflicts = collectConflicts(metadata);\n        if (conflicts.length) {\n          row.doc._conflicts = conflicts;\n        }\n      }\n      fetchAttachmentsIfNecessary(row.doc, opts, txn);\n    };\n  }\n\n  function allDocsInner(winningRev$$1, metadata) {\n    var row = {\n      id: metadata.id,\n      key: metadata.id,\n      value: {\n        rev: winningRev$$1\n      }\n    };\n    var deleted = metadata.deleted;\n    if (deleted) {\n      if (keys) {\n        results.push(row);\n        // deleted docs are okay with \"keys\" requests\n        row.value.deleted = true;\n        row.doc = null;\n      }\n    } else if (skip-- <= 0) {\n      results.push(row);\n      if (opts.include_docs) {\n        fetchDocAsynchronously(metadata, row, winningRev$$1);\n      }\n    }\n  }\n\n  function processBatch(batchValues) {\n    for (var i = 0, len = batchValues.length; i < len; i++) {\n      if (results.length === limit) {\n        break;\n      }\n      var batchValue = batchValues[i];\n      if (batchValue.error && keys) {\n        // key was not found with \"keys\" requests\n        results.push(batchValue);\n        continue;\n      }\n      var metadata = decodeMetadata(batchValue);\n      var winningRev$$1 = metadata.winningRev;\n      allDocsInner(winningRev$$1, metadata);\n    }\n  }\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor) {\n      return;\n    }\n    processBatch(batchValues);\n    if (results.length < limit) {\n      cursor.continue();\n    }\n  }\n\n  function onGetAll(e) {\n    var values = e.target.result;\n    if (opts.descending) {\n      values = values.reverse();\n    }\n    processBatch(values);\n  }\n\n  function onResultsReady() {\n    var returnVal = {\n      total_rows: docCount,\n      offset: opts.skip,\n      rows: results\n    };\n    \n    /* istanbul ignore if */\n    if (opts.update_seq && updateSeq !== undefined) {\n      returnVal.update_seq = updateSeq;\n    }\n    callback(null, returnVal);\n  }\n\n  function onTxnComplete() {\n    if (opts.attachments) {\n      postProcessAttachments(results, opts.binary).then(onResultsReady);\n    } else {\n      onResultsReady();\n    }\n  }\n\n  // don't bother doing any requests if start > end or limit === 0\n  if (keyRangeError || limit === 0) {\n    return;\n  }\n  if (keys) {\n    return allDocsKeys(opts.keys, docStore, onBatch);\n  }\n  if (limit === -1) { // just fetch everything\n    return getAll(docStore, keyRange, onGetAll);\n  }\n  // else do a cursor\n  // choose a batch size based on the skip, since we'll need to skip that many\n  runBatchedCursor(docStore, keyRange, opts.descending, limit + skip, onBatch);\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\nfunction checkBlobSupport(txn) {\n  return new Promise(function (resolve) {\n    var blob$$1 = createBlob(['']);\n    var req = txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob$$1, 'key');\n\n    req.onsuccess = function () {\n      var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n      var matchedEdge = navigator.userAgent.match(/Edge\\//);\n      // MS Edge pretends to be Chrome 42:\n      // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n      resolve(matchedEdge || !matchedChrome ||\n        parseInt(matchedChrome[1], 10) >= 43);\n    };\n\n    req.onerror = txn.onabort = function (e) {\n      // If the transaction aborts now its due to not being able to\n      // write to the database, likely due to the disk being full\n      e.preventDefault();\n      e.stopPropagation();\n      resolve(false);\n    };\n  }).catch(function () {\n    return false; // error, so assume unsupported\n  });\n}\n\nfunction countDocs(txn, cb) {\n  var index = txn.objectStore(DOC_STORE).index('deletedOrLocal');\n  index.count(IDBKeyRange.only('0')).onsuccess = function (e) {\n    cb(e.target.result);\n  };\n}\n\n// This task queue ensures that IDB open calls are done in their own tick\n\nvar running = false;\nvar queue = [];\n\nfunction tryCode(fun, err, res, PouchDB) {\n  try {\n    fun(err, res);\n  } catch (err) {\n    // Shouldn't happen, but in some odd cases\n    // IndexedDB implementations might throw a sync\n    // error, in which case this will at least log it.\n    PouchDB.emit('error', err);\n  }\n}\n\nfunction applyNext() {\n  if (running || !queue.length) {\n    return;\n  }\n  running = true;\n  queue.shift()();\n}\n\nfunction enqueueTask(action, callback, PouchDB) {\n  queue.push(function runAction() {\n    action(function runCallback(err, res) {\n      tryCode(callback, err, res, PouchDB);\n      running = false;\n      immediate(function runNext() {\n        applyNext(PouchDB);\n      });\n    });\n  });\n  applyNext();\n}\n\nfunction changes(opts, api, dbName, idb) {\n  opts = clone(opts);\n\n  if (opts.continuous) {\n    var id = dbName + ':' + uuid();\n    changesHandler.addListener(dbName, id, api, opts);\n    changesHandler.notify(dbName);\n    return {\n      cancel: function () {\n        changesHandler.removeListener(dbName, id);\n      }\n    };\n  }\n\n  var docIds = opts.doc_ids && new ExportedSet(opts.doc_ids);\n\n  opts.since = opts.since || 0;\n  var lastSeq = opts.since;\n\n  var limit = 'limit' in opts ? opts.limit : -1;\n  if (limit === 0) {\n    limit = 1; // per CouchDB _changes spec\n  }\n\n  var results = [];\n  var numResults = 0;\n  var filter = filterChange(opts);\n  var docIdsToMetadata = new ExportedMap();\n\n  var txn;\n  var bySeqStore;\n  var docStore;\n  var docIdRevIndex;\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor || !batchKeys.length) { // done\n      return;\n    }\n\n    var winningDocs = new Array(batchKeys.length);\n    var metadatas = new Array(batchKeys.length);\n\n    function processMetadataAndWinningDoc(metadata, winningDoc) {\n      var change = opts.processChange(winningDoc, metadata, opts);\n      lastSeq = change.seq = metadata.seq;\n\n      var filtered = filter(change);\n      if (typeof filtered === 'object') { // anything but true/false indicates error\n        return Promise.reject(filtered);\n      }\n\n      if (!filtered) {\n        return Promise.resolve();\n      }\n      numResults++;\n      if (opts.return_docs) {\n        results.push(change);\n      }\n      // process the attachment immediately\n      // for the benefit of live listeners\n      if (opts.attachments && opts.include_docs) {\n        return new Promise(function (resolve) {\n          fetchAttachmentsIfNecessary(winningDoc, opts, txn, function () {\n            postProcessAttachments([change], opts.binary).then(function () {\n              resolve(change);\n            });\n          });\n        });\n      } else {\n        return Promise.resolve(change);\n      }\n    }\n\n    function onBatchDone() {\n      var promises = [];\n      for (var i = 0, len = winningDocs.length; i < len; i++) {\n        if (numResults === limit) {\n          break;\n        }\n        var winningDoc = winningDocs[i];\n        if (!winningDoc) {\n          continue;\n        }\n        var metadata = metadatas[i];\n        promises.push(processMetadataAndWinningDoc(metadata, winningDoc));\n      }\n\n      Promise.all(promises).then(function (changes) {\n        for (var i = 0, len = changes.length; i < len; i++) {\n          if (changes[i]) {\n            opts.onChange(changes[i]);\n          }\n        }\n      }).catch(opts.complete);\n\n      if (numResults !== limit) {\n        cursor.continue();\n      }\n    }\n\n    // Fetch all metadatas/winningdocs from this batch in parallel, then process\n    // them all only once all data has been collected. This is done in parallel\n    // because it's faster than doing it one-at-a-time.\n    var numDone = 0;\n    batchValues.forEach(function (value, i) {\n      var doc = decodeDoc(value);\n      var seq = batchKeys[i];\n      fetchWinningDocAndMetadata(doc, seq, function (metadata, winningDoc) {\n        metadatas[i] = metadata;\n        winningDocs[i] = winningDoc;\n        if (++numDone === batchKeys.length) {\n          onBatchDone();\n        }\n      });\n    });\n  }\n\n  function onGetMetadata(doc, seq, metadata, cb) {\n    if (metadata.seq !== seq) {\n      // some other seq is later\n      return cb();\n    }\n\n    if (metadata.winningRev === doc._rev) {\n      // this is the winning doc\n      return cb(metadata, doc);\n    }\n\n    // fetch winning doc in separate request\n    var docIdRev = doc._id + '::' + metadata.winningRev;\n    var req = docIdRevIndex.get(docIdRev);\n    req.onsuccess = function (e) {\n      cb(metadata, decodeDoc(e.target.result));\n    };\n  }\n\n  function fetchWinningDocAndMetadata(doc, seq, cb) {\n    if (docIds && !docIds.has(doc._id)) {\n      return cb();\n    }\n\n    var metadata = docIdsToMetadata.get(doc._id);\n    if (metadata) { // cached\n      return onGetMetadata(doc, seq, metadata, cb);\n    }\n    // metadata not cached, have to go fetch it\n    docStore.get(doc._id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      docIdsToMetadata.set(doc._id, metadata);\n      onGetMetadata(doc, seq, metadata, cb);\n    };\n  }\n\n  function finish() {\n    opts.complete(null, {\n      results: results,\n      last_seq: lastSeq\n    });\n  }\n\n  function onTxnComplete() {\n    if (!opts.continuous && opts.attachments) {\n      // cannot guarantee that postProcessing was already done,\n      // so do it again\n      postProcessAttachments(results).then(finish);\n    } else {\n      finish();\n    }\n  }\n\n  var objectStores = [DOC_STORE, BY_SEQ_STORE];\n  if (opts.attachments) {\n    objectStores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, objectStores, 'readonly');\n  if (txnResult.error) {\n    return opts.complete(txnResult.error);\n  }\n  txn = txnResult.txn;\n  txn.onabort = idbError(opts.complete);\n  txn.oncomplete = onTxnComplete;\n\n  bySeqStore = txn.objectStore(BY_SEQ_STORE);\n  docStore = txn.objectStore(DOC_STORE);\n  docIdRevIndex = bySeqStore.index('_doc_id_rev');\n\n  var keyRange = (opts.since && !opts.descending) ?\n    IDBKeyRange.lowerBound(opts.since, true) : null;\n\n  runBatchedCursor(bySeqStore, keyRange, opts.descending, limit, onBatch);\n}\n\nvar cachedDBs = new ExportedMap();\nvar blobSupportPromise;\nvar openReqList = new ExportedMap();\n\nfunction IdbPouch(opts, callback) {\n  var api = this;\n\n  enqueueTask(function (thisCallback) {\n    init(api, opts, thisCallback);\n  }, callback, api.constructor);\n}\n\nfunction init(api, opts, callback) {\n\n  var dbName = opts.name;\n\n  var idb = null;\n  var idbGlobalFailureError = null;\n  api._meta = null;\n\n  function enrichCallbackError(callback) {\n    return function (error, result) {\n      if (error && error instanceof Error && !error.reason) {\n        if (idbGlobalFailureError) {\n          error.reason = idbGlobalFailureError;\n        }\n      }\n\n      callback(error, result);\n    };\n  }\n\n  // called when creating a fresh new database\n  function createSchema(db) {\n    var docStore = db.createObjectStore(DOC_STORE, {keyPath : 'id'});\n    db.createObjectStore(BY_SEQ_STORE, {autoIncrement: true})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n    db.createObjectStore(ATTACH_STORE, {keyPath: 'digest'});\n    db.createObjectStore(META_STORE, {keyPath: 'id', autoIncrement: false});\n    db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n\n    // added in v2\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    // added in v3\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'});\n\n    // added in v4\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 2\n  // unfortunately \"deletedOrLocal\" is a misnomer now that we no longer\n  // store local docs in the main doc-store, but whaddyagonnado\n  function addDeletedOrLocalIndex(txn, callback) {\n    var docStore = txn.objectStore(DOC_STORE);\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    docStore.openCursor().onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var deleted = isDeleted(metadata);\n        metadata.deletedOrLocal = deleted ? \"1\" : \"0\";\n        docStore.put(metadata);\n        cursor.continue();\n      } else {\n        callback();\n      }\n    };\n  }\n\n  // migration to version 3 (part 1)\n  function createLocalStoreSchema(db) {\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n  }\n\n  // migration to version 3 (part 2)\n  function migrateLocalStore(txn, cb) {\n    var localStore = txn.objectStore(LOCAL_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var docId = metadata.id;\n        var local = isLocalId(docId);\n        var rev = winningRev(metadata);\n        if (local) {\n          var docIdRev = docId + \"::\" + rev;\n          // remove all seq entries\n          // associated with this docId\n          var start = docId + \"::\";\n          var end = docId + \"::~\";\n          var index = seqStore.index('_doc_id_rev');\n          var range = IDBKeyRange.bound(start, end, false, false);\n          var seqCursor = index.openCursor(range);\n          seqCursor.onsuccess = function (e) {\n            seqCursor = e.target.result;\n            if (!seqCursor) {\n              // done\n              docStore.delete(cursor.primaryKey);\n              cursor.continue();\n            } else {\n              var data = seqCursor.value;\n              if (data._doc_id_rev === docIdRev) {\n                localStore.put(data);\n              }\n              seqStore.delete(seqCursor.primaryKey);\n              seqCursor.continue();\n            }\n          };\n        } else {\n          cursor.continue();\n        }\n      } else if (cb) {\n        cb();\n      }\n    };\n  }\n\n  // migration to version 4 (part 1)\n  function addAttachAndSeqStore(db) {\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 4 (part 2)\n  function migrateAttsAndSeqs(txn, callback) {\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n    var attStore = txn.objectStore(ATTACH_STORE);\n    var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n\n    // need to actually populate the table. this is the expensive part,\n    // so as an optimization, check first that this database even\n    // contains attachments\n    var req = attStore.count();\n    req.onsuccess = function (e) {\n      var count = e.target.result;\n      if (!count) {\n        return callback(); // done\n      }\n\n      seqStore.openCursor().onsuccess = function (e) {\n        var cursor = e.target.result;\n        if (!cursor) {\n          return callback(); // done\n        }\n        var doc = cursor.value;\n        var seq = cursor.primaryKey;\n        var atts = Object.keys(doc._attachments || {});\n        var digestMap = {};\n        for (var j = 0; j < atts.length; j++) {\n          var att = doc._attachments[atts[j]];\n          digestMap[att.digest] = true; // uniq digests, just in case\n        }\n        var digests = Object.keys(digestMap);\n        for (j = 0; j < digests.length; j++) {\n          var digest = digests[j];\n          attAndSeqStore.put({\n            seq: seq,\n            digestSeq: digest + '::' + seq\n          });\n        }\n        cursor.continue();\n      };\n    };\n  }\n\n  // migration to version 5\n  // Instead of relying on on-the-fly migration of metadata,\n  // this brings the doc-store to its modern form:\n  // - metadata.winningrev\n  // - metadata.seq\n  // - stringify the metadata when storing it\n  function migrateMetadata(txn) {\n\n    function decodeMetadataCompat(storedObject) {\n      if (!storedObject.data) {\n        // old format, when we didn't store it stringified\n        storedObject.deleted = storedObject.deletedOrLocal === '1';\n        return storedObject;\n      }\n      return decodeMetadata(storedObject);\n    }\n\n    // ensure that every metadata has a winningRev and seq,\n    // which was previously created on-the-fly but better to migrate\n    var bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (e) {\n      var cursor = e.target.result;\n      if (!cursor) {\n        return; // done\n      }\n      var metadata = decodeMetadataCompat(cursor.value);\n\n      metadata.winningRev = metadata.winningRev ||\n        winningRev(metadata);\n\n      function fetchMetadataSeq() {\n        // metadata.seq was added post-3.2.0, so if it's missing,\n        // we need to fetch it manually\n        var start = metadata.id + '::';\n        var end = metadata.id + '::\\uffff';\n        var req = bySeqStore.index('_doc_id_rev').openCursor(\n          IDBKeyRange.bound(start, end));\n\n        var metadataSeq = 0;\n        req.onsuccess = function (e) {\n          var cursor = e.target.result;\n          if (!cursor) {\n            metadata.seq = metadataSeq;\n            return onGetMetadataSeq();\n          }\n          var seq = cursor.primaryKey;\n          if (seq > metadataSeq) {\n            metadataSeq = seq;\n          }\n          cursor.continue();\n        };\n      }\n\n      function onGetMetadataSeq() {\n        var metadataToStore = encodeMetadata(metadata,\n          metadata.winningRev, metadata.deleted);\n\n        var req = docStore.put(metadataToStore);\n        req.onsuccess = function () {\n          cursor.continue();\n        };\n      }\n\n      if (metadata.seq) {\n        return onGetMetadataSeq();\n      }\n\n      fetchMetadataSeq();\n    };\n\n  }\n\n  api._remote = false;\n  api.type = function () {\n    return 'idb';\n  };\n\n  api._id = toPromise(function (callback) {\n    callback(null, api._meta.instanceId);\n  });\n\n  api._bulkDocs = function idb_bulkDocs(req, reqOpts, callback) {\n    idbBulkDocs(opts, req, reqOpts, api, idb, enrichCallbackError(callback));\n  };\n\n  // First we look up the metadata in the ids database, then we fetch the\n  // current revision(s) from the by sequence store\n  api._get = function idb_get(id, opts, callback) {\n    var doc;\n    var metadata;\n    var err;\n    var txn = opts.ctx;\n    if (!txn) {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n\n    function finish() {\n      callback(err, {doc: doc, metadata: metadata, ctx: txn});\n    }\n\n    txn.objectStore(DOC_STORE).get(id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      // we can determine the result here if:\n      // 1. there is no such document\n      // 2. the document is deleted and we don't ask about specific rev\n      // When we ask with opts.rev we expect the answer to be either\n      // doc (possibly with _deleted=true) or missing error\n      if (!metadata) {\n        err = createError(MISSING_DOC, 'missing');\n        return finish();\n      }\n\n      var rev;\n      if (!opts.rev) {\n        rev = metadata.winningRev;\n        var deleted = isDeleted(metadata);\n        if (deleted) {\n          err = createError(MISSING_DOC, \"deleted\");\n          return finish();\n        }\n      } else {\n        rev = opts.latest ? latest(opts.rev, metadata) : opts.rev;\n      }\n\n      var objectStore = txn.objectStore(BY_SEQ_STORE);\n      var key = metadata.id + '::' + rev;\n\n      objectStore.index('_doc_id_rev').get(key).onsuccess = function (e) {\n        doc = e.target.result;\n        if (doc) {\n          doc = decodeDoc(doc);\n        }\n        if (!doc) {\n          err = createError(MISSING_DOC, 'missing');\n          return finish();\n        }\n        finish();\n      };\n    };\n  };\n\n  api._getAttachment = function (docId, attachId, attachment, opts, callback) {\n    var txn;\n    if (opts.ctx) {\n      txn = opts.ctx;\n    } else {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n    var digest = attachment.digest;\n    var type = attachment.content_type;\n\n    txn.objectStore(ATTACH_STORE).get(digest).onsuccess = function (e) {\n      var body = e.target.result.body;\n      readBlobData(body, type, opts.binary, function (blobData) {\n        callback(null, blobData);\n      });\n    };\n  };\n\n  api._info = function idb_info(callback) {\n    var updateSeq;\n    var docCount;\n\n    var txnResult = openTransactionSafely(idb, [META_STORE, BY_SEQ_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      docCount = e.target.result.docCount;\n    };\n    txn.objectStore(BY_SEQ_STORE).openCursor(null, 'prev').onsuccess = function (e) {\n      var cursor = e.target.result;\n      updateSeq = cursor ? cursor.key : 0;\n    };\n\n    txn.oncomplete = function () {\n      callback(null, {\n        doc_count: docCount,\n        update_seq: updateSeq,\n        // for debugging\n        idb_attachment_format: (api._meta.blobSupport ? 'binary' : 'base64')\n      });\n    };\n  };\n\n  api._allDocs = function idb_allDocs(opts, callback) {\n    idbAllDocs(opts, idb, enrichCallbackError(callback));\n  };\n\n  api._changes = function idbChanges(opts) {\n    return changes(opts, api, dbName, idb);\n  };\n\n  api._close = function (callback) {\n    // https://developer.mozilla.org/en-US/docs/IndexedDB/IDBDatabase#close\n    // \"Returns immediately and closes the connection in a separate thread...\"\n    idb.close();\n    cachedDBs.delete(dbName);\n    callback();\n  };\n\n  api._getRevisionTree = function (docId, callback) {\n    var txnResult = openTransactionSafely(idb, [DOC_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    var req = txn.objectStore(DOC_STORE).get(docId);\n    req.onsuccess = function (event) {\n      var doc = decodeMetadata(event.target.result);\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        callback(null, doc.rev_tree);\n      }\n    };\n  };\n\n  // This function removes revisions of document docId\n  // which are listed in revs and sets this document\n  // revision to to rev_tree\n  api._doCompaction = function (docId, revs, callback) {\n    var stores = [\n      DOC_STORE,\n      BY_SEQ_STORE,\n      ATTACH_STORE,\n      ATTACH_AND_SEQ_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n\n    var docStore = txn.objectStore(DOC_STORE);\n\n    docStore.get(docId).onsuccess = function (event) {\n      var metadata = decodeMetadata(event.target.result);\n      traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                                         revHash, ctx, opts) {\n        var rev = pos + '-' + revHash;\n        if (revs.indexOf(rev) !== -1) {\n          opts.status = 'missing';\n        }\n      });\n      compactRevs(revs, docId, txn);\n      var winningRev$$1 = metadata.winningRev;\n      var deleted = metadata.deleted;\n      txn.objectStore(DOC_STORE).put(\n        encodeMetadata(metadata, winningRev$$1, deleted));\n    };\n    txn.onabort = idbError(callback);\n    txn.oncomplete = function () {\n      callback();\n    };\n  };\n\n\n  api._getLocal = function (id, callback) {\n    var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var tx = txnResult.txn;\n    var req = tx.objectStore(LOCAL_STORE).get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var doc = e.target.result;\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        delete doc['_doc_id_rev']; // for backwards compat\n        callback(null, doc);\n      }\n    };\n  };\n\n  api._putLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    delete doc._revisions; // ignore this, trust the rev\n    var oldRev = doc._rev;\n    var id = doc._id;\n    if (!oldRev) {\n      doc._rev = '0-1';\n    } else {\n      doc._rev = '0-' + (parseInt(oldRev.split('-')[1], 10) + 1);\n    }\n\n    var tx = opts.ctx;\n    var ret;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.onerror = idbError(callback);\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req;\n    if (oldRev) {\n      req = oStore.get(id);\n      req.onsuccess = function (e) {\n        var oldDoc = e.target.result;\n        if (!oldDoc || oldDoc._rev !== oldRev) {\n          callback(createError(REV_CONFLICT));\n        } else { // update\n          var req = oStore.put(doc);\n          req.onsuccess = function () {\n            ret = {ok: true, id: doc._id, rev: doc._rev};\n            if (opts.ctx) { // return immediately\n              callback(null, ret);\n            }\n          };\n        }\n      };\n    } else { // new doc\n      req = oStore.add(doc);\n      req.onerror = function (e) {\n        // constraint error, already exists\n        callback(createError(REV_CONFLICT));\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n      };\n      req.onsuccess = function () {\n        ret = {ok: true, id: doc._id, rev: doc._rev};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      };\n    }\n  };\n\n  api._removeLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var tx = opts.ctx;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n    var ret;\n    var id = doc._id;\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req = oStore.get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var oldDoc = e.target.result;\n      if (!oldDoc || oldDoc._rev !== doc._rev) {\n        callback(createError(MISSING_DOC));\n      } else {\n        oStore.delete(id);\n        ret = {ok: true, id: id, rev: '0-0'};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      }\n    };\n  };\n\n  api._destroy = function (opts, callback) {\n    changesHandler.removeAllListeners(dbName);\n\n    //Close open request for \"dbName\" database to fix ie delay.\n    var openReq = openReqList.get(dbName);\n    if (openReq && openReq.result) {\n      openReq.result.close();\n      cachedDBs.delete(dbName);\n    }\n    var req = indexedDB.deleteDatabase(dbName);\n\n    req.onsuccess = function () {\n      //Remove open request from the list.\n      openReqList.delete(dbName);\n      if (hasLocalStorage() && (dbName in localStorage)) {\n        delete localStorage[dbName];\n      }\n      callback(null, { 'ok': true });\n    };\n\n    req.onerror = idbError(callback);\n  };\n\n  var cached = cachedDBs.get(dbName);\n\n  if (cached) {\n    idb = cached.idb;\n    api._meta = cached.global;\n    return immediate(function () {\n      callback(null, api);\n    });\n  }\n\n  var req = indexedDB.open(dbName, ADAPTER_VERSION);\n  openReqList.set(dbName, req);\n\n  req.onupgradeneeded = function (e) {\n    var db = e.target.result;\n    if (e.oldVersion < 1) {\n      return createSchema(db); // new db, initial schema\n    }\n    // do migrations\n\n    var txn = e.currentTarget.transaction;\n    // these migrations have to be done in this function, before\n    // control is returned to the event loop, because IndexedDB\n\n    if (e.oldVersion < 3) {\n      createLocalStoreSchema(db); // v2 -> v3\n    }\n    if (e.oldVersion < 4) {\n      addAttachAndSeqStore(db); // v3 -> v4\n    }\n\n    var migrations = [\n      addDeletedOrLocalIndex, // v1 -> v2\n      migrateLocalStore,      // v2 -> v3\n      migrateAttsAndSeqs,     // v3 -> v4\n      migrateMetadata         // v4 -> v5\n    ];\n\n    var i = e.oldVersion;\n\n    function next() {\n      var migration = migrations[i - 1];\n      i++;\n      if (migration) {\n        migration(txn, next);\n      }\n    }\n\n    next();\n  };\n\n  req.onsuccess = function (e) {\n\n    idb = e.target.result;\n\n    idb.onversionchange = function () {\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    idb.onabort = function (e) {\n      guardedConsole('error', 'Database has a global failure', e.target.error);\n      idbGlobalFailureError = e.target.error;\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    // Do a few setup operations (in parallel as much as possible):\n    // 1. Fetch meta doc\n    // 2. Check blob support\n    // 3. Calculate docCount\n    // 4. Generate an instanceId if necessary\n    // 5. Store docCount and instanceId on meta doc\n\n    var txn = idb.transaction([\n      META_STORE,\n      DETECT_BLOB_SUPPORT_STORE,\n      DOC_STORE\n    ], 'readwrite');\n\n    var storedMetaDoc = false;\n    var metaDoc;\n    var docCount;\n    var blobSupport;\n    var instanceId;\n\n    function completeSetup() {\n      if (typeof blobSupport === 'undefined' || !storedMetaDoc) {\n        return;\n      }\n      api._meta = {\n        name: dbName,\n        instanceId: instanceId,\n        blobSupport: blobSupport\n      };\n\n      cachedDBs.set(dbName, {\n        idb: idb,\n        global: api._meta\n      });\n      callback(null, api);\n    }\n\n    function storeMetaDocIfReady() {\n      if (typeof docCount === 'undefined' || typeof metaDoc === 'undefined') {\n        return;\n      }\n      var instanceKey = dbName + '_id';\n      if (instanceKey in metaDoc) {\n        instanceId = metaDoc[instanceKey];\n      } else {\n        metaDoc[instanceKey] = instanceId = uuid();\n      }\n      metaDoc.docCount = docCount;\n      txn.objectStore(META_STORE).put(metaDoc);\n    }\n\n    //\n    // fetch or generate the instanceId\n    //\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result || { id: META_STORE };\n      storeMetaDocIfReady();\n    };\n\n    //\n    // countDocs\n    //\n    countDocs(txn, function (count) {\n      docCount = count;\n      storeMetaDocIfReady();\n    });\n\n    //\n    // check blob support\n    //\n    if (!blobSupportPromise) {\n      // make sure blob support is only checked once\n      blobSupportPromise = checkBlobSupport(txn);\n    }\n\n    blobSupportPromise.then(function (val) {\n      blobSupport = val;\n      completeSetup();\n    });\n\n    // only when the metadata put transaction has completed,\n    // consider the setup done\n    txn.oncomplete = function () {\n      storedMetaDoc = true;\n      completeSetup();\n    };\n    txn.onabort = idbError(callback);\n  };\n\n  req.onerror = function (e) {\n    var msg = e.target.error && e.target.error.message;\n\n    if (!msg) {\n      msg = 'Failed to open indexedDB, are you in private browsing mode?';\n    } else if (msg.indexOf(\"stored database is a higher version\") !== -1) {\n      msg = new Error('This DB was created with the newer \"indexeddb\" adapter, but you are trying to open it with the older \"idb\" adapter');\n    }\n\n    guardedConsole('error', msg);\n    callback(createError(IDB_ERROR, msg));\n  };\n}\n\nIdbPouch.valid = function () {\n  // Following #7085 buggy idb versions (typically Safari < 10.1) are\n  // considered valid.\n\n  // On Firefox SecurityError is thrown while referencing indexedDB if cookies\n  // are not allowed. `typeof indexedDB` also triggers the error.\n  try {\n    // some outdated implementations of IDB that appear on Samsung\n    // and HTC Android devices <4.4 are missing IDBKeyRange\n    return typeof indexedDB !== 'undefined' && typeof IDBKeyRange !== 'undefined';\n  } catch (e) {\n    return false;\n  }\n};\n\nfunction IDBPouch (PouchDB) {\n  PouchDB.adapter('idb', IdbPouch, true);\n}\n\n// dead simple promise pool, inspired by https://github.com/timdp/es6-promise-pool\n// but much smaller in code size. limits the number of concurrent promises that are executed\n\n\nfunction pool(promiseFactories, limit) {\n  return new Promise(function (resolve, reject) {\n    var running = 0;\n    var current = 0;\n    var done = 0;\n    var len = promiseFactories.length;\n    var err;\n\n    function runNext() {\n      running++;\n      promiseFactories[current++]().then(onSuccess, onError);\n    }\n\n    function doNext() {\n      if (++done === len) {\n        /* istanbul ignore if */\n        if (err) {\n          reject(err);\n        } else {\n          resolve();\n        }\n      } else {\n        runNextBatch();\n      }\n    }\n\n    function onSuccess() {\n      running--;\n      doNext();\n    }\n\n    /* istanbul ignore next */\n    function onError(thisErr) {\n      running--;\n      err = err || thisErr;\n      doNext();\n    }\n\n    function runNextBatch() {\n      while (running < limit && current < len) {\n        runNext();\n      }\n    }\n\n    runNextBatch();\n  });\n}\n\nconst CHANGES_BATCH_SIZE = 25;\nconst MAX_SIMULTANEOUS_REVS = 50;\nconst CHANGES_TIMEOUT_BUFFER = 5000;\nconst DEFAULT_HEARTBEAT = 10000;\n\nlet supportsBulkGetMap = {};\n\nfunction readAttachmentsAsBlobOrBuffer(row) {\n  let doc = row.doc || row.ok;\n  let atts = doc && doc._attachments;\n  if (!atts) {\n    return;\n  }\n  Object.keys(atts).forEach(function (filename) {\n    let att = atts[filename];\n    att.data = b64ToBluffer(att.data, att.content_type);\n  });\n}\n\nfunction encodeDocId(id) {\n  if (/^_design/.test(id)) {\n    return '_design/' + encodeURIComponent(id.slice(8));\n  }\n  if (/^_local/.test(id)) {\n    return '_local/' + encodeURIComponent(id.slice(7));\n  }\n  return encodeURIComponent(id);\n}\n\nfunction preprocessAttachments$1(doc) {\n  if (!doc._attachments || !Object.keys(doc._attachments)) {\n    return Promise.resolve();\n  }\n\n  return Promise.all(Object.keys(doc._attachments).map(function (key) {\n    let attachment = doc._attachments[key];\n    if (attachment.data && typeof attachment.data !== 'string') {\n      return new Promise(function (resolve) {\n        blobToBase64(attachment.data, resolve);\n      }).then(function (b64) {\n        attachment.data = b64;\n      });\n    }\n  }));\n}\n\nfunction hasUrlPrefix(opts) {\n  if (!opts.prefix) {\n    return false;\n  }\n  let protocol = parseUri(opts.prefix).protocol;\n  return protocol === 'http' || protocol === 'https';\n}\n\n// Get all the information you possibly can about the URI given by name and\n// return it as a suitable object.\nfunction getHost(name, opts) {\n  // encode db name if opts.prefix is a url (#5574)\n  if (hasUrlPrefix(opts)) {\n    let dbName = opts.name.substr(opts.prefix.length);\n    // Ensure prefix has a trailing slash\n    let prefix = opts.prefix.replace(/\\/?$/, '/');\n    name = prefix + encodeURIComponent(dbName);\n  }\n\n  let uri = parseUri(name);\n  if (uri.user || uri.password) {\n    uri.auth = {username: uri.user, password: uri.password};\n  }\n\n  // Split the path part of the URI into parts using '/' as the delimiter\n  // after removing any leading '/' and any trailing '/'\n  let parts = uri.path.replace(/(^\\/|\\/$)/g, '').split('/');\n\n  uri.db = parts.pop();\n  // Prevent double encoding of URI component\n  if (uri.db.indexOf('%') === -1) {\n    uri.db = encodeURIComponent(uri.db);\n  }\n\n  uri.path = parts.join('/');\n\n  return uri;\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genDBUrl(opts, path) {\n  return genUrl(opts, opts.db + '/' + path);\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genUrl(opts, path) {\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  let pathDel = !opts.path ? '' : '/';\n\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  return opts.protocol + '://' + opts.host +\n         (opts.port ? (':' + opts.port) : '') +\n         '/' + opts.path + pathDel + path;\n}\n\nfunction paramsToStr(params) {\n  return '?' + Object.keys(params).map(function (k) {\n    return k + '=' + encodeURIComponent(params[k]);\n  }).join('&');\n}\n\nfunction shouldCacheBust(opts) {\n  let ua = (typeof navigator !== 'undefined' && navigator.userAgent) ?\n      navigator.userAgent.toLowerCase() : '';\n  let isIE = ua.indexOf('msie') !== -1;\n  let isTrident = ua.indexOf('trident') !== -1;\n  let isEdge = ua.indexOf('edge') !== -1;\n  let isGET = !('method' in opts) || opts.method === 'GET';\n  return (isIE || isTrident || isEdge) && isGET;\n}\n\n// Implements the PouchDB API for dealing with CouchDB instances over HTTP\nfunction HttpPouch(opts, callback) {\n\n  // The functions that will be publicly available for HttpPouch\n  let api = this;\n\n  let host = getHost(opts.name, opts);\n  let dbUrl = genDBUrl(host, '');\n\n  opts = clone(opts);\n\n  const ourFetch = async function (url, options) {\n\n    options = options || {};\n    options.headers = options.headers || new h();\n\n    options.credentials = 'include';\n\n    if (opts.auth || host.auth) {\n      let nAuth = opts.auth || host.auth;\n      let str = nAuth.username + ':' + nAuth.password;\n      let token = thisBtoa(unescape(encodeURIComponent(str)));\n      options.headers.set('Authorization', 'Basic ' + token);\n    }\n\n    let headers = opts.headers || {};\n    Object.keys(headers).forEach(function (key) {\n      options.headers.append(key, headers[key]);\n    });\n\n    /* istanbul ignore if */\n    if (shouldCacheBust(options)) {\n      url += (url.indexOf('?') === -1 ? '?' : '&') + '_nonce=' + Date.now();\n    }\n\n    let fetchFun = opts.fetch || f$1;\n    return await fetchFun(url, options);\n  };\n\n  function adapterFun$$1(name, fun) {\n    return adapterFun(name, function (...args) {\n      setup().then(function () {\n        return fun.apply(this, args);\n      }).catch(function (e) {\n        let callback = args.pop();\n        callback(e);\n      });\n    }).bind(api);\n  }\n\n  async function fetchJSON(url, options) {\n\n    let result = {};\n\n    options = options || {};\n    options.headers = options.headers || new h();\n\n    if (!options.headers.get('Content-Type')) {\n      options.headers.set('Content-Type', 'application/json');\n    }\n    if (!options.headers.get('Accept')) {\n      options.headers.set('Accept', 'application/json');\n    }\n\n    const response = await ourFetch(url, options);\n    result.ok = response.ok;\n    result.status = response.status;\n    const json = await response.json();\n\n    result.data = json;\n    if (!result.ok) {\n      result.data.status = result.status;\n      let err = generateErrorFromResponse(result.data);\n      throw err;\n    }\n\n    if (Array.isArray(result.data)) {\n      result.data = result.data.map(function (v) {\n        if (v.error || v.missing) {\n          return generateErrorFromResponse(v);\n        } else {\n          return v;\n        }\n      });\n    }\n\n    return result;\n  }\n\n  let setupPromise;\n\n  async function setup() {\n    if (opts.skip_setup) {\n      return Promise.resolve();\n    }\n\n    // If there is a setup in process or previous successful setup\n    // done then we will use that\n    // If previous setups have been rejected we will try again\n    if (setupPromise) {\n      return setupPromise;\n    }\n\n    setupPromise = fetchJSON(dbUrl).catch(function (err) {\n      if (err && err.status && err.status === 404) {\n        // Doesnt exist, create it\n        explainError(404, 'PouchDB is just detecting if the remote exists.');\n        return fetchJSON(dbUrl, {method: 'PUT'});\n      } else {\n        return Promise.reject(err);\n      }\n    }).catch(function (err) {\n      // If we try to create a database that already exists, skipped in\n      // istanbul since its catching a race condition.\n      /* istanbul ignore if */\n      if (err && err.status && err.status === 412) {\n        return true;\n      }\n      return Promise.reject(err);\n    });\n\n    setupPromise.catch(function () {\n      setupPromise = null;\n    });\n\n    return setupPromise;\n  }\n\n  immediate(function () {\n    callback(null, api);\n  });\n\n  api._remote = true;\n\n  /* istanbul ignore next */\n  api.type = function () {\n    return 'http';\n  };\n\n  api.id = adapterFun$$1('id', async function (callback) {\n    let result;\n    try {\n      const response = await ourFetch(genUrl(host, ''));\n      result = await response.json();\n    } catch (err) {\n      result = {};\n    }\n\n    // Bad response or missing `uuid` should not prevent ID generation.\n    let uuid$$1 = (result && result.uuid) ? (result.uuid + host.db) : genDBUrl(host, '');\n    callback(null, uuid$$1);\n  });\n\n  // Sends a POST request to the host calling the couchdb _compact function\n  //    version: The version of CouchDB it is running\n  api.compact = adapterFun$$1('compact', async function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    await fetchJSON(genDBUrl(host, '_compact'), {method: 'POST'});\n\n    function ping() {\n      api.info(function (err, res) {\n        // CouchDB may send a \"compact_running:true\" if it's\n        // already compacting. PouchDB Server doesn't.\n        /* istanbul ignore else */\n        if (res && !res.compact_running) {\n          callback(null, {ok: true});\n        } else {\n          setTimeout(ping, opts.interval || 200);\n        }\n      });\n    }\n    // Ping the http if it's finished compaction\n    ping();\n  });\n\n  api.bulkGet = adapterFun('bulkGet', function (opts, callback) {\n    let self = this;\n\n    async function doBulkGet(cb) {\n      let params = {};\n      if (opts.revs) {\n        params.revs = true;\n      }\n      if (opts.attachments) {\n        /* istanbul ignore next */\n        params.attachments = true;\n      }\n      if (opts.latest) {\n        params.latest = true;\n      }\n      try {\n        const result = await fetchJSON(genDBUrl(host, '_bulk_get' + paramsToStr(params)), {\n          method: 'POST',\n          body: JSON.stringify({ docs: opts.docs})\n        });\n\n        if (opts.attachments && opts.binary) {\n          result.data.results.forEach(function (res) {\n            res.docs.forEach(readAttachmentsAsBlobOrBuffer);\n          });\n        }\n        cb(null, result.data);\n      } catch (error) {\n        cb(error);\n      }\n    }\n\n    /* istanbul ignore next */\n    function doBulkGetShim() {\n      // avoid \"url too long error\" by splitting up into multiple requests\n      let batchSize = MAX_SIMULTANEOUS_REVS;\n      let numBatches = Math.ceil(opts.docs.length / batchSize);\n      let numDone = 0;\n      let results = new Array(numBatches);\n\n      function onResult(batchNum) {\n        return function (err, res) {\n          // err is impossible because shim returns a list of errs in that case\n          results[batchNum] = res.results;\n          if (++numDone === numBatches) {\n            callback(null, {results: flatten(results)});\n          }\n        };\n      }\n\n      for (let i = 0; i < numBatches; i++) {\n        let subOpts = pick(opts, ['revs', 'attachments', 'binary', 'latest']);\n        subOpts.docs = opts.docs.slice(i * batchSize,\n          Math.min(opts.docs.length, (i + 1) * batchSize));\n        bulkGet(self, subOpts, onResult(i));\n      }\n    }\n\n    // mark the whole database as either supporting or not supporting _bulk_get\n    let dbUrl = genUrl(host, '');\n    let supportsBulkGet = supportsBulkGetMap[dbUrl];\n\n    /* istanbul ignore next */\n    if (typeof supportsBulkGet !== 'boolean') {\n      // check if this database supports _bulk_get\n      doBulkGet(function (err, res) {\n        if (err) {\n          supportsBulkGetMap[dbUrl] = false;\n          explainError(\n            err.status,\n            'PouchDB is just detecting if the remote ' +\n            'supports the _bulk_get API.'\n          );\n          doBulkGetShim();\n        } else {\n          supportsBulkGetMap[dbUrl] = true;\n          callback(null, res);\n        }\n      });\n    } else if (supportsBulkGet) {\n      doBulkGet(callback);\n    } else {\n      doBulkGetShim();\n    }\n  });\n\n  // Calls GET on the host, which gets back a JSON string containing\n  //    couchdb: A welcome string\n  //    version: The version of CouchDB it is running\n  api._info = async function (callback) {\n    try {\n      await setup();\n      const response = await ourFetch(genDBUrl(host, ''));\n      const info = await response.json();\n      info.host = genDBUrl(host, '');\n      callback(null, info);\n    } catch (err) {\n      callback(err);\n    }\n  };\n\n  api.fetch = async function (path, options) {\n    await setup();\n    const url = path.substring(0, 1) === '/' ?\n    genUrl(host, path.substring(1)) :\n    genDBUrl(host, path);\n    return ourFetch(url, options);\n  };\n\n  // Get the document with the given id from the database given by host.\n  // The id could be solely the _id in the database, or it may be a\n  // _design/ID or _local/ID path\n  api.get = adapterFun$$1('get', async function (id, opts, callback) {\n    // If no options were given, set the callback to the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    let params = {};\n\n    if (opts.revs) {\n      params.revs = true;\n    }\n\n    if (opts.revs_info) {\n      params.revs_info = true;\n    }\n\n    if (opts.latest) {\n      params.latest = true;\n    }\n\n    if (opts.open_revs) {\n      if (opts.open_revs !== \"all\") {\n        opts.open_revs = JSON.stringify(opts.open_revs);\n      }\n      params.open_revs = opts.open_revs;\n    }\n\n    if (opts.rev) {\n      params.rev = opts.rev;\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = opts.conflicts;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = opts.update_seq;\n    }\n\n    id = encodeDocId(id);\n\n    function fetchAttachments(doc) {\n      let atts = doc._attachments;\n      let filenames = atts && Object.keys(atts);\n      if (!atts || !filenames.length) {\n        return;\n      }\n      // we fetch these manually in separate XHRs, because\n      // Sync Gateway would normally send it back as multipart/mixed,\n      // which we cannot parse. Also, this is more efficient than\n      // receiving attachments as base64-encoded strings.\n      async function fetchData(filename) {\n        const att = atts[filename];\n        const path = encodeDocId(doc._id) + '/' + encodeAttachmentId(filename) +\n            '?rev=' + doc._rev;\n\n        const response = await ourFetch(genDBUrl(host, path));\n\n        let blob;\n        if ('buffer' in response) {\n          blob = await response.buffer();\n        } else {\n          /* istanbul ignore next */\n          blob = await response.blob();\n        }\n\n        let data;\n        if (opts.binary) {\n          let typeFieldDescriptor = Object.getOwnPropertyDescriptor(blob.__proto__, 'type');\n          if (!typeFieldDescriptor || typeFieldDescriptor.set) {\n            blob.type = att.content_type;\n          }\n          data = blob;\n        } else {\n          data = await new Promise(function (resolve) {\n            blobToBase64(blob, resolve);\n          });\n        }\n\n        delete att.stub;\n        delete att.length;\n        att.data = data;\n      }\n\n      let promiseFactories = filenames.map(function (filename) {\n        return function () {\n          return fetchData(filename);\n        };\n      });\n\n      // This limits the number of parallel xhr requests to 5 any time\n      // to avoid issues with maximum browser request limits\n      return pool(promiseFactories, 5);\n    }\n\n    function fetchAllAttachments(docOrDocs) {\n      if (Array.isArray(docOrDocs)) {\n        return Promise.all(docOrDocs.map(function (doc) {\n          if (doc.ok) {\n            return fetchAttachments(doc.ok);\n          }\n        }));\n      }\n      return fetchAttachments(docOrDocs);\n    }\n\n    const url = genDBUrl(host, id + paramsToStr(params));\n    try {\n      const res = await fetchJSON(url);\n      if (opts.attachments) {\n        await fetchAllAttachments(res.data);\n      }\n      callback(null, res.data);\n    } catch (error) {\n      error.docId = id;\n      callback(error);\n    }\n  });\n\n\n  // Delete the document given by doc from the database given by host.\n  api.remove = adapterFun$$1('remove', async function (docOrId, optsOrRev, opts, cb) {\n    let doc;\n    if (typeof optsOrRev === 'string') {\n      // id, rev, opts, callback style\n      doc = {\n        _id: docOrId,\n        _rev: optsOrRev\n      };\n      if (typeof opts === 'function') {\n        cb = opts;\n        opts = {};\n      }\n    } else {\n      // doc, opts, callback style\n      doc = docOrId;\n      if (typeof optsOrRev === 'function') {\n        cb = optsOrRev;\n        opts = {};\n      } else {\n        cb = opts;\n        opts = optsOrRev;\n      }\n    }\n\n    const rev = (doc._rev || opts.rev);\n    const url = genDBUrl(host, encodeDocId(doc._id)) + '?rev=' + rev;\n\n    try {\n      const result = await fetchJSON(url, {method: 'DELETE'});\n      cb(null, result.data);\n    } catch (error) {\n      cb(error);\n    }\n  });\n\n  function encodeAttachmentId(attachmentId) {\n    return attachmentId.split(\"/\").map(encodeURIComponent).join(\"/\");\n  }\n\n  // Get the attachment\n  api.getAttachment = adapterFun$$1('getAttachment', async function (docId, attachmentId,\n                                                            opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    const params = opts.rev ? ('?rev=' + opts.rev) : '';\n    const url = genDBUrl(host, encodeDocId(docId)) + '/' +\n        encodeAttachmentId(attachmentId) + params;\n    let contentType;\n    try {\n      const response = await ourFetch(url, {method: 'GET'});\n\n      if (!response.ok) {\n        throw response;\n      }\n\n      contentType = response.headers.get('content-type');\n      let blob;\n      if (typeof process !== 'undefined' && !process.browser && typeof response.buffer === 'function') {\n        blob = await response.buffer();\n      } else {\n        /* istanbul ignore next */\n        blob = await response.blob();\n      }\n\n      // TODO: also remove\n      if (typeof process !== 'undefined' && !process.browser) {\n        var typeFieldDescriptor = Object.getOwnPropertyDescriptor(blob.__proto__, 'type');\n        if (!typeFieldDescriptor || typeFieldDescriptor.set) {\n          blob.type = contentType;\n        }\n      }\n      callback(null, blob);\n    } catch (err) {\n      callback(err);\n    }\n  });\n\n  // Remove the attachment given by the id and rev\n  api.removeAttachment =  adapterFun$$1('removeAttachment', async function (\n    docId,\n    attachmentId,\n    rev,\n    callback,\n  ) {\n    const url = genDBUrl(host, encodeDocId(docId) + '/' + encodeAttachmentId(attachmentId)) + '?rev=' + rev;\n\n    try {\n      const result = await fetchJSON(url, {method: 'DELETE'});\n      callback(null, result.data);\n    } catch (error) {\n      callback(error);\n    }\n  });\n\n  // Add the attachment given by blob and its contentType property\n  // to the document with the given id, the revision given by rev, and\n  // add it to the database given by host.\n  api.putAttachment = adapterFun$$1('putAttachment', async function (\n    docId,\n    attachmentId,\n    rev,\n    blob,\n    type,\n    callback,\n  ) {\n    if (typeof type === 'function') {\n      callback = type;\n      type = blob;\n      blob = rev;\n      rev = null;\n    }\n    const id = encodeDocId(docId) + '/' + encodeAttachmentId(attachmentId);\n    let url = genDBUrl(host, id);\n    if (rev) {\n      url += '?rev=' + rev;\n    }\n\n    if (typeof blob === 'string') {\n      // input is assumed to be a base64 string\n      let binary;\n      try {\n        binary = thisAtob(blob);\n      } catch (err) {\n        return callback(createError(BAD_ARG,\n                        'Attachment is not a valid base64 string'));\n      }\n      blob = binary ? binStringToBluffer(binary, type) : '';\n    }\n\n    try {\n      // Add the attachment\n      const result = await fetchJSON(url, {\n        headers: new h({'Content-Type': type}),\n        method: 'PUT',\n        body: blob\n      });\n      callback(null, result.data);\n    } catch (error) {\n      callback(error);\n    }\n  });\n\n  // Update/create multiple documents given by req in the database\n  // given by host.\n  api._bulkDocs = async function (req, opts, callback) {\n    // If new_edits=false then it prevents the database from creating\n    // new revision numbers for the documents. Instead it just uses\n    // the old ones. This is used in database replication.\n    req.new_edits = opts.new_edits;\n\n    try {\n      await setup();\n      await Promise.all(req.docs.map(preprocessAttachments$1));\n\n      // Update/create the documents\n      const result = await fetchJSON(genDBUrl(host, '_bulk_docs'), {\n        method: 'POST',\n        body: JSON.stringify(req)\n      });\n      callback(null, result.data);\n    } catch (error) {\n      callback(error);\n    }\n  };\n\n  // Update/create document\n  api._put = async function (doc, opts, callback) {\n    try {\n      await setup();\n      await preprocessAttachments$1(doc);\n\n      const result = await fetchJSON(genDBUrl(host, encodeDocId(doc._id)), {\n        method: 'PUT',\n        body: JSON.stringify(doc)\n      });\n      callback(null, result.data);\n    } catch (error) {\n      error.docId = doc && doc._id;\n      callback(error);\n    }\n  };\n\n\n  // Get a listing of the documents in the database given\n  // by host and ordered by increasing id.\n  api.allDocs = adapterFun$$1('allDocs', async function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    let params = {};\n    let body;\n    let method = 'GET';\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n\n    if (opts.include_docs) {\n      params.include_docs = true;\n    }\n\n    // added in CouchDB 1.6.0\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.key) {\n      params.key = JSON.stringify(opts.key);\n    }\n\n    if (opts.start_key) {\n      opts.startkey = opts.start_key;\n    }\n\n    if (opts.startkey) {\n      params.startkey = JSON.stringify(opts.startkey);\n    }\n\n    if (opts.end_key) {\n      opts.endkey = opts.end_key;\n    }\n\n    if (opts.endkey) {\n      params.endkey = JSON.stringify(opts.endkey);\n    }\n\n    if (typeof opts.inclusive_end !== 'undefined') {\n      params.inclusive_end = !!opts.inclusive_end;\n    }\n\n    if (typeof opts.limit !== 'undefined') {\n      params.limit = opts.limit;\n    }\n\n    if (typeof opts.skip !== 'undefined') {\n      params.skip = opts.skip;\n    }\n\n    let paramStr = paramsToStr(params);\n\n    if (typeof opts.keys !== 'undefined') {\n      method = 'POST';\n      body = {keys: opts.keys};\n    }\n\n    try {\n      const result = await fetchJSON(genDBUrl(host, '_all_docs' + paramStr), {\n        method: method,\n        body: JSON.stringify(body)\n      });\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        result.data.rows.forEach(readAttachmentsAsBlobOrBuffer);\n      }\n      callback(null, result.data);\n    } catch (error) {\n      callback(error);\n    }\n  });\n\n  // Get a list of changes made to documents in the database given by host.\n  // TODO According to the README, there should be two other methods here,\n  // api.changes.addListener and api.changes.removeListener.\n  api._changes = function (opts) {\n\n    // We internally page the results of a changes request, this means\n    // if there is a large set of changes to be returned we can start\n    // processing them quicker instead of waiting on the entire\n    // set of changes to return and attempting to process them at once\n    let batchSize = 'batch_size' in opts ? opts.batch_size : CHANGES_BATCH_SIZE;\n\n    opts = clone(opts);\n\n    if (opts.continuous && !('heartbeat' in opts)) {\n      opts.heartbeat = DEFAULT_HEARTBEAT;\n    }\n\n    let requestTimeout = ('timeout' in opts) ? opts.timeout : 30 * 1000;\n\n    // ensure CHANGES_TIMEOUT_BUFFER applies\n    if ('timeout' in opts && opts.timeout &&\n      (requestTimeout - opts.timeout) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.timeout + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    /* istanbul ignore if */\n    if ('heartbeat' in opts && opts.heartbeat &&\n       (requestTimeout - opts.heartbeat) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.heartbeat + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    let params = {};\n    if ('timeout' in opts && opts.timeout) {\n      params.timeout = opts.timeout;\n    }\n\n    let limit = (typeof opts.limit !== 'undefined') ? opts.limit : false;\n    let leftToFetch = limit;\n\n    if (opts.style) {\n      params.style = opts.style;\n    }\n\n    if (opts.include_docs || opts.filter && typeof opts.filter === 'function') {\n      params.include_docs = true;\n    }\n\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.continuous) {\n      params.feed = 'longpoll';\n    }\n\n    if (opts.seq_interval) {\n      params.seq_interval = opts.seq_interval;\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = true;\n    }\n\n    if ('heartbeat' in opts) {\n      // If the heartbeat value is false, it disables the default heartbeat\n      if (opts.heartbeat) {\n        params.heartbeat = opts.heartbeat;\n      }\n    }\n\n    if (opts.filter && typeof opts.filter === 'string') {\n      params.filter = opts.filter;\n    }\n\n    if (opts.view && typeof opts.view === 'string') {\n      params.filter = '_view';\n      params.view = opts.view;\n    }\n\n    // If opts.query_params exists, pass it through to the changes request.\n    // These parameters may be used by the filter on the source database.\n    if (opts.query_params && typeof opts.query_params === 'object') {\n      for (let param_name in opts.query_params) {\n        /* istanbul ignore else */\n        if (Object.prototype.hasOwnProperty.call(opts.query_params, param_name)) {\n          params[param_name] = opts.query_params[param_name];\n        }\n      }\n    }\n\n    let method = 'GET';\n    let body;\n\n    if (opts.doc_ids) {\n      // set this automagically for the user; it's annoying that couchdb\n      // requires both a \"filter\" and a \"doc_ids\" param.\n      params.filter = '_doc_ids';\n      method = 'POST';\n      body = {doc_ids: opts.doc_ids };\n    }\n    /* istanbul ignore next */\n    else if (opts.selector) {\n      // set this automagically for the user, similar to above\n      params.filter = '_selector';\n      method = 'POST';\n      body = {selector: opts.selector };\n    }\n\n    let controller = new a();\n    let lastFetchedSeq;\n\n    // Get all the changes starting wtih the one immediately after the\n    // sequence number given by since.\n    const fetchData = async function (since, callback) {\n      if (opts.aborted) {\n        return;\n      }\n      params.since = since;\n      // \"since\" can be any kind of json object in Cloudant/CouchDB 2.x\n      /* istanbul ignore next */\n      if (typeof params.since === \"object\") {\n        params.since = JSON.stringify(params.since);\n      }\n\n      if (opts.descending) {\n        if (limit) {\n          params.limit = leftToFetch;\n        }\n      } else {\n        params.limit = (!limit || leftToFetch > batchSize) ?\n          batchSize : leftToFetch;\n      }\n\n      // Set the options for the ajax call\n      let url = genDBUrl(host, '_changes' + paramsToStr(params));\n      let fetchOpts = {\n        signal: controller.signal,\n        method: method,\n        body: JSON.stringify(body)\n      };\n      lastFetchedSeq = since;\n\n      /* istanbul ignore if */\n      if (opts.aborted) {\n        return;\n      }\n\n      // Get the changes\n      try {\n        await setup();\n        const result = await fetchJSON(url, fetchOpts);\n        callback(null, result.data);\n      } catch (error) {\n        callback(error);\n      }\n    };\n\n    // If opts.since exists, get all the changes from the sequence\n    // number given by opts.since. Otherwise, get all the changes\n    // from the sequence number 0.\n    let results = {results: []};\n\n    const fetched = function (err, res) {\n      if (opts.aborted) {\n        return;\n      }\n      let raw_results_length = 0;\n      // If the result of the ajax call (res) contains changes (res.results)\n      if (res && res.results) {\n        raw_results_length = res.results.length;\n        results.last_seq = res.last_seq;\n        let pending = null;\n        let lastSeq = null;\n        // Attach 'pending' property if server supports it (CouchDB 2.0+)\n        /* istanbul ignore if */\n        if (typeof res.pending === 'number') {\n          pending = res.pending;\n        }\n        if (typeof results.last_seq === 'string' || typeof results.last_seq === 'number') {\n          lastSeq = results.last_seq;\n        }\n        // For each change\n        let req = {};\n        req.query = opts.query_params;\n        res.results = res.results.filter(function (c) {\n          leftToFetch--;\n          let ret = filterChange(opts)(c);\n          if (ret) {\n            if (opts.include_docs && opts.attachments && opts.binary) {\n              readAttachmentsAsBlobOrBuffer(c);\n            }\n            if (opts.return_docs) {\n              results.results.push(c);\n            }\n            opts.onChange(c, pending, lastSeq);\n          }\n          return ret;\n        });\n      } else if (err) {\n        // In case of an error, stop listening for changes and call\n        // opts.complete\n        opts.aborted = true;\n        opts.complete(err);\n        return;\n      }\n\n      // The changes feed may have timed out with no results\n      // if so reuse last update sequence\n      if (res && res.last_seq) {\n        lastFetchedSeq = res.last_seq;\n      }\n\n      let finished = (limit && leftToFetch <= 0) ||\n        (res && raw_results_length < batchSize) ||\n        (opts.descending);\n\n      if ((opts.continuous && !(limit && leftToFetch <= 0)) || !finished) {\n        // Queue a call to fetch again with the newest sequence number\n        immediate(function () { fetchData(lastFetchedSeq, fetched); });\n      } else {\n        // We're done, call the callback\n        opts.complete(null, results);\n      }\n    };\n\n    fetchData(opts.since || 0, fetched);\n\n    // Return a method to cancel this method from processing any more\n    return {\n      cancel: function () {\n        opts.aborted = true;\n        controller.abort();\n      }\n    };\n  };\n\n  // Given a set of document/revision IDs (given by req), tets the subset of\n  // those that do NOT correspond to revisions stored in the database.\n  // See http://wiki.apache.org/couchdb/HttpPostRevsDiff\n  api.revsDiff = adapterFun$$1('revsDiff', async function (req, opts, callback) {\n    // If no options were given, set the callback to be the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n\n    try {\n      // Get the missing document/revision IDs\n      const result = await fetchJSON(genDBUrl(host, '_revs_diff'), {\n        method: 'POST',\n        body: JSON.stringify(req)\n      });\n      callback(null, result.data);\n    } catch (error) {\n      callback(error);\n    }\n  });\n\n  api._close = function (callback) {\n    callback();\n  };\n\n  api._destroy = async function (options, callback) {\n    try {\n      const json = await fetchJSON(genDBUrl(host, ''), {method: 'DELETE'});\n      callback(null, json);\n    } catch (error) {\n      if (error.status === 404) {\n        callback(null, {ok: true});\n      } else {\n        callback(error);\n      }\n    }\n  };\n}\n\n// HttpPouch is a valid adapter.\nHttpPouch.valid = function () {\n  return true;\n};\n\nfunction HttpPouch$1 (PouchDB) {\n  PouchDB.adapter('http', HttpPouch, false);\n  PouchDB.adapter('https', HttpPouch, false);\n}\n\nclass QueryParseError extends Error {\n  constructor(message) {\n    super();\n    this.status = 400;\n    this.name = 'query_parse_error';\n    this.message = message;\n    this.error = true;\n    try {\n      Error.captureStackTrace(this, QueryParseError);\n    } catch (e) {}\n  }\n}\n\nclass NotFoundError extends Error {\n  constructor(message) {\n    super();\n    this.status = 404;\n    this.name = 'not_found';\n    this.message = message;\n    this.error = true;\n    try {\n      Error.captureStackTrace(this, NotFoundError);\n    } catch (e) {}\n  }\n}\n\nclass BuiltInError extends Error {\n  constructor(message) {\n    super();\n    this.status = 500;\n    this.name = 'invalid_value';\n    this.message = message;\n    this.error = true;\n    try {\n      Error.captureStackTrace(this, BuiltInError);\n    } catch (e) {}\n  }\n}\n\nfunction promisedCallback(promise, callback) {\n  if (callback) {\n    promise.then(function (res) {\n      immediate(function () {\n        callback(null, res);\n      });\n    }, function (reason) {\n      immediate(function () {\n        callback(reason);\n      });\n    });\n  }\n  return promise;\n}\n\nfunction callbackify(fun) {\n  return function (...args) {\n    var cb = args.pop();\n    var promise = fun.apply(this, args);\n    if (typeof cb === 'function') {\n      promisedCallback(promise, cb);\n    }\n    return promise;\n  };\n}\n\n// Promise finally util similar to Q.finally\nfunction fin(promise, finalPromiseFactory) {\n  return promise.then(function (res) {\n    return finalPromiseFactory().then(function () {\n      return res;\n    });\n  }, function (reason) {\n    return finalPromiseFactory().then(function () {\n      throw reason;\n    });\n  });\n}\n\nfunction sequentialize(queue, promiseFactory) {\n  return function () {\n    var args = arguments;\n    var that = this;\n    return queue.add(function () {\n      return promiseFactory.apply(that, args);\n    });\n  };\n}\n\n// uniq an array of strings, order not guaranteed\n// similar to underscore/lodash _.uniq\nfunction uniq(arr) {\n  var theSet = new ExportedSet(arr);\n  var result = new Array(theSet.size);\n  var index = -1;\n  theSet.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nfunction mapToKeysArray(map) {\n  var result = new Array(map.size);\n  var index = -1;\n  map.forEach(function (value, key) {\n    result[++index] = key;\n  });\n  return result;\n}\n\nfunction createBuiltInError(name) {\n  var message = 'builtin ' + name +\n    ' function requires map values to be numbers' +\n    ' or number arrays';\n  return new BuiltInError(message);\n}\n\nfunction sum(values) {\n  var result = 0;\n  for (var i = 0, len = values.length; i < len; i++) {\n    var num = values[i];\n    if (typeof num !== 'number') {\n      if (Array.isArray(num)) {\n        // lists of numbers are also allowed, sum them separately\n        result = typeof result === 'number' ? [result] : result;\n        for (var j = 0, jLen = num.length; j < jLen; j++) {\n          var jNum = num[j];\n          if (typeof jNum !== 'number') {\n            throw createBuiltInError('_sum');\n          } else if (typeof result[j] === 'undefined') {\n            result.push(jNum);\n          } else {\n            result[j] += jNum;\n          }\n        }\n      } else { // not array/number\n        throw createBuiltInError('_sum');\n      }\n    } else if (typeof result === 'number') {\n      result += num;\n    } else { // add number to array\n      result[0] += num;\n    }\n  }\n  return result;\n}\n\nvar log = guardedConsole.bind(null, 'log');\nvar isArray = Array.isArray;\nvar toJSON = JSON.parse;\n\nfunction evalFunctionWithEval(func, emit) {\n  return scopeEval(\n    \"return (\" + func.replace(/;\\s*$/, \"\") + \");\",\n    {\n      emit: emit,\n      sum: sum,\n      log: log,\n      isArray: isArray,\n      toJSON: toJSON\n    }\n  );\n}\n\n/*\n * Simple task queue to sequentialize actions. Assumes\n * callbacks will eventually fire (once).\n */\n\n\nclass TaskQueue$1 {\n  constructor() {\n    this.promise = new Promise(function (fulfill) {fulfill(); });\n  }\n\n  add(promiseFactory) {\n    this.promise = this.promise.catch(function () {\n      // just recover\n    }).then(function () {\n      return promiseFactory();\n    });\n    return this.promise;\n  }\n\n  finish() {\n    return this.promise;\n  }\n}\n\nfunction stringify(input) {\n  if (!input) {\n    return 'undefined'; // backwards compat for empty reduce\n  }\n  // for backwards compat with mapreduce, functions/strings are stringified\n  // as-is. everything else is JSON-stringified.\n  switch (typeof input) {\n    case 'function':\n      // e.g. a mapreduce map\n      return input.toString();\n    case 'string':\n      // e.g. a mapreduce built-in _reduce function\n      return input.toString();\n    default:\n      // e.g. a JSON object in the case of mango queries\n      return JSON.stringify(input);\n  }\n}\n\n/* create a string signature for a view so we can cache it and uniq it */\nfunction createViewSignature(mapFun, reduceFun) {\n  // the \"undefined\" part is for backwards compatibility\n  return stringify(mapFun) + stringify(reduceFun) + 'undefined';\n}\n\nasync function createView(sourceDB, viewName, mapFun, reduceFun, temporary, localDocName) {\n  const viewSignature = createViewSignature(mapFun, reduceFun);\n\n  let cachedViews;\n  if (!temporary) {\n    // cache this to ensure we don't try to update the same view twice\n    cachedViews = sourceDB._cachedViews = sourceDB._cachedViews || {};\n    if (cachedViews[viewSignature]) {\n      return cachedViews[viewSignature];\n    }\n  }\n\n  const promiseForView = sourceDB.info().then(async function (info) {\n    const depDbName = info.db_name + '-mrview-' +\n    (temporary ? 'temp' : stringMd5(viewSignature));\n\n    // save the view name in the source db so it can be cleaned up if necessary\n    // (e.g. when the _design doc is deleted, remove all associated view data)\n    function diffFunction(doc) {\n      doc.views = doc.views || {};\n      let fullViewName = viewName;\n      if (fullViewName.indexOf('/') === -1) {\n        fullViewName = viewName + '/' + viewName;\n      }\n      const depDbs = doc.views[fullViewName] = doc.views[fullViewName] || {};\n      /* istanbul ignore if */\n      if (depDbs[depDbName]) {\n        return; // no update necessary\n      }\n      depDbs[depDbName] = true;\n      return doc;\n    }\n    await upsert(sourceDB, '_local/' + localDocName, diffFunction);\n    const res = await sourceDB.registerDependentDatabase(depDbName);\n    const db = res.db;\n    db.auto_compaction = true;\n    const view = {\n      name: depDbName,\n      db: db,\n      sourceDB: sourceDB,\n      adapter: sourceDB.adapter,\n      mapFun: mapFun,\n      reduceFun: reduceFun\n    };\n\n    let lastSeqDoc;\n    try {\n      lastSeqDoc = await view.db.get('_local/lastSeq');\n    } catch (err) {\n        /* istanbul ignore if */\n      if (err.status !== 404) {\n        throw err;\n      }\n    }\n\n    view.seq = lastSeqDoc ? lastSeqDoc.seq : 0;\n    if (cachedViews) {\n      view.db.once('destroyed', function () {\n        delete cachedViews[viewSignature];\n      });\n    }\n    return view;\n  });\n\n  if (cachedViews) {\n    cachedViews[viewSignature] = promiseForView;\n  }\n  return promiseForView;\n}\n\nvar persistentQueues = {};\nvar tempViewQueue = new TaskQueue$1();\nvar CHANGES_BATCH_SIZE$1 = 50;\n\nfunction parseViewName(name) {\n  // can be either 'ddocname/viewname' or just 'viewname'\n  // (where the ddoc name is the same)\n  return name.indexOf('/') === -1 ? [name, name] : name.split('/');\n}\n\nfunction isGenOne(changes) {\n  // only return true if the current change is 1-\n  // and there are no other leafs\n  return changes.length === 1 && /^1-/.test(changes[0].rev);\n}\n\nfunction emitError(db, e, data) {\n  try {\n    db.emit('error', e);\n  } catch (err) {\n    guardedConsole('error',\n      'The user\\'s map/reduce function threw an uncaught error.\\n' +\n      'You can debug this error by doing:\\n' +\n      'myDatabase.on(\\'error\\', function (err) { debugger; });\\n' +\n      'Please double-check your map/reduce function.');\n    guardedConsole('error', e, data);\n  }\n}\n\n/**\n * Returns an \"abstract\" mapreduce object of the form:\n *\n *   {\n *     query: queryFun,\n *     viewCleanup: viewCleanupFun\n *   }\n *\n * Arguments are:\n *\n * localDoc: string\n *   This is for the local doc that gets saved in order to track the\n *   \"dependent\" DBs and clean them up for viewCleanup. It should be\n *   unique, so that indexer plugins don't collide with each other.\n * mapper: function (mapFunDef, emit)\n *   Returns a map function based on the mapFunDef, which in the case of\n *   normal map/reduce is just the de-stringified function, but may be\n *   something else, such as an object in the case of pouchdb-find.\n * reducer: function (reduceFunDef)\n *   Ditto, but for reducing. Modules don't have to support reducing\n *   (e.g. pouchdb-find).\n * ddocValidator: function (ddoc, viewName)\n *   Throws an error if the ddoc or viewName is not valid.\n *   This could be a way to communicate to the user that the configuration for the\n *   indexer is invalid.\n */\nfunction createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator) {\n\n  function tryMap(db, fun, doc) {\n    // emit an event if there was an error thrown by a map function.\n    // putting try/catches in a single function also avoids deoptimizations.\n    try {\n      fun(doc);\n    } catch (e) {\n      emitError(db, e, {fun: fun, doc: doc});\n    }\n  }\n\n  function tryReduce(db, fun, keys, values, rereduce) {\n    // same as above, but returning the result or an error. there are two separate\n    // functions to avoid extra memory allocations since the tryCode() case is used\n    // for custom map functions (common) vs this function, which is only used for\n    // custom reduce functions (rare)\n    try {\n      return {output : fun(keys, values, rereduce)};\n    } catch (e) {\n      emitError(db, e, {fun: fun, keys: keys, values: values, rereduce: rereduce});\n      return {error: e};\n    }\n  }\n\n  function sortByKeyThenValue(x, y) {\n    const keyCompare = collate(x.key, y.key);\n    return keyCompare !== 0 ? keyCompare : collate(x.value, y.value);\n  }\n\n  function sliceResults(results, limit, skip) {\n    skip = skip || 0;\n    if (typeof limit === 'number') {\n      return results.slice(skip, limit + skip);\n    } else if (skip > 0) {\n      return results.slice(skip);\n    }\n    return results;\n  }\n\n  function rowToDocId(row) {\n    const val = row.value;\n    // Users can explicitly specify a joined doc _id, or it\n    // defaults to the doc _id that emitted the key/value.\n    const docId = (val && typeof val === 'object' && val._id) || row.id;\n    return docId;\n  }\n\n  function readAttachmentsAsBlobOrBuffer(res) {\n    res.rows.forEach(function (row) {\n      const atts = row.doc && row.doc._attachments;\n      if (!atts) {\n        return;\n      }\n      Object.keys(atts).forEach(function (filename) {\n        const att = atts[filename];\n        atts[filename].data = b64ToBluffer(att.data, att.content_type);\n      });\n    });\n  }\n\n  function postprocessAttachments(opts) {\n    return function (res) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        readAttachmentsAsBlobOrBuffer(res);\n      }\n      return res;\n    };\n  }\n\n  function addHttpParam(paramName, opts, params, asJson) {\n    // add an http param from opts to params, optionally json-encoded\n    let val = opts[paramName];\n    if (typeof val !== 'undefined') {\n      if (asJson) {\n        val = encodeURIComponent(JSON.stringify(val));\n      }\n      params.push(paramName + '=' + val);\n    }\n  }\n\n  function coerceInteger(integerCandidate) {\n    if (typeof integerCandidate !== 'undefined') {\n      const asNumber = Number(integerCandidate);\n      // prevents e.g. '1foo' or '1.1' being coerced to 1\n      if (!isNaN(asNumber) && asNumber === parseInt(integerCandidate, 10)) {\n        return asNumber;\n      } else {\n        return integerCandidate;\n      }\n    }\n  }\n\n  function coerceOptions(opts) {\n    opts.group_level = coerceInteger(opts.group_level);\n    opts.limit = coerceInteger(opts.limit);\n    opts.skip = coerceInteger(opts.skip);\n    return opts;\n  }\n\n  function checkPositiveInteger(number) {\n    if (number) {\n      if (typeof number !== 'number') {\n        return  new QueryParseError(`Invalid value for integer: \"${number}\"`);\n      }\n      if (number < 0) {\n        return new QueryParseError(`Invalid value for positive integer: \"${number}\"`);\n      }\n    }\n  }\n\n  function checkQueryParseError(options, fun) {\n    const startkeyName = options.descending ? 'endkey' : 'startkey';\n    const endkeyName = options.descending ? 'startkey' : 'endkey';\n\n    if (typeof options[startkeyName] !== 'undefined' &&\n      typeof options[endkeyName] !== 'undefined' &&\n      collate(options[startkeyName], options[endkeyName]) > 0) {\n      throw new QueryParseError('No rows can match your key range, ' +\n        'reverse your start_key and end_key or set {descending : true}');\n    } else if (fun.reduce && options.reduce !== false) {\n      if (options.include_docs) {\n        throw new QueryParseError('{include_docs:true} is invalid for reduce');\n      } else if (options.keys && options.keys.length > 1 &&\n        !options.group && !options.group_level) {\n        throw new QueryParseError('Multi-key fetches for reduce views must use ' +\n          '{group: true}');\n      }\n    }\n    ['group_level', 'limit', 'skip'].forEach(function (optionName) {\n      const error = checkPositiveInteger(options[optionName]);\n      if (error) {\n        throw error;\n      }\n    });\n  }\n\n  async function httpQuery(db, fun, opts) {\n    // List of parameters to add to the PUT request\n    let params = [];\n    let body;\n    let method = 'GET';\n    let ok;\n\n    // If opts.reduce exists and is defined, then add it to the list\n    // of parameters.\n    // If reduce=false then the results are that of only the map function\n    // not the final result of map and reduce.\n    addHttpParam('reduce', opts, params);\n    addHttpParam('include_docs', opts, params);\n    addHttpParam('attachments', opts, params);\n    addHttpParam('limit', opts, params);\n    addHttpParam('descending', opts, params);\n    addHttpParam('group', opts, params);\n    addHttpParam('group_level', opts, params);\n    addHttpParam('skip', opts, params);\n    addHttpParam('stale', opts, params);\n    addHttpParam('conflicts', opts, params);\n    addHttpParam('startkey', opts, params, true);\n    addHttpParam('start_key', opts, params, true);\n    addHttpParam('endkey', opts, params, true);\n    addHttpParam('end_key', opts, params, true);\n    addHttpParam('inclusive_end', opts, params);\n    addHttpParam('key', opts, params, true);\n    addHttpParam('update_seq', opts, params);\n\n    // Format the list of parameters into a valid URI query string\n    params = params.join('&');\n    params = params === '' ? '' : '?' + params;\n\n    // If keys are supplied, issue a POST to circumvent GET query string limits\n    // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options\n    if (typeof opts.keys !== 'undefined') {\n      const MAX_URL_LENGTH = 2000;\n      // according to http://stackoverflow.com/a/417184/680742,\n      // the de facto URL length limit is 2000 characters\n\n      const keysAsString = `keys=${encodeURIComponent(JSON.stringify(opts.keys))}`;\n      if (keysAsString.length + params.length + 1 <= MAX_URL_LENGTH) {\n        // If the keys are short enough, do a GET. we do this to work around\n        // Safari not understanding 304s on POSTs (see pouchdb/pouchdb#1239)\n        params += (params[0] === '?' ? '&' : '?') + keysAsString;\n      } else {\n        method = 'POST';\n        if (typeof fun === 'string') {\n          body = {keys: opts.keys};\n        } else { // fun is {map : mapfun}, so append to this\n          fun.keys = opts.keys;\n        }\n      }\n    }\n\n    // We are referencing a query defined in the design doc\n    if (typeof fun === 'string') {\n      const parts = parseViewName(fun);\n\n      const response = await db.fetch('_design/' + parts[0] + '/_view/' + parts[1] + params, {\n        headers: new h({'Content-Type': 'application/json'}),\n        method: method,\n        body: JSON.stringify(body)\n      });\n      ok = response.ok;\n      // status = response.status;\n      const result = await response.json();\n\n      if (!ok) {\n        result.status = response.status;\n        throw generateErrorFromResponse(result);\n      }\n\n      // fail the entire request if the result contains an error\n      result.rows.forEach(function (row) {\n        /* istanbul ignore if */\n        if (row.value && row.value.error && row.value.error === \"builtin_reduce_error\") {\n          throw new Error(row.reason);\n        }\n      });\n\n      return new Promise(function (resolve) {\n        resolve(result);\n      }).then(postprocessAttachments(opts));\n    }\n\n    // We are using a temporary view, terrible for performance, good for testing\n    body = body || {};\n    Object.keys(fun).forEach(function (key) {\n      if (Array.isArray(fun[key])) {\n        body[key] = fun[key];\n      } else {\n        body[key] = fun[key].toString();\n      }\n    });\n\n    const response = await db.fetch('_temp_view' + params, {\n      headers: new h({'Content-Type': 'application/json'}),\n      method: 'POST',\n      body: JSON.stringify(body)\n    });\n\n    ok = response.ok;\n    // status = response.status;\n    const result = await response.json();\n    if (!ok) {\n      result.status = response.status;\n      throw generateErrorFromResponse(result);\n    }\n\n    return new Promise(function (resolve) {\n      resolve(result);\n    }).then(postprocessAttachments(opts));\n  }\n\n  // custom adapters can define their own api._query\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customQuery(db, fun, opts) {\n    return new Promise(function (resolve, reject) {\n      db._query(fun, opts, function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  // custom adapters can define their own api._viewCleanup\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customViewCleanup(db) {\n    return new Promise(function (resolve, reject) {\n      db._viewCleanup(function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  function defaultsTo(value) {\n    return function (reason) {\n      /* istanbul ignore else */\n      if (reason.status === 404) {\n        return value;\n      } else {\n        throw reason;\n      }\n    };\n  }\n\n  // returns a promise for a list of docs to update, based on the input docId.\n  // the order doesn't matter, because post-3.2.0, bulkDocs\n  // is an atomic operation in all three adapters.\n  async function getDocsToPersist(docId, view, docIdsToChangesAndEmits) {\n    const metaDocId = '_local/doc_' + docId;\n    const defaultMetaDoc = {_id: metaDocId, keys: []};\n    const docData = docIdsToChangesAndEmits.get(docId);\n    const indexableKeysToKeyValues = docData[0];\n    const changes = docData[1];\n\n    function getMetaDoc() {\n      if (isGenOne(changes)) {\n        // generation 1, so we can safely assume initial state\n        // for performance reasons (avoids unnecessary GETs)\n        return Promise.resolve(defaultMetaDoc);\n      }\n      return view.db.get(metaDocId).catch(defaultsTo(defaultMetaDoc));\n    }\n\n    function getKeyValueDocs(metaDoc) {\n      if (!metaDoc.keys.length) {\n        // no keys, no need for a lookup\n        return Promise.resolve({rows: []});\n      }\n      return view.db.allDocs({\n        keys: metaDoc.keys,\n        include_docs: true\n      });\n    }\n\n    function processKeyValueDocs(metaDoc, kvDocsRes) {\n      const kvDocs = [];\n      const oldKeys = new ExportedSet();\n\n      for (let i = 0, len = kvDocsRes.rows.length; i < len; i++) {\n        const row = kvDocsRes.rows[i];\n        const doc = row.doc;\n        if (!doc) { // deleted\n          continue;\n        }\n        kvDocs.push(doc);\n        oldKeys.add(doc._id);\n        doc._deleted = !indexableKeysToKeyValues.has(doc._id);\n        if (!doc._deleted) {\n          const keyValue = indexableKeysToKeyValues.get(doc._id);\n          if ('value' in keyValue) {\n            doc.value = keyValue.value;\n          }\n        }\n      }\n      const newKeys = mapToKeysArray(indexableKeysToKeyValues);\n      newKeys.forEach(function (key) {\n        if (!oldKeys.has(key)) {\n          // new doc\n          const kvDoc = {\n            _id: key\n          };\n          const keyValue = indexableKeysToKeyValues.get(key);\n          if ('value' in keyValue) {\n            kvDoc.value = keyValue.value;\n          }\n          kvDocs.push(kvDoc);\n        }\n      });\n      metaDoc.keys = uniq(newKeys.concat(metaDoc.keys));\n      kvDocs.push(metaDoc);\n\n      return kvDocs;\n    }\n\n    const metaDoc = await getMetaDoc();\n    const keyValueDocs = await getKeyValueDocs(metaDoc);\n    return processKeyValueDocs(metaDoc, keyValueDocs);\n  }\n\n  function updatePurgeSeq(view) {\n    // with this approach, we just assume to have processed all missing purges and write the latest\n    // purgeSeq into the _local/purgeSeq doc.\n    return view.sourceDB.get('_local/purges').then(function (res) {\n      const purgeSeq = res.purgeSeq;\n      return view.db.get('_local/purgeSeq').then(function (res) {\n        return res._rev;\n      }).catch(function (err) {\n        if (err.status !== 404) {\n          throw err;\n        }\n        return undefined;\n      }).then(function (rev) {\n        return view.db.put({\n          _id: '_local/purgeSeq',\n          _rev: rev,\n          purgeSeq,\n        });\n      });\n    }).catch(function (err) {\n      if (err.status !== 404) {\n        throw err;\n      }\n    });\n  }\n\n  // updates all emitted key/value docs and metaDocs in the mrview database\n  // for the given batch of documents from the source database\n  function saveKeyValues(view, docIdsToChangesAndEmits, seq) {\n    var seqDocId = '_local/lastSeq';\n    return view.db.get(seqDocId)\n      .catch(defaultsTo({_id: seqDocId, seq: 0}))\n      .then(function (lastSeqDoc) {\n        var docIds = mapToKeysArray(docIdsToChangesAndEmits);\n        return Promise.all(docIds.map(function (docId) {\n          return getDocsToPersist(docId, view, docIdsToChangesAndEmits);\n        })).then(function (listOfDocsToPersist) {\n          var docsToPersist = flatten(listOfDocsToPersist);\n          lastSeqDoc.seq = seq;\n          docsToPersist.push(lastSeqDoc);\n          // write all docs in a single operation, update the seq once\n          return view.db.bulkDocs({docs : docsToPersist});\n        })\n          // TODO: this should be placed somewhere else, probably? we're querying both docs twice\n          //   (first time when getting the actual purges).\n          .then(() => updatePurgeSeq(view));\n      });\n  }\n\n  function getQueue(view) {\n    const viewName = typeof view === 'string' ? view : view.name;\n    let queue = persistentQueues[viewName];\n    if (!queue) {\n      queue = persistentQueues[viewName] = new TaskQueue$1();\n    }\n    return queue;\n  }\n\n  async function updateView(view, opts) {\n    return sequentialize(getQueue(view), function () {\n      return updateViewInQueue(view, opts);\n    })();\n  }\n\n  async function updateViewInQueue(view, opts) {\n    // bind the emit function once\n    let mapResults;\n    let doc;\n    let taskId;\n\n    function emit(key, value) {\n      const output = {id: doc._id, key: normalizeKey(key)};\n      // Don't explicitly store the value unless it's defined and non-null.\n      // This saves on storage space, because often people don't use it.\n      if (typeof value !== 'undefined' && value !== null) {\n        output.value = normalizeKey(value);\n      }\n      mapResults.push(output);\n    }\n\n    const mapFun = mapper(view.mapFun, emit);\n\n    let currentSeq = view.seq || 0;\n\n    function createTask() {\n      return view.sourceDB.info().then(function (info) {\n        taskId = view.sourceDB.activeTasks.add({\n          name: 'view_indexing',\n          total_items: info.update_seq - currentSeq,\n        });\n      });\n    }\n\n    function processChange(docIdsToChangesAndEmits, seq) {\n      return function () {\n        return saveKeyValues(view, docIdsToChangesAndEmits, seq);\n      };\n    }\n\n    let indexed_docs = 0;\n    const progress = {\n      view: view.name,\n      indexed_docs: indexed_docs\n    };\n    view.sourceDB.emit('indexing', progress);\n\n    const queue = new TaskQueue$1();\n\n    async function processNextBatch() {\n      const response = await view.sourceDB.changes({\n        return_docs: true,\n        conflicts: true,\n        include_docs: true,\n        style: 'all_docs',\n        since: currentSeq,\n        limit: opts.changes_batch_size\n      });\n      const purges = await getRecentPurges();\n      return processBatch(response, purges);\n    }\n\n    function getRecentPurges() {\n      return view.db.get('_local/purgeSeq').then(function (res) {\n        return res.purgeSeq;\n      }).catch(function (err) {\n        if (err && err.status !== 404) {\n          throw err;\n        }\n        return -1;\n      }).then(function (purgeSeq) {\n        return view.sourceDB.get('_local/purges').then(function (res) {\n          const recentPurges = res.purges.filter(function (purge, index) {\n            return index > purgeSeq;\n          }).map((purge) => purge.docId);\n\n          const uniquePurges = recentPurges.filter(function (docId, index) {\n            return recentPurges.indexOf(docId) === index;\n          });\n\n          return Promise.all(uniquePurges.map(function (docId) {\n            return view.sourceDB.get(docId).then(function (doc) {\n              return { docId, doc };\n            }).catch(function (err) {\n              if (err.status !== 404) {\n                throw err;\n              }\n              return { docId };\n            });\n          }));\n        }).catch(function (err) {\n          if (err && err.status !== 404) {\n            throw err;\n          }\n          return [];\n        });\n      });\n    }\n\n    function processBatch(response, purges) {\n      var results = response.results;\n      if (!results.length && !purges.length) {\n        return;\n      }\n\n      for (let purge of purges) {\n        const index = results.findIndex(function (change) {\n          return change.id === purge.docId;\n        });\n        if (index < 0) {\n          // mimic a db.remove() on the changes feed\n          const entry = {\n            _id: purge.docId,\n            doc: {\n              _id: purge.docId,\n              _deleted: 1,\n            },\n            changes: [],\n          };\n\n          if (purge.doc) {\n            // update with new winning rev after purge\n            entry.doc = purge.doc;\n            entry.changes.push({ rev: purge.doc._rev });\n          }\n\n          results.push(entry);\n        }\n      }\n\n      var docIdsToChangesAndEmits = createDocIdsToChangesAndEmits(results);\n\n      queue.add(processChange(docIdsToChangesAndEmits, currentSeq));\n\n      indexed_docs = indexed_docs + results.length;\n      const progress = {\n        view: view.name,\n        last_seq: response.last_seq,\n        results_count: results.length,\n        indexed_docs: indexed_docs\n      };\n      view.sourceDB.emit('indexing', progress);\n      view.sourceDB.activeTasks.update(taskId, {completed_items: indexed_docs});\n\n      if (results.length < opts.changes_batch_size) {\n        return;\n      }\n      return processNextBatch();\n    }\n\n    function createDocIdsToChangesAndEmits(results) {\n      const docIdsToChangesAndEmits = new ExportedMap();\n      for (let i = 0, len = results.length; i < len; i++) {\n        const change = results[i];\n        if (change.doc._id[0] !== '_') {\n          mapResults = [];\n          doc = change.doc;\n\n          if (!doc._deleted) {\n            tryMap(view.sourceDB, mapFun, doc);\n          }\n          mapResults.sort(sortByKeyThenValue);\n\n          const indexableKeysToKeyValues = createIndexableKeysToKeyValues(mapResults);\n          docIdsToChangesAndEmits.set(change.doc._id, [\n            indexableKeysToKeyValues,\n            change.changes\n          ]);\n        }\n        currentSeq = change.seq;\n      }\n      return docIdsToChangesAndEmits;\n    }\n\n    function createIndexableKeysToKeyValues(mapResults) {\n      const indexableKeysToKeyValues = new ExportedMap();\n      let lastKey;\n      for (let i = 0, len = mapResults.length; i < len; i++) {\n        const emittedKeyValue = mapResults[i];\n        const complexKey = [emittedKeyValue.key, emittedKeyValue.id];\n        if (i > 0 && collate(emittedKeyValue.key, lastKey) === 0) {\n          complexKey.push(i); // dup key+id, so make it unique\n        }\n        indexableKeysToKeyValues.set(toIndexableString(complexKey), emittedKeyValue);\n        lastKey = emittedKeyValue.key;\n      }\n      return indexableKeysToKeyValues;\n    }\n\n    try {\n      await createTask();\n      await processNextBatch();\n      await queue.finish();\n      view.seq = currentSeq;\n      view.sourceDB.activeTasks.remove(taskId);\n    } catch (error) {\n      view.sourceDB.activeTasks.remove(taskId, error);      \n    }\n  }\n\n  function reduceView(view, results, options) {\n    if (options.group_level === 0) {\n      delete options.group_level;\n    }\n\n    const shouldGroup = options.group || options.group_level;\n\n    const reduceFun = reducer(view.reduceFun);\n\n    const groups = [];\n    const lvl = isNaN(options.group_level) ? Number.POSITIVE_INFINITY :\n      options.group_level;\n    results.forEach(function (e) {\n      const last = groups[groups.length - 1];\n      let groupKey = shouldGroup ? e.key : null;\n\n      // only set group_level for array keys\n      if (shouldGroup && Array.isArray(groupKey)) {\n        groupKey = groupKey.slice(0, lvl);\n      }\n\n      if (last && collate(last.groupKey, groupKey) === 0) {\n        last.keys.push([e.key, e.id]);\n        last.values.push(e.value);\n        return;\n      }\n      groups.push({\n        keys: [[e.key, e.id]],\n        values: [e.value],\n        groupKey: groupKey\n      });\n    });\n    results = [];\n    for (let i = 0, len = groups.length; i < len; i++) {\n      const e = groups[i];\n      const reduceTry = tryReduce(view.sourceDB, reduceFun, e.keys, e.values, false);\n      if (reduceTry.error && reduceTry.error instanceof BuiltInError) {\n        // CouchDB returns an error if a built-in errors out\n        throw reduceTry.error;\n      }\n      results.push({\n        // CouchDB just sets the value to null if a non-built-in errors out\n        value: reduceTry.error ? null : reduceTry.output,\n        key: e.groupKey\n      });\n    }\n    // no total_rows/offset when reducing\n    return {rows: sliceResults(results, options.limit, options.skip)};\n  }\n\n  function queryView(view, opts) {\n    return sequentialize(getQueue(view), function () {\n      return queryViewInQueue(view, opts);\n    })();\n  }\n\n  async function queryViewInQueue(view, opts) {\n    let totalRows;\n    const shouldReduce = view.reduceFun && opts.reduce !== false;\n    const skip = opts.skip || 0;\n    if (typeof opts.keys !== 'undefined' && !opts.keys.length) {\n      // equivalent query\n      opts.limit = 0;\n      delete opts.keys;\n    }\n\n    async function fetchFromView(viewOpts) {\n      viewOpts.include_docs = true;\n      const res = await view.db.allDocs(viewOpts);\n      totalRows = res.total_rows;\n\n      return res.rows.map(function (result) {\n        // implicit migration - in older versions of PouchDB,\n        // we explicitly stored the doc as {id: ..., key: ..., value: ...}\n        // this is tested in a migration test\n        /* istanbul ignore next */\n        if ('value' in result.doc && typeof result.doc.value === 'object' &&\n          result.doc.value !== null) {\n          const keys = Object.keys(result.doc.value).sort();\n          // this detection method is not perfect, but it's unlikely the user\n          // emitted a value which was an object with these 3 exact keys\n          const expectedKeys = ['id', 'key', 'value'];\n          if (!(keys < expectedKeys || keys > expectedKeys)) {\n            return result.doc.value;\n          }\n        }\n\n        const parsedKeyAndDocId = parseIndexableString(result.doc._id);\n        return {\n          key: parsedKeyAndDocId[0],\n          id: parsedKeyAndDocId[1],\n          value: ('value' in result.doc ? result.doc.value : null)\n        };\n      });\n    }\n\n    async function onMapResultsReady(rows) {\n      let finalResults;\n      if (shouldReduce) {\n        finalResults = reduceView(view, rows, opts);\n      } else if (typeof opts.keys === 'undefined') {\n        finalResults = {\n          total_rows: totalRows,\n          offset: skip,\n          rows: rows\n        };\n      } else {\n        // support limit, skip for keys query\n        finalResults = {\n          total_rows: totalRows,\n          offset: skip,\n          rows: sliceResults(rows,opts.limit,opts.skip)\n        };\n      }\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        finalResults.update_seq = view.seq;\n      }\n      if (opts.include_docs) {\n        const docIds = uniq(rows.map(rowToDocId));\n\n        const allDocsRes = await view.sourceDB.allDocs({\n          keys: docIds,\n          include_docs: true,\n          conflicts: opts.conflicts,\n          attachments: opts.attachments,\n          binary: opts.binary\n        });\n        var docIdsToDocs = new ExportedMap();\n        allDocsRes.rows.forEach(function (row) {\n          docIdsToDocs.set(row.id, row.doc);\n        });\n        rows.forEach(function (row) {\n          var docId = rowToDocId(row);\n          var doc = docIdsToDocs.get(docId);\n          if (doc) {\n            row.doc = doc;\n          }\n        });\n        return finalResults;\n      } else {\n        return finalResults;\n      }\n    }\n\n    if (typeof opts.keys !== 'undefined') {\n      const keys = opts.keys;\n      const fetchPromises = keys.map(function (key) {\n        const viewOpts = {\n          startkey : toIndexableString([key]),\n          endkey   : toIndexableString([key, {}])\n        };\n        /* istanbul ignore if */\n        if (opts.update_seq) {\n          viewOpts.update_seq = true;\n        }\n        return fetchFromView(viewOpts);\n      });\n      const result = await Promise.all(fetchPromises);\n      const flattenedResult = flatten(result);\n      return onMapResultsReady(flattenedResult);\n    } else { // normal query, no 'keys'\n      const viewOpts = {\n        descending : opts.descending\n      };\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        viewOpts.update_seq = true;\n      }\n      let startkey;\n      let endkey;\n      if ('start_key' in opts) {\n        startkey = opts.start_key;\n      }\n      if ('startkey' in opts) {\n        startkey = opts.startkey;\n      }\n      if ('end_key' in opts) {\n        endkey = opts.end_key;\n      }\n      if ('endkey' in opts) {\n        endkey = opts.endkey;\n      }\n      if (typeof startkey !== 'undefined') {\n        viewOpts.startkey = opts.descending ?\n          toIndexableString([startkey, {}]) :\n          toIndexableString([startkey]);\n      }\n      if (typeof endkey !== 'undefined') {\n        let inclusiveEnd = opts.inclusive_end !== false;\n        if (opts.descending) {\n          inclusiveEnd = !inclusiveEnd;\n        }\n\n        viewOpts.endkey = toIndexableString(\n          inclusiveEnd ? [endkey, {}] : [endkey]);\n      }\n      if (typeof opts.key !== 'undefined') {\n        const keyStart = toIndexableString([opts.key]);\n        const keyEnd = toIndexableString([opts.key, {}]);\n        if (viewOpts.descending) {\n          viewOpts.endkey = keyStart;\n          viewOpts.startkey = keyEnd;\n        } else {\n          viewOpts.startkey = keyStart;\n          viewOpts.endkey = keyEnd;\n        }\n      }\n      if (!shouldReduce) {\n        if (typeof opts.limit === 'number') {\n          viewOpts.limit = opts.limit;\n        }\n        viewOpts.skip = skip;\n      }\n\n      const result = await fetchFromView(viewOpts);\n      return onMapResultsReady(result);\n    }\n  }\n\n  async function httpViewCleanup(db) {\n    const response = await db.fetch('_view_cleanup', {\n      headers: new h({'Content-Type': 'application/json'}),\n      method: 'POST'\n    });\n    return response.json();\n  }\n\n  async function localViewCleanup(db) {\n    try {\n      const metaDoc = await db.get('_local/' + localDocName);\n      const docsToViews = new ExportedMap();\n\n      Object.keys(metaDoc.views).forEach(function (fullViewName) {\n        const parts = parseViewName(fullViewName);\n        const designDocName = '_design/' + parts[0];\n        const viewName = parts[1];\n        let views = docsToViews.get(designDocName);\n        if (!views) {\n          views = new ExportedSet();\n          docsToViews.set(designDocName, views);\n        }\n        views.add(viewName);\n      });\n      const opts = {\n        keys : mapToKeysArray(docsToViews),\n        include_docs : true\n      };\n\n      const res = await db.allDocs(opts);\n      const viewsToStatus = {};\n      res.rows.forEach(function (row) {\n        const ddocName = row.key.substring(8); // cuts off '_design/'\n        docsToViews.get(row.key).forEach(function (viewName) {\n          let fullViewName = ddocName + '/' + viewName;\n          /* istanbul ignore if */\n          if (!metaDoc.views[fullViewName]) {\n            // new format, without slashes, to support PouchDB 2.2.0\n            // migration test in pouchdb's browser.migration.js verifies this\n            fullViewName = viewName;\n          }\n          const viewDBNames = Object.keys(metaDoc.views[fullViewName]);\n          // design doc deleted, or view function nonexistent\n          const statusIsGood = row.doc && row.doc.views &&\n            row.doc.views[viewName];\n          viewDBNames.forEach(function (viewDBName) {\n            viewsToStatus[viewDBName] =\n              viewsToStatus[viewDBName] || statusIsGood;\n          });\n        });\n      });\n\n      const dbsToDelete = Object.keys(viewsToStatus)\n        .filter(function (viewDBName) { return !viewsToStatus[viewDBName]; });\n\n      const destroyPromises = dbsToDelete.map(function (viewDBName) {\n        return sequentialize(getQueue(viewDBName), function () {\n          return new db.constructor(viewDBName, db.__opts).destroy();\n        })();\n      });\n\n      return Promise.all(destroyPromises).then(function () {\n        return {ok: true};\n      });\n    } catch (err) {\n      if (err.status === 404) {\n        return {ok: true};\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  async function queryPromised(db, fun, opts) {\n    /* istanbul ignore next */\n    if (typeof db._query === 'function') {\n      return customQuery(db, fun, opts);\n    }\n    if (isRemote(db)) {\n      return httpQuery(db, fun, opts);\n    }\n\n    const updateViewOpts = {\n      changes_batch_size: db.__opts.view_update_changes_batch_size || CHANGES_BATCH_SIZE$1\n    };\n\n    if (typeof fun !== 'string') {\n      // temp_view\n      checkQueryParseError(opts, fun);\n\n      tempViewQueue.add(async function () {\n        const view = await createView(\n          /* sourceDB */ db,\n          /* viewName */ 'temp_view/temp_view',\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ true,\n          /* localDocName */ localDocName);\n\n        return fin(updateView(view, updateViewOpts).then(\n          function () { return queryView(view, opts); }),\n          function () { return view.db.destroy(); }\n        );\n      });\n      return tempViewQueue.finish();\n    } else {\n      // persistent view\n      const fullViewName = fun;\n      const parts = parseViewName(fullViewName);\n      const designDocName = parts[0];\n      const viewName = parts[1];\n\n      const doc = await db.get('_design/' + designDocName);\n      fun = doc.views && doc.views[viewName];\n\n      if (!fun) {\n        // basic validator; it's assumed that every subclass would want this\n        throw new NotFoundError(`ddoc ${doc._id} has no view named ${viewName}`);\n      }\n\n      ddocValidator(doc, viewName);\n      checkQueryParseError(opts, fun);\n\n      const view = await createView(\n        /* sourceDB */ db,\n        /* viewName */ fullViewName,\n        /* mapFun */ fun.map,\n        /* reduceFun */ fun.reduce,\n        /* temporary */ false,\n        /* localDocName */ localDocName);\n\n      if (opts.stale === 'ok' || opts.stale === 'update_after') {\n        if (opts.stale === 'update_after') {\n          immediate(function () {\n            updateView(view, updateViewOpts);\n          });\n        }\n        return queryView(view, opts);\n      } else { // stale not ok\n        await updateView(view, updateViewOpts);\n        return queryView(view, opts);\n      }\n    }\n  }\n\n  function abstractQuery(fun, opts, callback) {\n    const db = this;\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = opts ? coerceOptions(opts) : {};\n\n    if (typeof fun === 'function') {\n      fun = {map : fun};\n    }\n\n    const promise = Promise.resolve().then(function () {\n      return queryPromised(db, fun, opts);\n    });\n    promisedCallback(promise, callback);\n    return promise;\n  }\n\n  const abstractViewCleanup = callbackify(function () {\n    const db = this;\n    /* istanbul ignore next */\n    if (typeof db._viewCleanup === 'function') {\n      return customViewCleanup(db);\n    }\n    if (isRemote(db)) {\n      return httpViewCleanup(db);\n    }\n    return localViewCleanup(db);\n  });\n\n  return {\n    query: abstractQuery,\n    viewCleanup: abstractViewCleanup\n  };\n}\n\nvar builtInReduce = {\n  _sum: function (keys, values) {\n    return sum(values);\n  },\n\n  _count: function (keys, values) {\n    return values.length;\n  },\n\n  _stats: function (keys, values) {\n    // no need to implement rereduce=true, because Pouch\n    // will never call it\n    function sumsqr(values) {\n      var _sumsqr = 0;\n      for (var i = 0, len = values.length; i < len; i++) {\n        var num = values[i];\n        _sumsqr += (num * num);\n      }\n      return _sumsqr;\n    }\n    return {\n      sum     : sum(values),\n      min     : Math.min.apply(null, values),\n      max     : Math.max.apply(null, values),\n      count   : values.length,\n      sumsqr : sumsqr(values)\n    };\n  }\n};\n\nfunction getBuiltIn(reduceFunString) {\n  if (/^_sum/.test(reduceFunString)) {\n    return builtInReduce._sum;\n  } else if (/^_count/.test(reduceFunString)) {\n    return builtInReduce._count;\n  } else if (/^_stats/.test(reduceFunString)) {\n    return builtInReduce._stats;\n  } else if (/^_/.test(reduceFunString)) {\n    throw new Error(reduceFunString + ' is not a supported reduce function.');\n  }\n}\n\nfunction mapper(mapFun, emit) {\n  // for temp_views one can use emit(doc, emit), see #38\n  if (typeof mapFun === \"function\" && mapFun.length === 2) {\n    var origMap = mapFun;\n    return function (doc) {\n      return origMap(doc, emit);\n    };\n  } else {\n    return evalFunctionWithEval(mapFun.toString(), emit);\n  }\n}\n\nfunction reducer(reduceFun) {\n  var reduceFunString = reduceFun.toString();\n  var builtIn = getBuiltIn(reduceFunString);\n  if (builtIn) {\n    return builtIn;\n  } else {\n    return evalFunctionWithEval(reduceFunString);\n  }\n}\n\nfunction ddocValidator(ddoc, viewName) {\n  var fun = ddoc.views && ddoc.views[viewName];\n  if (typeof fun.map !== 'string') {\n    throw new NotFoundError('ddoc ' + ddoc._id + ' has no string view named ' +\n      viewName + ', instead found object of type: ' + typeof fun.map);\n  }\n}\n\nvar localDocName = 'mrviews';\nvar abstract = createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator);\n\nfunction query(fun, opts, callback) {\n  return abstract.query.call(this, fun, opts, callback);\n}\n\nfunction viewCleanup(callback) {\n  return abstract.viewCleanup.call(this, callback);\n}\n\nvar mapreduce = {\n  query: query,\n  viewCleanup: viewCleanup\n};\n\nfunction fileHasChanged(localDoc, remoteDoc, filename) {\n  return !localDoc._attachments ||\n         !localDoc._attachments[filename] ||\n         localDoc._attachments[filename].digest !== remoteDoc._attachments[filename].digest;\n}\n\nfunction getDocAttachments(db, doc) {\n  var filenames = Object.keys(doc._attachments);\n  return Promise.all(filenames.map(function (filename) {\n    return db.getAttachment(doc._id, filename, {rev: doc._rev});\n  }));\n}\n\nfunction getDocAttachmentsFromTargetOrSource(target, src, doc) {\n  var doCheckForLocalAttachments = isRemote(src) && !isRemote(target);\n  var filenames = Object.keys(doc._attachments);\n\n  if (!doCheckForLocalAttachments) {\n    return getDocAttachments(src, doc);\n  }\n\n  return target.get(doc._id).then(function (localDoc) {\n    return Promise.all(filenames.map(function (filename) {\n      if (fileHasChanged(localDoc, doc, filename)) {\n        return src.getAttachment(doc._id, filename);\n      }\n\n      return target.getAttachment(localDoc._id, filename);\n    }));\n  }).catch(function (error) {\n    /* istanbul ignore if */\n    if (error.status !== 404) {\n      throw error;\n    }\n\n    return getDocAttachments(src, doc);\n  });\n}\n\nfunction createBulkGetOpts(diffs) {\n  var requests = [];\n  Object.keys(diffs).forEach(function (id) {\n    var missingRevs = diffs[id].missing;\n    missingRevs.forEach(function (missingRev) {\n      requests.push({\n        id: id,\n        rev: missingRev\n      });\n    });\n  });\n\n  return {\n    docs: requests,\n    revs: true,\n    latest: true\n  };\n}\n\n//\n// Fetch all the documents from the src as described in the \"diffs\",\n// which is a mapping of docs IDs to revisions. If the state ever\n// changes to \"cancelled\", then the returned promise will be rejected.\n// Else it will be resolved with a list of fetched documents.\n//\nfunction getDocs(src, target, diffs, state) {\n  diffs = clone(diffs); // we do not need to modify this\n\n  var resultDocs = [],\n      ok = true;\n\n  function getAllDocs() {\n\n    var bulkGetOpts = createBulkGetOpts(diffs);\n\n    if (!bulkGetOpts.docs.length) { // optimization: skip empty requests\n      return;\n    }\n\n    return src.bulkGet(bulkGetOpts).then(function (bulkGetResponse) {\n      /* istanbul ignore if */\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      return Promise.all(bulkGetResponse.results.map(function (bulkGetInfo) {\n        return Promise.all(bulkGetInfo.docs.map(function (doc) {\n          var remoteDoc = doc.ok;\n\n          if (doc.error) {\n            // when AUTO_COMPACTION is set, docs can be returned which look\n            // like this: {\"missing\":\"1-7c3ac256b693c462af8442f992b83696\"}\n            ok = false;\n          }\n\n          if (!remoteDoc || !remoteDoc._attachments) {\n            return remoteDoc;\n          }\n\n          return getDocAttachmentsFromTargetOrSource(target, src, remoteDoc)\n                   .then(function (attachments) {\n                           var filenames = Object.keys(remoteDoc._attachments);\n                           attachments\n                             .forEach(function (attachment, i) {\n                                        var att = remoteDoc._attachments[filenames[i]];\n                                        delete att.stub;\n                                        delete att.length;\n                                        att.data = attachment;\n                                      });\n\n                                      return remoteDoc;\n                                    });\n        }));\n      }))\n\n      .then(function (results) {\n        resultDocs = resultDocs.concat(flatten(results).filter(Boolean));\n      });\n    });\n  }\n\n  function returnResult() {\n    return { ok:ok, docs:resultDocs };\n  }\n\n  return Promise.resolve()\n    .then(getAllDocs)\n    .then(returnResult);\n}\n\nvar CHECKPOINT_VERSION = 1;\nvar REPLICATOR = \"pouchdb\";\n// This is an arbitrary number to limit the\n// amount of replication history we save in the checkpoint.\n// If we save too much, the checkpoing docs will become very big,\n// if we save fewer, we'll run a greater risk of having to\n// read all the changes from 0 when checkpoint PUTs fail\n// CouchDB 2.0 has a more involved history pruning,\n// but let's go for the simple version for now.\nvar CHECKPOINT_HISTORY_SIZE = 5;\nvar LOWEST_SEQ = 0;\n\nfunction updateCheckpoint(db, id, checkpoint, session, returnValue) {\n  return db.get(id).catch(function (err) {\n    if (err.status === 404) {\n      if (db.adapter === 'http' || db.adapter === 'https') {\n        explainError(\n          404, 'PouchDB is just checking if a remote checkpoint exists.'\n        );\n      }\n      return {\n        session_id: session,\n        _id: id,\n        history: [],\n        replicator: REPLICATOR,\n        version: CHECKPOINT_VERSION\n      };\n    }\n    throw err;\n  }).then(function (doc) {\n    if (returnValue.cancelled) {\n      return;\n    }\n\n    // if the checkpoint has not changed, do not update\n    if (doc.last_seq === checkpoint) {\n      return;\n    }\n\n    // Filter out current entry for this replication\n    doc.history = (doc.history || []).filter(function (item) {\n      return item.session_id !== session;\n    });\n\n    // Add the latest checkpoint to history\n    doc.history.unshift({\n      last_seq: checkpoint,\n      session_id: session\n    });\n\n    // Just take the last pieces in history, to\n    // avoid really big checkpoint docs.\n    // see comment on history size above\n    doc.history = doc.history.slice(0, CHECKPOINT_HISTORY_SIZE);\n\n    doc.version = CHECKPOINT_VERSION;\n    doc.replicator = REPLICATOR;\n\n    doc.session_id = session;\n    doc.last_seq = checkpoint;\n\n    return db.put(doc).catch(function (err) {\n      if (err.status === 409) {\n        // retry; someone is trying to write a checkpoint simultaneously\n        return updateCheckpoint(db, id, checkpoint, session, returnValue);\n      }\n      throw err;\n    });\n  });\n}\n\nclass CheckpointerInternal {\n  constructor(src, target, id, returnValue, opts) {\n    this.src = src;\n    this.target = target;\n    this.id = id;\n    this.returnValue = returnValue;\n    this.opts = opts || {};\n  }\n\n  writeCheckpoint(checkpoint, session) {\n    var self = this;\n    return this.updateTarget(checkpoint, session).then(function () {\n      return self.updateSource(checkpoint, session);\n    });\n  }\n\n  updateTarget(checkpoint, session) {\n    if (this.opts.writeTargetCheckpoint) {\n      return updateCheckpoint(this.target, this.id, checkpoint,\n        session, this.returnValue);\n    } else {\n      return Promise.resolve(true);\n    }\n  }\n\n  updateSource(checkpoint, session) {\n    if (this.opts.writeSourceCheckpoint) {\n      var self = this;\n      return updateCheckpoint(this.src, this.id, checkpoint,\n        session, this.returnValue)\n        .catch(function (err) {\n          if (isForbiddenError(err)) {\n            self.opts.writeSourceCheckpoint = false;\n            return true;\n          }\n          throw err;\n        });\n    } else {\n      return Promise.resolve(true);\n    }\n  }\n\n  getCheckpoint() {\n    var self = this;\n  \n    if (self.opts && self.opts.writeSourceCheckpoint && !self.opts.writeTargetCheckpoint) {\n      return self.src.get(self.id).then(function (sourceDoc) {\n        return sourceDoc.last_seq || LOWEST_SEQ;\n      }).catch(function (err) {\n        /* istanbul ignore if */\n        if (err.status !== 404) {\n          throw err;\n        }\n        return LOWEST_SEQ;\n      });\n    }\n  \n    return self.target.get(self.id).then(function (targetDoc) {\n      if (self.opts && self.opts.writeTargetCheckpoint && !self.opts.writeSourceCheckpoint) {\n        return targetDoc.last_seq || LOWEST_SEQ;\n      }\n  \n      return self.src.get(self.id).then(function (sourceDoc) {\n        // Since we can't migrate an old version doc to a new one\n        // (no session id), we just go with the lowest seq in this case\n        /* istanbul ignore if */\n        if (targetDoc.version !== sourceDoc.version) {\n          return LOWEST_SEQ;\n        }\n  \n        var version;\n        if (targetDoc.version) {\n          version = targetDoc.version.toString();\n        } else {\n          version = \"undefined\";\n        }\n  \n        if (version in comparisons) {\n          return comparisons[version](targetDoc, sourceDoc);\n        }\n        /* istanbul ignore next */\n        return LOWEST_SEQ;\n      }, function (err) {\n        if (err.status === 404 && targetDoc.last_seq) {\n          return self.src.put({\n            _id: self.id,\n            last_seq: LOWEST_SEQ\n          }).then(function () {\n            return LOWEST_SEQ;\n          }, function (err) {\n            if (isForbiddenError(err)) {\n              self.opts.writeSourceCheckpoint = false;\n              return targetDoc.last_seq;\n            }\n            /* istanbul ignore next */\n            return LOWEST_SEQ;\n          });\n        }\n        throw err;\n      });\n    }).catch(function (err) {\n      if (err.status !== 404) {\n        throw err;\n      }\n      return LOWEST_SEQ;\n    });\n  }\n}\n\nvar comparisons = {\n  \"undefined\": function (targetDoc, sourceDoc) {\n    // This is the previous comparison function\n    if (collate(targetDoc.last_seq, sourceDoc.last_seq) === 0) {\n      return sourceDoc.last_seq;\n    }\n    /* istanbul ignore next */\n    return 0;\n  },\n  \"1\": function (targetDoc, sourceDoc) {\n    // This is the comparison function ported from CouchDB\n    return compareReplicationLogs(sourceDoc, targetDoc).last_seq;\n  }\n};\n\n// This checkpoint comparison is ported from CouchDBs source\n// they come from here:\n// https://github.com/apache/couchdb-couch-replicator/blob/master/src/couch_replicator.erl#L863-L906\n\nfunction compareReplicationLogs(srcDoc, tgtDoc) {\n  if (srcDoc.session_id === tgtDoc.session_id) {\n    return {\n      last_seq: srcDoc.last_seq,\n      history: srcDoc.history\n    };\n  }\n\n  return compareReplicationHistory(srcDoc.history, tgtDoc.history);\n}\n\nfunction compareReplicationHistory(sourceHistory, targetHistory) {\n  // the erlang loop via function arguments is not so easy to repeat in JS\n  // therefore, doing this as recursion\n  var S = sourceHistory[0];\n  var sourceRest = sourceHistory.slice(1);\n  var T = targetHistory[0];\n  var targetRest = targetHistory.slice(1);\n\n  if (!S || targetHistory.length === 0) {\n    return {\n      last_seq: LOWEST_SEQ,\n      history: []\n    };\n  }\n\n  var sourceId = S.session_id;\n  /* istanbul ignore if */\n  if (hasSessionId(sourceId, targetHistory)) {\n    return {\n      last_seq: S.last_seq,\n      history: sourceHistory\n    };\n  }\n\n  var targetId = T.session_id;\n  if (hasSessionId(targetId, sourceRest)) {\n    return {\n      last_seq: T.last_seq,\n      history: targetRest\n    };\n  }\n\n  return compareReplicationHistory(sourceRest, targetRest);\n}\n\nfunction hasSessionId(sessionId, history) {\n  var props = history[0];\n  var rest = history.slice(1);\n\n  if (!sessionId || history.length === 0) {\n    return false;\n  }\n\n  if (sessionId === props.session_id) {\n    return true;\n  }\n\n  return hasSessionId(sessionId, rest);\n}\n\nfunction isForbiddenError(err) {\n  return typeof err.status === 'number' && Math.floor(err.status / 100) === 4;\n}\n\nfunction Checkpointer(src, target, id, returnValue, opts) {\n  if (!(this instanceof CheckpointerInternal)) {\n    return new CheckpointerInternal(src, target, id, returnValue, opts);\n  }\n  return Checkpointer;\n}\n\nvar STARTING_BACK_OFF = 0;\n\nfunction backOff(opts, returnValue, error, callback) {\n  if (opts.retry === false) {\n    returnValue.emit('error', error);\n    returnValue.removeAllListeners();\n    return;\n  }\n  /* istanbul ignore if */\n  if (typeof opts.back_off_function !== 'function') {\n    opts.back_off_function = defaultBackOff;\n  }\n  returnValue.emit('requestError', error);\n  if (returnValue.state === 'active' || returnValue.state === 'pending') {\n    returnValue.emit('paused', error);\n    returnValue.state = 'stopped';\n    var backOffSet = function backoffTimeSet() {\n      opts.current_back_off = STARTING_BACK_OFF;\n    };\n    var removeBackOffSetter = function removeBackOffTimeSet() {\n      returnValue.removeListener('active', backOffSet);\n    };\n    returnValue.once('paused', removeBackOffSetter);\n    returnValue.once('active', backOffSet);\n  }\n\n  opts.current_back_off = opts.current_back_off || STARTING_BACK_OFF;\n  opts.current_back_off = opts.back_off_function(opts.current_back_off);\n  setTimeout(callback, opts.current_back_off);\n}\n\nfunction sortObjectPropertiesByKey(queryParams) {\n  return Object.keys(queryParams).sort(collate).reduce(function (result, key) {\n    result[key] = queryParams[key];\n    return result;\n  }, {});\n}\n\n// Generate a unique id particular to this replication.\n// Not guaranteed to align perfectly with CouchDB's rep ids.\nfunction generateReplicationId(src, target, opts) {\n  var docIds = opts.doc_ids ? opts.doc_ids.sort(collate) : '';\n  var filterFun = opts.filter ? opts.filter.toString() : '';\n  var queryParams = '';\n  var filterViewName =  '';\n  var selector = '';\n\n  // possibility for checkpoints to be lost here as behaviour of\n  // JSON.stringify is not stable (see #6226)\n  /* istanbul ignore if */\n  if (opts.selector) {\n    selector = JSON.stringify(opts.selector);\n  }\n\n  if (opts.filter && opts.query_params) {\n    queryParams = JSON.stringify(sortObjectPropertiesByKey(opts.query_params));\n  }\n\n  if (opts.filter && opts.filter === '_view') {\n    filterViewName = opts.view.toString();\n  }\n\n  return Promise.all([src.id(), target.id()]).then(function (res) {\n    var queryData = res[0] + res[1] + filterFun + filterViewName +\n      queryParams + docIds + selector;\n    return new Promise(function (resolve) {\n      binaryMd5(queryData, resolve);\n    });\n  }).then(function (md5sum) {\n    // can't use straight-up md5 alphabet, because\n    // the char '/' is interpreted as being for attachments,\n    // and + is also not url-safe\n    md5sum = md5sum.replace(/\\//g, '.').replace(/\\+/g, '_');\n    return '_local/' + md5sum;\n  });\n}\n\nfunction replicate(src, target, opts, returnValue, result) {\n  var batches = [];               // list of batches to be processed\n  var currentBatch;               // the batch currently being processed\n  var pendingBatch = {\n    seq: 0,\n    changes: [],\n    docs: []\n  }; // next batch, not yet ready to be processed\n  var writingCheckpoint = false;  // true while checkpoint is being written\n  var changesCompleted = false;   // true when all changes received\n  var replicationCompleted = false; // true when replication has completed\n  // initial_last_seq is the state of the source db before\n  // replication started, and it is _not_ updated during\n  // replication or used anywhere else, as opposed to last_seq\n  var initial_last_seq = 0;\n  var last_seq = 0;\n  var continuous = opts.continuous || opts.live || false;\n  var batch_size = opts.batch_size || 100;\n  var batches_limit = opts.batches_limit || 10;\n  var style = opts.style || 'all_docs';\n  var changesPending = false;     // true while src.changes is running\n  var doc_ids = opts.doc_ids;\n  var selector = opts.selector;\n  var repId;\n  var checkpointer;\n  var changedDocs = [];\n  // Like couchdb, every replication gets a unique session id\n  var session = uuid();\n  var taskId;\n\n  result = result || {\n    ok: true,\n    start_time: new Date().toISOString(),\n    docs_read: 0,\n    docs_written: 0,\n    doc_write_failures: 0,\n    errors: []\n  };\n\n  var changesOpts = {};\n  returnValue.ready(src, target);\n\n  function initCheckpointer() {\n    if (checkpointer) {\n      return Promise.resolve();\n    }\n    return generateReplicationId(src, target, opts).then(function (res) {\n      repId = res;\n\n      var checkpointOpts = {};\n      if (opts.checkpoint === false) {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'source') {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'target') {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: true };\n      } else {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: true };\n      }\n\n      checkpointer = new Checkpointer(src, target, repId, returnValue, checkpointOpts);\n    });\n  }\n\n  function writeDocs() {\n    changedDocs = [];\n\n    if (currentBatch.docs.length === 0) {\n      return;\n    }\n    var docs = currentBatch.docs;\n    var bulkOpts = {timeout: opts.timeout};\n    return target.bulkDocs({docs: docs, new_edits: false}, bulkOpts).then(function (res) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n\n      // `res` doesn't include full documents (which live in `docs`), so we create a map of\n      // (id -> error), and check for errors while iterating over `docs`\n      var errorsById = Object.create(null);\n      res.forEach(function (res) {\n        if (res.error) {\n          errorsById[res.id] = res;\n        }\n      });\n\n      var errorsNo = Object.keys(errorsById).length;\n      result.doc_write_failures += errorsNo;\n      result.docs_written += docs.length - errorsNo;\n\n      docs.forEach(function (doc) {\n        var error = errorsById[doc._id];\n        if (error) {\n          result.errors.push(error);\n          // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n          var errorName = (error.name || '').toLowerCase();\n          if (errorName === 'unauthorized' || errorName === 'forbidden') {\n            returnValue.emit('denied', clone(error));\n          } else {\n            throw error;\n          }\n        } else {\n          changedDocs.push(doc);\n        }\n      });\n\n    }, function (err) {\n      result.doc_write_failures += docs.length;\n      throw err;\n    });\n  }\n\n  function finishBatch() {\n    if (currentBatch.error) {\n      throw new Error('There was a problem getting docs.');\n    }\n    result.last_seq = last_seq = currentBatch.seq;\n    var outResult = clone(result);\n    if (changedDocs.length) {\n      outResult.docs = changedDocs;\n      // Attach 'pending' property if server supports it (CouchDB 2.0+)\n      /* istanbul ignore if */\n      if (typeof currentBatch.pending === 'number') {\n        outResult.pending = currentBatch.pending;\n        delete currentBatch.pending;\n      }\n      returnValue.emit('change', outResult);\n    }\n    writingCheckpoint = true;\n\n    src.info().then(function (info) {\n      var task = src.activeTasks.get(taskId);\n      if (!currentBatch || !task) {\n        return;\n      }\n\n      var completed = task.completed_items || 0;\n      var total_items = parseInt(info.update_seq, 10) - parseInt(initial_last_seq, 10);\n      src.activeTasks.update(taskId, {\n        completed_items: completed + currentBatch.changes.length,\n        total_items\n      });\n    });\n\n    return checkpointer.writeCheckpoint(currentBatch.seq,\n        session).then(function () {\n      returnValue.emit('checkpoint', { 'checkpoint': currentBatch.seq });\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      currentBatch = undefined;\n      getChanges();\n    }).catch(function (err) {\n      onCheckpointError(err);\n      throw err;\n    });\n  }\n\n  function getDiffs() {\n    var diff = {};\n    currentBatch.changes.forEach(function (change) {\n      returnValue.emit('checkpoint', { 'revs_diff': change });\n      // Couchbase Sync Gateway emits these, but we can ignore them\n      /* istanbul ignore if */\n      if (change.id === \"_user/\") {\n        return;\n      }\n      diff[change.id] = change.changes.map(function (x) {\n        return x.rev;\n      });\n    });\n    return target.revsDiff(diff).then(function (diffs) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      // currentBatch.diffs elements are deleted as the documents are written\n      currentBatch.diffs = diffs;\n    });\n  }\n\n  function getBatchDocs() {\n    return getDocs(src, target, currentBatch.diffs, returnValue).then(function (got) {\n      currentBatch.error = !got.ok;\n      got.docs.forEach(function (doc) {\n        delete currentBatch.diffs[doc._id];\n        result.docs_read++;\n        currentBatch.docs.push(doc);\n      });\n    });\n  }\n\n  function startNextBatch() {\n    if (returnValue.cancelled || currentBatch) {\n      return;\n    }\n    if (batches.length === 0) {\n      processPendingBatch(true);\n      return;\n    }\n    currentBatch = batches.shift();\n    returnValue.emit('checkpoint', { 'start_next_batch': currentBatch.seq });\n    getDiffs()\n      .then(getBatchDocs)\n      .then(writeDocs)\n      .then(finishBatch)\n      .then(startNextBatch)\n      .catch(function (err) {\n        abortReplication('batch processing terminated with error', err);\n      });\n  }\n\n\n  function processPendingBatch(immediate$$1) {\n    if (pendingBatch.changes.length === 0) {\n      if (batches.length === 0 && !currentBatch) {\n        if ((continuous && changesOpts.live) || changesCompleted) {\n          returnValue.state = 'pending';\n          returnValue.emit('paused');\n        }\n        if (changesCompleted) {\n          completeReplication();\n        }\n      }\n      return;\n    }\n    if (\n      immediate$$1 ||\n      changesCompleted ||\n      pendingBatch.changes.length >= batch_size\n    ) {\n      batches.push(pendingBatch);\n      pendingBatch = {\n        seq: 0,\n        changes: [],\n        docs: []\n      };\n      if (returnValue.state === 'pending' || returnValue.state === 'stopped') {\n        returnValue.state = 'active';\n        returnValue.emit('active');\n      }\n      startNextBatch();\n    }\n  }\n\n\n  function abortReplication(reason, err) {\n    if (replicationCompleted) {\n      return;\n    }\n    if (!err.message) {\n      err.message = reason;\n    }\n    result.ok = false;\n    result.status = 'aborting';\n    batches = [];\n    pendingBatch = {\n      seq: 0,\n      changes: [],\n      docs: []\n    };\n    completeReplication(err);\n  }\n\n\n  function completeReplication(fatalError) {\n    if (replicationCompleted) {\n      return;\n    }\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      result.status = 'cancelled';\n      if (writingCheckpoint) {\n        return;\n      }\n    }\n    result.status = result.status || 'complete';\n    result.end_time = new Date().toISOString();\n    result.last_seq = last_seq;\n    replicationCompleted = true;\n\n    src.activeTasks.remove(taskId, fatalError);\n\n    if (fatalError) {\n      // need to extend the error because Firefox considers \".result\" read-only\n      fatalError = createError(fatalError);\n      fatalError.result = result;\n\n      // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n      var errorName = (fatalError.name || '').toLowerCase();\n      if (errorName === 'unauthorized' || errorName === 'forbidden') {\n        returnValue.emit('error', fatalError);\n        returnValue.removeAllListeners();\n      } else {\n        backOff(opts, returnValue, fatalError, function () {\n          replicate(src, target, opts, returnValue);\n        });\n      }\n    } else {\n      returnValue.emit('complete', result);\n      returnValue.removeAllListeners();\n    }\n  }\n\n  function onChange(change, pending, lastSeq) {\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    // Attach 'pending' property if server supports it (CouchDB 2.0+)\n    /* istanbul ignore if */\n    if (typeof pending === 'number') {\n      pendingBatch.pending = pending;\n    }\n\n    var filter = filterChange(opts)(change);\n    if (!filter) {\n      // update processed items count by 1\n      var task = src.activeTasks.get(taskId);\n      if (task) {\n        // we can assume that task exists here? shouldn't be deleted by here.\n        var completed = task.completed_items || 0;\n        src.activeTasks.update(taskId, {completed_items: ++completed});\n      }\n      return;\n    }\n    pendingBatch.seq = change.seq || lastSeq;\n    pendingBatch.changes.push(change);\n    returnValue.emit('checkpoint', { 'pending_batch': pendingBatch.seq });\n    immediate(function () {\n      processPendingBatch(batches.length === 0 && changesOpts.live);\n    });\n  }\n\n\n  function onChangesComplete(changes) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n\n    // if no results were returned then we're done,\n    // else fetch more\n    if (changes.results.length > 0) {\n      changesOpts.since = changes.results[changes.results.length - 1].seq;\n      getChanges();\n      processPendingBatch(true);\n    } else {\n\n      var complete = function () {\n        if (continuous) {\n          changesOpts.live = true;\n          getChanges();\n        } else {\n          changesCompleted = true;\n        }\n        processPendingBatch(true);\n      };\n\n      // update the checkpoint so we start from the right seq next time\n      if (!currentBatch && changes.results.length === 0) {\n        writingCheckpoint = true;\n        checkpointer.writeCheckpoint(changes.last_seq,\n            session).then(function () {\n          writingCheckpoint = false;\n          result.last_seq = last_seq = changes.last_seq;\n          if (returnValue.cancelled) {\n            completeReplication();\n            throw new Error('cancelled');\n          } else {\n            complete();\n          }\n        })\n        .catch(onCheckpointError);\n      } else {\n        complete();\n      }\n    }\n  }\n\n\n  function onChangesError(err) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    abortReplication('changes rejected', err);\n  }\n\n\n  function getChanges() {\n    if (!(\n      !changesPending &&\n      !changesCompleted &&\n      batches.length < batches_limit\n      )) {\n      return;\n    }\n    changesPending = true;\n    function abortChanges() {\n      changes.cancel();\n    }\n    function removeListener() {\n      returnValue.removeListener('cancel', abortChanges);\n    }\n\n    if (returnValue._changes) { // remove old changes() and listeners\n      returnValue.removeListener('cancel', returnValue._abortChanges);\n      returnValue._changes.cancel();\n    }\n    returnValue.once('cancel', abortChanges);\n\n    var changes = src.changes(changesOpts)\n      .on('change', onChange);\n    changes.then(removeListener, removeListener);\n    changes.then(onChangesComplete)\n      .catch(onChangesError);\n\n    if (opts.retry) {\n      // save for later so we can cancel if necessary\n      returnValue._changes = changes;\n      returnValue._abortChanges = abortChanges;\n    }\n  }\n\n  function createTask(checkpoint) {\n    return src.info().then(function (info) {\n      var total_items = typeof opts.since === 'undefined' ?\n        parseInt(info.update_seq, 10) - parseInt(checkpoint, 10) :\n        parseInt(info.update_seq, 10);\n\n      taskId = src.activeTasks.add({\n        name: `${continuous ? 'continuous ' : ''}replication from ${info.db_name}` ,\n        total_items,\n      });\n\n      return checkpoint;\n    });\n  }\n\n  function startChanges() {\n    initCheckpointer().then(function () {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      return checkpointer.getCheckpoint().then(createTask).then(function (checkpoint) {\n        last_seq = checkpoint;\n        initial_last_seq = checkpoint;\n        changesOpts = {\n          since: last_seq,\n          limit: batch_size,\n          batch_size: batch_size,\n          style: style,\n          doc_ids: doc_ids,\n          selector: selector,\n          return_docs: true // required so we know when we're done\n        };\n        if (opts.filter) {\n          if (typeof opts.filter !== 'string') {\n            // required for the client-side filter in onChange\n            changesOpts.include_docs = true;\n          } else { // ddoc filter\n            changesOpts.filter = opts.filter;\n          }\n        }\n        if ('heartbeat' in opts) {\n          changesOpts.heartbeat = opts.heartbeat;\n        }\n        if ('timeout' in opts) {\n          changesOpts.timeout = opts.timeout;\n        }\n        if (opts.query_params) {\n          changesOpts.query_params = opts.query_params;\n        }\n        if (opts.view) {\n          changesOpts.view = opts.view;\n        }\n        getChanges();\n      });\n    }).catch(function (err) {\n      abortReplication('getCheckpoint rejected with ', err);\n    });\n  }\n\n  /* istanbul ignore next */\n  function onCheckpointError(err) {\n    writingCheckpoint = false;\n    abortReplication('writeCheckpoint completed with error', err);\n  }\n\n  /* istanbul ignore if */\n  if (returnValue.cancelled) { // cancelled immediately\n    completeReplication();\n    return;\n  }\n\n  if (!returnValue._addedListeners) {\n    returnValue.once('cancel', completeReplication);\n\n    if (typeof opts.complete === 'function') {\n      returnValue.once('error', opts.complete);\n      returnValue.once('complete', function (result) {\n        opts.complete(null, result);\n      });\n    }\n    returnValue._addedListeners = true;\n  }\n\n  if (typeof opts.since === 'undefined') {\n    startChanges();\n  } else {\n    initCheckpointer().then(function () {\n      writingCheckpoint = true;\n      return checkpointer.writeCheckpoint(opts.since, session);\n    }).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      last_seq = opts.since;\n      startChanges();\n    }).catch(onCheckpointError);\n  }\n}\n\n// We create a basic promise so the caller can cancel the replication possibly\n// before we have actually started listening to changes etc\nclass Replication extends EE {\n  constructor() {\n    super();\n    this.cancelled = false;\n    this.state = 'pending';\n    const promise = new Promise((fulfill, reject) => {\n      this.once('complete', fulfill);\n      this.once('error', reject);\n    });\n    this.then = function (resolve, reject) {\n      return promise.then(resolve, reject);\n    };\n    this.catch = function (reject) {\n      return promise.catch(reject);\n    };\n    // As we allow error handling via \"error\" event as well,\n    // put a stub in here so that rejecting never throws UnhandledError.\n    this.catch(function () {});\n  }\n\n  cancel() {\n    this.cancelled = true;\n    this.state = 'cancelled';\n    this.emit('cancel');\n  }\n\n  ready(src, target) {\n    if (this._readyCalled) {\n      return;\n    }\n    this._readyCalled = true;\n  \n    const onDestroy = () => {\n      this.cancel();\n    };\n    src.once('destroyed', onDestroy);\n    target.once('destroyed', onDestroy);\n    function cleanup() {\n      src.removeListener('destroyed', onDestroy);\n      target.removeListener('destroyed', onDestroy);\n    }\n    this.once('complete', cleanup);\n    this.once('error', cleanup);\n  }\n}\n\nfunction toPouch(db, opts) {\n  var PouchConstructor = opts.PouchConstructor;\n  if (typeof db === 'string') {\n    return new PouchConstructor(db, opts);\n  } else {\n    return db;\n  }\n}\n\nfunction replicateWrapper(src, target, opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n\n  if (opts.doc_ids && !Array.isArray(opts.doc_ids)) {\n    throw createError(BAD_REQUEST,\n                       \"`doc_ids` filter parameter is not a list.\");\n  }\n\n  opts.complete = callback;\n  opts = clone(opts);\n  opts.continuous = opts.continuous || opts.live;\n  opts.retry = ('retry' in opts) ? opts.retry : false;\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  var replicateRet = new Replication(opts);\n  var srcPouch = toPouch(src, opts);\n  var targetPouch = toPouch(target, opts);\n  replicate(srcPouch, targetPouch, opts, replicateRet);\n  return replicateRet;\n}\n\nfunction sync(src, target, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n  opts = clone(opts);\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  src = toPouch(src, opts);\n  target = toPouch(target, opts);\n  return new Sync(src, target, opts, callback);\n}\n\nclass Sync extends EE {\n  constructor(src, target, opts, callback) {\n    super();\n    this.canceled = false;\n\n    const optsPush = opts.push ? $inject_Object_assign({}, opts, opts.push) : opts;\n    const optsPull = opts.pull ? $inject_Object_assign({}, opts, opts.pull) : opts;\n\n    this.push = replicateWrapper(src, target, optsPush);\n    this.pull = replicateWrapper(target, src, optsPull);\n\n    this.pushPaused = true;\n    this.pullPaused = true;\n\n    const pullChange = (change) => {\n      this.emit('change', {\n        direction: 'pull',\n        change: change\n      });\n    };\n    const pushChange = (change) => {\n      this.emit('change', {\n        direction: 'push',\n        change: change\n      });\n    };\n    const pushDenied = (doc) => {\n      this.emit('denied', {\n        direction: 'push',\n        doc: doc\n      });\n    };\n    const pullDenied = (doc) => {\n      this.emit('denied', {\n        direction: 'pull',\n        doc: doc\n      });\n    };\n    const pushPaused = () => {\n      this.pushPaused = true;\n      /* istanbul ignore if */\n      if (this.pullPaused) {\n        this.emit('paused');\n      }\n    };\n    const pullPaused = () => {\n      this.pullPaused = true;\n      /* istanbul ignore if */\n      if (this.pushPaused) {\n        this.emit('paused');\n      }\n    };\n    const pushActive = () => {\n      this.pushPaused = false;\n      /* istanbul ignore if */\n      if (this.pullPaused) {\n        this.emit('active', {\n          direction: 'push'\n        });\n      }\n    };\n    const pullActive = () => {\n      this.pullPaused = false;\n      /* istanbul ignore if */\n      if (this.pushPaused) {\n        this.emit('active', {\n          direction: 'pull'\n        });\n      }\n    };\n\n    let removed = {};\n\n    const removeAll = (type) => { // type is 'push' or 'pull'\n      return (event, func) => {\n        const isChange = event === 'change' &&\n          (func === pullChange || func === pushChange);\n        const isDenied = event === 'denied' &&\n          (func === pullDenied || func === pushDenied);\n        const isPaused = event === 'paused' &&\n          (func === pullPaused || func === pushPaused);\n        const isActive = event === 'active' &&\n          (func === pullActive || func === pushActive);\n\n        if (isChange || isDenied || isPaused || isActive) {\n          if (!(event in removed)) {\n            removed[event] = {};\n          }\n          removed[event][type] = true;\n          if (Object.keys(removed[event]).length === 2) {\n            // both push and pull have asked to be removed\n            this.removeAllListeners(event);\n          }\n        }\n      };\n    };\n\n    if (opts.live) {\n      this.push.on('complete', this.pull.cancel.bind(this.pull));\n      this.pull.on('complete', this.push.cancel.bind(this.push));\n    }\n\n    function addOneListener(ee, event, listener) {\n      if (ee.listeners(event).indexOf(listener) == -1) {\n        ee.on(event, listener);\n      }\n    }\n\n    this.on('newListener', function (event) {\n      if (event === 'change') {\n        addOneListener(this.pull, 'change', pullChange);\n        addOneListener(this.push, 'change', pushChange);\n      } else if (event === 'denied') {\n        addOneListener(this.pull, 'denied', pullDenied);\n        addOneListener(this.push, 'denied', pushDenied);\n      } else if (event === 'active') {\n        addOneListener(this.pull, 'active', pullActive);\n        addOneListener(this.push, 'active', pushActive);\n      } else if (event === 'paused') {\n        addOneListener(this.pull, 'paused', pullPaused);\n        addOneListener(this.push, 'paused', pushPaused);\n      }\n    });\n\n    this.on('removeListener', function (event) {\n      if (event === 'change') {\n        this.pull.removeListener('change', pullChange);\n        this.push.removeListener('change', pushChange);\n      } else if (event === 'denied') {\n        this.pull.removeListener('denied', pullDenied);\n        this.push.removeListener('denied', pushDenied);\n      } else if (event === 'active') {\n        this.pull.removeListener('active', pullActive);\n        this.push.removeListener('active', pushActive);\n      } else if (event === 'paused') {\n        this.pull.removeListener('paused', pullPaused);\n        this.push.removeListener('paused', pushPaused);\n      }\n    });\n\n    this.pull.on('removeListener', removeAll('pull'));\n    this.push.on('removeListener', removeAll('push'));\n\n    const promise = Promise.all([\n      this.push,\n      this.pull\n    ]).then((resp) => {\n      const out = {\n        push: resp[0],\n        pull: resp[1]\n      };\n      this.emit('complete', out);\n      if (callback) {\n        callback(null, out);\n      }\n      this.removeAllListeners();\n      return out;\n    }, (err) => {\n      this.cancel();\n      if (callback) {\n        // if there's a callback, then the callback can receive\n        // the error event\n        callback(err);\n      } else {\n        // if there's no callback, then we're safe to emit an error\n        // event, which would otherwise throw an unhandled error\n        // due to 'error' being a special event in EventEmitters\n        this.emit('error', err);\n      }\n      this.removeAllListeners();\n      if (callback) {\n        // no sense throwing if we're already emitting an 'error' event\n        throw err;\n      }\n    });\n\n    this.then = function (success, err) {\n      return promise.then(success, err);\n    };\n\n    this.catch = function (err) {\n      return promise.catch(err);\n    };\n  }\n\n  cancel() {\n    if (!this.canceled) {\n      this.canceled = true;\n      this.push.cancel();\n      this.pull.cancel();\n    }\n  }\n}\n\nfunction replication(PouchDB) {\n  PouchDB.replicate = replicateWrapper;\n  PouchDB.sync = sync;\n\n  Object.defineProperty(PouchDB.prototype, 'replicate', {\n    get: function () {\n      var self = this;\n      if (typeof this.replicateMethods === 'undefined') {\n        this.replicateMethods = {\n          from: function (other, opts, callback) {\n            return self.constructor.replicate(other, self, opts, callback);\n          },\n          to: function (other, opts, callback) {\n            return self.constructor.replicate(self, other, opts, callback);\n          }\n        };\n      }\n      return this.replicateMethods;\n    }\n  });\n\n  PouchDB.prototype.sync = function (dbName, opts, callback) {\n    return this.constructor.sync(this, dbName, opts, callback);\n  };\n}\n\nPouchDB.plugin(IDBPouch)\n  .plugin(HttpPouch$1)\n  .plugin(mapreduce)\n  .plugin(replication);\n\n// Pull from src because pouchdb-node/pouchdb-browser themselves\n\nexport default PouchDB;\n","/**\n * Based on Kendo UI Core expression code <https://github.com/telerik/kendo-ui-core#license-information>\n */\n'use strict'\n\nfunction Cache(maxSize) {\n  this._maxSize = maxSize\n  this.clear()\n}\nCache.prototype.clear = function () {\n  this._size = 0\n  this._values = Object.create(null)\n}\nCache.prototype.get = function (key) {\n  return this._values[key]\n}\nCache.prototype.set = function (key, value) {\n  this._size >= this._maxSize && this.clear()\n  if (!(key in this._values)) this._size++\n\n  return (this._values[key] = value)\n}\n\nvar SPLIT_REGEX = /[^.^\\]^[]+|(?=\\[\\]|\\.\\.)/g,\n  DIGIT_REGEX = /^\\d+$/,\n  LEAD_DIGIT_REGEX = /^\\d/,\n  SPEC_CHAR_REGEX = /[~`!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g,\n  CLEAN_QUOTES_REGEX = /^\\s*(['\"]?)(.*?)(\\1)\\s*$/,\n  MAX_CACHE_SIZE = 512\n\nvar pathCache = new Cache(MAX_CACHE_SIZE),\n  setCache = new Cache(MAX_CACHE_SIZE),\n  getCache = new Cache(MAX_CACHE_SIZE)\n\nvar config\n\nmodule.exports = {\n  Cache: Cache,\n\n  split: split,\n\n  normalizePath: normalizePath,\n\n  setter: function (path) {\n    var parts = normalizePath(path)\n\n    return (\n      setCache.get(path) ||\n      setCache.set(path, function setter(obj, value) {\n        var index = 0\n        var len = parts.length\n        var data = obj\n\n        while (index < len - 1) {\n          var part = parts[index]\n          if (\n            part === '__proto__' ||\n            part === 'constructor' ||\n            part === 'prototype'\n          ) {\n            return obj\n          }\n\n          data = data[parts[index++]]\n        }\n        data[parts[index]] = value\n      })\n    )\n  },\n\n  getter: function (path, safe) {\n    var parts = normalizePath(path)\n    return (\n      getCache.get(path) ||\n      getCache.set(path, function getter(data) {\n        var index = 0,\n          len = parts.length\n        while (index < len) {\n          if (data != null || !safe) data = data[parts[index++]]\n          else return\n        }\n        return data\n      })\n    )\n  },\n\n  join: function (segments) {\n    return segments.reduce(function (path, part) {\n      return (\n        path +\n        (isQuoted(part) || DIGIT_REGEX.test(part)\n          ? '[' + part + ']'\n          : (path ? '.' : '') + part)\n      )\n    }, '')\n  },\n\n  forEach: function (path, cb, thisArg) {\n    forEach(Array.isArray(path) ? path : split(path), cb, thisArg)\n  },\n}\n\nfunction normalizePath(path) {\n  return (\n    pathCache.get(path) ||\n    pathCache.set(\n      path,\n      split(path).map(function (part) {\n        return part.replace(CLEAN_QUOTES_REGEX, '$2')\n      })\n    )\n  )\n}\n\nfunction split(path) {\n  return path.match(SPLIT_REGEX)\n}\n\nfunction forEach(parts, iter, thisArg) {\n  var len = parts.length,\n    part,\n    idx,\n    isArray,\n    isBracket\n\n  for (idx = 0; idx < len; idx++) {\n    part = parts[idx]\n\n    if (part) {\n      if (shouldBeQuoted(part)) {\n        part = '\"' + part + '\"'\n      }\n\n      isBracket = isQuoted(part)\n      isArray = !isBracket && /^\\d+$/.test(part)\n\n      iter.call(thisArg, part, isBracket, isArray, idx, parts)\n    }\n  }\n}\n\nfunction isQuoted(str) {\n  return (\n    typeof str === 'string' && str && [\"'\", '\"'].indexOf(str.charAt(0)) !== -1\n  )\n}\n\nfunction hasLeadingNumber(part) {\n  return part.match(LEAD_DIGIT_REGEX) && !part.match(DIGIT_REGEX)\n}\n\nfunction hasSpecialChars(part) {\n  return SPEC_CHAR_REGEX.test(part)\n}\n\nfunction shouldBeQuoted(part) {\n  return !isQuoted(part) && (hasLeadingNumber(part) || hasSpecialChars(part))\n}\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","\n/**\n * Topological sorting function\n *\n * @param {Array} edges\n * @returns {Array}\n */\n\nmodule.exports = function(edges) {\n  return toposort(uniqueNodes(edges), edges)\n}\n\nmodule.exports.array = toposort\n\nfunction toposort(nodes, edges) {\n  var cursor = nodes.length\n    , sorted = new Array(cursor)\n    , visited = {}\n    , i = cursor\n    // Better data structures make algorithm much faster.\n    , outgoingEdges = makeOutgoingEdges(edges)\n    , nodesHash = makeNodesHash(nodes)\n\n  // check for unknown nodes\n  edges.forEach(function(edge) {\n    if (!nodesHash.has(edge[0]) || !nodesHash.has(edge[1])) {\n      throw new Error('Unknown node. There is an unknown node in the supplied edges.')\n    }\n  })\n\n  while (i--) {\n    if (!visited[i]) visit(nodes[i], i, new Set())\n  }\n\n  return sorted\n\n  function visit(node, i, predecessors) {\n    if(predecessors.has(node)) {\n      var nodeRep\n      try {\n        nodeRep = \", node was:\" + JSON.stringify(node)\n      } catch(e) {\n        nodeRep = \"\"\n      }\n      throw new Error('Cyclic dependency' + nodeRep)\n    }\n\n    if (!nodesHash.has(node)) {\n      throw new Error('Found unknown node. Make sure to provided all involved nodes. Unknown node: '+JSON.stringify(node))\n    }\n\n    if (visited[i]) return;\n    visited[i] = true\n\n    var outgoing = outgoingEdges.get(node) || new Set()\n    outgoing = Array.from(outgoing)\n\n    if (i = outgoing.length) {\n      predecessors.add(node)\n      do {\n        var child = outgoing[--i]\n        visit(child, nodesHash.get(child), predecessors)\n      } while (i)\n      predecessors.delete(node)\n    }\n\n    sorted[--cursor] = node\n  }\n}\n\nfunction uniqueNodes(arr){\n  var res = new Set()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    res.add(edge[0])\n    res.add(edge[1])\n  }\n  return Array.from(res)\n}\n\nfunction makeOutgoingEdges(arr){\n  var edges = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    if (!edges.has(edge[0])) edges.set(edge[0], new Set())\n    if (!edges.has(edge[1])) edges.set(edge[1], new Set())\n    edges.get(edge[0]).add(edge[1])\n  }\n  return edges\n}\n\nfunction makeNodesHash(arr){\n  var res = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    res.set(arr[i], i)\n  }\n  return res\n}\n","'use strict';\n\n/**\n * Stringify/parse functions that don't operate\n * recursively, so they avoid call stack exceeded\n * errors.\n */\nexports.stringify = function stringify(input) {\n  var queue = [];\n  queue.push({obj: input});\n\n  var res = '';\n  var next, obj, prefix, val, i, arrayPrefix, keys, k, key, value, objPrefix;\n  while ((next = queue.pop())) {\n    obj = next.obj;\n    prefix = next.prefix || '';\n    val = next.val || '';\n    res += prefix;\n    if (val) {\n      res += val;\n    } else if (typeof obj !== 'object') {\n      res += typeof obj === 'undefined' ? null : JSON.stringify(obj);\n    } else if (obj === null) {\n      res += 'null';\n    } else if (Array.isArray(obj)) {\n      queue.push({val: ']'});\n      for (i = obj.length - 1; i >= 0; i--) {\n        arrayPrefix = i === 0 ? '' : ',';\n        queue.push({obj: obj[i], prefix: arrayPrefix});\n      }\n      queue.push({val: '['});\n    } else { // object\n      keys = [];\n      for (k in obj) {\n        if (obj.hasOwnProperty(k)) {\n          keys.push(k);\n        }\n      }\n      queue.push({val: '}'});\n      for (i = keys.length - 1; i >= 0; i--) {\n        key = keys[i];\n        value = obj[key];\n        objPrefix = (i > 0 ? ',' : '');\n        objPrefix += JSON.stringify(key) + ':';\n        queue.push({obj: value, prefix: objPrefix});\n      }\n      queue.push({val: '{'});\n    }\n  }\n  return res;\n};\n\n// Convenience function for the parse function.\n// This pop function is basically copied from\n// pouchCollate.parseIndexableString\nfunction pop(obj, stack, metaStack) {\n  var lastMetaElement = metaStack[metaStack.length - 1];\n  if (obj === lastMetaElement.element) {\n    // popping a meta-element, e.g. an object whose value is another object\n    metaStack.pop();\n    lastMetaElement = metaStack[metaStack.length - 1];\n  }\n  var element = lastMetaElement.element;\n  var lastElementIndex = lastMetaElement.index;\n  if (Array.isArray(element)) {\n    element.push(obj);\n  } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n    var key = stack.pop();\n    element[key] = obj;\n  } else {\n    stack.push(obj); // obj with key only\n  }\n}\n\nexports.parse = function (str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n  var collationIndex,parsedNum,numChar;\n  var parsedString,lastCh,numConsecutiveSlashes,ch;\n  var arrayElement, objElement;\n  while (true) {\n    collationIndex = str[i++];\n    if (collationIndex === '}' ||\n        collationIndex === ']' ||\n        typeof collationIndex === 'undefined') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack.pop(), stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case ' ':\n      case '\\t':\n      case '\\n':\n      case ':':\n      case ',':\n        break;\n      case 'n':\n        i += 3; // 'ull'\n        pop(null, stack, metaStack);\n        break;\n      case 't':\n        i += 3; // 'rue'\n        pop(true, stack, metaStack);\n        break;\n      case 'f':\n        i += 4; // 'alse'\n        pop(false, stack, metaStack);\n        break;\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '-':\n        parsedNum = '';\n        i--;\n        while (true) {\n          numChar = str[i++];\n          if (/[\\d\\.\\-e\\+]/.test(numChar)) {\n            parsedNum += numChar;\n          } else {\n            i--;\n            break;\n          }\n        }\n        pop(parseFloat(parsedNum), stack, metaStack);\n        break;\n      case '\"':\n        parsedString = '';\n        lastCh = void 0;\n        numConsecutiveSlashes = 0;\n        while (true) {\n          ch = str[i++];\n          if (ch !== '\"' || (lastCh === '\\\\' &&\n              numConsecutiveSlashes % 2 === 1)) {\n            parsedString += ch;\n            lastCh = ch;\n            if (lastCh === '\\\\') {\n              numConsecutiveSlashes++;\n            } else {\n              numConsecutiveSlashes = 0;\n            }\n          } else {\n            break;\n          }\n        }\n        pop(JSON.parse('\"' + parsedString + '\"'), stack, metaStack);\n        break;\n      case '[':\n        arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '{':\n        objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      default:\n        throw new Error(\n          'unexpectedly reached end of input: ' + collationIndex);\n    }\n  }\n};\n","// ES6 Map\nvar map\ntry {\n  map = Map\n} catch (_) { }\nvar set\n\n// ES6 Set\ntry {\n  set = Set\n} catch (_) { }\n\nfunction baseClone (src, circulars, clones) {\n  // Null/undefined/functions/etc\n  if (!src || typeof src !== 'object' || typeof src === 'function') {\n    return src\n  }\n\n  // DOM Node\n  if (src.nodeType && 'cloneNode' in src) {\n    return src.cloneNode(true)\n  }\n\n  // Date\n  if (src instanceof Date) {\n    return new Date(src.getTime())\n  }\n\n  // RegExp\n  if (src instanceof RegExp) {\n    return new RegExp(src)\n  }\n\n  // Arrays\n  if (Array.isArray(src)) {\n    return src.map(clone)\n  }\n\n  // ES6 Maps\n  if (map && src instanceof map) {\n    return new Map(Array.from(src.entries()))\n  }\n\n  // ES6 Sets\n  if (set && src instanceof set) {\n    return new Set(Array.from(src.values()))\n  }\n\n  // Object\n  if (src instanceof Object) {\n    circulars.push(src)\n    var obj = Object.create(src)\n    clones.push(obj)\n    for (var key in src) {\n      var idx = circulars.findIndex(function (i) {\n        return i === src[key]\n      })\n      obj[key] = idx > -1 ? clones[idx] : baseClone(src[key], circulars, clones)\n    }\n    return obj\n  }\n\n  // ???\n  return src\n}\n\nexport default function clone (src) {\n  return baseClone(src, [], [])\n}\n","const toString = Object.prototype.toString;\nconst errorToString = Error.prototype.toString;\nconst regExpToString = RegExp.prototype.toString;\nconst symbolToString = typeof Symbol !== 'undefined' ? Symbol.prototype.toString : () => '';\nconst SYMBOL_REGEXP = /^Symbol\\((.*)\\)(.*)$/;\n\nfunction printNumber(val) {\n  if (val != +val) return 'NaN';\n  const isNegativeZero = val === 0 && 1 / val < 0;\n  return isNegativeZero ? '-0' : '' + val;\n}\n\nfunction printSimpleValue(val, quoteStrings = false) {\n  if (val == null || val === true || val === false) return '' + val;\n  const typeOf = typeof val;\n  if (typeOf === 'number') return printNumber(val);\n  if (typeOf === 'string') return quoteStrings ? `\"${val}\"` : val;\n  if (typeOf === 'function') return '[Function ' + (val.name || 'anonymous') + ']';\n  if (typeOf === 'symbol') return symbolToString.call(val).replace(SYMBOL_REGEXP, 'Symbol($1)');\n  const tag = toString.call(val).slice(8, -1);\n  if (tag === 'Date') return isNaN(val.getTime()) ? '' + val : val.toISOString(val);\n  if (tag === 'Error' || val instanceof Error) return '[' + errorToString.call(val) + ']';\n  if (tag === 'RegExp') return regExpToString.call(val);\n  return null;\n}\n\nexport default function printValue(value, quoteStrings) {\n  let result = printSimpleValue(value, quoteStrings);\n  if (result !== null) return result;\n  return JSON.stringify(value, function (key, value) {\n    let result = printSimpleValue(this[key], quoteStrings);\n    if (result !== null) return result;\n    return value;\n  }, 2);\n}","import printValue from './util/printValue';\nexport let mixed = {\n  default: '${path} is invalid',\n  required: '${path} is a required field',\n  oneOf: '${path} must be one of the following values: ${values}',\n  notOneOf: '${path} must not be one of the following values: ${values}',\n  notType: ({\n    path,\n    type,\n    value,\n    originalValue\n  }) => {\n    let isCast = originalValue != null && originalValue !== value;\n    let msg = `${path} must be a \\`${type}\\` type, ` + `but the final value was: \\`${printValue(value, true)}\\`` + (isCast ? ` (cast from the value \\`${printValue(originalValue, true)}\\`).` : '.');\n\n    if (value === null) {\n      msg += `\\n If \"null\" is intended as an empty value be sure to mark the schema as \\`.nullable()\\``;\n    }\n\n    return msg;\n  },\n  defined: '${path} must be defined'\n};\nexport let string = {\n  length: '${path} must be exactly ${length} characters',\n  min: '${path} must be at least ${min} characters',\n  max: '${path} must be at most ${max} characters',\n  matches: '${path} must match the following: \"${regex}\"',\n  email: '${path} must be a valid email',\n  url: '${path} must be a valid URL',\n  uuid: '${path} must be a valid UUID',\n  trim: '${path} must be a trimmed string',\n  lowercase: '${path} must be a lowercase string',\n  uppercase: '${path} must be a upper case string'\n};\nexport let number = {\n  min: '${path} must be greater than or equal to ${min}',\n  max: '${path} must be less than or equal to ${max}',\n  lessThan: '${path} must be less than ${less}',\n  moreThan: '${path} must be greater than ${more}',\n  positive: '${path} must be a positive number',\n  negative: '${path} must be a negative number',\n  integer: '${path} must be an integer'\n};\nexport let date = {\n  min: '${path} field must be later than ${min}',\n  max: '${path} field must be at earlier than ${max}'\n};\nexport let boolean = {\n  isValue: '${path} field must be ${value}'\n};\nexport let object = {\n  noUnknown: '${path} field has unspecified keys: ${unknown}'\n};\nexport let array = {\n  min: '${path} field must have at least ${min} items',\n  max: '${path} field must have less than or equal to ${max} items',\n  length: '${path} must have ${length} items'\n};\nexport default Object.assign(Object.create(null), {\n  mixed,\n  string,\n  number,\n  date,\n  object,\n  array,\n  boolean\n});","const isSchema = obj => obj && obj.__isYupSchema__;\n\nexport default isSchema;","import has from 'lodash/has';\nimport isSchema from './util/isSchema';\n\nclass Condition {\n  constructor(refs, options) {\n    this.fn = void 0;\n    this.refs = refs;\n    this.refs = refs;\n\n    if (typeof options === 'function') {\n      this.fn = options;\n      return;\n    }\n\n    if (!has(options, 'is')) throw new TypeError('`is:` is required for `when()` conditions');\n    if (!options.then && !options.otherwise) throw new TypeError('either `then:` or `otherwise:` is required for `when()` conditions');\n    let {\n      is,\n      then,\n      otherwise\n    } = options;\n    let check = typeof is === 'function' ? is : (...values) => values.every(value => value === is);\n\n    this.fn = function (...args) {\n      let options = args.pop();\n      let schema = args.pop();\n      let branch = check(...args) ? then : otherwise;\n      if (!branch) return undefined;\n      if (typeof branch === 'function') return branch(schema);\n      return schema.concat(branch.resolve(options));\n    };\n  }\n\n  resolve(base, options) {\n    let values = this.refs.map(ref => ref.getValue(options == null ? void 0 : options.value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context));\n    let schema = this.fn.apply(base, values.concat(base, options));\n    if (schema === undefined || schema === base) return base;\n    if (!isSchema(schema)) throw new TypeError('conditions must return a schema object');\n    return schema.resolve(options);\n  }\n\n}\n\nexport default Condition;","export default function toArray(value) {\n  return value == null ? [] : [].concat(value);\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport printValue from './util/printValue';\nimport toArray from './util/toArray';\nlet strReg = /\\$\\{\\s*(\\w+)\\s*\\}/g;\nexport default class ValidationError extends Error {\n  static formatError(message, params) {\n    const path = params.label || params.path || 'this';\n    if (path !== params.path) params = _extends({}, params, {\n      path\n    });\n    if (typeof message === 'string') return message.replace(strReg, (_, key) => printValue(params[key]));\n    if (typeof message === 'function') return message(params);\n    return message;\n  }\n\n  static isError(err) {\n    return err && err.name === 'ValidationError';\n  }\n\n  constructor(errorOrErrors, value, field, type) {\n    super();\n    this.value = void 0;\n    this.path = void 0;\n    this.type = void 0;\n    this.errors = void 0;\n    this.params = void 0;\n    this.inner = void 0;\n    this.name = 'ValidationError';\n    this.value = value;\n    this.path = field;\n    this.type = type;\n    this.errors = [];\n    this.inner = [];\n    toArray(errorOrErrors).forEach(err => {\n      if (ValidationError.isError(err)) {\n        this.errors.push(...err.errors);\n        this.inner = this.inner.concat(err.inner.length ? err.inner : err);\n      } else {\n        this.errors.push(err);\n      }\n    });\n    this.message = this.errors.length > 1 ? `${this.errors.length} errors occurred` : this.errors[0];\n    if (Error.captureStackTrace) Error.captureStackTrace(this, ValidationError);\n  }\n\n}","import ValidationError from '../ValidationError';\n\nconst once = cb => {\n  let fired = false;\n  return (...args) => {\n    if (fired) return;\n    fired = true;\n    cb(...args);\n  };\n};\n\nexport default function runTests(options, cb) {\n  let {\n    endEarly,\n    tests,\n    args,\n    value,\n    errors,\n    sort,\n    path\n  } = options;\n  let callback = once(cb);\n  let count = tests.length;\n  const nestedErrors = [];\n  errors = errors ? errors : [];\n  if (!count) return errors.length ? callback(new ValidationError(errors, value, path)) : callback(null, value);\n\n  for (let i = 0; i < tests.length; i++) {\n    const test = tests[i];\n    test(args, function finishTestRun(err) {\n      if (err) {\n        // always return early for non validation errors\n        if (!ValidationError.isError(err)) {\n          return callback(err, value);\n        }\n\n        if (endEarly) {\n          err.value = value;\n          return callback(err, value);\n        }\n\n        nestedErrors.push(err);\n      }\n\n      if (--count <= 0) {\n        if (nestedErrors.length) {\n          if (sort) nestedErrors.sort(sort); //show parent errors after the nested ones: name.first, name\n\n          if (errors.length) nestedErrors.push(...errors);\n          errors = nestedErrors;\n        }\n\n        if (errors.length) {\n          callback(new ValidationError(errors, value, path), value);\n          return;\n        }\n\n        callback(null, value);\n      }\n    });\n  }\n}","import { getter } from 'property-expr';\nconst prefixes = {\n  context: '$',\n  value: '.'\n};\nexport function create(key, options) {\n  return new Reference(key, options);\n}\nexport default class Reference {\n  constructor(key, options = {}) {\n    this.key = void 0;\n    this.isContext = void 0;\n    this.isValue = void 0;\n    this.isSibling = void 0;\n    this.path = void 0;\n    this.getter = void 0;\n    this.map = void 0;\n    if (typeof key !== 'string') throw new TypeError('ref must be a string, got: ' + key);\n    this.key = key.trim();\n    if (key === '') throw new TypeError('ref must be a non-empty string');\n    this.isContext = this.key[0] === prefixes.context;\n    this.isValue = this.key[0] === prefixes.value;\n    this.isSibling = !this.isContext && !this.isValue;\n    let prefix = this.isContext ? prefixes.context : this.isValue ? prefixes.value : '';\n    this.path = this.key.slice(prefix.length);\n    this.getter = this.path && getter(this.path, true);\n    this.map = options.map;\n  }\n\n  getValue(value, parent, context) {\n    let result = this.isContext ? context : this.isValue ? value : parent;\n    if (this.getter) result = this.getter(result || {});\n    if (this.map) result = this.map(result);\n    return result;\n  }\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {Object=} options.context\n   * @param {Object=} options.parent\n   */\n\n\n  cast(value, options) {\n    return this.getValue(value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context);\n  }\n\n  resolve() {\n    return this;\n  }\n\n  describe() {\n    return {\n      type: 'ref',\n      key: this.key\n    };\n  }\n\n  toString() {\n    return `Ref(${this.key})`;\n  }\n\n  static isRef(value) {\n    return value && value.__isYupRef;\n  }\n\n} // @ts-ignore\n\nReference.prototype.__isYupRef = true;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport mapValues from 'lodash/mapValues';\nimport ValidationError from '../ValidationError';\nimport Ref from '../Reference';\nexport default function createValidation(config) {\n  function validate(_ref, cb) {\n    let {\n      value,\n      path = '',\n      label,\n      options,\n      originalValue,\n      sync\n    } = _ref,\n        rest = _objectWithoutPropertiesLoose(_ref, [\"value\", \"path\", \"label\", \"options\", \"originalValue\", \"sync\"]);\n\n    const {\n      name,\n      test,\n      params,\n      message\n    } = config;\n    let {\n      parent,\n      context\n    } = options;\n\n    function resolve(item) {\n      return Ref.isRef(item) ? item.getValue(value, parent, context) : item;\n    }\n\n    function createError(overrides = {}) {\n      const nextParams = mapValues(_extends({\n        value,\n        originalValue,\n        label,\n        path: overrides.path || path\n      }, params, overrides.params), resolve);\n      const error = new ValidationError(ValidationError.formatError(overrides.message || message, nextParams), value, nextParams.path, overrides.type || name);\n      error.params = nextParams;\n      return error;\n    }\n\n    let ctx = _extends({\n      path,\n      parent,\n      type: name,\n      createError,\n      resolve,\n      options,\n      originalValue\n    }, rest);\n\n    if (!sync) {\n      try {\n        Promise.resolve(test.call(ctx, value, ctx)).then(validOrError => {\n          if (ValidationError.isError(validOrError)) cb(validOrError);else if (!validOrError) cb(createError());else cb(null, validOrError);\n        }).catch(cb);\n      } catch (err) {\n        cb(err);\n      }\n\n      return;\n    }\n\n    let result;\n\n    try {\n      var _ref2;\n\n      result = test.call(ctx, value, ctx);\n\n      if (typeof ((_ref2 = result) == null ? void 0 : _ref2.then) === 'function') {\n        throw new Error(`Validation test of type: \"${ctx.type}\" returned a Promise during a synchronous validate. ` + `This test will finish after the validate call has returned`);\n      }\n    } catch (err) {\n      cb(err);\n      return;\n    }\n\n    if (ValidationError.isError(result)) cb(result);else if (!result) cb(createError());else cb(null, result);\n  }\n\n  validate.OPTIONS = config;\n  return validate;\n}","import { forEach } from 'property-expr';\n\nlet trim = part => part.substr(0, part.length - 1).substr(1);\n\nexport function getIn(schema, path, value, context = value) {\n  let parent, lastPart, lastPartDebug; // root path: ''\n\n  if (!path) return {\n    parent,\n    parentPath: path,\n    schema\n  };\n  forEach(path, (_part, isBracket, isArray) => {\n    let part = isBracket ? trim(_part) : _part;\n    schema = schema.resolve({\n      context,\n      parent,\n      value\n    });\n\n    if (schema.innerType) {\n      let idx = isArray ? parseInt(part, 10) : 0;\n\n      if (value && idx >= value.length) {\n        throw new Error(`Yup.reach cannot resolve an array item at index: ${_part}, in the path: ${path}. ` + `because there is no value at that index. `);\n      }\n\n      parent = value;\n      value = value && value[idx];\n      schema = schema.innerType;\n    } // sometimes the array index part of a path doesn't exist: \"nested.arr.child\"\n    // in these cases the current part is the next schema and should be processed\n    // in this iteration. For cases where the index signature is included this\n    // check will fail and we'll handle the `child` part on the next iteration like normal\n\n\n    if (!isArray) {\n      if (!schema.fields || !schema.fields[part]) throw new Error(`The schema does not contain the path: ${path}. ` + `(failed at: ${lastPartDebug} which is a type: \"${schema._type}\")`);\n      parent = value;\n      value = value && value[part];\n      schema = schema.fields[part];\n    }\n\n    lastPart = part;\n    lastPartDebug = isBracket ? '[' + _part + ']' : '.' + _part;\n  });\n  return {\n    schema,\n    parent,\n    parentPath: lastPart\n  };\n}\n\nconst reach = (obj, path, value, context) => getIn(obj, path, value, context).schema;\n\nexport default reach;","import Reference from '../Reference';\nexport default class ReferenceSet {\n  constructor() {\n    this.list = void 0;\n    this.refs = void 0;\n    this.list = new Set();\n    this.refs = new Map();\n  }\n\n  get size() {\n    return this.list.size + this.refs.size;\n  }\n\n  describe() {\n    const description = [];\n\n    for (const item of this.list) description.push(item);\n\n    for (const [, ref] of this.refs) description.push(ref.describe());\n\n    return description;\n  }\n\n  toArray() {\n    return Array.from(this.list).concat(Array.from(this.refs.values()));\n  }\n\n  resolveAll(resolve) {\n    return this.toArray().reduce((acc, e) => acc.concat(Reference.isRef(e) ? resolve(e) : e), []);\n  }\n\n  add(value) {\n    Reference.isRef(value) ? this.refs.set(value.key, value) : this.list.add(value);\n  }\n\n  delete(value) {\n    Reference.isRef(value) ? this.refs.delete(value.key) : this.list.delete(value);\n  }\n\n  clone() {\n    const next = new ReferenceSet();\n    next.list = new Set(this.list);\n    next.refs = new Map(this.refs);\n    return next;\n  }\n\n  merge(newItems, removeItems) {\n    const next = this.clone();\n    newItems.list.forEach(value => next.add(value));\n    newItems.refs.forEach(value => next.add(value));\n    removeItems.list.forEach(value => next.delete(value));\n    removeItems.refs.forEach(value => next.delete(value));\n    return next;\n  }\n\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n// @ts-ignore\nimport cloneDeep from 'nanoclone';\nimport { mixed as locale } from './locale';\nimport Condition from './Condition';\nimport runTests from './util/runTests';\nimport createValidation from './util/createValidation';\nimport printValue from './util/printValue';\nimport Ref from './Reference';\nimport { getIn } from './util/reach';\nimport ValidationError from './ValidationError';\nimport ReferenceSet from './util/ReferenceSet';\nimport toArray from './util/toArray'; // const UNSET = 'unset' as const;\n\nexport default class BaseSchema {\n  constructor(options) {\n    this.deps = [];\n    this.tests = void 0;\n    this.transforms = void 0;\n    this.conditions = [];\n    this._mutate = void 0;\n    this._typeError = void 0;\n    this._whitelist = new ReferenceSet();\n    this._blacklist = new ReferenceSet();\n    this.exclusiveTests = Object.create(null);\n    this.spec = void 0;\n    this.tests = [];\n    this.transforms = [];\n    this.withMutation(() => {\n      this.typeError(locale.notType);\n    });\n    this.type = (options == null ? void 0 : options.type) || 'mixed';\n    this.spec = _extends({\n      strip: false,\n      strict: false,\n      abortEarly: true,\n      recursive: true,\n      nullable: false,\n      presence: 'optional'\n    }, options == null ? void 0 : options.spec);\n  } // TODO: remove\n\n\n  get _type() {\n    return this.type;\n  }\n\n  _typeCheck(_value) {\n    return true;\n  }\n\n  clone(spec) {\n    if (this._mutate) {\n      if (spec) Object.assign(this.spec, spec);\n      return this;\n    } // if the nested value is a schema we can skip cloning, since\n    // they are already immutable\n\n\n    const next = Object.create(Object.getPrototypeOf(this)); // @ts-expect-error this is readonly\n\n    next.type = this.type;\n    next._typeError = this._typeError;\n    next._whitelistError = this._whitelistError;\n    next._blacklistError = this._blacklistError;\n    next._whitelist = this._whitelist.clone();\n    next._blacklist = this._blacklist.clone();\n    next.exclusiveTests = _extends({}, this.exclusiveTests); // @ts-expect-error this is readonly\n\n    next.deps = [...this.deps];\n    next.conditions = [...this.conditions];\n    next.tests = [...this.tests];\n    next.transforms = [...this.transforms];\n    next.spec = cloneDeep(_extends({}, this.spec, spec));\n    return next;\n  }\n\n  label(label) {\n    let next = this.clone();\n    next.spec.label = label;\n    return next;\n  }\n\n  meta(...args) {\n    if (args.length === 0) return this.spec.meta;\n    let next = this.clone();\n    next.spec.meta = Object.assign(next.spec.meta || {}, args[0]);\n    return next;\n  } // withContext<TContext extends AnyObject>(): BaseSchema<\n  //   TCast,\n  //   TContext,\n  //   TOutput\n  // > {\n  //   return this as any;\n  // }\n\n\n  withMutation(fn) {\n    let before = this._mutate;\n    this._mutate = true;\n    let result = fn(this);\n    this._mutate = before;\n    return result;\n  }\n\n  concat(schema) {\n    if (!schema || schema === this) return this;\n    if (schema.type !== this.type && this.type !== 'mixed') throw new TypeError(`You cannot \\`concat()\\` schema's of different types: ${this.type} and ${schema.type}`);\n    let base = this;\n    let combined = schema.clone();\n\n    const mergedSpec = _extends({}, base.spec, combined.spec); // if (combined.spec.nullable === UNSET)\n    //   mergedSpec.nullable = base.spec.nullable;\n    // if (combined.spec.presence === UNSET)\n    //   mergedSpec.presence = base.spec.presence;\n\n\n    combined.spec = mergedSpec;\n    combined._typeError || (combined._typeError = base._typeError);\n    combined._whitelistError || (combined._whitelistError = base._whitelistError);\n    combined._blacklistError || (combined._blacklistError = base._blacklistError); // manually merge the blacklist/whitelist (the other `schema` takes\n    // precedence in case of conflicts)\n\n    combined._whitelist = base._whitelist.merge(schema._whitelist, schema._blacklist);\n    combined._blacklist = base._blacklist.merge(schema._blacklist, schema._whitelist); // start with the current tests\n\n    combined.tests = base.tests;\n    combined.exclusiveTests = base.exclusiveTests; // manually add the new tests to ensure\n    // the deduping logic is consistent\n\n    combined.withMutation(next => {\n      schema.tests.forEach(fn => {\n        next.test(fn.OPTIONS);\n      });\n    });\n    combined.transforms = [...base.transforms, ...combined.transforms];\n    return combined;\n  }\n\n  isType(v) {\n    if (this.spec.nullable && v === null) return true;\n    return this._typeCheck(v);\n  }\n\n  resolve(options) {\n    let schema = this;\n\n    if (schema.conditions.length) {\n      let conditions = schema.conditions;\n      schema = schema.clone();\n      schema.conditions = [];\n      schema = conditions.reduce((schema, condition) => condition.resolve(schema, options), schema);\n      schema = schema.resolve(options);\n    }\n\n    return schema;\n  }\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {*=} options.parent\n   * @param {*=} options.context\n   */\n\n\n  cast(value, options = {}) {\n    let resolvedSchema = this.resolve(_extends({\n      value\n    }, options));\n\n    let result = resolvedSchema._cast(value, options);\n\n    if (value !== undefined && options.assert !== false && resolvedSchema.isType(result) !== true) {\n      let formattedValue = printValue(value);\n      let formattedResult = printValue(result);\n      throw new TypeError(`The value of ${options.path || 'field'} could not be cast to a value ` + `that satisfies the schema type: \"${resolvedSchema._type}\". \\n\\n` + `attempted value: ${formattedValue} \\n` + (formattedResult !== formattedValue ? `result of cast: ${formattedResult}` : ''));\n    }\n\n    return result;\n  }\n\n  _cast(rawValue, _options) {\n    let value = rawValue === undefined ? rawValue : this.transforms.reduce((value, fn) => fn.call(this, value, rawValue, this), rawValue);\n\n    if (value === undefined) {\n      value = this.getDefault();\n    }\n\n    return value;\n  }\n\n  _validate(_value, options = {}, cb) {\n    let {\n      sync,\n      path,\n      from = [],\n      originalValue = _value,\n      strict = this.spec.strict,\n      abortEarly = this.spec.abortEarly\n    } = options;\n    let value = _value;\n\n    if (!strict) {\n      // this._validating = true;\n      value = this._cast(value, _extends({\n        assert: false\n      }, options)); // this._validating = false;\n    } // value is cast, we can check if it meets type requirements\n\n\n    let args = {\n      value,\n      path,\n      options,\n      originalValue,\n      schema: this,\n      label: this.spec.label,\n      sync,\n      from\n    };\n    let initialTests = [];\n    if (this._typeError) initialTests.push(this._typeError);\n    let finalTests = [];\n    if (this._whitelistError) finalTests.push(this._whitelistError);\n    if (this._blacklistError) finalTests.push(this._blacklistError);\n    runTests({\n      args,\n      value,\n      path,\n      sync,\n      tests: initialTests,\n      endEarly: abortEarly\n    }, err => {\n      if (err) return void cb(err, value);\n      runTests({\n        tests: this.tests.concat(finalTests),\n        args,\n        path,\n        sync,\n        value,\n        endEarly: abortEarly\n      }, cb);\n    });\n  }\n\n  validate(value, options, maybeCb) {\n    let schema = this.resolve(_extends({}, options, {\n      value\n    })); // callback case is for nested validations\n\n    return typeof maybeCb === 'function' ? schema._validate(value, options, maybeCb) : new Promise((resolve, reject) => schema._validate(value, options, (err, value) => {\n      if (err) reject(err);else resolve(value);\n    }));\n  }\n\n  validateSync(value, options) {\n    let schema = this.resolve(_extends({}, options, {\n      value\n    }));\n    let result;\n\n    schema._validate(value, _extends({}, options, {\n      sync: true\n    }), (err, value) => {\n      if (err) throw err;\n      result = value;\n    });\n\n    return result;\n  }\n\n  isValid(value, options) {\n    return this.validate(value, options).then(() => true, err => {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    });\n  }\n\n  isValidSync(value, options) {\n    try {\n      this.validateSync(value, options);\n      return true;\n    } catch (err) {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    }\n  }\n\n  _getDefault() {\n    let defaultValue = this.spec.default;\n\n    if (defaultValue == null) {\n      return defaultValue;\n    }\n\n    return typeof defaultValue === 'function' ? defaultValue.call(this) : cloneDeep(defaultValue);\n  }\n\n  getDefault(options) {\n    let schema = this.resolve(options || {});\n    return schema._getDefault();\n  }\n\n  default(def) {\n    if (arguments.length === 0) {\n      return this._getDefault();\n    }\n\n    let next = this.clone({\n      default: def\n    });\n    return next;\n  }\n\n  strict(isStrict = true) {\n    let next = this.clone();\n    next.spec.strict = isStrict;\n    return next;\n  }\n\n  _isPresent(value) {\n    return value != null;\n  }\n\n  defined(message = locale.defined) {\n    return this.test({\n      message,\n      name: 'defined',\n      exclusive: true,\n\n      test(value) {\n        return value !== undefined;\n      }\n\n    });\n  }\n\n  required(message = locale.required) {\n    return this.clone({\n      presence: 'required'\n    }).withMutation(s => s.test({\n      message,\n      name: 'required',\n      exclusive: true,\n\n      test(value) {\n        return this.schema._isPresent(value);\n      }\n\n    }));\n  }\n\n  notRequired() {\n    let next = this.clone({\n      presence: 'optional'\n    });\n    next.tests = next.tests.filter(test => test.OPTIONS.name !== 'required');\n    return next;\n  }\n\n  nullable(isNullable = true) {\n    let next = this.clone({\n      nullable: isNullable !== false\n    });\n    return next;\n  }\n\n  transform(fn) {\n    let next = this.clone();\n    next.transforms.push(fn);\n    return next;\n  }\n  /**\n   * Adds a test function to the schema's queue of tests.\n   * tests can be exclusive or non-exclusive.\n   *\n   * - exclusive tests, will replace any existing tests of the same name.\n   * - non-exclusive: can be stacked\n   *\n   * If a non-exclusive test is added to a schema with an exclusive test of the same name\n   * the exclusive test is removed and further tests of the same name will be stacked.\n   *\n   * If an exclusive test is added to a schema with non-exclusive tests of the same name\n   * the previous tests are removed and further tests of the same name will replace each other.\n   */\n\n\n  test(...args) {\n    let opts;\n\n    if (args.length === 1) {\n      if (typeof args[0] === 'function') {\n        opts = {\n          test: args[0]\n        };\n      } else {\n        opts = args[0];\n      }\n    } else if (args.length === 2) {\n      opts = {\n        name: args[0],\n        test: args[1]\n      };\n    } else {\n      opts = {\n        name: args[0],\n        message: args[1],\n        test: args[2]\n      };\n    }\n\n    if (opts.message === undefined) opts.message = locale.default;\n    if (typeof opts.test !== 'function') throw new TypeError('`test` is a required parameters');\n    let next = this.clone();\n    let validate = createValidation(opts);\n    let isExclusive = opts.exclusive || opts.name && next.exclusiveTests[opts.name] === true;\n\n    if (opts.exclusive) {\n      if (!opts.name) throw new TypeError('Exclusive tests must provide a unique `name` identifying the test');\n    }\n\n    if (opts.name) next.exclusiveTests[opts.name] = !!opts.exclusive;\n    next.tests = next.tests.filter(fn => {\n      if (fn.OPTIONS.name === opts.name) {\n        if (isExclusive) return false;\n        if (fn.OPTIONS.test === validate.OPTIONS.test) return false;\n      }\n\n      return true;\n    });\n    next.tests.push(validate);\n    return next;\n  }\n\n  when(keys, options) {\n    if (!Array.isArray(keys) && typeof keys !== 'string') {\n      options = keys;\n      keys = '.';\n    }\n\n    let next = this.clone();\n    let deps = toArray(keys).map(key => new Ref(key));\n    deps.forEach(dep => {\n      // @ts-ignore\n      if (dep.isSibling) next.deps.push(dep.key);\n    });\n    next.conditions.push(new Condition(deps, options));\n    return next;\n  }\n\n  typeError(message) {\n    let next = this.clone();\n    next._typeError = createValidation({\n      message,\n      name: 'typeError',\n\n      test(value) {\n        if (value !== undefined && !this.schema.isType(value)) return this.createError({\n          params: {\n            type: this.schema._type\n          }\n        });\n        return true;\n      }\n\n    });\n    return next;\n  }\n\n  oneOf(enums, message = locale.oneOf) {\n    let next = this.clone();\n    enums.forEach(val => {\n      next._whitelist.add(val);\n\n      next._blacklist.delete(val);\n    });\n    next._whitelistError = createValidation({\n      message,\n      name: 'oneOf',\n\n      test(value) {\n        if (value === undefined) return true;\n        let valids = this.schema._whitelist;\n        let resolved = valids.resolveAll(this.resolve);\n        return resolved.includes(value) ? true : this.createError({\n          params: {\n            values: valids.toArray().join(', '),\n            resolved\n          }\n        });\n      }\n\n    });\n    return next;\n  }\n\n  notOneOf(enums, message = locale.notOneOf) {\n    let next = this.clone();\n    enums.forEach(val => {\n      next._blacklist.add(val);\n\n      next._whitelist.delete(val);\n    });\n    next._blacklistError = createValidation({\n      message,\n      name: 'notOneOf',\n\n      test(value) {\n        let invalids = this.schema._blacklist;\n        let resolved = invalids.resolveAll(this.resolve);\n        if (resolved.includes(value)) return this.createError({\n          params: {\n            values: invalids.toArray().join(', '),\n            resolved\n          }\n        });\n        return true;\n      }\n\n    });\n    return next;\n  }\n\n  strip(strip = true) {\n    let next = this.clone();\n    next.spec.strip = strip;\n    return next;\n  }\n\n  describe() {\n    const next = this.clone();\n    const {\n      label,\n      meta\n    } = next.spec;\n    const description = {\n      meta,\n      label,\n      type: next.type,\n      oneOf: next._whitelist.describe(),\n      notOneOf: next._blacklist.describe(),\n      tests: next.tests.map(fn => ({\n        name: fn.OPTIONS.name,\n        params: fn.OPTIONS.params\n      })).filter((n, idx, list) => list.findIndex(c => c.name === n.name) === idx)\n    };\n    return description;\n  }\n\n} // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n// @ts-expect-error\nBaseSchema.prototype.__isYupSchema__ = true;\n\nfor (const method of ['validate', 'validateSync']) BaseSchema.prototype[`${method}At`] = function (path, value, options = {}) {\n  const {\n    parent,\n    parentPath,\n    schema\n  } = getIn(this, path, value, options.context);\n  return schema[method](parent && parent[parentPath], _extends({}, options, {\n    parent,\n    path\n  }));\n};\n\nfor (const alias of ['equals', 'is']) BaseSchema.prototype[alias] = BaseSchema.prototype.oneOf;\n\nfor (const alias of ['not', 'nope']) BaseSchema.prototype[alias] = BaseSchema.prototype.notOneOf;\n\nBaseSchema.prototype.optional = BaseSchema.prototype.notRequired;","import BaseSchema from './schema';\nconst Mixed = BaseSchema;\nexport default Mixed;\nexport function create() {\n  return new Mixed();\n} // XXX: this is using the Base schema so that `addMethod(mixed)` works as a base class\n\ncreate.prototype = Mixed.prototype;","const isAbsent = value => value == null;\n\nexport default isAbsent;","import BaseSchema from './schema';\nimport { boolean as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nexport function create() {\n  return new BooleanSchema();\n}\nexport default class BooleanSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'boolean'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (!this.isType(value)) {\n          if (/^(true|1)$/i.test(String(value))) return true;\n          if (/^(false|0)$/i.test(String(value))) return false;\n        }\n\n        return value;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    if (v instanceof Boolean) v = v.valueOf();\n    return typeof v === 'boolean';\n  }\n\n  isTrue(message = locale.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'true'\n      },\n\n      test(value) {\n        return isAbsent(value) || value === true;\n      }\n\n    });\n  }\n\n  isFalse(message = locale.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'false'\n      },\n\n      test(value) {\n        return isAbsent(value) || value === false;\n      }\n\n    });\n  }\n\n}\ncreate.prototype = BooleanSchema.prototype;","import { string as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport BaseSchema from './schema'; // eslint-disable-next-line\n\nlet rEmail = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i; // eslint-disable-next-line\n\nlet rUrl = /^((https?|ftp):)?\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i; // eslint-disable-next-line\n\nlet rUUID = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\nlet isTrimmed = value => isAbsent(value) || value === value.trim();\n\nlet objStringTag = {}.toString();\nexport function create() {\n  return new StringSchema();\n}\nexport default class StringSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'string'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        if (Array.isArray(value)) return value;\n        const strValue = value != null && value.toString ? value.toString() : value;\n        if (strValue === objStringTag) return value;\n        return strValue;\n      });\n    });\n  }\n\n  _typeCheck(value) {\n    if (value instanceof String) value = value.valueOf();\n    return typeof value === 'string';\n  }\n\n  _isPresent(value) {\n    return super._isPresent(value) && !!value.length;\n  }\n\n  length(length, message = locale.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message = locale.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    return this.test({\n      name: 'max',\n      exclusive: true,\n      message,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  matches(regex, options) {\n    let excludeEmptyString = false;\n    let message;\n    let name;\n\n    if (options) {\n      if (typeof options === 'object') {\n        ({\n          excludeEmptyString = false,\n          message,\n          name\n        } = options);\n      } else {\n        message = options;\n      }\n    }\n\n    return this.test({\n      name: name || 'matches',\n      message: message || locale.matches,\n      params: {\n        regex\n      },\n      test: value => isAbsent(value) || value === '' && excludeEmptyString || value.search(regex) !== -1\n    });\n  }\n\n  email(message = locale.email) {\n    return this.matches(rEmail, {\n      name: 'email',\n      message,\n      excludeEmptyString: true\n    });\n  }\n\n  url(message = locale.url) {\n    return this.matches(rUrl, {\n      name: 'url',\n      message,\n      excludeEmptyString: true\n    });\n  }\n\n  uuid(message = locale.uuid) {\n    return this.matches(rUUID, {\n      name: 'uuid',\n      message,\n      excludeEmptyString: false\n    });\n  } //-- transforms --\n\n\n  ensure() {\n    return this.default('').transform(val => val === null ? '' : val);\n  }\n\n  trim(message = locale.trim) {\n    return this.transform(val => val != null ? val.trim() : val).test({\n      message,\n      name: 'trim',\n      test: isTrimmed\n    });\n  }\n\n  lowercase(message = locale.lowercase) {\n    return this.transform(value => !isAbsent(value) ? value.toLowerCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      test: value => isAbsent(value) || value === value.toLowerCase()\n    });\n  }\n\n  uppercase(message = locale.uppercase) {\n    return this.transform(value => !isAbsent(value) ? value.toUpperCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      test: value => isAbsent(value) || value === value.toUpperCase()\n    });\n  }\n\n}\ncreate.prototype = StringSchema.prototype; //\n// String Interfaces\n//","import { number as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport BaseSchema from './schema';\n\nlet isNaN = value => value != +value;\n\nexport function create() {\n  return new NumberSchema();\n}\nexport default class NumberSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'number'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        let parsed = value;\n\n        if (typeof parsed === 'string') {\n          parsed = parsed.replace(/\\s/g, '');\n          if (parsed === '') return NaN; // don't use parseFloat to avoid positives on alpha-numeric strings\n\n          parsed = +parsed;\n        }\n\n        if (this.isType(parsed)) return parsed;\n        return parseFloat(parsed);\n      });\n    });\n  }\n\n  _typeCheck(value) {\n    if (value instanceof Number) value = value.valueOf();\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  min(min, message = locale.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(max);\n      }\n\n    });\n  }\n\n  lessThan(less, message = locale.lessThan) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        less\n      },\n\n      test(value) {\n        return isAbsent(value) || value < this.resolve(less);\n      }\n\n    });\n  }\n\n  moreThan(more, message = locale.moreThan) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        more\n      },\n\n      test(value) {\n        return isAbsent(value) || value > this.resolve(more);\n      }\n\n    });\n  }\n\n  positive(msg = locale.positive) {\n    return this.moreThan(0, msg);\n  }\n\n  negative(msg = locale.negative) {\n    return this.lessThan(0, msg);\n  }\n\n  integer(message = locale.integer) {\n    return this.test({\n      name: 'integer',\n      message,\n      test: val => isAbsent(val) || Number.isInteger(val)\n    });\n  }\n\n  truncate() {\n    return this.transform(value => !isAbsent(value) ? value | 0 : value);\n  }\n\n  round(method) {\n    var _method;\n\n    let avail = ['ceil', 'floor', 'round', 'trunc'];\n    method = ((_method = method) == null ? void 0 : _method.toLowerCase()) || 'round'; // this exists for symemtry with the new Math.trunc\n\n    if (method === 'trunc') return this.truncate();\n    if (avail.indexOf(method.toLowerCase()) === -1) throw new TypeError('Only valid options for round() are: ' + avail.join(', '));\n    return this.transform(value => !isAbsent(value) ? Math[method](value) : value);\n  }\n\n}\ncreate.prototype = NumberSchema.prototype; //\n// Number Interfaces\n//","/* eslint-disable */\n\n/**\n *\n * Date.parse with progressive enhancement for ISO 8601 <https://github.com/csnover/js-iso8601>\n * NON-CONFORMANT EDITION.\n * © 2011 Colin Snover <http://zetafleet.com>\n * Released under MIT license.\n */\n//              1 YYYY                 2 MM        3 DD              4 HH     5 mm        6 ss            7 msec         8 Z 9 ±    10 tzHH    11 tzmm\nvar isoReg = /^(\\d{4}|[+\\-]\\d{6})(?:-?(\\d{2})(?:-?(\\d{2}))?)?(?:[ T]?(\\d{2}):?(\\d{2})(?::?(\\d{2})(?:[,\\.](\\d{1,}))?)?(?:(Z)|([+\\-])(\\d{2})(?::?(\\d{2}))?)?)?$/;\nexport default function parseIsoDate(date) {\n  var numericKeys = [1, 4, 5, 6, 7, 10, 11],\n      minutesOffset = 0,\n      timestamp,\n      struct;\n\n  if (struct = isoReg.exec(date)) {\n    // avoid NaN timestamps caused by “undefined” values being passed to Date.UTC\n    for (var i = 0, k; k = numericKeys[i]; ++i) struct[k] = +struct[k] || 0; // allow undefined days and months\n\n\n    struct[2] = (+struct[2] || 1) - 1;\n    struct[3] = +struct[3] || 1; // allow arbitrary sub-second precision beyond milliseconds\n\n    struct[7] = struct[7] ? String(struct[7]).substr(0, 3) : 0; // timestamps without timezone identifiers should be considered local time\n\n    if ((struct[8] === undefined || struct[8] === '') && (struct[9] === undefined || struct[9] === '')) timestamp = +new Date(struct[1], struct[2], struct[3], struct[4], struct[5], struct[6], struct[7]);else {\n      if (struct[8] !== 'Z' && struct[9] !== undefined) {\n        minutesOffset = struct[10] * 60 + struct[11];\n        if (struct[9] === '+') minutesOffset = 0 - minutesOffset;\n      }\n\n      timestamp = Date.UTC(struct[1], struct[2], struct[3], struct[4], struct[5] + minutesOffset, struct[6], struct[7]);\n    }\n  } else timestamp = Date.parse ? Date.parse(date) : NaN;\n\n  return timestamp;\n}","// @ts-ignore\nimport isoParse from './util/isodate';\nimport { date as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport Ref from './Reference';\nimport BaseSchema from './schema';\nlet invalidDate = new Date('');\n\nlet isDate = obj => Object.prototype.toString.call(obj) === '[object Date]';\n\nexport function create() {\n  return new DateSchema();\n}\nexport default class DateSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'date'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        value = isoParse(value); // 0 is a valid timestamp equivalent to 1970-01-01T00:00:00Z(unix epoch) or before.\n\n        return !isNaN(value) ? new Date(value) : invalidDate;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return isDate(v) && !isNaN(v.getTime());\n  }\n\n  prepareParam(ref, name) {\n    let param;\n\n    if (!Ref.isRef(ref)) {\n      let cast = this.cast(ref);\n      if (!this._typeCheck(cast)) throw new TypeError(`\\`${name}\\` must be a Date or a value that can be \\`cast()\\` to a Date`);\n      param = cast;\n    } else {\n      param = ref;\n    }\n\n    return param;\n  }\n\n  min(min, message = locale.min) {\n    let limit = this.prepareParam(min, 'min');\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(limit);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    let limit = this.prepareParam(max, 'max');\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(limit);\n      }\n\n    });\n  }\n\n}\nDateSchema.INVALID_DATE = invalidDate;\ncreate.prototype = DateSchema.prototype;\ncreate.INVALID_DATE = invalidDate;","function findIndex(arr, err) {\n  let idx = Infinity;\n  arr.some((key, ii) => {\n    var _err$path;\n\n    if (((_err$path = err.path) == null ? void 0 : _err$path.indexOf(key)) !== -1) {\n      idx = ii;\n      return true;\n    }\n  });\n  return idx;\n}\n\nexport default function sortByKeyOrder(keys) {\n  return (a, b) => {\n    return findIndex(keys, a) - findIndex(keys, b);\n  };\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport has from 'lodash/has';\nimport snakeCase from 'lodash/snakeCase';\nimport camelCase from 'lodash/camelCase';\nimport mapKeys from 'lodash/mapKeys';\nimport mapValues from 'lodash/mapValues';\nimport { getter } from 'property-expr';\nimport { object as locale } from './locale';\nimport sortFields from './util/sortFields';\nimport sortByKeyOrder from './util/sortByKeyOrder';\nimport runTests from './util/runTests';\nimport ValidationError from './ValidationError';\nimport BaseSchema from './schema';\n\nlet isObject = obj => Object.prototype.toString.call(obj) === '[object Object]';\n\nfunction unknown(ctx, value) {\n  let known = Object.keys(ctx.fields);\n  return Object.keys(value).filter(key => known.indexOf(key) === -1);\n}\n\nconst defaultSort = sortByKeyOrder([]);\nexport default class ObjectSchema extends BaseSchema {\n  constructor(spec) {\n    super({\n      type: 'object'\n    });\n    this.fields = Object.create(null);\n    this._sortErrors = defaultSort;\n    this._nodes = [];\n    this._excludedEdges = [];\n    this.withMutation(() => {\n      this.transform(function coerce(value) {\n        if (typeof value === 'string') {\n          try {\n            value = JSON.parse(value);\n          } catch (err) {\n            value = null;\n          }\n        }\n\n        if (this.isType(value)) return value;\n        return null;\n      });\n\n      if (spec) {\n        this.shape(spec);\n      }\n    });\n  }\n\n  _typeCheck(value) {\n    return isObject(value) || typeof value === 'function';\n  }\n\n  _cast(_value, options = {}) {\n    var _options$stripUnknown;\n\n    let value = super._cast(_value, options); //should ignore nulls here\n\n\n    if (value === undefined) return this.getDefault();\n    if (!this._typeCheck(value)) return value;\n    let fields = this.fields;\n    let strip = (_options$stripUnknown = options.stripUnknown) != null ? _options$stripUnknown : this.spec.noUnknown;\n\n    let props = this._nodes.concat(Object.keys(value).filter(v => this._nodes.indexOf(v) === -1));\n\n    let intermediateValue = {}; // is filled during the transform below\n\n    let innerOptions = _extends({}, options, {\n      parent: intermediateValue,\n      __validating: options.__validating || false\n    });\n\n    let isChanged = false;\n\n    for (const prop of props) {\n      let field = fields[prop];\n      let exists = has(value, prop);\n\n      if (field) {\n        let fieldValue;\n        let inputValue = value[prop]; // safe to mutate since this is fired in sequence\n\n        innerOptions.path = (options.path ? `${options.path}.` : '') + prop; // innerOptions.value = value[prop];\n\n        field = field.resolve({\n          value: inputValue,\n          context: options.context,\n          parent: intermediateValue\n        });\n        let fieldSpec = 'spec' in field ? field.spec : undefined;\n        let strict = fieldSpec == null ? void 0 : fieldSpec.strict;\n\n        if (fieldSpec == null ? void 0 : fieldSpec.strip) {\n          isChanged = isChanged || prop in value;\n          continue;\n        }\n\n        fieldValue = !options.__validating || !strict ? // TODO: use _cast, this is double resolving\n        field.cast(value[prop], innerOptions) : value[prop];\n\n        if (fieldValue !== undefined) {\n          intermediateValue[prop] = fieldValue;\n        }\n      } else if (exists && !strip) {\n        intermediateValue[prop] = value[prop];\n      }\n\n      if (intermediateValue[prop] !== value[prop]) {\n        isChanged = true;\n      }\n    }\n\n    return isChanged ? intermediateValue : value;\n  }\n\n  _validate(_value, opts = {}, callback) {\n    let errors = [];\n    let {\n      sync,\n      from = [],\n      originalValue = _value,\n      abortEarly = this.spec.abortEarly,\n      recursive = this.spec.recursive\n    } = opts;\n    from = [{\n      schema: this,\n      value: originalValue\n    }, ...from]; // this flag is needed for handling `strict` correctly in the context of\n    // validation vs just casting. e.g strict() on a field is only used when validating\n\n    opts.__validating = true;\n    opts.originalValue = originalValue;\n    opts.from = from;\n\n    super._validate(_value, opts, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || abortEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !isObject(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value;\n\n      let tests = this._nodes.map(key => (_, cb) => {\n        let path = key.indexOf('.') === -1 ? (opts.path ? `${opts.path}.` : '') + key : `${opts.path || ''}[\"${key}\"]`;\n        let field = this.fields[key];\n\n        if (field && 'validate' in field) {\n          field.validate(value[key], _extends({}, opts, {\n            // @ts-ignore\n            path,\n            from,\n            // inner fields are always strict:\n            // 1. this isn't strict so the casting will also have cast inner values\n            // 2. this is strict in which case the nested values weren't cast either\n            strict: true,\n            parent: value,\n            originalValue: originalValue[key]\n          }), cb);\n          return;\n        }\n\n        cb(null);\n      });\n\n      runTests({\n        sync,\n        tests,\n        value,\n        errors,\n        endEarly: abortEarly,\n        sort: this._sortErrors,\n        path: opts.path\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.fields = _extends({}, this.fields);\n    next._nodes = this._nodes;\n    next._excludedEdges = this._excludedEdges;\n    next._sortErrors = this._sortErrors;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    let nextFields = next.fields;\n\n    for (let [field, schemaOrRef] of Object.entries(this.fields)) {\n      const target = nextFields[field];\n\n      if (target === undefined) {\n        nextFields[field] = schemaOrRef;\n      } else if (target instanceof BaseSchema && schemaOrRef instanceof BaseSchema) {\n        nextFields[field] = schemaOrRef.concat(target);\n      }\n    }\n\n    return next.withMutation(() => next.shape(nextFields, this._excludedEdges));\n  }\n\n  getDefaultFromShape() {\n    let dft = {};\n\n    this._nodes.forEach(key => {\n      const field = this.fields[key];\n      dft[key] = 'default' in field ? field.getDefault() : undefined;\n    });\n\n    return dft;\n  }\n\n  _getDefault() {\n    if ('default' in this.spec) {\n      return super._getDefault();\n    } // if there is no default set invent one\n\n\n    if (!this._nodes.length) {\n      return undefined;\n    }\n\n    return this.getDefaultFromShape();\n  }\n\n  shape(additions, excludes = []) {\n    let next = this.clone();\n    let fields = Object.assign(next.fields, additions);\n    next.fields = fields;\n    next._sortErrors = sortByKeyOrder(Object.keys(fields));\n\n    if (excludes.length) {\n      // this is a convenience for when users only supply a single pair\n      if (!Array.isArray(excludes[0])) excludes = [excludes];\n      next._excludedEdges = [...next._excludedEdges, ...excludes];\n    }\n\n    next._nodes = sortFields(fields, next._excludedEdges);\n    return next;\n  }\n\n  pick(keys) {\n    const picked = {};\n\n    for (const key of keys) {\n      if (this.fields[key]) picked[key] = this.fields[key];\n    }\n\n    return this.clone().withMutation(next => {\n      next.fields = {};\n      return next.shape(picked);\n    });\n  }\n\n  omit(keys) {\n    const next = this.clone();\n    const fields = next.fields;\n    next.fields = {};\n\n    for (const key of keys) {\n      delete fields[key];\n    }\n\n    return next.withMutation(() => next.shape(fields));\n  }\n\n  from(from, to, alias) {\n    let fromGetter = getter(from, true);\n    return this.transform(obj => {\n      if (obj == null) return obj;\n      let newObj = obj;\n\n      if (has(obj, from)) {\n        newObj = _extends({}, obj);\n        if (!alias) delete newObj[from];\n        newObj[to] = fromGetter(obj);\n      }\n\n      return newObj;\n    });\n  }\n\n  noUnknown(noAllow = true, message = locale.noUnknown) {\n    if (typeof noAllow === 'string') {\n      message = noAllow;\n      noAllow = true;\n    }\n\n    let next = this.test({\n      name: 'noUnknown',\n      exclusive: true,\n      message: message,\n\n      test(value) {\n        if (value == null) return true;\n        const unknownKeys = unknown(this.schema, value);\n        return !noAllow || unknownKeys.length === 0 || this.createError({\n          params: {\n            unknown: unknownKeys.join(', ')\n          }\n        });\n      }\n\n    });\n    next.spec.noUnknown = noAllow;\n    return next;\n  }\n\n  unknown(allow = true, message = locale.noUnknown) {\n    return this.noUnknown(!allow, message);\n  }\n\n  transformKeys(fn) {\n    return this.transform(obj => obj && mapKeys(obj, (_, key) => fn(key)));\n  }\n\n  camelCase() {\n    return this.transformKeys(camelCase);\n  }\n\n  snakeCase() {\n    return this.transformKeys(snakeCase);\n  }\n\n  constantCase() {\n    return this.transformKeys(key => snakeCase(key).toUpperCase());\n  }\n\n  describe() {\n    let base = super.describe();\n    base.fields = mapValues(this.fields, value => value.describe());\n    return base;\n  }\n\n}\nexport function create(spec) {\n  return new ObjectSchema(spec);\n}\ncreate.prototype = ObjectSchema.prototype;","import has from 'lodash/has'; // @ts-expect-error\n\nimport toposort from 'toposort';\nimport { split } from 'property-expr';\nimport Ref from '../Reference';\nimport isSchema from './isSchema';\nexport default function sortFields(fields, excludedEdges = []) {\n  let edges = [];\n  let nodes = new Set();\n  let excludes = new Set(excludedEdges.map(([a, b]) => `${a}-${b}`));\n\n  function addNode(depPath, key) {\n    let node = split(depPath)[0];\n    nodes.add(node);\n    if (!excludes.has(`${key}-${node}`)) edges.push([key, node]);\n  }\n\n  for (const key in fields) if (has(fields, key)) {\n    let value = fields[key];\n    nodes.add(key);\n    if (Ref.isRef(value) && value.isSibling) addNode(value.path, key);else if (isSchema(value) && 'deps' in value) value.deps.forEach(path => addNode(path, key));\n  }\n\n  return toposort.array(Array.from(nodes), edges).reverse();\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport isAbsent from './util/isAbsent';\nimport isSchema from './util/isSchema';\nimport printValue from './util/printValue';\nimport { array as locale } from './locale';\nimport runTests from './util/runTests';\nimport ValidationError from './ValidationError';\nimport BaseSchema from './schema';\nexport function create(type) {\n  return new ArraySchema(type);\n}\nexport default class ArraySchema extends BaseSchema {\n  constructor(type) {\n    super({\n      type: 'array'\n    }); // `undefined` specifically means uninitialized, as opposed to\n    // \"no subtype\"\n\n    this.innerType = void 0;\n    this.innerType = type;\n    this.withMutation(() => {\n      this.transform(function (values) {\n        if (typeof values === 'string') try {\n          values = JSON.parse(values);\n        } catch (err) {\n          values = null;\n        }\n        return this.isType(values) ? values : null;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return Array.isArray(v);\n  }\n\n  get _subType() {\n    return this.innerType;\n  }\n\n  _cast(_value, _opts) {\n    const value = super._cast(_value, _opts); //should ignore nulls here\n\n\n    if (!this._typeCheck(value) || !this.innerType) return value;\n    let isChanged = false;\n    const castArray = value.map((v, idx) => {\n      const castElement = this.innerType.cast(v, _extends({}, _opts, {\n        path: `${_opts.path || ''}[${idx}]`\n      }));\n\n      if (castElement !== v) {\n        isChanged = true;\n      }\n\n      return castElement;\n    });\n    return isChanged ? castArray : value;\n  }\n\n  _validate(_value, options = {}, callback) {\n    var _options$abortEarly, _options$recursive;\n\n    let errors = [];\n    let sync = options.sync;\n    let path = options.path;\n    let innerType = this.innerType;\n    let endEarly = (_options$abortEarly = options.abortEarly) != null ? _options$abortEarly : this.spec.abortEarly;\n    let recursive = (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive;\n    let originalValue = options.originalValue != null ? options.originalValue : _value;\n\n    super._validate(_value, options, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || endEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !innerType || !this._typeCheck(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value; // #950 Ensure that sparse array empty slots are validated\n\n      let tests = new Array(value.length);\n\n      for (let idx = 0; idx < value.length; idx++) {\n        let item = value[idx];\n        let path = `${options.path || ''}[${idx}]`; // object._validate note for isStrict explanation\n\n        let innerOptions = _extends({}, options, {\n          path,\n          strict: true,\n          parent: value,\n          index: idx,\n          originalValue: originalValue[idx]\n        });\n\n        tests[idx] = (_, cb) => innerType.validate(item, innerOptions, cb);\n      }\n\n      runTests({\n        sync,\n        path,\n        value,\n        errors,\n        endEarly,\n        tests\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.innerType = this.innerType;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    next.innerType = this.innerType;\n    if (schema.innerType) next.innerType = next.innerType ? // @ts-expect-error Lazy doesn't have concat()\n    next.innerType.concat(schema.innerType) : schema.innerType;\n    return next;\n  }\n\n  of(schema) {\n    // FIXME: this should return a new instance of array without the default to be\n    let next = this.clone();\n    if (!isSchema(schema)) throw new TypeError('`array.of()` sub-schema must be a valid yup schema not: ' + printValue(schema)); // FIXME(ts):\n\n    next.innerType = schema;\n    return next;\n  }\n\n  length(length, message = locale.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message) {\n    message = message || locale.min;\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      // FIXME(ts): Array<typeof T>\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message) {\n    message = message || locale.max;\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  ensure() {\n    return this.default(() => []).transform((val, original) => {\n      // We don't want to return `null` for nullable schema\n      if (this._typeCheck(val)) return val;\n      return original == null ? [] : [].concat(original);\n    });\n  }\n\n  compact(rejector) {\n    let reject = !rejector ? v => !!v : (v, i, a) => !rejector(v, i, a);\n    return this.transform(values => values != null ? values.filter(reject) : values);\n  }\n\n  describe() {\n    let base = super.describe();\n    if (this.innerType) base.innerType = this.innerType.describe();\n    return base;\n  }\n\n  nullable(isNullable = true) {\n    return super.nullable(isNullable);\n  }\n\n  defined() {\n    return super.defined();\n  }\n\n  required(msg) {\n    return super.required(msg);\n  }\n\n}\ncreate.prototype = ArraySchema.prototype; //\n// Interfaces\n//","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","module","exports","once","emitter","name","Promise","resolve","reject","errorListener","err","removeListener","resolver","slice","arguments","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","draining","currentQueue","scheduleDrain","types","require","queueIndex","queue","scheduled","cleanUpNextTick","nextTick","timeout","setTimeout","run","clearTimeout","test","install","Item","fun","array","task","global","setImmediate","MessageChannel","func","channel","port1","onmessage","port2","postMessage","Mutation","MutationObserver","WebKitMutationObserver","handle","called","observer","element","document","createTextNode","observe","characterData","data","queueMicrotask","createElement","scriptEl","onreadystatechange","parentNode","removeChild","documentElement","appendChild","t","kind","numberParameters","numberLogParameters","id","description","url","parameters","label","variable","factor","unit","writable","pcbProbe","bit","liquidProbe","pcbTemperature","liquidTemperature","targetTemperature","weight","stepper","food","pid","sedimentation","filling","emptying","min","max","labelToNumber","code","char","charCodeAt","device","existingParameters","currentPosition","parameter","JSON","stringify","labelPosition","ensureAllParameters","devices","OpenBio","OpenBio6","OpenSpectro","SimpleSpectro","Solar2015","Beemos","Computer","fromDeviceID","fromCharCode","ldength","firstCharacter","substring","DataView","getNative","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","entries","clear","entry","has","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","Map","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","Set","setCacheAdd","setCacheHas","SetCache","values","__data__","add","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","size","Symbol","Uint8Array","WeakMap","predicate","resIndex","result","baseTimes","isArguments","isArray","isBuffer","isIndex","isTypedArray","hasOwnProperty","inherited","isArr","isArg","isBuff","isType","skipIndexes","iteratee","offset","accumulator","initAccum","string","split","reAsciiWord","match","eq","object","baseFor","createBaseFor","castPath","toKey","path","arrayPush","keysFunc","symbolsFunc","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","toStringTag","baseGetTag","isObjectLike","argsTag","baseIsEqualDeep","baseIsEqual","other","bitmask","customizer","stack","equalArrays","equalByTag","equalObjects","getTag","COMPARE_PARTIAL_FLAG","arrayTag","objectTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","COMPARE_UNORDERED_FLAG","source","matchData","noCustomizer","objValue","srcValue","isFunction","isMasked","isObject","toSource","reIsHostCtor","funcProto","objectProto","funcToString","toString","reIsNative","RegExp","replace","isLength","typedArrayTags","baseMatches","baseMatchesProperty","identity","property","isPrototype","nativeKeys","baseIsMatch","getMatchData","matchesStrictComparable","hasIn","isKey","isStrictComparable","baseGet","start","end","arrayMap","isSymbol","INFINITY","symbolProto","symbolToString","baseToString","cache","stringToPath","baseSlice","coreJsData","fromRight","iterable","props","castSlice","hasUnicode","stringToArray","methodName","strSymbols","chr","charAt","trailing","join","arrayReduce","deburr","words","reApos","callback","deburrLetter","basePropertyOf","e","arraySome","cacheHas","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","mapToArray","setToArray","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolValueOf","valueOf","tag","byteLength","byteOffset","buffer","convert","stacked","getAllKeys","objProps","objLength","objStacked","skipCtor","objCtor","constructor","othCtor","freeGlobal","baseGetAllKeys","getSymbols","isKeyable","map","baseIsNative","getValue","nativeObjectToString","isOwn","unmasked","arrayFilter","stubArray","propertyIsEnumerable","nativeGetSymbols","symbol","promiseTag","weakMapTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","Ctor","ctorString","hasFunc","reHasUnicode","reHasUnicodeWord","nativeCreate","HASH_UNDEFINED","MAX_SAFE_INTEGER","reIsUint","reIsDeepProp","reIsPlainProp","maskSrcKey","uid","exec","IE_PROTO","assocIndexOf","splice","getMapData","forEach","memoize","MAX_MEMOIZE_SIZE","overArg","freeExports","nodeType","freeModule","freeProcess","process","nodeUtil","binding","transform","freeSelf","self","root","LARGE_ARRAY_SIZE","pairs","asciiToArray","unicodeToArray","memoizeCapped","rePropName","reEscapeChar","number","quote","subString","rsAstralRange","rsAstral","rsCombo","rsFitz","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsSeq","rsSymbol","reUnicode","rsDingbatRange","rsLowerRange","rsUpperRange","rsBreakRange","rsMathOpRange","rsBreak","rsDigits","rsDingbat","rsLower","rsMisc","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","rsModifier","rsEmoji","reUnicodeWord","capitalize","camelCase","createCompounder","word","toLowerCase","upperFirst","reLatin","reComboMark","defaultValue","baseHas","hasPath","baseHasIn","baseIsArguments","stubFalse","Buffer","asyncTag","funcTag","genTag","proxyTag","baseIsTypedArray","baseUnary","nodeIsTypedArray","arrayLikeKeys","baseKeys","isArrayLike","CORE_ERROR_TEXT","FUNC_ERROR_TEXT","INVALID_TEMPL_VAR_ERROR_TEXT","PLACEHOLDER","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","WRAP_BIND_FLAG","WRAP_BIND_KEY_FLAG","WRAP_CURRY_BOUND_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","WRAP_FLIP_FLAG","DEFAULT_TRUNC_LENGTH","DEFAULT_TRUNC_OMISSION","HOT_COUNT","HOT_SPAN","LAZY_FILTER_FLAG","LAZY_MAP_FLAG","MAX_INTEGER","NAN","MAX_ARRAY_LENGTH","MAX_ARRAY_INDEX","HALF_MAX_ARRAY_LENGTH","wrapFlags","domExcTag","weakSetTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reRegExpChar","reHasRegExpChar","reTrimStart","reWhitespace","reWrapComment","reWrapDetails","reSplitDetails","reForbiddenIdentifierChars","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsOctal","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsVarRange","rsApos","rsZWJ","contextProps","templateCounter","cloneableTags","stringEscapes","freeParseFloat","parseFloat","freeParseInt","parseInt","moduleExports","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","thisArg","arrayAggregator","setter","arrayEach","arrayEachRight","arrayEvery","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayReduceRight","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","baseReduce","current","baseTrim","trimmedEndIndex","baseValues","charsStartIndex","chrSymbols","charsEndIndex","escapeHtmlChar","escapeStringChar","replaceHolders","placeholder","setToPairs","stringSize","lastIndex","unicodeSize","unescapeHtmlChar","_","runInContext","defaults","pick","Date","Math","arrayProto","idCounter","objectCtorString","oldDash","allocUnsafe","getPrototype","objectCreate","spreadableSymbol","isConcatSpreadable","symIterator","iterator","ctxClearTimeout","ctxNow","now","ctxSetTimeout","nativeCeil","ceil","nativeFloor","floor","nativeIsBuffer","nativeIsFinite","isFinite","nativeJoin","nativeMax","nativeMin","nativeNow","nativeParseInt","nativeRandom","random","nativeReverse","reverse","metaMap","realNames","lodash","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","baseAssignValue","assignValue","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","lower","upper","baseClone","isDeep","isFlat","isFull","input","initCloneArray","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","copySymbols","cloneArrayBuffer","dataView","cloneDataView","cloneTypedArray","regexp","cloneRegExp","initCloneByTag","subValue","getAllKeysIn","baseConformsTo","baseDelay","wait","baseDifference","includes","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseForRight","baseFunctions","baseGt","baseIntersection","arrays","caches","maxLength","Infinity","baseInvoke","parent","last","othProps","baseIteratee","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","criteria","comparer","sort","baseSortBy","objCriteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","indexOf","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","castRest","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","createCaseFirst","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","countHolders","newHolders","createRecurry","fn","oldArray","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","createOver","arrayFunc","createPadding","chars","charsLength","createRange","step","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","pair","noop","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","flatten","otherFunc","isMaskable","otherArgs","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","lastCalled","stamp","remaining","rand","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bindKey","debounce","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","defer","delay","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","isNumber","isString","lt","lte","toArray","next","done","iteratorToArray","remainder","toLength","isBinary","assign","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","merge","omit","basePick","pickBy","prop","toPairs","toPairsIn","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","toUpperCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","range","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","chunk","compact","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","filter","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","orderBy","propertyOf","pullAllBy","pullAllWith","remove","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extend","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduce","reduceRight","repeat","sample","some","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sum","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","times","toLower","toSafeInteger","toUpper","trim","trimEnd","trimStart","truncate","omission","search","newEnd","unescape","uniqueId","prefix","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","isRight","view","getView","iterLength","takeCount","iterIndex","commit","toJSON","define","getRandomValues","rnds8","rng","crypto","msCrypto","uuid","REGEX","byteToHex","substr","validate","ExportedSet","ExportedMap","buf","rnds","mangle","unmangle","Map$1","_store","Set$1","cloneBinaryObject","buff","targetArray","sourceArray","webkitSlice","mangled","k","delete","res","cb","getOwnPropertyDescriptor","species","supportsMapAndSet","newObject","toISOString","Blob","isBinaryObject","toPromise","usedCB","promise","fulfill","resp","mesg","then","adapterFun","_closed","_destroyed","logArgs","origCallback","responseArgs","logApiCall","taskqueue","isReady","addTask","failed","obj","hasLocal","MAX_NUM_CONCURRENT_REQUESTS","identityFunction","x","formatResultForOpenRevsGet","ok","bulkGet","db","opts","requests","docs","requestsById","request","numDocs","numDone","perDocResults","checkDone","results","info","collapseResultsAndFinish","allRequests","nextBatch","upTo","batch","docId","j","docIdx","docRequests","docOpts","open_revs","rev","formatResult","param","processBatch","localStorage","setItem","getItem","hasLocalStorage","Changes","dbName","inprogress","eventFunction","changesOpts","changes","c","seq","since","cancelled","onChange","immediate","notifyLocalWindows","EE","guardedConsole","defaultBackOff","maxTimeout","randomNumber","explainError","status","str","to","nextSource","nextKey","$inject_Object_assign","PouchError","reason","MISSING_BULK_DOCS","MISSING_DOC","REV_CONFLICT","INVALID_ID","MISSING_ID","RESERVED_ID","UNKNOWN_ERROR","BAD_ARG","QUERY_PARSE_ERROR","DOC_VALIDATION","BAD_REQUEST","NOT_AN_OBJECT","IDB_ERROR","INVALID_REV","MISSING_STUB","createError","CustomPouchError","names","generateErrorFromResponse","filterChange","req","hasFilter","query","query_params","change","doc","filterReturn","msg","tryFilter","include_docs","attachments","att","_attachments","stub","arrs","invalidIdError","isRemote","_remote","parseDesignDocFunctionName","s","parts","normalizeDesignDocFunctionName","normalized","qName","qParser","parser","parseUri","uri","encoded","decodeURIComponent","$0","$1","$2","scopeEval","scope","upsert","diffFun","catch","docRev","_rev","newDoc","_id","put","updated","tryAndPut","thisAtob","atob","thisBtoa","btoa","createBlob","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","binaryStringToArrayBuffer","bin","binStringToBluffer","binString","b64ToBluffer","b64","readAsBinaryString","blob","reader","FileReader","hasBinaryString","onloadend","binary","bytes","arrayBufferToBinaryString","readAsArrayBuffer","blobToBinaryString","blobOrBuffer","blobToBase64","base64","setImmediateShim","MD5_CHUNK_SIZE","appendBlob","sliceBlob","appendString","appendBinary","binaryMd5","inputIsString","chunkSize","chunks","currentChunk","Md5","loadNextChunk","raw","rawToBase64","destroy","stringMd5","rev$$1","deterministic_revs","v4","mutateableDoc","_rev_tree","winningRev","metadata","winningId","winningPos","winningDeleted","node","toVisit","rev_tree","tree","ids","branches","pos","deleted","traverseRevTree","revs","newCtx","ctx","sortByPos","a","b","collectLeaves","leaves","isLeaf","acc","collectConflicts","win","conflicts","leaf","rootToLeaf","history","sortByPos$1","insertSorted","item","idx","binarySearch","pathToTree","numStemmed","currentLeaf","compareTree","mergeTree","in_tree1","in_tree2","tree1","tree2","merged","doMerge","dontExpand","restree","branch","t1","t2","diff","candidateParents","trees","parentIdx","elements","elementsLen","el","newTree","stemmed","stemmedRevs","revHash","stem","getTrees","isDeleted","isLocalId","processChange","changeList","style","_conflicts","Changes$1","complete","ee","onDestroy","pending","lastSeq","isCancelled","tryCatchInChangeListener","validateChanges","PouchDB","_changesFilterPlugin","doChanges","continuous","live","normalize","shouldFilter","descending","newPromise","_changes","update_seq","compare","left","right","yankError","compareByIdThenRev","idCompare","_revisions","doNextCompaction","_compactionQueue","last_seq","_compact","appendPurgeSeq","purgeSeq","purges","purged_infos_limit","AbstractPouchDB","post","bulkDocs","_putLocal","_deleted","_removeLocal","putDoc","_put","new_edits","force","oldRevId","newRevNum","newRevId","transformForceOptionToNewEditsOption","putAttachment","attachmentId","api","createAttachment","prevrevpos","content_type","revpos","removeAttachment","docOrId","optsOrRev","was_delete","revsDiff","missing","addToMissing","revId","_getRevisionTree","missingForId","processDoc","missingObj","compactDocument","maxHeight","revTree","height","edges","prnt","from","edge","computeHeight","candidates","_doCompaction","_getLocal","finishOpenRevs","latest","l","_get","revs_info","splittedRev","revNo","currentPath","hashIndex","indexOfRev","howMany","_revs_info","_getAttachment","getAttachment","allDocs","start_key","startkey","end_key","endkey","incompatibleOpt","allDocsKeysParse","_allDocs","close","_close","_info","db_name","auto_compaction","adapter","attachmentError","attachmentNameError","atts","cleanDocs","_bulkDocs","registerDependentDatabase","dependentDb","dbOptions","__opts","view_adapter","depDB","dependentDbs","usePrefix","use_prefix","destroyDb","_destroy","localDoc","deletedMap","trueName","all","taskId","return_docs","promises","compactedDocs","row","activeTasks","completed_items","onError","onComplete","total_items","_type","purge","_purge","targetRev","findPathToLeaf","TaskQueue","execute","createClass","A","B","klass","PouchInternal","_setup","backend","adapters","preferredAdapters","adapterName","parseAdapter","_adapter","valid","fail","onDestroyed","from_constructor","onClosed","prepareForDestruction","ready","AbortController","abort","f$1","fetch","h","Headers","ActiveTasks","tasks","created_at","updatedTask","mergedTask","updated_at","eventEmitter","Pouch","destructListeners","_destructionListeners","dbList","setUpEventEmitter","addToPreferredAdapters","plugin","__defaults","defaultOpts","PouchWithDefaults","getFieldFromDoc","parsedField","parseField","fieldName","fields","ch","combinationFields","isCombinationalField","field","getKey","mergeAndedSelectors","selectors","$or","$nor","selector","matcher","$eq","longest","fieldMatchers","$gte","$gt","mergeGtGte","$lte","$lt","mergeLtLte","$ne","mergeNe","mergeEq","$regex","mergeRegex","mergeAndedSelectorsNested","isAndInSelector","isAnd","massageSelector","orOrNor","subSelector","normalizeArrayOperators","matcherItem","MIN_MAGNITUDE","MAGNITUDE_DIGITS","SEP","collate","normalizeKey","ai","collationIndex","bi","stringCollate","arrayCollate","ak","bk","objectCollate","origKey","val","indexify","num","expFormat","toExponential","magnitude","neg","magString","padWith","upToLength","padding","targetLength","abs","factorStr","toFixed","numToIndexableString","toIndexableString","objKey","parseNumber","originalIdx","numAsString","magAsString","metaStack","lastMetaElement","lastElementIndex","parseIndexableString","parsedNum","parsedStr","arrayElement","objElement","filterInMemoryFields","rows","requestDef","inMemoryFields","rowFilter","fieldSorter","getFieldValuesAsArray","sorting","aRow","bRow","collation","createFieldSorter","docFieldValue","orMatchers","matchCominationalSelector","matchSelector","maybeUserOperator","userValue","subParsedField","subDocFieldValue","userOperator","matchers","fieldExists","fieldIsNotUndefined","arrayContainsValue","docFieldValueItem","modField","neValue","arraySize","arrayContainsAllValues","regexValue","regexMatch","typeMatch","filterName","changesHandler","doc_ids","viewName","ddoc","mapFun","views","rowsMatched","matchesSelector","filterFun","filters","toObject","version","reservedWords","dataWords","parseRevisionInfo","parseDoc","newEdits","dbOpts","nRevNum","revInfo","revisions","revisionIds","makeRevTreeFromRevisions","specialKey","preprocessString","blobType","asBinary","parseBase64","digest","preprocessAttachment","md5","preprocessBlob","updateDoc","revLimit","prev","docInfo","writeDoc","splitRev","targetPos","targetId","revExists","previousWinningRev","previouslyDeleted","isRoot","newRev","rev_map","winningRev$$1","winningRevIsDeleted","delta","processDocs","docInfos","fetchedDocs","tx","overallCallback","idsToDocs","docsDone","docsToDo","checkAllDocsDone","currentDoc","resultsIdx","docWritten","nextDoc","rootIsMissing","insertDoc","ADAPTER_VERSION","DOC_STORE","BY_SEQ_STORE","ATTACH_STORE","ATTACH_AND_SEQ_STORE","META_STORE","LOCAL_STORE","DETECT_BLOB_SUPPORT_STORE","safeJsonStringify","json","vuvuzela","idbError","evt","encodeMetadata","deletedOrLocal","decodeMetadata","storedObject","parse","safeJsonParse","decodeDoc","_doc_id_rev","readBlobData","body","asBlob","fetchAttachmentsIfNecessary","txn","attObj","objectStore","onsuccess","fetchAttachment","postProcessAttachments","attNames","compactRevs","possiblyOrphanedDigests","seqStore","attStore","attAndSeqStore","IDBKeyRange","bound","deleteOrphanedAttachments","openCursor","only","event","cursor","digestSeq","primaryKey","continue","openTransactionSafely","idb","stores","mode","transaction","idbBulkDocs","docStore","bySeqStore","attachStore","attachAndSeqStore","metaStore","docInfoError","metaDoc","allDocsProcessed","docCountDelta","preconditionErrored","_meta","blobSupport","onAllDocsProcessed","updateDocCountIfReady","docCount","notify","newRevIsDeleted","isUpdate","collectResults","finishDoc","attachmentSaved","getKeyReq","newAtt","saveAttachment","writeAttachments","afterPutDoc","revsToDelete","compactTree","metadataToStore","afterPutMetadata","attsAdded","attsToAdd","onerror","preventDefault","stopPropagation","insertAttachmentMappings","putReq","overallErr","docv","recv","processedAttachment","preprocessAttachments","txnResult","onabort","ontimeout","oncomplete","finish","digests","filename","verifyAttachment","attErr","verifyAttachments","numFetched","revs_limit","readMetadata","fetchExistingDocs","startTransaction","runBatchedCursor","keyRange","batchSize","onBatch","keysBatch","valuesBatch","pseudoCursor","onGetAll","onGetAllKeys","onCursor","getAll","newKeyRange","lastKey","upperOpen","lowerBound","idbAllDocs","keyRangeError","inclusiveEnd","inclusive_end","upperBound","createKeyRange","onResultsReady","updateSeq","docIdRevIndex","allDocsInner","fetchDocAsynchronously","batchValues","batchValue","batchKeys","returnVal","total_rows","onSuccess","maxKey","getMaxUpdateSeq","allDocsKeys","running","applyNext","docIds","numResults","docIdsToMetadata","onGetMetadata","docIdRev","objectStores","winningDocs","metadatas","fetchWinningDocAndMetadata","winningDoc","processMetadataAndWinningDoc","onBatchDone","filtered","blobSupportPromise","cachedDBs","openReqList","IdbPouch","tryCode","enqueueTask","thisCallback","idbGlobalFailureError","enrichCallbackError","createSchema","createObjectStore","keyPath","autoIncrement","createIndex","unique","addDeletedOrLocalIndex","createLocalStoreSchema","migrateLocalStore","localStore","local","seqCursor","addAttachAndSeqStore","migrateAttsAndSeqs","digestMap","migrateMetadata","decodeMetadataCompat","onGetMetadataSeq","fetchMetadataSeq","metadataSeq","instanceId","reqOpts","historyNode","attachId","attachment","blobData","doc_count","idb_attachment_format","oldRev","oStore","oldDoc","openReq","indexedDB","deleteDatabase","cached","open","onupgradeneeded","oldVersion","currentTarget","migrations","migration","onversionchange","storedMetaDoc","completeSetup","storeMetaDocIfReady","instanceKey","countDocs","blob$$1","matchedChrome","navigator","userAgent","matchedEdge","checkBlobSupport","pool","promiseFactories","doNext","runNextBatch","thisErr","CHANGES_BATCH_SIZE","MAX_SIMULTANEOUS_REVS","CHANGES_TIMEOUT_BUFFER","DEFAULT_HEARTBEAT","supportsBulkGetMap","readAttachmentsAsBlobOrBuffer","encodeDocId","encodeURIComponent","preprocessAttachments$1","getHost","protocol","hasUrlPrefix","user","password","auth","username","genDBUrl","genUrl","pathDel","host","port","paramsToStr","params","shouldCacheBust","ua","isIE","isTrident","isEdge","isGET","HttpPouch","dbUrl","setupPromise","ourFetch","headers","credentials","nAuth","token","fetchFun","adapterFun$$1","setup","fetchJSON","response","v","skip_setup","encodeAttachmentId","uuid$$1","ping","compact_running","interval","doBulkGet","doBulkGetShim","numBatches","onResult","batchNum","subOpts","supportsBulkGet","fetchAttachments","fetchAllAttachments","docOrDocs","filenames","fetchData","typeFieldDescriptor","__proto__","contentType","browser","paramStr","batch_size","heartbeat","requestTimeout","leftToFetch","feed","seq_interval","param_name","lastFetchedSeq","controller","aborted","fetchOpts","signal","fetched","raw_results_length","finished","QueryParseError","captureStackTrace","NotFoundError","BuiltInError","promisedCallback","fin","finalPromiseFactory","sequentialize","promiseFactory","theSet","mapToKeysArray","createBuiltInError","jLen","jNum","log","evalFunctionWithEval","TaskQueue$1","createViewSignature","reduceFun","createView","sourceDB","temporary","localDocName","viewSignature","cachedViews","_cachedViews","promiseForView","diffFunction","fullViewName","depDbs","depDbName","lastSeqDoc","persistentQueues","tempViewQueue","CHANGES_BATCH_SIZE$1","parseViewName","isGenOne","emitError","builtInReduce","_sum","_count","_stats","sumsqr","_sumsqr","abstract","mapper","reducer","ddocValidator","tryMap","tryReduce","rereduce","output","sortByKeyThenValue","y","keyCompare","sliceResults","rowToDocId","postprocessAttachments","addHttpParam","paramName","asJson","coerceInteger","integerCandidate","asNumber","checkQueryParseError","startkeyName","endkeyName","group_level","optionName","checkPositiveInteger","httpQuery","keysAsString","customQuery","_query","defaultsTo","docIdsToChangesAndEmits","getMetaDoc","getKeyValueDocs","processKeyValueDocs","kvDocsRes","kvDocs","oldKeys","indexableKeysToKeyValues","keyValue","newKeys","kvDoc","defaultMetaDoc","metaDocId","docData","keyValueDocs","saveKeyValues","seqDocId","getDocsToPersist","listOfDocsToPersist","docsToPersist","updatePurgeSeq","getQueue","updateView","updateViewInQueue","createTask","processNextBatch","getRecentPurges","createDocIdsToChangesAndEmits","createIndexableKeysToKeyValues","mapResults","emittedKeyValue","complexKey","currentSeq","indexed_docs","progress","results_count","changes_batch_size","recentPurges","uniquePurges","reduceView","shouldGroup","groups","lvl","POSITIVE_INFINITY","groupKey","reduceTry","queryView","queryViewInQueue","fetchFromView","onMapResultsReady","finalResults","shouldReduce","totalRows","allDocsRes","docIdsToDocs","viewOpts","expectedKeys","parsedKeyAndDocId","fetchPromises","flattenedResult","keyStart","keyEnd","docsToViews","designDocName","viewsToStatus","ddocName","viewDBNames","statusIsGood","viewDBName","dbsToDelete","destroyPromises","updateViewOpts","view_update_changes_batch_size","stale","abstractViewCleanup","_viewCleanup","customViewCleanup","httpViewCleanup","localViewCleanup","coerceOptions","queryPromised","viewCleanup","createAbstractMapReduce","origMap","reduceFunString","builtIn","getBuiltIn","mapreduce","getDocAttachments","getDocs","src","diffs","resultDocs","bulkGetOpts","missingRev","createBulkGetOpts","bulkGetResponse","bulkGetInfo","remoteDoc","doCheckForLocalAttachments","fileHasChanged","getDocAttachmentsFromTargetOrSource","Boolean","CHECKPOINT_VERSION","REPLICATOR","CHECKPOINT_HISTORY_SIZE","LOWEST_SEQ","updateCheckpoint","checkpoint","session","returnValue","session_id","replicator","CheckpointerInternal","updateTarget","updateSource","writeTargetCheckpoint","writeSourceCheckpoint","isForbiddenError","sourceDoc","targetDoc","comparisons","srcDoc","tgtDoc","compareReplicationHistory","compareReplicationLogs","sourceHistory","targetHistory","S","sourceRest","T","targetRest","hasSessionId","sessionId","Checkpointer","STARTING_BACK_OFF","generateReplicationId","queryParams","filterViewName","sortObjectPropertiesByKey","queryData","md5sum","replicate","currentBatch","repId","checkpointer","batches","pendingBatch","writingCheckpoint","changesCompleted","replicationCompleted","initial_last_seq","batches_limit","changesPending","changedDocs","start_time","docs_read","docs_written","doc_write_failures","errors","initCheckpointer","checkpointOpts","writeDocs","bulkOpts","completeReplication","errorsById","errorsNo","errorName","finishBatch","outResult","completed","writeCheckpoint","getChanges","onCheckpointError","getBatchDocs","got","startNextBatch","getDiffs","abortReplication","processPendingBatch","immediate$$1","fatalError","end_time","retry","back_off_function","backOffSet","current_back_off","backOff","onChangesComplete","onChangesError","_abortChanges","abortChanges","startChanges","getCheckpoint","_addedListeners","Replication","_readyCalled","cleanup","toPouch","PouchConstructor","replicateWrapper","replicateRet","sync","Sync","canceled","optsPush","optsPull","pushPaused","pullPaused","pullChange","direction","pushChange","pushDenied","pullDenied","pushActive","pullActive","removed","removeAll","addOneListener","out","success","replicateMethods","maxSize","_maxSize","_size","_values","SPLIT_REGEX","DIGIT_REGEX","LEAD_DIGIT_REGEX","SPEC_CHAR_REGEX","CLEAN_QUOTES_REGEX","pathCache","setCache","getCache","normalizePath","part","isQuoted","shouldBeQuoted","hasLeadingNumber","hasSpecialChars","getter","safe","segments","iter","isBracket","hex_chr","md5cycle","d","md5blk","md5blks","md5blk_array","md51","tmp","lo","hi","md51_array","subarray","rhex","hex","toUtf8","utf8Str2ArrayBuffer","returnUInt8Array","arrayBuffer2Utf8Str","concatenateArrayBuffers","second","hexToBinaryString","SparkMD5","reset","begin","contents","_buff","_length","_hash","_finish","getState","hash","setState","hashBinary","content","factory","toposort","nodes","sorted","visited","outgoingEdges","makeOutgoingEdges","nodesHash","makeNodesHash","visit","predecessors","nodeRep","outgoing","child","uniqueNodes","arrayPrefix","objPrefix","numChar","parsedString","lastCh","numConsecutiveSlashes","circulars","clones","cloneNode","getTime","errorToString","regExpToString","SYMBOL_REGEXP","printSimpleValue","quoteStrings","typeOf","printNumber","printValue","mixed","default","required","oneOf","notOneOf","notType","originalValue","isCast","defined","email","lowercase","uppercase","lessThan","moreThan","positive","negative","integer","date","boolean","isValue","noUnknown","__isYupSchema__","Condition","refs","otherwise","is","check","schema","base","ref","isSchema","_extends","strReg","ValidationError","errorOrErrors","inner","runTests","endEarly","tests","nestedErrors","prefixes","Reference","isContext","isSibling","__isYupRef","createValidation","config","_ref","excluded","sourceKeys","_objectWithoutPropertiesLoose","Ref","overrides","nextParams","formatError","_ref2","validOrError","OPTIONS","getIn","lastPart","lastPartDebug","_part","innerType","parentPath","ReferenceSet","describe","isRef","newItems","removeItems","BaseSchema","deps","conditions","_mutate","_typeError","_whitelist","_blacklist","exclusiveTests","spec","withMutation","typeError","locale","strip","strict","abortEarly","recursive","nullable","presence","_value","_whitelistError","_blacklistError","meta","combined","mergedSpec","_typeCheck","condition","resolvedSchema","_cast","assert","formattedValue","formattedResult","rawValue","_options","getDefault","initialTests","finalTests","maybeCb","_validate","validateSync","_getDefault","def","exclusive","_isPresent","isNullable","isExclusive","dep","enums","valids","resolved","resolveAll","invalids","alias","optional","notRequired","Mixed","BooleanSchema","isAbsent","rEmail","rUrl","rUUID","isTrimmed","objStringTag","StringSchema","strValue","regex","excludeEmptyString","NumberSchema","parsed","NaN","less","more","_method","avail","isoReg","invalidDate","DateSchema","timestamp","struct","numericKeys","minutesOffset","UTC","isoParse","cast","prepareParam","INVALID_DATE","ii","_err$path","sortByKeyOrder","defaultSort","ObjectSchema","_sortErrors","_nodes","_excludedEdges","shape","_options$stripUnknown","stripUnknown","intermediateValue","innerOptions","__validating","isChanged","exists","fieldValue","inputValue","fieldSpec","nextFields","schemaOrRef","dft","getDefaultFromShape","additions","excludes","excludedEdges","addNode","depPath","sortFields","picked","fromGetter","newObj","noAllow","unknownKeys","known","unknown","allow","transformKeys","ArraySchema","_opts","castElement","_options$abortEarly","_options$recursive","original","rejector","arr2","__esModule","unsupportedIterableToArray","o","allowArrayLike","it","F","_e","f","normalCompletion","didErr","_e2","arrayLikeToArray","minLen","desc"],"sourceRoot":""}