{"version":3,"sources":["../node_modules/process/browser.js","../node_modules/buffer/index.js","../node_modules/inherits/inherits_browser.js","../node_modules/debug/src/browser.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/lodash/_root.js","../node_modules/lodash/isArray.js","../node_modules/events/events.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/lodash.js","../node_modules/readable-stream/readable-browser.js","../node_modules/readable-stream/errors-browser.js","../node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/duplexify/node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/toString.js","../node_modules/process-nextick-args/index.js","../node_modules/core-util-is/lib/util.js","../node_modules/webpack/buildin/module.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_toKey.js","../node_modules/property-expr/index.js","../node_modules/string_decoder/lib/string_decoder.js","../node_modules/legoino-util/src/util/calculateCheckDigit.js","../node_modules/lodash/has.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/isObject.js","../node_modules/lodash/_Map.js","../node_modules/lodash/isLength.js","../node_modules/lodash/keys.js","../node_modules/xtend/immutable.js","../node_modules/readable-stream/lib/internal/streams/end-of-stream.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/mqtt/lib/connect/tls.js","../node_modules/duplexify/index.js","../node_modules/safe-buffer/index.js","../node_modules/legoino-util/src/util/hexToInt16.js","../node_modules/legoino-device-information/src/index.js","../node_modules/legoino-util/src/util/labelToNumber.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/eq.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/mapValues.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_createCompounder.js","../node_modules/lodash/_hasUnicode.js","../node_modules/mqtt/lib/store.js","../node_modules/readable-stream/lib/_stream_readable.js","../node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/isarray/index.js","../node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/readable-stream/lib/internal/streams/state.js","../node_modules/readable-stream/lib/_stream_writable.js","../node_modules/util-deprecate/browser.js","../node_modules/readable-stream/lib/_stream_transform.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/mqtt-packet/constants.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/mqtt-packet/writeToStream.js","../node_modules/mqtt/lib/connect/tcp.js","../node_modules/mqtt/lib/connect/wx.js","../node_modules/duplexify/node_modules/readable-stream/lib/_stream_readable.js","../node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/duplexify/node_modules/readable-stream/lib/_stream_writable.js","../node_modules/duplexify/node_modules/readable-stream/lib/_stream_transform.js","../node_modules/mqtt/lib/connect/ali.js","../node_modules/mqtt/lib/connect/ws.js","../node_modules/legoino-util/src/parser/parseMultilogLine.js","../node_modules/legoino-util/src/util/checkCheckDigit.js","../node_modules/legoino-util/src/parser/parseParameters.js","../node_modules/legoino-util/src/util/numberToLabel.js","../node_modules/legoino-util/src/util/deviceIdNumberToString.js","../node_modules/lodash/_baseHas.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/memoize.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/get.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/identity.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/snakeCase.js","../node_modules/lodash/_arrayReduce.js","../node_modules/lodash/deburr.js","../node_modules/lodash/_deburrLetter.js","../node_modules/lodash/_basePropertyOf.js","../node_modules/lodash/words.js","../node_modules/lodash/_asciiWords.js","../node_modules/lodash/_hasUnicodeWord.js","../node_modules/lodash/_unicodeWords.js","../node_modules/lodash/camelCase.js","../node_modules/lodash/capitalize.js","../node_modules/lodash/upperFirst.js","../node_modules/lodash/_createCaseFirst.js","../node_modules/lodash/_castSlice.js","../node_modules/lodash/_baseSlice.js","../node_modules/lodash/_stringToArray.js","../node_modules/lodash/_asciiToArray.js","../node_modules/lodash/_unicodeToArray.js","../node_modules/lodash/mapKeys.js","../node_modules/toposort/index.js","../node_modules/pouchdb/lib/index-browser.es.js","../node_modules/immediate/lib/index.js","../node_modules/immediate/lib/queueMicrotask.js","../node_modules/immediate/lib/mutation.js","../node_modules/immediate/lib/messageChannel.js","../node_modules/immediate/lib/stateChange.js","../node_modules/immediate/lib/timeout.js","../node_modules/spark-md5/spark-md5.js","../node_modules/vuvuzela/index.js","../node_modules/argsarray/index.js","../node_modules/mqtt/lib/connect/index.js","../node_modules/mqtt/lib/client.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/readable-stream/lib/internal/streams/buffer_list.js","../node_modules/string_decoder/node_modules/safe-buffer/index.js","../node_modules/readable-stream/lib/internal/streams/async_iterator.js","../node_modules/readable-stream/lib/internal/streams/from-browser.js","../node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/readable-stream/lib/internal/streams/pipeline.js","../node_modules/mqtt-packet/mqtt.js","../node_modules/mqtt-packet/parser.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/bl/bl.js","../node_modules/bl/BufferList.js","../node_modules/mqtt-packet/packet.js","../node_modules/debug/src/common.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/ms/index.js","../node_modules/mqtt-packet/generate.js","../node_modules/mqtt-packet/numbers.js","../node_modules/reinterval/index.js","../node_modules/mqtt/lib/validations.js","../node_modules/url/url.js","../node_modules/node-libs-browser/node_modules/punycode/punycode.js","../node_modules/url/util.js","../node_modules/querystring-es3/index.js","../node_modules/querystring-es3/decode.js","../node_modules/querystring-es3/encode.js","../node_modules/duplexify/node_modules/readable-stream/readable-browser.js","../node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/BufferList.js","../node_modules/timers-browserify/main.js","../node_modules/setimmediate/setImmediate.js","../node_modules/duplexify/node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/end-of-stream/index.js","../node_modules/once/once.js","../node_modules/wrappy/wrappy.js","../node_modules/stream-shift/index.js","../node_modules/ws/browser.js","../node_modules/legoino-util/src/index.js","../node_modules/legoino-util/src/parser/parseMultilog.js","../node_modules/legoino-device-information/src/devices/OpenBio.js","../node_modules/legoino-device-information/src/devices/OpenSpectro.js","../node_modules/legoino-device-information/src/devices/SimpleSpectro.js","../node_modules/legoino-device-information/src/devices/Solar2015.js","../node_modules/legoino-device-information/src/devices/Beemos.js","../node_modules/legoino-device-information/src/devices/Computer.js","../node_modules/legoino-util/src/parser/parseCurrentSettings.js","../node_modules/legoino-util/src/util/deviceIdStringToNumber.js","../node_modules/legoino-util/src/util/valueToRawNumber.js","../node_modules/legoino-util/src/creator/createCompactLog.js","../node_modules/legoino-util/src/util/int16ToHex.js","../node_modules/nanoclone/src/index.js","../node_modules/yup/es/util/printValue.js","../node_modules/yup/es/locale.js","../node_modules/yup/es/util/isSchema.js","../node_modules/yup/es/Condition.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/yup/es/util/toArray.js","../node_modules/yup/es/ValidationError.js","../node_modules/yup/es/util/runTests.js","../node_modules/yup/es/Reference.js","../node_modules/yup/es/util/createValidation.js","../node_modules/yup/es/util/reach.js","../node_modules/yup/es/util/ReferenceSet.js","../node_modules/yup/es/schema.js","../node_modules/yup/es/mixed.js","../node_modules/yup/es/util/isAbsent.js","../node_modules/yup/es/boolean.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/yup/es/string.js","../node_modules/yup/es/number.js","../node_modules/yup/es/util/isodate.js","../node_modules/yup/es/date.js","../node_modules/yup/es/util/sortFields.js","../node_modules/yup/es/util/sortByKeyOrder.js","../node_modules/yup/es/object.js","../node_modules/yup/es/array.js","../node_modules/pouchdb/node_modules/uuid/dist/esm-browser/rng.js","../node_modules/pouchdb/node_modules/uuid/dist/esm-browser/bytesToUuid.js","../node_modules/pouchdb/node_modules/uuid/dist/esm-browser/v4.js"],"names":["cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","base64","require","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","allocUnsafe","from","value","TypeError","ArrayBuffer","byteOffset","byteLength","undefined","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","slice","fromString","obj","isBuffer","checked","copy","buffer","val","type","data","fromObject","assertSize","size","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","n","m","bidirectionalIndexOf","isNaN","arrayIndexOf","indexOf","lastIndexOf","arr","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","fromByteArray","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","Symbol","species","Object","defineProperty","configurable","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","list","pos","swap16","swap32","swap64","equals","inspect","max","match","join","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","create","ctor","superCtor","super_","constructor","enumerable","writable","TempCtor","formatArgs","useColors","namespace","humanize","diff","color","splice","index","lastC","save","namespaces","storage","setItem","removeItem","error","load","r","getItem","DEBUG","window","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","RegExp","$1","localStorage","localstorage","destroy","warned","warn","colors","log","debug","formatters","v","JSON","stringify","message","_createForOfIteratorHelper","o","allowArrayLike","it","iterator","F","s","done","_e","f","err","normalCompletion","didErr","step","next","_e2","freeGlobal","freeSelf","self","root","Function","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","EventEmitter","init","emitter","Promise","resolve","reject","eventListener","errorListener","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","prepend","events","existing","warning","newListener","unshift","w","count","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","get","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","handler","position","originalListener","shift","pop","spliceOne","key","keys","rawListeners","eventNames","baseIsNative","getValue","object","FUNC_ERROR_TEXT","HASH_UNDEFINED","PLACEHOLDER","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","INFINITY","MAX_SAFE_INTEGER","NAN","MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","source","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrimStart","reWhitespace","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsVarRange","rsBreakRange","rsMathOpRange","rsApos","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsOptVar","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","parseFloat","freeParseInt","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","types","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","func","thisArg","arrayAggregator","setter","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","result","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","values","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","basePropertyOf","baseReduce","current","baseTimes","baseTrim","trimmedEndIndex","baseUnary","baseValues","props","cacheHas","cache","has","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","test","mapToArray","map","forEach","overArg","transform","replaceHolders","setToArray","setToPairs","stringSize","lastIndex","unicodeSize","stringToArray","unicodeToArray","split","asciiToArray","charAt","unescapeHtmlChar","_","runInContext","defaults","pick","Date","arrayProto","funcProto","objectProto","coreJsData","funcToString","hasOwnProperty","idCounter","maskSrcKey","uid","exec","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","getPrototype","objectCreate","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","symIterator","symToStringTag","toStringTag","getNative","ctxClearTimeout","ctxNow","now","ctxSetTimeout","nativeCeil","ceil","nativeFloor","nativeGetSymbols","nativeIsBuffer","nativeIsFinite","nativeJoin","nativeKeys","nativeMax","nativeMin","nativeNow","nativeParseInt","nativeRandom","random","nativeReverse","reverse","DataView","Map","Set","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","isObject","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","add","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","paths","skip","number","lower","upper","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","input","initCloneArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","cloneDataView","cloneTypedArray","regexp","cloneRegExp","symbol","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","isFunction","baseGet","path","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","seen","baseInvoke","parent","last","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","comparer","sort","baseSortBy","objCriteria","criteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","id","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","callback","words","deburr","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","newHolders","createRecurry","fn","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","defaultValue","createOver","arrayFunc","createPadding","chars","charsLength","createRange","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","pair","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrStacked","arrValue","flatten","otherFunc","isKeyable","stubArray","hasPath","hasFunc","isLength","ctorString","isMaskable","stubFalse","otherArgs","oldArray","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","lastCalled","stamp","rand","memoize","memoizeCapped","quote","subString","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bindKey","WRAP_BIND_FLAG","debounce","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","cancel","flush","defer","delay","resolver","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","isNumber","isString","lt","lte","toArray","iteratorToArray","remainder","toLength","isBinary","assign","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","merge","omit","CLONE_DEEP_FLAG","basePick","pickBy","prop","toPairs","toPairsIn","camelCase","word","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","toUpperCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","range","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","chunk","compact","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","baseFill","filter","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","orderBy","propertyOf","pullAllBy","pullAllWith","remove","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","update","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extend","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","escape","escapeRegExp","every","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduce","reduceRight","repeat","sample","some","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sum","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","times","toLower","toSafeInteger","toUpper","trimEnd","trimStart","truncate","omission","search","substring","newEnd","unescape","uniqueId","prefix","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","isRight","view","getView","iterLength","takeCount","iterIndex","commit","define","Stream","Readable","Writable","Duplex","Transform","PassThrough","finished","pipeline","codes","createErrorType","Base","NodeError","_Base","subClass","superClass","arg1","arg2","arg3","getMessage","oneOf","expected","thing","determiner","msg","this_len","objectKeys","allowHalfOpen","readable","onend","_writableState","ended","onEndNT","highWaterMark","getBuffer","_readableState","destroyed","pna","util","inherits","_destroy","cb","isNullOrUndefined","re","d","isPrimitive","webpackPolyfill","deprecate","children","l","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","maxSize","_maxSize","_size","_values","SPLIT_REGEX","DIGIT_REGEX","LEAD_DIGIT_REGEX","SPEC_CHAR_REGEX","CLEAN_QUOTES_REGEX","pathCache","setCache","getCache","normalizePath","part","isQuoted","shouldBeQuoted","hasLeadingNumber","hasSpecialChars","parts","getter","safe","segments","iter","idx","isBracket","StringDecoder","nb","enc","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","p","utf8CheckExtraBytes","total","utf8CheckIncomplete","hexString","checkDigit","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","ERR_STREAM_PREMATURE_CLOSE","eos","stream","opts","called","_len","_key","onlegacyfinish","onfinish","writableEnded","readableEnded","endEmitted","onerror","onclose","onrequest","req","setHeader","abort","isRequest","unsupportedIterableToArray","tls","mqttClient","connection","handleTLSerrors","rejectUnauthorized","port","host","hostname","servername","connect","authorized","SIGNAL_FLUSH","onuncork","_corked","destroyer","_autoDestroy","autoDestroy","_ended","Duplexify","_writable","_readable","_readable2","_forwardDestroy","_forwardEnd","_ondrain","_drained","_forwarding","_unwrite","_unread","setWritable","setReadable","objectMode","cork","uncork","unend","ondrain","resume","rs","onreadable","_forward","_read","_write","_finish","ws","prefinished","ending","copyProps","SafeBuffer","hexa","OpenBio","OpenSpectro","SimpleSpectro","Solar2015","Beemos","Computer","char","baseIsTypedArray","stackClear","stackDelete","stackGet","stackHas","stackSet","xtend","streamsOpts","defaultStoreOptions","clean","Store","_inflights","put","packet","messageId","createStream","del","delete","close","ReadableState","EElistenerCount","OurUint8Array","debugUtil","debuglog","createReadableStreamAsyncIterator","BufferList","destroyImpl","getHighWaterMark","_require$codes","ERR_INVALID_ARG_TYPE","ERR_STREAM_PUSH_AFTER_EOF","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","errorOrDestroy","kProxyEvents","isDuplex","readableObjectMode","pipes","pipesCount","flowing","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","paused","emitClose","defaultEncoding","awaitDrain","readingMore","decoder","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","_undestroy","undestroy","isPaused","setEncoding","content","MAX_HWM","howMuchToRead","computeNewHighWaterMark","maybeReadMore_","updateReadableListening","nReadingNextTick","resume_","fromList","consume","endReadable","endReadableNT","wState","xs","nOrig","doRead","pipe","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","ondata","cleanedUp","needDrain","pipeOnDrain","pause","event","dests","ev","_this","asyncIterator","_fromList","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","readableDestroyed","writableDestroyed","errorEmitted","finalCalled","rState","ERR_INVALID_OPT_VALUE","duplexKey","hwm","highWaterMarkFrom","CorkedRequest","finish","corkReq","pendingcb","corkedRequestsFree","onCorkedFinish","WritableState","internalUtil","realHasInstance","ERR_MULTIPLE_CALLBACK","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","prefinish","hasInstance","writeAfterEnd","validChunk","newChunk","decodeChunk","writeOrBuffer","setDefaultEncoding","endWritable","config","trace","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","ts","_transformState","transforming","writechunk","needTransform","writeencoding","_transform","_flush","err2","setPrototypeOf","isNativeReflectConstruct","possibleConstructorReturn","Derived","hasNativeReflectConstruct","Super","NewTarget","construct","protocol","k","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","CMD_SHIFT","CMD_MASK","DUP_MASK","QOS_MASK","QOS_SHIFT","RETAIN_MASK","VARBYTEINT_MASK","VARBYTEINT_FIN_MASK","VARBYTEINT_MAX","SESSIONPRESENT_MASK","SESSIONPRESENT_HEADER","CONNACK_HEADER","connack","USERNAME_MASK","PASSWORD_MASK","WILL_RETAIN_MASK","WILL_QOS_MASK","WILL_QOS_SHIFT","WILL_FLAG_MASK","CLEAN_SESSION_MASK","CONNECT_HEADER","sessionExpiryInterval","willDelayInterval","receiveMaximum","maximumPacketSize","topicAliasMaximum","requestResponseInformation","requestProblemInformation","userProperties","authenticationMethod","authenticationData","payloadFormatIndicator","messageExpiryInterval","contentType","responseTopic","correlationData","maximumQoS","retainAvailable","assignedClientIdentifier","reasonString","wildcardSubscriptionAvailable","subscriptionIdentifiersAvailable","sharedSubscriptionAvailable","serverKeepAlive","responseInformation","serverReference","topicAlias","subscriptionIdentifier","propertiesCodes","genHeader","qos","dup","retain","propertiesTypes","PUBLISH_HEADER","SUBSCRIBE_HEADER","SUBSCRIBE_OPTIONS_QOS_MASK","SUBSCRIBE_OPTIONS_NL_MASK","SUBSCRIBE_OPTIONS_NL_SHIFT","SUBSCRIBE_OPTIONS_RAP_MASK","SUBSCRIBE_OPTIONS_RAP_SHIFT","SUBSCRIBE_OPTIONS_RH_MASK","SUBSCRIBE_OPTIONS_RH_SHIFT","SUBSCRIBE_OPTIONS_RH","SUBSCRIBE_OPTIONS_NL","SUBSCRIBE_OPTIONS_RAP","SUBSCRIBE_OPTIONS_QOS","UNSUBSCRIBE_HEADER","ACKS","unsuback","puback","pubcomp","pubrel","pubrec","SUBACK_HEADER","suback","VERSION3","VERSION4","VERSION5","VERSION131","VERSION132","QOS","EMPTY","pingreq","pingresp","disconnect","arr2","arrayLikeToArray","minLen","empty","zeroBuf","numbers","numCache","generateNumber","generateCache","genBufVariableByteInt","generate4ByteBuffer","writeNumber","writeNumberCached","toGenerate","generate","cmd","protocolId","protocolVersion","will","keepalive","clientId","username","password","propertiesData","getProperties","topic","payload","willProperties","providedUsername","isStringOrBuffer","writeVarByteInt","writeStringOrBuffer","bridgeMode","flags","writeString","rc","reasonCode","returnCode","sessionPresent","publish","getPropertiesByMaximumPacketSize","confirmation","subs","subscriptions","itopic","iqos","nl","rap","rh","jtopic","jqos","jnl","jrap","jrh","joptions","subscribe","granted","unsubs","unsubscriptions","unsubscribe","emptyPacket","auth","writeNumberGenerated","varByteIntCache","num","strlen","writeStringPair","generatedNumber","toWrite","writeProperties","propertiesLength","getLengthProperty","currentValue","currentLength","propName","propLength","propValueLength","propValue","valueIndex","mayEmptyProps","currentMayEmptyProp","writeProperty","generated4ByteBuffer","write4ByteNumber","bufOrString","field","net","client","createConnection","socketTask","proxy","duplexify","websocketSubProtocol","wsOptions","setDefaultOpts","url","transformWsUrl","buildUrl","wx","connectSocket","protocols","send","success","fail","errMsg","buildProxy","destroyRef","onOpen","onMessage","onClose","onError","readableHwm","readableHighWaterMark","defaultHwm","needMoreData","hasStrings","copyFromBufferString","copyFromBuffer","fromListPartial","increasedAwaitDrain","asyncWrite","setImmediate","writableHwm","writableHighWaterMark","valid","_this2","my","isInitialized","sendSocketMessage","closeSocket","onSocketOpen","onSocketMessage","reader","FileReader","addEventListener","readAsArrayBuffer","onSocketClose","onSocketError","WS","WSS_OPTIONS","IS_BROWSER","__webpack_require__","bufferSize","URL","binary","setDefaultBrowserOpts","browserBufferSize","bufferTimeout","browserBufferTimeout","coerceToBuffer","socket","WebSocket","binaryType","createBrowserWebSocket","socketWrite","socketEnd","objectModeMode","socketWriteBrowser","bufferedAmount","eventListenerSupport","onopen","onmessage","chunks","buffers","readyState","OPEN","createWebSocket","webSocketStream","createWebSocketStream","checkCheckDigit","hexToInt16","parseParameters","line","hasEvent","parametersArray","epoch","parseResult","parameters","eventId","eventValue","deviceId","calculateCheckDigit","DeviceInformation","numberToLabel","parameterLabel","parameterInfo","flagInfo","kind","deviceInformation","numberParameters","numberLogParameters","label","factor","valueNumber","originalValue","bit","idNumber","hashClear","hashDelete","hashGet","hashHas","hashSet","isMasked","setCacheAdd","setCacheHas","rsModifier","toposort","nodes","edges","cursor","sorted","visited","outgoingEdges","edge","makeOutgoingEdges","nodesHash","makeNodesHash","visit","node","predecessors","nodeRep","outgoing","child","uniqueNodes","ExportedSet","ExportedMap","mangle","unmangle","Map$1","_store","Set$1","cloneBinaryObject","buff","targetArray","sourceArray","webkitSlice","mangled","getOwnPropertyDescriptor","supportsMapAndSet","newObject","toISOString","Blob","isBinaryObject","getArguments","toPromise","usedCB","promise","fulfill","resp","mesg","then","adapterFun","_closed","_destroyed","logArgs","origCallback","responseArgs","logApiCall","taskqueue","isReady","addTask","failed","hasLocal","identityFunction","formatResultForOpenRevsGet","ok","bulkGet","db","requests","docs","requestsById","request","numDocs","numDone","perDocResults","checkDone","results","info","collapseResultsAndFinish","allRequests","nextBatch","upTo","batch","docId","docIdx","docRequests","docOpts","open_revs","rev","formatResult","param","processBatch","hasLocalStorage","Changes","EE","attachBrowserEvents","guardedConsole","defaultBackOff","maxTimeout","randomNumber","explainError","status","dbName","inprogress","eventFunction","changesOpts","changes","seq","since","cancelled","onChange","immediate","notifyLocalWindows","notify","$inject_Object_assign","to","nextSource","nextKey","PouchError","reason","MISSING_BULK_DOCS","MISSING_DOC","REV_CONFLICT","INVALID_ID","MISSING_ID","RESERVED_ID","UNKNOWN_ERROR","BAD_ARG","QUERY_PARSE_ERROR","DOC_VALIDATION","BAD_REQUEST","NOT_AN_OBJECT","IDB_ERROR","INVALID_REV","MISSING_STUB","createError","CustomPouchError","names","generateErrorFromResponse","filterChange","hasFilter","query","query_params","change","doc","filterReturn","tryFilter","include_docs","attachments","att","_attachments","stub","arrs","invalidIdError","isRemote","_remote","parseDesignDocFunctionName","normalizeDesignDocFunctionName","normalized","qName","qParser","parser","parseUri","uri","encoded","decodeURIComponent","$0","$2","scopeEval","scope","upsert","diffFun","docRev","_rev","newDoc","updated","_id","tryAndPut","thisAtob","atob","thisBtoa","btoa","createBlob","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","binaryStringToArrayBuffer","bin","binStringToBluffer","binString","b64ToBluffer","b64","readAsBinaryString","blob","hasBinaryString","onloadend","arrayBufferToBinaryString","blobToBinaryString","blobOrBuffer","blobToBase64","setImmediateShim","appendBlob","sliceBlob","appendString","appendBinary","binaryMd5","inputIsString","chunkSize","currentChunk","Md5","loadNextChunk","raw","rawToBase64","stringMd5","hash","deterministic_revs","clonedDoc","_rev_tree","v4","uuid","winningRev","metadata","winningId","winningPos","winningDeleted","toVisit","rev_tree","tree","ids","branches","deleted","traverseRevTree","revs","newCtx","ctx","sortByPos","collectLeaves","leaves","isLeaf","acc","collectConflicts","win","conflicts","leaf","rootToLeaf","history","sortByPos$1","insertSorted","item","binarySearch","pathToTree","numStemmed","currentLeaf","compareTree","mergeTree","in_tree1","in_tree2","tree1","tree2","merged","doMerge","dontExpand","restree","branch","t1","t2","candidateParents","trees","parentIdx","elements","elementsLen","el","newTree","stemmed","stemmedRevs","revHash","stem","getTrees","isDeleted","isLocalId","Changes$1","complete","ee","onDestroy","pending","lastSeq","isCancelled","tryCatchInChangeListener","validateChanges","processChange","changeList","_conflicts","left","right","yankError","compareByIdThenRev","idCompare","_revisions","doNextCompaction","task","_compactionQueue","catch","last_seq","_compact","AbstractPouchDB","TaskQueue","PouchDB","__opts","auto_compaction","backend","adapter","adapters","preferredAdapters","adapterName","use_prefix","parseAdapter","_adapter","onDestroyed","from_constructor","onClosed","prepareForDestruction","ready","_changesFilterPlugin","validate","doChanges","continuous","live","normalize","shouldFilter","descending","newPromise","_changes","update_seq","post","bulkDocs","_putLocal","_deleted","_removeLocal","putDoc","_put","new_edits","force","oldRevId","newRevNum","newRevId","transformForceOptionToNewEditsOption","putAttachment","attachmentId","rev$$1","api","createAttachment","prevrevpos","content_type","revpos","removeAttachment","docOrId","optsOrRev","was_delete","revsDiff","missing","addToMissing","revId","_getRevisionTree","missingForId","processDoc","missingObj","compactDocument","maxHeight","revTree","height","prnt","computeHeight","candidates","_doCompaction","return_docs","promises","row","all","_getLocal","finishOpenRevs","latest","_get","revs_info","splittedRev","revNo","currentPath","hashIndex","indexOfRev","howMany","_revs_info","_getAttachment","getAttachment","allDocs","start_key","startkey","end_key","endkey","incompatibleOpt","allDocsKeysParse","_allDocs","_close","_info","db_name","_type","attachmentError","attachmentNameError","atts","cleanDocs","_bulkDocs","registerDependentDatabase","dependentDb","depDB","dependentDbs","usePrefix","destroyDb","localDoc","deletedMap","trueName","execute","AbortController","f$1","fetch","h","Headers","eventEmitter","Pouch","destructListeners","_destructionListeners","dbList","setUpEventEmitter","addToPreferredAdapters","plugin","__defaults","defaultOpts","PouchAlt","getFieldFromDoc","parsedField","parseField","fieldName","fields","ch","combinationFields","isCombinationalField","getKey","mergeAndedSelectors","selectors","selector","matcher","$eq","fieldMatchers","$gte","$gt","mergeGtGte","$lte","$lt","mergeLtLte","$ne","mergeNe","mergeEq","mergeAndedSelectorsNested","isAndInSelector","isAnd","massageSelector","wasAnded","orOrNor","subSelector","MIN_MAGNITUDE","collate","normalizeKey","ai","collationIndex","bi","stringCollate","arrayCollate","ak","bk","objectCollate","origKey","indexify","expFormat","toExponential","magnitude","neg","magString","padWith","upToLength","padding","targetLength","abs","factorStr","toFixed","numToIndexableString","toIndexableString","objKey","parseNumber","originalIdx","numAsString","magAsString","metaStack","lastMetaElement","element","lastElementIndex","filterInMemoryFields","rows","requestDef","inMemoryFields","rowFilter","fieldSorter","getFieldValuesAsArray","sorting","aRow","bRow","collation","createFieldSorter","docFieldValue","orMatchers","matchCominationalSelector","matchSelector","userOperator","userValue","matchers","fieldExists","fieldIsNotUndefined","arrayContainsValue","mod","modField","neValue","arraySize","arrayContainsAllValues","regexMatch","typeMatch","filterName","changesHandler","doc_ids","viewName","ddoc","mapFun","views","rowsMatched","matchesSelector","filterFun","filters","toObject","reservedWords","dataWords","parseRevisionInfo","parseDoc","newEdits","dbOpts","nRevNum","revInfo","revisions","revisionIds","makeRevTreeFromRevisions","specialKey","preprocessString","blobType","asBinary","parseBase64","digest","preprocessAttachment","md5","preprocessBlob","updateDoc","revLimit","prev","docInfo","writeDoc","splitRev","targetPos","targetId","revExists","previousWinningRev","previouslyDeleted","isRoot","newRev","rev_map","winningRev$$1","winningRevIsDeleted","delta","processDocs","docInfos","fetchedDocs","tx","overallCallback","idsToDocs","docsDone","docsToDo","checkAllDocsDone","currentDoc","resultsIdx","docWritten","nextDoc","rootIsMissing","insertDoc","DOC_STORE","BY_SEQ_STORE","ATTACH_STORE","ATTACH_AND_SEQ_STORE","META_STORE","LOCAL_STORE","DETECT_BLOB_SUPPORT_STORE","safeJsonStringify","json","vuvuzela","idbError","evt","encodeMetadata","deletedOrLocal","decodeMetadata","storedObject","parse","safeJsonParse","decodeDoc","_doc_id_rev","readBlobData","body","asBlob","fetchAttachmentsIfNecessary","txn","attObj","objectStore","onsuccess","fetchAttachment","postProcessAttachments","attNames","compactRevs","possiblyOrphanedDigests","seqStore","attStore","attAndSeqStore","IDBKeyRange","bound","deleteOrphanedAttachments","openCursor","only","digestSeq","primaryKey","continue","openTransactionSafely","idb","stores","mode","transaction","idbBulkDocs","docStore","bySeqStore","attachStore","attachAndSeqStore","metaStore","docInfoError","metaDoc","allDocsProcessed","docCountDelta","preconditionErrored","_meta","blobSupport","onAllDocsProcessed","updateDocCountIfReady","docCount","newRevIsDeleted","isUpdate","collectResults","finishDoc","attachmentSaved","newAtt","saveAttachment","writeAttachments","afterPutDoc","revsToDelete","compactTree","metadataToStore","afterPutMetadata","attsAdded","attsToAdd","preventDefault","stopPropagation","insertAttachmentMappings","putReq","overallErr","docv","recv","processedAttachment","preprocessAttachments","txnResult","onabort","ontimeout","oncomplete","digests","filename","verifyAttachment","attErr","verifyAttachments","numFetched","revs_limit","readMetadata","fetchExistingDocs","startTransaction","runBatchedCursor","keyRange","batchSize","onBatch","keysBatch","valuesBatch","pseudoCursor","onGetAll","onGetAllKeys","onCursor","getAll","newKeyRange","lastKey","upperOpen","lowerBound","idbAllDocs","keyRangeError","inclusiveEnd","inclusive_end","upperBound","createKeyRange","onResultsReady","updateSeq","docIdRevIndex","allDocsInner","fetchDocAsynchronously","batchValues","batchValue","batchKeys","returnVal","total_rows","onSuccess","maxKey","getMaxUpdateSeq","allDocsKeys","running","applyNext","docIds","numResults","docIdsToMetadata","onGetMetadata","docIdRev","objectStores","winningDocs","metadatas","fetchWinningDocAndMetadata","winningDoc","processMetadataAndWinningDoc","onBatchDone","filtered","blobSupportPromise","cachedDBs","openReqList","IdbPouch","tryCode","enqueueTask","thisCallback","createSchema","createObjectStore","keyPath","autoIncrement","createIndex","unique","addDeletedOrLocalIndex","createLocalStoreSchema","migrateLocalStore","localStore","local","seqCursor","addAttachAndSeqStore","migrateAttsAndSeqs","digestMap","migrateMetadata","decodeMetadataCompat","onGetMetadataSeq","fetchMetadataSeq","metadataSeq","instanceId","reqOpts","historyNode","attachId","attachment","blobData","doc_count","idb_attachment_format","oldRev","oStore","oldDoc","openReq","indexedDB","deleteDatabase","cached","open","onupgradeneeded","oldVersion","currentTarget","migrations","migration","onversionchange","storedMetaDoc","completeSetup","storeMetaDocIfReady","instanceKey","countDocs","blob$$1","matchedChrome","matchedEdge","checkBlobSupport","CHANGES_TIMEOUT_BUFFER","supportsBulkGetMap","readAttachmentsAsBlobOrBuffer","encodeDocId","encodeURIComponent","preprocessAttachments$1","getHost","hasUrlPrefix","user","genDBUrl","genUrl","pathDel","paramsToStr","params","HttpPouch","dbUrl","setupPromise","ourFetch","headers","credentials","nAuth","token","ua","isIE","isTrident","isEdge","isGET","shouldCacheBust","adapterFun$$1","setup","fetchJSON","response","skip_setup","encodeAttachmentId","uuid$$1","ping","compact_running","interval","doBulkGet","doBulkGetShim","numBatches","onResult","batchNum","subOpts","supportsBulkGet","fetchAttachments","filenames","promiseFactories","doNext","runNextBatch","thisErr","pool","typeFieldDescriptor","fetchData","docOrDocs","paramStr","batch_size","heartbeat","requestTimeout","leftToFetch","feed","seq_interval","param_name","lastFetchedSeq","controller","aborted","fetchOpts","signal","fetched","raw_results_length","QueryParseError","captureStackTrace","NotFoundError","BuiltInError","promisedCallback","sequentialize","promiseFactory","theSet","mapToKeysArray","createBuiltInError","jLen","jNum","evalFunctionWithEval","TaskQueue$1","createView","sourceDB","reduceFun","temporary","localDocName","cachedViews","viewSignature","createViewSignature","_cachedViews","promiseForView","depDbName","fullViewName","depDbs","lastSeqDoc","persistentQueues","tempViewQueue","parseViewName","emitError","builtInReduce","sumsqr","_sumsqr","abstract","mapper","reducer","ddocValidator","tryMap","tryReduce","rereduce","output","sortByKeyThenValue","keyCompare","sliceResults","rowToDocId","postprocessAttachments","addHttpParam","paramName","asJson","coerceInteger","integerCandidate","asNumber","checkQueryParseError","startkeyName","endkeyName","group_level","optionName","checkPositiveInteger","defaultsTo","getDocsToPersist","docIdsToChangesAndEmits","metaDocId","defaultMetaDoc","docData","indexableKeysToKeyValues","isGenOne","getKeyValueDocs","kvDocsRes","kvDocs","oldKeys","keyValue","newKeys","kvDoc","processKeyValueDocs","getQueue","updateView","mapResults","currentSeq","seqDocId","listOfDocsToPersist","docsToPersist","saveKeyValues","processNextBatch","createDocIdsToChangesAndEmits","createIndexableKeysToKeyValues","emittedKeyValue","complexKey","updateViewInQueue","queryView","totalRows","shouldReduce","fetchFromView","viewOpts","expectedKeys","parsedKeyAndDocId","parsedNum","parsedStr","arrayElement","objElement","parseIndexableString","onMapResultsReady","finalResults","shouldGroup","groups","lvl","POSITIVE_INFINITY","groupKey","reduceTry","reduceView","allDocsRes","docIdsToDocs","fetchPromises","keyStart","keyEnd","queryViewInQueue","queryPromised","_query","customQuery","keysAsString","httpQuery","finalPromiseFactory","designDocName","stale","coerceOptions","viewCleanup","_viewCleanup","customViewCleanup","httpViewCleanup","docsToViews","viewsToStatus","ddocName","viewDBNames","statusIsGood","viewDBName","destroyPromises","localViewCleanup","createAbstractMapReduce","origMap","reduceFunString","builtIn","getBuiltIn","mapreduce","isGenOne$1","getDocAttachments","getDocs","diffs","resultDocs","fetchRevisionOneDocs","hasConflicts","bulkGetOpts","missingRev","createBulkGetOpts","bulkGetResponse","bulkGetInfo","remoteDoc","doCheckForLocalAttachments","fileHasChanged","getDocAttachmentsFromTargetOrSource","Boolean","REPLICATOR","updateCheckpoint","checkpoint","session","returnValue","session_id","replicator","Checkpointer","writeCheckpoint","updateTarget","updateSource","writeTargetCheckpoint","writeSourceCheckpoint","isForbiddenError","comparisons","targetDoc","sourceDoc","srcDoc","tgtDoc","compareReplicationHistory","compareReplicationLogs","sourceHistory","targetHistory","S","sourceRest","T","targetRest","hasSessionId","sessionId","getCheckpoint","generateReplicationId","queryParams","filterViewName","sortObjectPropertiesByKey","queryData","md5sum","replicate","currentBatch","repId","checkpointer","batches","pendingBatch","writingCheckpoint","changesCompleted","replicationCompleted","batches_limit","changesPending","changedDocs","start_time","docs_read","docs_written","doc_write_failures","errors","initCheckpointer","checkpointOpts","writeDocs","bulkOpts","completeReplication","errorsById","errorsNo","errorName","finishBatch","outResult","getChanges","onCheckpointError","getBatchDocs","got","startNextBatch","getDiffs","abortReplication","processPendingBatch","immediate$$1","fatalError","end_time","retry","back_off_function","backOffSet","current_back_off","backOff","onChangesComplete","onChangesError","_abortChanges","abortChanges","startChanges","_addedListeners","Replication","toPouch","PouchConstructor","replicateWrapper","replicateRet","Sync","canceled","optsPush","optsPull","pullChange","direction","pushChange","pushDenied","pullDenied","pushPaused","pullPaused","pushActive","pullActive","removed","removeAll","addOneListener","_readyCalled","replicateMethods","scheduleDrain","scheduled","install","queueMicrotask","Mutation","MutationObserver","WebKitMutationObserver","handle","observer","createTextNode","observe","characterData","MessageChannel","channel","port1","port2","postMessage","createElement","scriptEl","onreadystatechange","parentNode","removeChild","appendChild","t","hex_chr","md5cycle","md5blk","md5blks","md5blk_array","md51","tmp","md51_array","rhex","hex","toUtf8","utf8Str2ArrayBuffer","returnUInt8Array","arrayBuffer2Utf8Str","concatenateArrayBuffers","second","hexToBinaryString","SparkMD5","reset","begin","contents","_buff","_length","_hash","getState","setState","hashBinary","factory","arrayPrefix","objPrefix","numChar","parsedString","lastCh","numConsecutiveSlashes","MqttClient","brokerUrl","parseAuthOptions","cert","isSecure","defaultProtocol","servers","_reconnectCount","mqtt","tcp","ssl","mqtts","wxs","ali","alis","wss","mqttPacket","reInterval","validations","defaultConnectOptions","reschedulePings","reconnectPeriod","connectTimeout","resubscribe","socketErrors","16","17","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","sendPacket","writeToStream","storeAndSend","cbStorePut","outgoingStore","streamBuilder","customHandleAcks","incomingStore","queueQoSZero","_resubscribeTopics","messageIdToTopic","pingTimer","connected","disconnecting","connackTimer","reconnectTimer","_storeProcessing","_packetIdsDuringStoreProcessing","nextId","_firstConnection","deliver","_sendPacket","_setupReconnect","_setupStream","connectPacket","completeParse","packets","nextTickWork","work","_handlePacket","_clearReconnect","volatile","authPacket","_cleanUp","_handlePublish","_handleAck","_handlePubrel","_handleConnack","_handlePingresp","_handleDisconnect","_checkDisconnecting","_nextId","_storePacket","invalidTopic","validateTopics","currentOpts","topics","closeStores","disconnected","e1","e2","_deferredReconnect","removeOutgoingMessage","reconnect","_reconnect","reconnecting","setInterval","clearInterval","forced","_shiftPingInterval","_setupPingTimer","pingResp","_checkPing","reschedule","_onConnect","validReasonCodes","handleMessage","pubackRC","pubrecRC","grantedI","comp","pub","getLastMessageId","_resubscribe","_resubscribeTopicsKeys","topicI","resubscribeTopic","startStreamProcess","outStore","clearStoreProcessing","allProcessed","storeDeliver","lens","getLens","validLen","placeHoldersLen","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","maxChunkLength","len2","encodeChunk","lookup","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","enumerableOnly","symbols","sym","_defineProperty","_defineProperties","descriptor","custom","instance","Constructor","_classCallCheck","protoProps","staticProps","_getString","_getBuffer","getOwnPropertyDescriptors","defineProperties","_objectSpread","customInspect","_Object$setPrototypeO","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","lastPromise","wrapForNext","_Object$create","ERR_MISSING_ARGS","closed","popCallback","streams","destroys","bl","Packet","constants","Parser","_list","_stateCounter","_resetState","_states","zero","_parseVarByteNum","_pos","_parseConnect","_parseConnack","_parsePublish","_parseConfirmation","_parseSubscribe","_parseSuback","_parseUnsubscribe","_parseUnsuback","_parseDisconnect","_parseAuth","_emitError","_parseString","_parseNum","_parseProperties","_parseBuffer","_parseMessageId","subscription","_parseByte","maybeBuffer","fullInfoFlag","_parse4ByteNum","_parseStringPair","_parseByType","currentUserProperty","opt","_setPrototypeOf","_getPrototypeOf","sham","Proxy","_typeof","assertThisInitialized","ReferenceError","DuplexStream","BufferListStream","_callback","piper","_init","_new","_appendBuffer","_bufs","_isBufferList","isBufferList","for","_offset","tot","_t","_reverseOffset","blOffset","bufferId","dstStart","srcStart","srcEnd","bufoff","shallowSlice","startOffset","endOffset","trunc","duplicate","blIndex","buffOffset","nativeSearchResult","revOffset","_match","searchOffset","methods","createDebug","prevTime","enableOverride","enabled","curr","ms","coerce","format","formatter","logFn","selectColor","delimiter","newDebug","toNamespace","default","disable","skips","enable","arrayWithoutHoles","iterableToArray","nonIterableSpread","plural","msAbs","isPlural","long","fmtLong","fmtShort","Accumulator","_array","_i","lengths","SubOk","generateBuffer","digit","ReInterval","_args","_interval","validateTopic","punycode","Url","slashes","pathname","href","urlParse","relative","resolveObject","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","parseQueryString","slashesDenoteHost","u","queryIndex","splitter","uSplit","simplePath","lowerProto","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","toASCII","ae","esc","qm","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","authInHost","hasTrailingSlash","up","isAbsolute","maxInt","base","regexPunycode","regexNonASCII","regexSeparators","stringFromCharCode","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","flag","adapt","numPoints","firstTime","baseMinusTMin","decode","basic","oldi","baseMinusT","inputLength","bias","encode","handledCPCount","basicLength","q","handledCPCountPlusOne","qMinusT","qs","sep","maxKeys","kstr","vstr","stringifyPrimitive","ks","Timeout","clearFn","_clearFn","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","runIfPresent","importScripts","postMessageIsAsynchronous","oldOnMessage","canUsePostMessage","messagePrefix","onGlobalMessage","attachEvent","installPostMessageImplementation","installMessageChannelImplementation","html","script","installReadyStateChangeImplementation","onexit","exitCode","onclosenexttick","stdio","isChildProcess","wrappy","onceStrict","onceError","strict","_duplexState","getStateLength","parseMultilog","parseMultilogLine","parseCurrentSettings","deviceIdNumberToString","deviceIdStringToNumber","valueToRawNumber","createCompactLog","DevicesInfo","labelToNumber","lines","description","unit","pcbProbe","liquidProbe","pcbTemperature","liquidTemperature","targetTemperature","weight","stepper","food","pid","sedimentation","filling","emptying","deviceCode","idString","int16ToHex","circulars","clones","cloneNode","getTime","errorToString","regExpToString","SYMBOL_REGEXP","printNumber","printSimpleValue","quoteStrings","typeOf","printValue","mixed","required","notOneOf","notType","isCast","defined","email","lowercase","uppercase","lessThan","moreThan","positive","negative","integer","date","boolean","isValue","noUnknown","__isYupSchema__","Condition","refs","otherwise","is","check","schema","isSchema","Parent","Class","_cache","Wrapper","_extends","strReg","ValidationError","errorOrErrors","inner","runTests","endEarly","tests","nestedErrors","prefixes","Reference","isContext","isSibling","__isYupRef","createValidation","_ref","excluded","sourceKeys","_objectWithoutPropertiesLoose","Ref","isRef","overrides","nextParams","formatError","_ref2","validOrError","OPTIONS","getIn","lastPart","lastPartDebug","_part","innerType","parentPath","ReferenceSet","describe","newItems","removeItems","BaseSchema","deps","conditions","_whitelist","_blacklist","exclusiveTests","withMutation","typeError","locale","spec","strip","abortEarly","recursive","nullable","presence","_value","_mutate","_typeError","_whitelistError","_blacklistError","meta","combined","mergedSpec","_typeCheck","condition","resolvedSchema","_cast","assert","formattedValue","formattedResult","rawValue","_options","getDefault","initialTests","maybeCb","_validate","validateSync","_getDefault","def","exclusive","_isPresent","isNullable","isExclusive","dep","enums","valids","invalids","alias","optional","notRequired","Mixed","BooleanSchema","isAbsent","desc","rEmail","rUrl","rUUID","isTrimmed","objStringTag","StringSchema","strValue","regex","excludeEmptyString","NumberSchema","less","more","_method","avail","isoReg","invalidDate","DateSchema","timestamp","struct","numericKeys","minutesOffset","UTC","isoParse","cast","prepareParam","INVALID_DATE","sortFields","excludes","addNode","depPath","ii","_err$path","sortByKeyOrder","unknown","known","defaultSort","ObjectSchema","_sortErrors","_nodes","_excludedEdges","shape","_options$stripUnknown","stripUnknown","intermediateValue","innerOptions","__validating","isChanged","exists","fieldValue","inputValue","fieldSpec","nextFields","schemaOrRef","dft","getDefaultFromShape","additions","picked","fromGetter","newObj","noAllow","unknownKeys","allow","transformKeys","ArraySchema","_opts","castElement","_options$abortEarly","_options$recursive","original","rejector","getRandomValues","crypto","msCrypto","rnds8","rng","byteToHex","bytesToUuid","bth","rnds"],"mappings":"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","file":"static/js/2.45d3c3b7.chunk.js","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/**\n * Based on Kendo UI Core expression code <https://github.com/telerik/kendo-ui-core#license-information>\n */\n'use strict'\n\nfunction Cache(maxSize) {\n  this._maxSize = maxSize\n  this.clear()\n}\nCache.prototype.clear = function () {\n  this._size = 0\n  this._values = Object.create(null)\n}\nCache.prototype.get = function (key) {\n  return this._values[key]\n}\nCache.prototype.set = function (key, value) {\n  this._size >= this._maxSize && this.clear()\n  if (!(key in this._values)) this._size++\n\n  return (this._values[key] = value)\n}\n\nvar SPLIT_REGEX = /[^.^\\]^[]+|(?=\\[\\]|\\.\\.)/g,\n  DIGIT_REGEX = /^\\d+$/,\n  LEAD_DIGIT_REGEX = /^\\d/,\n  SPEC_CHAR_REGEX = /[~`!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g,\n  CLEAN_QUOTES_REGEX = /^\\s*(['\"]?)(.*?)(\\1)\\s*$/,\n  MAX_CACHE_SIZE = 512\n\nvar pathCache = new Cache(MAX_CACHE_SIZE),\n  setCache = new Cache(MAX_CACHE_SIZE),\n  getCache = new Cache(MAX_CACHE_SIZE)\n\nvar config\n\nmodule.exports = {\n  Cache: Cache,\n\n  split: split,\n\n  normalizePath: normalizePath,\n\n  setter: function (path) {\n    var parts = normalizePath(path)\n\n    return (\n      setCache.get(path) ||\n      setCache.set(path, function setter(obj, value) {\n        var index = 0\n        var len = parts.length\n        var data = obj\n\n        while (index < len - 1) {\n          var part = parts[index]\n          if (\n            part === '__proto__' ||\n            part === 'constructor' ||\n            part === 'prototype'\n          ) {\n            return obj\n          }\n\n          data = data[parts[index++]]\n        }\n        data[parts[index]] = value\n      })\n    )\n  },\n\n  getter: function (path, safe) {\n    var parts = normalizePath(path)\n    return (\n      getCache.get(path) ||\n      getCache.set(path, function getter(data) {\n        var index = 0,\n          len = parts.length\n        while (index < len) {\n          if (data != null || !safe) data = data[parts[index++]]\n          else return\n        }\n        return data\n      })\n    )\n  },\n\n  join: function (segments) {\n    return segments.reduce(function (path, part) {\n      return (\n        path +\n        (isQuoted(part) || DIGIT_REGEX.test(part)\n          ? '[' + part + ']'\n          : (path ? '.' : '') + part)\n      )\n    }, '')\n  },\n\n  forEach: function (path, cb, thisArg) {\n    forEach(Array.isArray(path) ? path : split(path), cb, thisArg)\n  },\n}\n\nfunction normalizePath(path) {\n  return (\n    pathCache.get(path) ||\n    pathCache.set(\n      path,\n      split(path).map(function (part) {\n        return part.replace(CLEAN_QUOTES_REGEX, '$2')\n      })\n    )\n  )\n}\n\nfunction split(path) {\n  return path.match(SPLIT_REGEX)\n}\n\nfunction forEach(parts, iter, thisArg) {\n  var len = parts.length,\n    part,\n    idx,\n    isArray,\n    isBracket\n\n  for (idx = 0; idx < len; idx++) {\n    part = parts[idx]\n\n    if (part) {\n      if (shouldBeQuoted(part)) {\n        part = '\"' + part + '\"'\n      }\n\n      isBracket = isQuoted(part)\n      isArray = !isBracket && /^\\d+$/.test(part)\n\n      iter.call(thisArg, part, isBracket, isArray, idx, parts)\n    }\n  }\n}\n\nfunction isQuoted(str) {\n  return (\n    typeof str === 'string' && str && [\"'\", '\"'].indexOf(str.charAt(0)) !== -1\n  )\n}\n\nfunction hasLeadingNumber(part) {\n  return part.match(LEAD_DIGIT_REGEX) && !part.match(DIGIT_REGEX)\n}\n\nfunction hasSpecialChars(part) {\n  return SPEC_CHAR_REGEX.test(part)\n}\n\nfunction shouldBeQuoted(part) {\n  return !isQuoted(part) && (hasLeadingNumber(part) || hasSpecialChars(part))\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","'use strict';\n\nmodule.exports = function calculateCheckDigit(hexString) {\n  let checkDigit = 0;\n  for (let i = 0; i < hexString.length; i = i + 2) {\n    checkDigit ^= parseInt(`${hexString[i]}${hexString[i + 1]}`, 16);\n  }\n  // console.log(checkDigit.toString(16));\n  return checkDigit;\n};\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nmodule.exports = _createForOfIteratorHelper;","'use strict'\nvar tls = require('tls')\nvar debug = require('debug')('mqttjs:tls')\n\nfunction buildBuilder (mqttClient, opts) {\n  var connection\n  opts.port = opts.port || 8883\n  opts.host = opts.hostname || opts.host || 'localhost'\n  opts.servername = opts.host\n\n  opts.rejectUnauthorized = opts.rejectUnauthorized !== false\n\n  delete opts.path\n\n  debug('port %d host %s rejectUnauthorized %b', opts.port, opts.host, opts.rejectUnauthorized)\n\n  connection = tls.connect(opts)\n  /* eslint no-use-before-define: [2, \"nofunc\"] */\n  connection.on('secureConnect', function () {\n    if (opts.rejectUnauthorized && !connection.authorized) {\n      connection.emit('error', new Error('TLS not authorized'))\n    } else {\n      connection.removeListener('error', handleTLSerrors)\n    }\n  })\n\n  function handleTLSerrors (err) {\n    // How can I get verify this error is a tls error?\n    if (opts.rejectUnauthorized) {\n      mqttClient.emit('error', err)\n    }\n\n    // close this connection to match the behaviour of net\n    // otherwise all we get is an error from the connection\n    // and close event doesn't fire. This is a work around\n    // to enable the reconnect code to work the same as with\n    // net.createConnection\n    connection.end()\n  }\n\n  connection.on('error', handleTLSerrors)\n  return connection\n}\n\nmodule.exports = buildBuilder\n","var stream = require('readable-stream')\nvar eos = require('end-of-stream')\nvar inherits = require('inherits')\nvar shift = require('stream-shift')\n\nvar SIGNAL_FLUSH = (Buffer.from && Buffer.from !== Uint8Array.from)\n  ? Buffer.from([0])\n  : new Buffer([0])\n\nvar onuncork = function(self, fn) {\n  if (self._corked) self.once('uncork', fn)\n  else fn()\n}\n\nvar autoDestroy = function (self, err) {\n  if (self._autoDestroy) self.destroy(err)\n}\n\nvar destroyer = function(self, end) {\n  return function(err) {\n    if (err) autoDestroy(self, err.message === 'premature close' ? null : err)\n    else if (end && !self._ended) self.end()\n  }\n}\n\nvar end = function(ws, fn) {\n  if (!ws) return fn()\n  if (ws._writableState && ws._writableState.finished) return fn()\n  if (ws._writableState) return ws.end(fn)\n  ws.end()\n  fn()\n}\n\nvar toStreams2 = function(rs) {\n  return new (stream.Readable)({objectMode:true, highWaterMark:16}).wrap(rs)\n}\n\nvar Duplexify = function(writable, readable, opts) {\n  if (!(this instanceof Duplexify)) return new Duplexify(writable, readable, opts)\n  stream.Duplex.call(this, opts)\n\n  this._writable = null\n  this._readable = null\n  this._readable2 = null\n\n  this._autoDestroy = !opts || opts.autoDestroy !== false\n  this._forwardDestroy = !opts || opts.destroy !== false\n  this._forwardEnd = !opts || opts.end !== false\n  this._corked = 1 // start corked\n  this._ondrain = null\n  this._drained = false\n  this._forwarding = false\n  this._unwrite = null\n  this._unread = null\n  this._ended = false\n\n  this.destroyed = false\n\n  if (writable) this.setWritable(writable)\n  if (readable) this.setReadable(readable)\n}\n\ninherits(Duplexify, stream.Duplex)\n\nDuplexify.obj = function(writable, readable, opts) {\n  if (!opts) opts = {}\n  opts.objectMode = true\n  opts.highWaterMark = 16\n  return new Duplexify(writable, readable, opts)\n}\n\nDuplexify.prototype.cork = function() {\n  if (++this._corked === 1) this.emit('cork')\n}\n\nDuplexify.prototype.uncork = function() {\n  if (this._corked && --this._corked === 0) this.emit('uncork')\n}\n\nDuplexify.prototype.setWritable = function(writable) {\n  if (this._unwrite) this._unwrite()\n\n  if (this.destroyed) {\n    if (writable && writable.destroy) writable.destroy()\n    return\n  }\n\n  if (writable === null || writable === false) {\n    this.end()\n    return\n  }\n\n  var self = this\n  var unend = eos(writable, {writable:true, readable:false}, destroyer(this, this._forwardEnd))\n\n  var ondrain = function() {\n    var ondrain = self._ondrain\n    self._ondrain = null\n    if (ondrain) ondrain()\n  }\n\n  var clear = function() {\n    self._writable.removeListener('drain', ondrain)\n    unend()\n  }\n\n  if (this._unwrite) process.nextTick(ondrain) // force a drain on stream reset to avoid livelocks\n\n  this._writable = writable\n  this._writable.on('drain', ondrain)\n  this._unwrite = clear\n\n  this.uncork() // always uncork setWritable\n}\n\nDuplexify.prototype.setReadable = function(readable) {\n  if (this._unread) this._unread()\n\n  if (this.destroyed) {\n    if (readable && readable.destroy) readable.destroy()\n    return\n  }\n\n  if (readable === null || readable === false) {\n    this.push(null)\n    this.resume()\n    return\n  }\n\n  var self = this\n  var unend = eos(readable, {writable:false, readable:true}, destroyer(this))\n\n  var onreadable = function() {\n    self._forward()\n  }\n\n  var onend = function() {\n    self.push(null)\n  }\n\n  var clear = function() {\n    self._readable2.removeListener('readable', onreadable)\n    self._readable2.removeListener('end', onend)\n    unend()\n  }\n\n  this._drained = true\n  this._readable = readable\n  this._readable2 = readable._readableState ? readable : toStreams2(readable)\n  this._readable2.on('readable', onreadable)\n  this._readable2.on('end', onend)\n  this._unread = clear\n\n  this._forward()\n}\n\nDuplexify.prototype._read = function() {\n  this._drained = true\n  this._forward()\n}\n\nDuplexify.prototype._forward = function() {\n  if (this._forwarding || !this._readable2 || !this._drained) return\n  this._forwarding = true\n\n  var data\n\n  while (this._drained && (data = shift(this._readable2)) !== null) {\n    if (this.destroyed) continue\n    this._drained = this.push(data)\n  }\n\n  this._forwarding = false\n}\n\nDuplexify.prototype.destroy = function(err) {\n  if (this.destroyed) return\n  this.destroyed = true\n\n  var self = this\n  process.nextTick(function() {\n    self._destroy(err)\n  })\n}\n\nDuplexify.prototype._destroy = function(err) {\n  if (err) {\n    var ondrain = this._ondrain\n    this._ondrain = null\n    if (ondrain) ondrain(err)\n    else this.emit('error', err)\n  }\n\n  if (this._forwardDestroy) {\n    if (this._readable && this._readable.destroy) this._readable.destroy()\n    if (this._writable && this._writable.destroy) this._writable.destroy()\n  }\n\n  this.emit('close')\n}\n\nDuplexify.prototype._write = function(data, enc, cb) {\n  if (this.destroyed) return cb()\n  if (this._corked) return onuncork(this, this._write.bind(this, data, enc, cb))\n  if (data === SIGNAL_FLUSH) return this._finish(cb)\n  if (!this._writable) return cb()\n\n  if (this._writable.write(data) === false) this._ondrain = cb\n  else cb()\n}\n\nDuplexify.prototype._finish = function(cb) {\n  var self = this\n  this.emit('preend')\n  onuncork(this, function() {\n    end(self._forwardEnd && self._writable, function() {\n      // haxx to not emit prefinish twice\n      if (self._writableState.prefinished === false) self._writableState.prefinished = true\n      self.emit('prefinish')\n      onuncork(self, cb)\n    })\n  })\n}\n\nDuplexify.prototype.end = function(data, enc, cb) {\n  if (typeof data === 'function') return this.end(null, null, data)\n  if (typeof enc === 'function') return this.end(data, null, enc)\n  this._ended = true\n  if (data) this.write(data)\n  if (!this._writableState.ending) this.write(SIGNAL_FLUSH)\n  return stream.Writable.prototype.end.call(this, cb)\n}\n\nmodule.exports = Duplexify\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","'use strict';\n\nmodule.exports = function hexToInt16(hexa) {\n  let value = parseInt(`${hexa}`, 16);\n  if (value > 32767) {\n    return (65536 - value) * -1;\n  }\n  return value;\n};\n","'use strict';\n\nmodule.exports = {\n  OpenBio: require('./devices/OpenBio'),\n  OpenSpectro: require('./devices/OpenSpectro'),\n  SimpleSpectro: require('./devices/SimpleSpectro'),\n  Solar2015: require('./devices/Solar2015'),\n  Beemos: require('./devices/Beemos'),\n  Computer: require('./devices/Computer')\n};\n","'use strict';\n\nmodule.exports = function labelToNumber(code) {\n  let value = 0;\n  for (let char of code) {\n    value *= 26;\n    value += char.charCodeAt(0) - 64;\n  }\n  return value - 1;\n};\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayReduce = require('./_arrayReduce'),\n    deburr = require('./deburr'),\n    words = require('./words');\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nmodule.exports = createCompounder;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","'use strict'\n\n/**\n * Module dependencies\n */\nvar xtend = require('xtend')\n\nvar Readable = require('readable-stream').Readable\nvar streamsOpts = { objectMode: true }\nvar defaultStoreOptions = {\n  clean: true\n}\n\n/**\n * In-memory implementation of the message store\n * This can actually be saved into files.\n *\n * @param {Object} [options] - store options\n */\nfunction Store (options) {\n  if (!(this instanceof Store)) {\n    return new Store(options)\n  }\n\n  this.options = options || {}\n\n  // Defaults\n  this.options = xtend(defaultStoreOptions, options)\n\n  this._inflights = new Map()\n}\n\n/**\n * Adds a packet to the store, a packet is\n * anything that has a messageId property.\n *\n */\nStore.prototype.put = function (packet, cb) {\n  this._inflights.set(packet.messageId, packet)\n\n  if (cb) {\n    cb()\n  }\n\n  return this\n}\n\n/**\n * Creates a stream with all the packets in the store\n *\n */\nStore.prototype.createStream = function () {\n  var stream = new Readable(streamsOpts)\n  var destroyed = false\n  var values = []\n  var i = 0\n\n  this._inflights.forEach(function (value, key) {\n    values.push(value)\n  })\n\n  stream._read = function () {\n    if (!destroyed && i < values.length) {\n      this.push(values[i++])\n    } else {\n      this.push(null)\n    }\n  }\n\n  stream.destroy = function () {\n    if (destroyed) {\n      return\n    }\n\n    var self = this\n\n    destroyed = true\n\n    setTimeout(function () {\n      self.emit('close')\n    }, 0)\n  }\n\n  return stream\n}\n\n/**\n * deletes a packet from the store.\n */\nStore.prototype.del = function (packet, cb) {\n  packet = this._inflights.get(packet.messageId)\n  if (packet) {\n    this._inflights.delete(packet.messageId)\n    cb(null, packet)\n  } else if (cb) {\n    cb(new Error('missing packet'))\n  }\n\n  return this\n}\n\n/**\n * get a packet from the store.\n */\nStore.prototype.get = function (packet, cb) {\n  packet = this._inflights.get(packet.messageId)\n  if (packet) {\n    cb(null, packet)\n  } else if (cb) {\n    cb(new Error('missing packet'))\n  }\n\n  return this\n}\n\n/**\n * Close the store\n */\nStore.prototype.close = function (cb) {\n  if (this.options.clean) {\n    this._inflights = null\n  }\n  if (cb) {\n    cb()\n  }\n}\n\nmodule.exports = Store\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","module.exports = require('events').EventEmitter;\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper;","/* Protocol - protocol constants */\nconst protocol = module.exports\n\n/* Command code => mnemonic */\nprotocol.types = {\n  0: 'reserved',\n  1: 'connect',\n  2: 'connack',\n  3: 'publish',\n  4: 'puback',\n  5: 'pubrec',\n  6: 'pubrel',\n  7: 'pubcomp',\n  8: 'subscribe',\n  9: 'suback',\n  10: 'unsubscribe',\n  11: 'unsuback',\n  12: 'pingreq',\n  13: 'pingresp',\n  14: 'disconnect',\n  15: 'auth'\n}\n\n/* Mnemonic => Command code */\nprotocol.codes = {}\nfor (const k in protocol.types) {\n  const v = protocol.types[k]\n  protocol.codes[v] = k\n}\n\n/* Header */\nprotocol.CMD_SHIFT = 4\nprotocol.CMD_MASK = 0xF0\nprotocol.DUP_MASK = 0x08\nprotocol.QOS_MASK = 0x03\nprotocol.QOS_SHIFT = 1\nprotocol.RETAIN_MASK = 0x01\n\n/* Length */\nprotocol.VARBYTEINT_MASK = 0x7F\nprotocol.VARBYTEINT_FIN_MASK = 0x80\nprotocol.VARBYTEINT_MAX = 268435455\n\n/* Connack */\nprotocol.SESSIONPRESENT_MASK = 0x01\nprotocol.SESSIONPRESENT_HEADER = Buffer.from([protocol.SESSIONPRESENT_MASK])\nprotocol.CONNACK_HEADER = Buffer.from([protocol.codes.connack << protocol.CMD_SHIFT])\n\n/* Connect */\nprotocol.USERNAME_MASK = 0x80\nprotocol.PASSWORD_MASK = 0x40\nprotocol.WILL_RETAIN_MASK = 0x20\nprotocol.WILL_QOS_MASK = 0x18\nprotocol.WILL_QOS_SHIFT = 3\nprotocol.WILL_FLAG_MASK = 0x04\nprotocol.CLEAN_SESSION_MASK = 0x02\nprotocol.CONNECT_HEADER = Buffer.from([protocol.codes.connect << protocol.CMD_SHIFT])\n\n/* Properties */\nprotocol.properties = {\n  sessionExpiryInterval: 17,\n  willDelayInterval: 24,\n  receiveMaximum: 33,\n  maximumPacketSize: 39,\n  topicAliasMaximum: 34,\n  requestResponseInformation: 25,\n  requestProblemInformation: 23,\n  userProperties: 38,\n  authenticationMethod: 21,\n  authenticationData: 22,\n  payloadFormatIndicator: 1,\n  messageExpiryInterval: 2,\n  contentType: 3,\n  responseTopic: 8,\n  correlationData: 9,\n  maximumQoS: 36,\n  retainAvailable: 37,\n  assignedClientIdentifier: 18,\n  reasonString: 31,\n  wildcardSubscriptionAvailable: 40,\n  subscriptionIdentifiersAvailable: 41,\n  sharedSubscriptionAvailable: 42,\n  serverKeepAlive: 19,\n  responseInformation: 26,\n  serverReference: 28,\n  topicAlias: 35,\n  subscriptionIdentifier: 11\n}\nprotocol.propertiesCodes = {}\nfor (const prop in protocol.properties) {\n  const id = protocol.properties[prop]\n  protocol.propertiesCodes[id] = prop\n}\nprotocol.propertiesTypes = {\n  sessionExpiryInterval: 'int32',\n  willDelayInterval: 'int32',\n  receiveMaximum: 'int16',\n  maximumPacketSize: 'int32',\n  topicAliasMaximum: 'int16',\n  requestResponseInformation: 'byte',\n  requestProblemInformation: 'byte',\n  userProperties: 'pair',\n  authenticationMethod: 'string',\n  authenticationData: 'binary',\n  payloadFormatIndicator: 'byte',\n  messageExpiryInterval: 'int32',\n  contentType: 'string',\n  responseTopic: 'string',\n  correlationData: 'binary',\n  maximumQoS: 'int8',\n  retainAvailable: 'byte',\n  assignedClientIdentifier: 'string',\n  reasonString: 'string',\n  wildcardSubscriptionAvailable: 'byte',\n  subscriptionIdentifiersAvailable: 'byte',\n  sharedSubscriptionAvailable: 'byte',\n  serverKeepAlive: 'int16',\n  responseInformation: 'string',\n  serverReference: 'string',\n  topicAlias: 'int16',\n  subscriptionIdentifier: 'var'\n}\n\nfunction genHeader (type) {\n  return [0, 1, 2].map(qos => {\n    return [0, 1].map(dup => {\n      return [0, 1].map(retain => {\n        const buf = Buffer.alloc(1)\n        buf.writeUInt8(\n          protocol.codes[type] << protocol.CMD_SHIFT |\n          (dup ? protocol.DUP_MASK : 0) |\n          qos << protocol.QOS_SHIFT | retain, 0, true)\n        return buf\n      })\n    })\n  })\n}\n\n/* Publish */\nprotocol.PUBLISH_HEADER = genHeader('publish')\n\n/* Subscribe */\nprotocol.SUBSCRIBE_HEADER = genHeader('subscribe')\nprotocol.SUBSCRIBE_OPTIONS_QOS_MASK = 0x03\nprotocol.SUBSCRIBE_OPTIONS_NL_MASK = 0x01\nprotocol.SUBSCRIBE_OPTIONS_NL_SHIFT = 2\nprotocol.SUBSCRIBE_OPTIONS_RAP_MASK = 0x01\nprotocol.SUBSCRIBE_OPTIONS_RAP_SHIFT = 3\nprotocol.SUBSCRIBE_OPTIONS_RH_MASK = 0x03\nprotocol.SUBSCRIBE_OPTIONS_RH_SHIFT = 4\nprotocol.SUBSCRIBE_OPTIONS_RH = [0x00, 0x10, 0x20]\nprotocol.SUBSCRIBE_OPTIONS_NL = 0x04\nprotocol.SUBSCRIBE_OPTIONS_RAP = 0x08\nprotocol.SUBSCRIBE_OPTIONS_QOS = [0x00, 0x01, 0x02]\n\n/* Unsubscribe */\nprotocol.UNSUBSCRIBE_HEADER = genHeader('unsubscribe')\n\n/* Confirmations */\nprotocol.ACKS = {\n  unsuback: genHeader('unsuback'),\n  puback: genHeader('puback'),\n  pubcomp: genHeader('pubcomp'),\n  pubrel: genHeader('pubrel'),\n  pubrec: genHeader('pubrec')\n}\n\nprotocol.SUBACK_HEADER = Buffer.from([protocol.codes.suback << protocol.CMD_SHIFT])\n\n/* Protocol versions */\nprotocol.VERSION3 = Buffer.from([3])\nprotocol.VERSION4 = Buffer.from([4])\nprotocol.VERSION5 = Buffer.from([5])\nprotocol.VERSION131 = Buffer.from([131])\nprotocol.VERSION132 = Buffer.from([132])\n\n/* QoS */\nprotocol.QOS = [0, 1, 2].map(qos => {\n  return Buffer.from([qos])\n})\n\n/* Empty packets */\nprotocol.EMPTY = {\n  pingreq: Buffer.from([protocol.codes.pingreq << 4, 0]),\n  pingresp: Buffer.from([protocol.codes.pingresp << 4, 0]),\n  disconnect: Buffer.from([protocol.codes.disconnect << 4, 0])\n}\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","const protocol = require('./constants')\nconst empty = Buffer.allocUnsafe(0)\nconst zeroBuf = Buffer.from([0])\nconst numbers = require('./numbers')\nconst nextTick = require('process-nextick-args').nextTick\nconst debug = require('debug')('mqtt-packet:writeToStream')\n\nconst numCache = numbers.cache\nconst generateNumber = numbers.generateNumber\nconst generateCache = numbers.generateCache\nconst genBufVariableByteInt = numbers.genBufVariableByteInt\nconst generate4ByteBuffer = numbers.generate4ByteBuffer\nlet writeNumber = writeNumberCached\nlet toGenerate = true\n\nfunction generate (packet, stream, opts) {\n  debug('generate called')\n  if (stream.cork) {\n    stream.cork()\n    nextTick(uncork, stream)\n  }\n\n  if (toGenerate) {\n    toGenerate = false\n    generateCache()\n  }\n  debug('generate: packet.cmd: %s', packet.cmd)\n  switch (packet.cmd) {\n    case 'connect':\n      return connect(packet, stream, opts)\n    case 'connack':\n      return connack(packet, stream, opts)\n    case 'publish':\n      return publish(packet, stream, opts)\n    case 'puback':\n    case 'pubrec':\n    case 'pubrel':\n    case 'pubcomp':\n      return confirmation(packet, stream, opts)\n    case 'subscribe':\n      return subscribe(packet, stream, opts)\n    case 'suback':\n      return suback(packet, stream, opts)\n    case 'unsubscribe':\n      return unsubscribe(packet, stream, opts)\n    case 'unsuback':\n      return unsuback(packet, stream, opts)\n    case 'pingreq':\n    case 'pingresp':\n      return emptyPacket(packet, stream, opts)\n    case 'disconnect':\n      return disconnect(packet, stream, opts)\n    case 'auth':\n      return auth(packet, stream, opts)\n    default:\n      stream.emit('error', new Error('Unknown command'))\n      return false\n  }\n}\n/**\n * Controls numbers cache.\n * Set to \"false\" to allocate buffers on-the-flight instead of pre-generated cache\n */\nObject.defineProperty(generate, 'cacheNumbers', {\n  get () {\n    return writeNumber === writeNumberCached\n  },\n  set (value) {\n    if (value) {\n      if (!numCache || Object.keys(numCache).length === 0) toGenerate = true\n      writeNumber = writeNumberCached\n    } else {\n      toGenerate = false\n      writeNumber = writeNumberGenerated\n    }\n  }\n})\n\nfunction uncork (stream) {\n  stream.uncork()\n}\n\nfunction connect (packet, stream, opts) {\n  const settings = packet || {}\n  const protocolId = settings.protocolId || 'MQTT'\n  let protocolVersion = settings.protocolVersion || 4\n  const will = settings.will\n  let clean = settings.clean\n  const keepalive = settings.keepalive || 0\n  const clientId = settings.clientId || ''\n  const username = settings.username\n  const password = settings.password\n  /* mqtt5 new oprions */\n  const properties = settings.properties\n\n  if (clean === undefined) clean = true\n\n  let length = 0\n\n  // Must be a string and non-falsy\n  if (!protocolId ||\n     (typeof protocolId !== 'string' && !Buffer.isBuffer(protocolId))) {\n    stream.emit('error', new Error('Invalid protocolId'))\n    return false\n  } else length += protocolId.length + 2\n\n  // Must be 3 or 4 or 5\n  if (protocolVersion !== 3 && protocolVersion !== 4 && protocolVersion !== 5) {\n    stream.emit('error', new Error('Invalid protocol version'))\n    return false\n  } else length += 1\n\n  // ClientId might be omitted in 3.1.1 and 5, but only if cleanSession is set to 1\n  if ((typeof clientId === 'string' || Buffer.isBuffer(clientId)) &&\n     (clientId || protocolVersion >= 4) && (clientId || clean)) {\n    length += Buffer.byteLength(clientId) + 2\n  } else {\n    if (protocolVersion < 4) {\n      stream.emit('error', new Error('clientId must be supplied before 3.1.1'))\n      return false\n    }\n    if ((clean * 1) === 0) {\n      stream.emit('error', new Error('clientId must be given if cleanSession set to 0'))\n      return false\n    }\n  }\n\n  // Must be a two byte number\n  if (typeof keepalive !== 'number' ||\n      keepalive < 0 ||\n      keepalive > 65535 ||\n      keepalive % 1 !== 0) {\n    stream.emit('error', new Error('Invalid keepalive'))\n    return false\n  } else length += 2\n\n  // Connect flags\n  length += 1\n\n  // Properties\n  if (protocolVersion === 5) {\n    var propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // If will exists...\n  if (will) {\n    // It must be an object\n    if (typeof will !== 'object') {\n      stream.emit('error', new Error('Invalid will'))\n      return false\n    }\n    // It must have topic typeof string\n    if (!will.topic || typeof will.topic !== 'string') {\n      stream.emit('error', new Error('Invalid will topic'))\n      return false\n    } else {\n      length += Buffer.byteLength(will.topic) + 2\n    }\n\n    // Payload\n    length += 2 // payload length\n    if (will.payload) {\n      if (will.payload.length >= 0) {\n        if (typeof will.payload === 'string') {\n          length += Buffer.byteLength(will.payload)\n        } else {\n          length += will.payload.length\n        }\n      } else {\n        stream.emit('error', new Error('Invalid will payload'))\n        return false\n      }\n    }\n    // will properties\n    var willProperties = {}\n    if (protocolVersion === 5) {\n      willProperties = getProperties(stream, will.properties)\n      if (!willProperties) { return false }\n      length += willProperties.length\n    }\n  }\n\n  // Username\n  let providedUsername = false\n  if (username != null) {\n    if (isStringOrBuffer(username)) {\n      providedUsername = true\n      length += Buffer.byteLength(username) + 2\n    } else {\n      stream.emit('error', new Error('Invalid username'))\n      return false\n    }\n  }\n\n  // Password\n  if (password != null) {\n    if (!providedUsername) {\n      stream.emit('error', new Error('Username is required to use password'))\n      return false\n    }\n\n    if (isStringOrBuffer(password)) {\n      length += byteLength(password) + 2\n    } else {\n      stream.emit('error', new Error('Invalid password'))\n      return false\n    }\n  }\n\n  // Generate header\n  stream.write(protocol.CONNECT_HEADER)\n\n  // Generate length\n  writeVarByteInt(stream, length)\n\n  // Generate protocol ID\n  writeStringOrBuffer(stream, protocolId)\n\n  if (settings.bridgeMode) {\n    protocolVersion += 128\n  }\n\n  stream.write(\n    protocolVersion === 131\n      ? protocol.VERSION131\n      : protocolVersion === 132\n        ? protocol.VERSION132\n        : protocolVersion === 4\n          ? protocol.VERSION4\n          : protocolVersion === 5\n            ? protocol.VERSION5\n            : protocol.VERSION3\n  )\n\n  // Connect flags\n  let flags = 0\n  flags |= (username != null) ? protocol.USERNAME_MASK : 0\n  flags |= (password != null) ? protocol.PASSWORD_MASK : 0\n  flags |= (will && will.retain) ? protocol.WILL_RETAIN_MASK : 0\n  flags |= (will && will.qos) ? will.qos << protocol.WILL_QOS_SHIFT : 0\n  flags |= will ? protocol.WILL_FLAG_MASK : 0\n  flags |= clean ? protocol.CLEAN_SESSION_MASK : 0\n\n  stream.write(Buffer.from([flags]))\n\n  // Keepalive\n  writeNumber(stream, keepalive)\n\n  // Properties\n  if (protocolVersion === 5) {\n    propertiesData.write()\n  }\n\n  // Client ID\n  writeStringOrBuffer(stream, clientId)\n\n  // Will\n  if (will) {\n    if (protocolVersion === 5) {\n      willProperties.write()\n    }\n    writeString(stream, will.topic)\n    writeStringOrBuffer(stream, will.payload)\n  }\n\n  // Username and password\n  if (username != null) {\n    writeStringOrBuffer(stream, username)\n  }\n  if (password != null) {\n    writeStringOrBuffer(stream, password)\n  }\n  // This is a small packet that happens only once on a stream\n  // We assume the stream is always free to receive more data after this\n  return true\n}\n\nfunction connack (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const rc = version === 5 ? settings.reasonCode : settings.returnCode\n  const properties = settings.properties\n  let length = 2 // length of rc and sessionHeader\n\n  // Check return code\n  if (typeof rc !== 'number') {\n    stream.emit('error', new Error('Invalid return code'))\n    return false\n  }\n  // mqtt5 properties\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  stream.write(protocol.CONNACK_HEADER)\n  // length\n  writeVarByteInt(stream, length)\n  stream.write(settings.sessionPresent ? protocol.SESSIONPRESENT_HEADER : zeroBuf)\n\n  stream.write(Buffer.from([rc]))\n  if (propertiesData != null) {\n    propertiesData.write()\n  }\n  return true\n}\n\nfunction publish (packet, stream, opts) {\n  debug('publish: packet: %o', packet)\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const qos = settings.qos || 0\n  const retain = settings.retain ? protocol.RETAIN_MASK : 0\n  const topic = settings.topic\n  const payload = settings.payload || empty\n  const id = settings.messageId\n  const properties = settings.properties\n\n  let length = 0\n\n  // Topic must be a non-empty string or Buffer\n  if (typeof topic === 'string') length += Buffer.byteLength(topic) + 2\n  else if (Buffer.isBuffer(topic)) length += topic.length + 2\n  else {\n    stream.emit('error', new Error('Invalid topic'))\n    return false\n  }\n\n  // Get the payload length\n  if (!Buffer.isBuffer(payload)) length += Buffer.byteLength(payload)\n  else length += payload.length\n\n  // Message ID must a number if qos > 0\n  if (qos && typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  } else if (qos) length += 2\n\n  // mqtt5 properties\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.PUBLISH_HEADER[qos][settings.dup ? 1 : 0][retain ? 1 : 0])\n\n  // Remaining length\n  writeVarByteInt(stream, length)\n\n  // Topic\n  writeNumber(stream, byteLength(topic))\n  stream.write(topic)\n\n  // Message ID\n  if (qos > 0) writeNumber(stream, id)\n\n  // Properties\n  if (propertiesData != null) {\n    propertiesData.write()\n  }\n\n  // Payload\n  debug('publish: payload: %o', payload)\n  return stream.write(payload)\n}\n\n/* Puback, pubrec, pubrel and pubcomp */\nfunction confirmation (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const type = settings.cmd || 'puback'\n  const id = settings.messageId\n  const dup = (settings.dup && type === 'pubrel') ? protocol.DUP_MASK : 0\n  let qos = 0\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 3 : 2\n\n  if (type === 'pubrel') qos = 1\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    // Confirm should not add empty property length with no properties (rfc 3.4.2.2.1)\n    if (typeof properties === 'object') {\n      propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n      if (!propertiesData) { return false }\n      length += propertiesData.length\n    }\n  }\n\n  // Header\n  stream.write(protocol.ACKS[type][qos][dup][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // reason code in header\n  if (version === 5) {\n    stream.write(Buffer.from([reasonCode]))\n  }\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n  return true\n}\n\nfunction subscribe (packet, stream, opts) {\n  debug('subscribe: packet: ')\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const id = settings.messageId\n  const subs = settings.subscriptions\n  const properties = settings.properties\n\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  } else length += 2\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Check subscriptions\n  if (typeof subs === 'object' && subs.length) {\n    for (let i = 0; i < subs.length; i += 1) {\n      const itopic = subs[i].topic\n      const iqos = subs[i].qos\n\n      if (typeof itopic !== 'string') {\n        stream.emit('error', new Error('Invalid subscriptions - invalid topic'))\n        return false\n      }\n      if (typeof iqos !== 'number') {\n        stream.emit('error', new Error('Invalid subscriptions - invalid qos'))\n        return false\n      }\n\n      if (version === 5) {\n        const nl = subs[i].nl || false\n        if (typeof nl !== 'boolean') {\n          stream.emit('error', new Error('Invalid subscriptions - invalid No Local'))\n          return false\n        }\n        const rap = subs[i].rap || false\n        if (typeof rap !== 'boolean') {\n          stream.emit('error', new Error('Invalid subscriptions - invalid Retain as Published'))\n          return false\n        }\n        const rh = subs[i].rh || 0\n        if (typeof rh !== 'number' || rh > 2) {\n          stream.emit('error', new Error('Invalid subscriptions - invalid Retain Handling'))\n          return false\n        }\n      }\n\n      length += Buffer.byteLength(itopic) + 2 + 1\n    }\n  } else {\n    stream.emit('error', new Error('Invalid subscriptions'))\n    return false\n  }\n\n  // Generate header\n  debug('subscribe: writing to stream: %o', protocol.SUBSCRIBE_HEADER)\n  stream.write(protocol.SUBSCRIBE_HEADER[1][dup ? 1 : 0][0])\n\n  // Generate length\n  writeVarByteInt(stream, length)\n\n  // Generate message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  let result = true\n\n  // Generate subs\n  for (const sub of subs) {\n    const jtopic = sub.topic\n    const jqos = sub.qos\n    const jnl = +sub.nl\n    const jrap = +sub.rap\n    const jrh = sub.rh\n    let joptions\n\n    // Write topic string\n    writeString(stream, jtopic)\n\n    // options process\n    joptions = protocol.SUBSCRIBE_OPTIONS_QOS[jqos]\n    if (version === 5) {\n      joptions |= jnl ? protocol.SUBSCRIBE_OPTIONS_NL : 0\n      joptions |= jrap ? protocol.SUBSCRIBE_OPTIONS_RAP : 0\n      joptions |= jrh ? protocol.SUBSCRIBE_OPTIONS_RH[jrh] : 0\n    }\n    // Write options\n    result = stream.write(Buffer.from([joptions]))\n  }\n\n  return result\n}\n\nfunction suback (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const granted = settings.granted\n  const properties = settings.properties\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  } else length += 2\n\n  // Check granted qos vector\n  if (typeof granted === 'object' && granted.length) {\n    for (let i = 0; i < granted.length; i += 1) {\n      if (typeof granted[i] !== 'number') {\n        stream.emit('error', new Error('Invalid qos vector'))\n        return false\n      }\n      length += 1\n    }\n  } else {\n    stream.emit('error', new Error('Invalid qos vector'))\n    return false\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // header\n  stream.write(protocol.SUBACK_HEADER)\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  return stream.write(Buffer.from(granted))\n}\n\nfunction unsubscribe (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const unsubs = settings.unsubscriptions\n  const properties = settings.properties\n\n  let length = 0\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  } else {\n    length += 2\n  }\n  // Check unsubs\n  if (typeof unsubs === 'object' && unsubs.length) {\n    for (let i = 0; i < unsubs.length; i += 1) {\n      if (typeof unsubs[i] !== 'string') {\n        stream.emit('error', new Error('Invalid unsubscriptions'))\n        return false\n      }\n      length += Buffer.byteLength(unsubs[i]) + 2\n    }\n  } else {\n    stream.emit('error', new Error('Invalid unsubscriptions'))\n    return false\n  }\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getProperties(stream, properties)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.UNSUBSCRIBE_HEADER[1][dup ? 1 : 0][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  // Unsubs\n  let result = true\n  for (let j = 0; j < unsubs.length; j++) {\n    result = writeString(stream, unsubs[j])\n  }\n\n  return result\n}\n\nfunction unsuback (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const id = settings.messageId\n  const dup = settings.dup ? protocol.DUP_MASK : 0\n  const granted = settings.granted\n  const properties = settings.properties\n  const type = settings.cmd\n  const qos = 0\n\n  let length = 2\n\n  // Check message ID\n  if (typeof id !== 'number') {\n    stream.emit('error', new Error('Invalid messageId'))\n    return false\n  }\n\n  // Check granted\n  if (version === 5) {\n    if (typeof granted === 'object' && granted.length) {\n      for (let i = 0; i < granted.length; i += 1) {\n        if (typeof granted[i] !== 'number') {\n          stream.emit('error', new Error('Invalid qos vector'))\n          return false\n        }\n        length += 1\n      }\n    } else {\n      stream.emit('error', new Error('Invalid qos vector'))\n      return false\n    }\n  }\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(protocol.ACKS[type][qos][dup][0])\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // Message ID\n  writeNumber(stream, id)\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  // payload\n  if (version === 5) {\n    stream.write(Buffer.from(granted))\n  }\n  return true\n}\n\nfunction emptyPacket (packet, stream, opts) {\n  return stream.write(protocol.EMPTY[packet.cmd])\n}\n\nfunction disconnect (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 1 : 0\n\n  // properies mqtt 5\n  let propertiesData = null\n  if (version === 5) {\n    propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n    if (!propertiesData) { return false }\n    length += propertiesData.length\n  }\n\n  // Header\n  stream.write(Buffer.from([protocol.codes.disconnect << 4]))\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // reason code in header\n  if (version === 5) {\n    stream.write(Buffer.from([reasonCode]))\n  }\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n\n  return true\n}\n\nfunction auth (packet, stream, opts) {\n  const version = opts ? opts.protocolVersion : 4\n  const settings = packet || {}\n  const reasonCode = settings.reasonCode\n  const properties = settings.properties\n  let length = version === 5 ? 1 : 0\n\n  if (version !== 5) stream.emit('error', new Error('Invalid mqtt version for auth packet'))\n\n  // properies mqtt 5\n  const propertiesData = getPropertiesByMaximumPacketSize(stream, properties, opts, length)\n  if (!propertiesData) { return false }\n  length += propertiesData.length\n\n  // Header\n  stream.write(Buffer.from([protocol.codes.auth << 4]))\n\n  // Length\n  writeVarByteInt(stream, length)\n\n  // reason code in header\n  stream.write(Buffer.from([reasonCode]))\n\n  // properies mqtt 5\n  if (propertiesData !== null) {\n    propertiesData.write()\n  }\n  return true\n}\n\n/**\n * writeVarByteInt - write an MQTT style variable byte integer to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <Number> length - length (>0)\n * @returns <Number> number of bytes written\n *\n * @api private\n */\n\nconst varByteIntCache = {}\nfunction writeVarByteInt (stream, num) {\n  if (num > protocol.VARBYTEINT_MAX) {\n    stream.emit('error', new Error(`Invalid variable byte integer: ${num}`))\n    return false\n  }\n\n  let buffer = varByteIntCache[num]\n\n  if (!buffer) {\n    buffer = genBufVariableByteInt(num)\n    if (num < 16384) varByteIntCache[num] = buffer\n  }\n  debug('writeVarByteInt: writing to stream: %o', buffer)\n  return stream.write(buffer)\n}\n\n/**\n * writeString - write a utf8 string to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> string - string to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\n\nfunction writeString (stream, string) {\n  const strlen = Buffer.byteLength(string)\n  writeNumber(stream, strlen)\n\n  debug('writeString: %s', string)\n  return stream.write(string, 'utf8')\n}\n\n/**\n * writeStringPair - write a utf8 string pairs to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <String> name - string name to write\n * @param <String> value - string value to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\nfunction writeStringPair (stream, name, value) {\n  writeString(stream, name)\n  writeString(stream, value)\n}\n\n/**\n * writeNumber - write a two byte number to the buffer\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> number - number to write\n * @return <Number> number of bytes written\n *\n * @api private\n */\nfunction writeNumberCached (stream, number) {\n  debug('writeNumberCached: number: %d', number)\n  debug('writeNumberCached: %o', numCache[number])\n  return stream.write(numCache[number])\n}\nfunction writeNumberGenerated (stream, number) {\n  const generatedNumber = generateNumber(number)\n  debug('writeNumberGenerated: %o', generatedNumber)\n  return stream.write(generatedNumber)\n}\nfunction write4ByteNumber (stream, number) {\n  const generated4ByteBuffer = generate4ByteBuffer(number)\n  debug('write4ByteNumber: %o', generated4ByteBuffer)\n  return stream.write(generated4ByteBuffer)\n}\n/**\n * writeStringOrBuffer - write a String or Buffer with the its length prefix\n *\n * @param <Buffer> buffer - destination\n * @param <Number> pos - offset\n * @param <String> toWrite - String or Buffer\n * @return <Number> number of bytes written\n */\nfunction writeStringOrBuffer (stream, toWrite) {\n  if (typeof toWrite === 'string') {\n    writeString(stream, toWrite)\n  } else if (toWrite) {\n    writeNumber(stream, toWrite.length)\n    stream.write(toWrite)\n  } else writeNumber(stream, 0)\n}\n\nfunction getProperties (stream, properties) {\n  /* connect properties */\n  if (typeof properties !== 'object' || properties.length != null) {\n    return {\n      length: 1,\n      write () {\n        writeProperties(stream, {}, 0)\n      }\n    }\n  }\n  let propertiesLength = 0\n  function getLengthProperty (name, value) {\n    const type = protocol.propertiesTypes[name]\n    let length = 0\n    switch (type) {\n      case 'byte': {\n        if (typeof value !== 'boolean') {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 1\n        break\n      }\n      case 'int8': {\n        if (typeof value !== 'number' || value < 0 || value > 0xff) {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 1\n        break\n      }\n      case 'binary': {\n        if (value && value === null) {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + Buffer.byteLength(value) + 2\n        break\n      }\n      case 'int16': {\n        if (typeof value !== 'number' || value < 0 || value > 0xffff) {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 2\n        break\n      }\n      case 'int32': {\n        if (typeof value !== 'number' || value < 0 || value > 0xffffffff) {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 4\n        break\n      }\n      case 'var': {\n        // var byte integer is max 24 bits packed in 32 bits\n        if (typeof value !== 'number' || value < 0 || value > 0x0fffffff) {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + Buffer.byteLength(genBufVariableByteInt(value))\n        break\n      }\n      case 'string': {\n        if (typeof value !== 'string') {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += 1 + 2 + Buffer.byteLength(value.toString())\n        break\n      }\n      case 'pair': {\n        if (typeof value !== 'object') {\n          stream.emit('error', new Error(`Invalid ${name}: ${value}`))\n          return false\n        }\n        length += Object.getOwnPropertyNames(value).reduce((result, name) => {\n          const currentValue = value[name]\n          if (Array.isArray(currentValue)) {\n            result += currentValue.reduce((currentLength, value) => {\n              currentLength += 1 + 2 + Buffer.byteLength(name.toString()) + 2 + Buffer.byteLength(value.toString())\n              return currentLength\n            }, 0)\n          } else {\n            result += 1 + 2 + Buffer.byteLength(name.toString()) + 2 + Buffer.byteLength(value[name].toString())\n          }\n          return result\n        }, 0)\n        break\n      }\n      default: {\n        stream.emit('error', new Error(`Invalid property ${name}: ${value}`))\n        return false\n      }\n    }\n    return length\n  }\n  if (properties) {\n    for (const propName in properties) {\n      let propLength = 0\n      let propValueLength = 0\n      const propValue = properties[propName]\n      if (Array.isArray(propValue)) {\n        for (let valueIndex = 0; valueIndex < propValue.length; valueIndex++) {\n          propValueLength = getLengthProperty(propName, propValue[valueIndex])\n          if (!propValueLength) { return false }\n          propLength += propValueLength\n        }\n      } else {\n        propValueLength = getLengthProperty(propName, propValue)\n        if (!propValueLength) { return false }\n        propLength = propValueLength\n      }\n      if (!propLength) return false\n      propertiesLength += propLength\n    }\n  }\n  const propertiesLengthLength = Buffer.byteLength(genBufVariableByteInt(propertiesLength))\n\n  return {\n    length: propertiesLengthLength + propertiesLength,\n    write () {\n      writeProperties(stream, properties, propertiesLength)\n    }\n  }\n}\n\nfunction getPropertiesByMaximumPacketSize (stream, properties, opts, length) {\n  const mayEmptyProps = ['reasonString', 'userProperties']\n  const maximumPacketSize = opts && opts.properties && opts.properties.maximumPacketSize ? opts.properties.maximumPacketSize : 0\n\n  let propertiesData = getProperties(stream, properties)\n  if (maximumPacketSize) {\n    while (length + propertiesData.length > maximumPacketSize) {\n      const currentMayEmptyProp = mayEmptyProps.shift()\n      if (currentMayEmptyProp && properties[currentMayEmptyProp]) {\n        delete properties[currentMayEmptyProp]\n        propertiesData = getProperties(stream, properties)\n      } else {\n        return false\n      }\n    }\n  }\n  return propertiesData\n}\n\nfunction writeProperty (stream, propName, value) {\n  const type = protocol.propertiesTypes[propName]\n  switch (type) {\n    case 'byte': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      stream.write(Buffer.from([+value]))\n      break\n    }\n    case 'int8': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      stream.write(Buffer.from([value]))\n      break\n    }\n    case 'binary': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeStringOrBuffer(stream, value)\n      break\n    }\n    case 'int16': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeNumber(stream, value)\n      break\n    }\n    case 'int32': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      write4ByteNumber(stream, value)\n      break\n    }\n    case 'var': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeVarByteInt(stream, value)\n      break\n    }\n    case 'string': {\n      stream.write(Buffer.from([protocol.properties[propName]]))\n      writeString(stream, value)\n      break\n    }\n    case 'pair': {\n      Object.getOwnPropertyNames(value).forEach(name => {\n        const currentValue = value[name]\n        if (Array.isArray(currentValue)) {\n          currentValue.forEach(value => {\n            stream.write(Buffer.from([protocol.properties[propName]]))\n            writeStringPair(stream, name.toString(), value.toString())\n          })\n        } else {\n          stream.write(Buffer.from([protocol.properties[propName]]))\n          writeStringPair(stream, name.toString(), currentValue.toString())\n        }\n      })\n      break\n    }\n    default: {\n      stream.emit('error', new Error(`Invalid property ${propName} value: ${value}`))\n      return false\n    }\n  }\n}\n\nfunction writeProperties (stream, properties, propertiesLength) {\n  /* write properties to stream */\n  writeVarByteInt(stream, propertiesLength)\n  for (const propName in properties) {\n    if (Object.prototype.hasOwnProperty.call(properties, propName) && properties[propName] !== null) {\n      const value = properties[propName]\n      if (Array.isArray(value)) {\n        for (let valueIndex = 0; valueIndex < value.length; valueIndex++) {\n          writeProperty(stream, propName, value[valueIndex])\n        }\n      } else {\n        writeProperty(stream, propName, value)\n      }\n    }\n  }\n}\n\nfunction byteLength (bufOrString) {\n  if (!bufOrString) return 0\n  else if (bufOrString instanceof Buffer) return bufOrString.length\n  else return Buffer.byteLength(bufOrString)\n}\n\nfunction isStringOrBuffer (field) {\n  return typeof field === 'string' || field instanceof Buffer\n}\n\nmodule.exports = generate\n","'use strict'\nvar net = require('net')\nvar debug = require('debug')('mqttjs:tcp')\n\n/*\n  variables port and host can be removed since\n  you have all required information in opts object\n*/\nfunction streamBuilder (client, opts) {\n  var port, host\n  opts.port = opts.port || 1883\n  opts.hostname = opts.hostname || opts.host || 'localhost'\n\n  port = opts.port\n  host = opts.hostname\n\n  debug('port %d and host %s', port, host)\n  return net.createConnection(port, host)\n}\n\nmodule.exports = streamBuilder\n","'use strict'\n\nvar Transform = require('readable-stream').Transform\nvar duplexify = require('duplexify')\n\n/* global wx */\nvar socketTask\nvar proxy\nvar stream\n\nfunction buildProxy () {\n  var proxy = new Transform()\n  proxy._write = function (chunk, encoding, next) {\n    socketTask.send({\n      data: chunk.buffer,\n      success: function () {\n        next()\n      },\n      fail: function (errMsg) {\n        next(new Error(errMsg))\n      }\n    })\n  }\n  proxy._flush = function socketEnd (done) {\n    socketTask.close({\n      success: function () {\n        done()\n      }\n    })\n  }\n\n  return proxy\n}\n\nfunction setDefaultOpts (opts) {\n  if (!opts.hostname) {\n    opts.hostname = 'localhost'\n  }\n  if (!opts.path) {\n    opts.path = '/'\n  }\n\n  if (!opts.wsOptions) {\n    opts.wsOptions = {}\n  }\n}\n\nfunction buildUrl (opts, client) {\n  var protocol = opts.protocol === 'wxs' ? 'wss' : 'ws'\n  var url = protocol + '://' + opts.hostname + opts.path\n  if (opts.port && opts.port !== 80 && opts.port !== 443) {\n    url = protocol + '://' + opts.hostname + ':' + opts.port + opts.path\n  }\n  if (typeof (opts.transformWsUrl) === 'function') {\n    url = opts.transformWsUrl(url, opts, client)\n  }\n  return url\n}\n\nfunction bindEventHandler () {\n  socketTask.onOpen(function () {\n    stream.setReadable(proxy)\n    stream.setWritable(proxy)\n    stream.emit('connect')\n  })\n\n  socketTask.onMessage(function (res) {\n    var data = res.data\n\n    if (data instanceof ArrayBuffer) data = Buffer.from(data)\n    else data = Buffer.from(data, 'utf8')\n    proxy.push(data)\n  })\n\n  socketTask.onClose(function () {\n    stream.end()\n    stream.destroy()\n  })\n\n  socketTask.onError(function (res) {\n    stream.destroy(new Error(res.errMsg))\n  })\n}\n\nfunction buildStream (client, opts) {\n  opts.hostname = opts.hostname || opts.host\n\n  if (!opts.hostname) {\n    throw new Error('Could not determine host. Specify host manually.')\n  }\n\n  var websocketSubProtocol =\n    (opts.protocolId === 'MQIsdp') && (opts.protocolVersion === 3)\n      ? 'mqttv3.1'\n      : 'mqtt'\n\n  setDefaultOpts(opts)\n\n  var url = buildUrl(opts, client)\n  socketTask = wx.connectSocket({\n    url: url,\n    protocols: [websocketSubProtocol]\n  })\n\n  proxy = buildProxy()\n  stream = duplexify.obj()\n  stream._destroy = function (err, cb) {\n    socketTask.close({\n      success: function () {\n        cb && cb(err)\n      }\n    })\n  }\n\n  var destroyRef = stream.destroy\n  stream.destroy = function () {\n    stream.destroy = destroyRef\n\n    var self = this\n    setTimeout(function () {\n      socketTask.close({\n        fail: function () {\n          self._destroy(new Error())\n        }\n      })\n    }, 0)\n  }.bind(stream)\n\n  bindEventHandler()\n\n  return stream\n}\n\nmodule.exports = buildStream\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","module.exports = require('events').EventEmitter;\n","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","'use strict'\n\nvar Transform = require('readable-stream').Transform\nvar duplexify = require('duplexify')\n\n/* global FileReader */\nvar my\nvar proxy\nvar stream\nvar isInitialized = false\n\nfunction buildProxy () {\n  var proxy = new Transform()\n  proxy._write = function (chunk, encoding, next) {\n    my.sendSocketMessage({\n      data: chunk.buffer,\n      success: function () {\n        next()\n      },\n      fail: function () {\n        next(new Error())\n      }\n    })\n  }\n  proxy._flush = function socketEnd (done) {\n    my.closeSocket({\n      success: function () {\n        done()\n      }\n    })\n  }\n\n  return proxy\n}\n\nfunction setDefaultOpts (opts) {\n  if (!opts.hostname) {\n    opts.hostname = 'localhost'\n  }\n  if (!opts.path) {\n    opts.path = '/'\n  }\n\n  if (!opts.wsOptions) {\n    opts.wsOptions = {}\n  }\n}\n\nfunction buildUrl (opts, client) {\n  var protocol = opts.protocol === 'alis' ? 'wss' : 'ws'\n  var url = protocol + '://' + opts.hostname + opts.path\n  if (opts.port && opts.port !== 80 && opts.port !== 443) {\n    url = protocol + '://' + opts.hostname + ':' + opts.port + opts.path\n  }\n  if (typeof (opts.transformWsUrl) === 'function') {\n    url = opts.transformWsUrl(url, opts, client)\n  }\n  return url\n}\n\nfunction bindEventHandler () {\n  if (isInitialized) return\n\n  isInitialized = true\n\n  my.onSocketOpen(function () {\n    stream.setReadable(proxy)\n    stream.setWritable(proxy)\n    stream.emit('connect')\n  })\n\n  my.onSocketMessage(function (res) {\n    if (typeof res.data === 'string') {\n      var buffer = Buffer.from(res.data, 'base64')\n      proxy.push(buffer)\n    } else {\n      var reader = new FileReader()\n      reader.addEventListener('load', function () {\n        var data = reader.result\n\n        if (data instanceof ArrayBuffer) data = Buffer.from(data)\n        else data = Buffer.from(data, 'utf8')\n        proxy.push(data)\n      })\n      reader.readAsArrayBuffer(res.data)\n    }\n  })\n\n  my.onSocketClose(function () {\n    stream.end()\n    stream.destroy()\n  })\n\n  my.onSocketError(function (res) {\n    stream.destroy(res)\n  })\n}\n\nfunction buildStream (client, opts) {\n  opts.hostname = opts.hostname || opts.host\n\n  if (!opts.hostname) {\n    throw new Error('Could not determine host. Specify host manually.')\n  }\n\n  var websocketSubProtocol =\n    (opts.protocolId === 'MQIsdp') && (opts.protocolVersion === 3)\n      ? 'mqttv3.1'\n      : 'mqtt'\n\n  setDefaultOpts(opts)\n\n  var url = buildUrl(opts, client)\n  my = opts.my\n  my.connectSocket({\n    url: url,\n    protocols: websocketSubProtocol\n  })\n\n  proxy = buildProxy()\n  stream = duplexify.obj()\n\n  bindEventHandler()\n\n  return stream\n}\n\nmodule.exports = buildStream\n","'use strict'\n\nconst WS = require('ws')\nconst debug = require('debug')('mqttjs:ws')\nconst duplexify = require('duplexify')\nconst Transform = require('readable-stream').Transform\n\nlet WSS_OPTIONS = [\n  'rejectUnauthorized',\n  'ca',\n  'cert',\n  'key',\n  'pfx',\n  'passphrase'\n]\n// eslint-disable-next-line camelcase\nconst IS_BROWSER = (typeof process !== 'undefined' && process.title === 'browser') || typeof __webpack_require__ === 'function'\nfunction buildUrl (opts, client) {\n  let url = opts.protocol + '://' + opts.hostname + ':' + opts.port + opts.path\n  if (typeof (opts.transformWsUrl) === 'function') {\n    url = opts.transformWsUrl(url, opts, client)\n  }\n  return url\n}\n\nfunction setDefaultOpts (opts) {\n  let options = opts\n  if (!opts.hostname) {\n    options.hostname = 'localhost'\n  }\n  if (!opts.port) {\n    if (opts.protocol === 'wss') {\n      options.port = 443\n    } else {\n      options.port = 80\n    }\n  }\n  if (!opts.path) {\n    options.path = '/'\n  }\n\n  if (!opts.wsOptions) {\n    options.wsOptions = {}\n  }\n  if (!IS_BROWSER && opts.protocol === 'wss') {\n    // Add cert/key/ca etc options\n    WSS_OPTIONS.forEach(function (prop) {\n      if (opts.hasOwnProperty(prop) && !opts.wsOptions.hasOwnProperty(prop)) {\n        options.wsOptions[prop] = opts[prop]\n      }\n    })\n  }\n\n  return options\n}\n\nfunction setDefaultBrowserOpts (opts) {\n  let options = setDefaultOpts(opts)\n\n  if (!options.hostname) {\n    options.hostname = options.host\n  }\n\n  if (!options.hostname) {\n    // Throwing an error in a Web Worker if no `hostname` is given, because we\n    // can not determine the `hostname` automatically.  If connecting to\n    // localhost, please supply the `hostname` as an argument.\n    if (typeof (document) === 'undefined') {\n      throw new Error('Could not determine host. Specify host manually.')\n    }\n    const parsed = new URL(document.URL)\n    options.hostname = parsed.hostname\n\n    if (!options.port) {\n      options.port = parsed.port\n    }\n  }\n\n  // objectMode should be defined for logic\n  if (options.objectMode === undefined) {\n    options.objectMode = !(options.binary === true || options.binary === undefined)\n  }\n\n  return options\n}\n\nfunction createWebSocket (client, url, opts) {\n  debug('createWebSocket')\n  debug('protocol: ' + opts.protocolId + ' ' + opts.protocolVersion)\n  const websocketSubProtocol =\n    (opts.protocolId === 'MQIsdp') && (opts.protocolVersion === 3)\n      ? 'mqttv3.1'\n      : 'mqtt'\n\n  debug('creating new Websocket for url: ' + url + ' and protocol: ' + websocketSubProtocol)\n  let socket = new WS(url, [websocketSubProtocol], opts.wsOptions)\n  return socket\n}\n\nfunction createBrowserWebSocket (client, opts) {\n  const websocketSubProtocol =\n  (opts.protocolId === 'MQIsdp') && (opts.protocolVersion === 3)\n    ? 'mqttv3.1'\n    : 'mqtt'\n\n  let url = buildUrl(opts, client)\n  /* global WebSocket */\n  let socket = new WebSocket(url, [websocketSubProtocol])\n  socket.binaryType = 'arraybuffer'\n  return socket\n}\n\nfunction streamBuilder (client, opts) {\n  debug('streamBuilder')\n  let options = setDefaultOpts(opts)\n  const url = buildUrl(options, client)\n  let socket = createWebSocket(client, url, options)\n  let webSocketStream = WS.createWebSocketStream(socket, options.wsOptions)\n  webSocketStream.url = url\n  return webSocketStream\n}\n\nfunction browserStreamBuilder (client, opts) {\n  debug('browserStreamBuilder')\n  let stream\n  let options = setDefaultBrowserOpts(opts)\n  // sets the maximum socket buffer size before throttling\n  const bufferSize = options.browserBufferSize || 1024 * 512\n\n  const bufferTimeout = opts.browserBufferTimeout || 1000\n\n  const coerceToBuffer = !opts.objectMode\n\n  let socket = createBrowserWebSocket(client, opts)\n\n  let proxy = buildProxy(opts, socketWriteBrowser, socketEndBrowser)\n\n  if (!opts.objectMode) {\n    proxy._writev = writev\n  }\n  proxy.on('close', () => { socket.close() })\n\n  const eventListenerSupport = (typeof socket.addEventListener === 'undefined')\n\n  // was already open when passed in\n  if (socket.readyState === socket.OPEN) {\n    stream = proxy\n  } else {\n    stream = stream = duplexify(undefined, undefined, opts)\n    if (!opts.objectMode) {\n      stream._writev = writev\n    }\n\n    if (eventListenerSupport) {\n      socket.addEventListener('open', onopen)\n    } else {\n      socket.onopen = onopen\n    }\n  }\n\n  stream.socket = socket\n\n  if (eventListenerSupport) {\n    socket.addEventListener('close', onclose)\n    socket.addEventListener('error', onerror)\n    socket.addEventListener('message', onmessage)\n  } else {\n    socket.onclose = onclose\n    socket.onerror = onerror\n    socket.onmessage = onmessage\n  }\n\n  // methods for browserStreamBuilder\n\n  function buildProxy (options, socketWrite, socketEnd) {\n    let proxy = new Transform({\n      objectModeMode: options.objectMode\n    })\n\n    proxy._write = socketWrite\n    proxy._flush = socketEnd\n\n    return proxy\n  }\n\n  function onopen () {\n    stream.setReadable(proxy)\n    stream.setWritable(proxy)\n    stream.emit('connect')\n  }\n\n  function onclose () {\n    stream.end()\n    stream.destroy()\n  }\n\n  function onerror (err) {\n    stream.destroy(err)\n  }\n\n  function onmessage (event) {\n    let data = event.data\n    if (data instanceof ArrayBuffer) data = Buffer.from(data)\n    else data = Buffer.from(data, 'utf8')\n    proxy.push(data)\n  }\n\n  // this is to be enabled only if objectMode is false\n  function writev (chunks, cb) {\n    const buffers = new Array(chunks.length)\n    for (let i = 0; i < chunks.length; i++) {\n      if (typeof chunks[i].chunk === 'string') {\n        buffers[i] = Buffer.from(chunks[i], 'utf8')\n      } else {\n        buffers[i] = chunks[i].chunk\n      }\n    }\n\n    this._write(Buffer.concat(buffers), 'binary', cb)\n  }\n\n  function socketWriteBrowser (chunk, enc, next) {\n    if (socket.bufferedAmount > bufferSize) {\n      // throttle data until buffered amount is reduced.\n      setTimeout(socketWriteBrowser, bufferTimeout, chunk, enc, next)\n    }\n\n    if (coerceToBuffer && typeof chunk === 'string') {\n      chunk = Buffer.from(chunk, 'utf8')\n    }\n\n    try {\n      socket.send(chunk)\n    } catch (err) {\n      return next(err)\n    }\n\n    next()\n  }\n\n  function socketEndBrowser (done) {\n    socket.close()\n    done()\n  }\n\n  // end methods for browserStreamBuilder\n\n  return stream\n}\n\nif (IS_BROWSER) {\n  module.exports = browserStreamBuilder\n} else {\n  module.exports = streamBuilder\n}\n","'use strict';\n\nconst debug = require('debug')('legoino:parser:processMultilogLine');\n\nconst checkCheckDigit = require('../util/checkCheckDigit');\nconst hexToInt16 = require('../util/hexToInt16');\n\nconst parseParameters = require('./parseParameters');\n\n/**\n * Parse a multilog line.\n * @param {string} line\n * @param {object} [options={}]\n * @param {boolean} [options.hasEvent=true] Specify wether the log contains an event\n * @param {boolean} [options.flatten=false] The parsed log will have all properties at the same level (no sub-object for the parameters)\n * @param {boolean} [options.parametersArray=false] Add an array with all the parameters to the result\n * @param {boolean} [options.parameterLabel=false] Use the variable property of device info as property name\n * @param {boolean} [options.parameterInfo=false] Show all the information about the parameter in the value\n * @param {string} [options.kind=undefined] Specify a device type from those that exist in `legoino-device-information`\n * @param {object} [options.deviceInformation=undefined] Pass information for a device that does not exist in `legoino-device-information`. To use if `options.kind` is undefined.\n * @return {object} The parsed line.\n *\n * Warning: parameters that are undefined are not returned!\n */\nmodule.exports = function parseMultilogLine(line, options) {\n  let { hasEvent = true, flatten = false, parametersArray = false } = options;\n\n  // keep only valid characters\n  line = line.replace(/[^0-9A-F]/gi, '');\n\n  const entry = {};\n\n  if (checkCheckDigit(line)) {\n    entry.id = parseInt(`${line.substr(0, 8)}`, 16);\n    entry.epoch = parseInt(`${line.substr(8, 8)}`, 16) * 1000;\n    let parseResult = parseParameters(\n      line.substring(16, line.length - 6 - (hasEvent ? 8 : 0)),\n      options,\n    );\n    if (flatten) {\n      Object.assign(entry, parseResult.parameters);\n    } else {\n      entry.parameters = parseResult.parameters;\n    }\n    if (parametersArray) {\n      entry.parametersArray = parseResult.parametersArray;\n    }\n\n    if (hasEvent) {\n      entry.eventId = hexToInt16(line.substr(line.length - 14, 4));\n      entry.eventValue = hexToInt16(line.substr(line.length - 10, 4));\n    }\n\n    entry.deviceId = hexToInt16(line.substr(line.length - 6, 4));\n    if (!entry.deviceId) {\n      throw new Error('Could not parse device id in processMultilogLine');\n    }\n  } else {\n    debug('Check digit error', line);\n    throw new Error('Check digit error');\n  }\n  return entry;\n};\n","'use strict';\n\nconst calculateCheckDigit = require('./calculateCheckDigit');\n\nmodule.exports = function checkCheckDigit(line) {\n  if (calculateCheckDigit(line) === 0) return true;\n  return false;\n};\n","'use strict';\n\nconst DeviceInformation = require('legoino-device-information');\n\nconst hexToInt16 = require('../util/hexToInt16');\nconst numberToLabel = require('../util/numberToLabel');\n\n/**\n * Parse a buffer (String) containing 4 hexadecimal symbols per parameter\n * @param {string} buffer\n * @param {object} [options={}]\n * @param {boolean} [options.parameterLabel=false] Use the variable property of device info as property name\n * @param {boolean} [options.parameterInfo=false] Show all the information about the parameter in the value\n * @param {boolean} [options.flagInfo=false] Show all the information about the flags, can only be true if `options.parameterInfo=true`!\n * @param {string} [options.kind=undefined] Specify a device type from those that exist in `legoino-device-information`\n * @param {object} [options.deviceInformation=undefined] Pass information for a device that does not exist in `legoino-device-information`. To use if `options.kind` is undefined.\n * @return {object} The parsed parameters\n */\n\nmodule.exports = function parseParameters(buffer, options = {}) {\n  let {\n    parameterLabel = false,\n    parameterInfo = false,\n    flagInfo = false,\n    kind = undefined,\n    deviceInformation = DeviceInformation[kind],\n  } = options;\n\n  if (parameterInfo === false && flagInfo === true) {\n    throw new Error('parameterInfo must be true when flagInfo is true');\n  }\n\n  // console.log(kind);\n  // console.log(deviceInformation);\n\n  let parameters = {};\n  let parametersArray = [];\n\n  let numberParameters = buffer.length / 4;\n  if (\n    deviceInformation &&\n    numberParameters !== deviceInformation.numberParameters &&\n    numberParameters !== deviceInformation.numberLogParameters\n  ) {\n    throw new Error(\n      'The number of parameters is not equal to the one described in the deviceInformation',\n    );\n  }\n\n  if (!deviceInformation) deviceInformation = { parameters: [] };\n\n  for (let i = 0; i < numberParameters; i++) {\n    if (!deviceInformation.parameters[i]) {\n      deviceInformation.parameters[i] = {\n        variable: numberToLabel(i),\n        label: numberToLabel(i),\n        factor: 1,\n      };\n    }\n\n    let valueNumber = hexToInt16(buffer.substring(i * 4, i * 4 + 4));\n    if (valueNumber === -32768) valueNumber = undefined;\n\n    let label = parameterLabel\n      ? deviceInformation.parameters[i].variable ||\n        deviceInformation.parameters[i].name\n      : numberToLabel(i);\n\n    if (label === undefined) continue;\n\n    let value;\n    if (parameterInfo) {\n      value = Object.assign({}, deviceInformation.parameters[i], {\n        index: i,\n        originalValue: valueNumber,\n        value:\n          valueNumber === undefined\n            ? valueNumber\n            : valueNumber / (deviceInformation.parameters[i].factor || 1),\n      });\n      if (flagInfo) {\n        let flags = deviceInformation.parameters[i].flags;\n\n        if (flags === undefined) continue;\n        for (let key in flags) {\n          flags[key].value =\n            (value.value & (1 << flags[key].bit)) >> flags[key].bit;\n        }\n\n        value.flags = flags;\n      }\n    } else {\n      value =\n        valueNumber === undefined\n          ? valueNumber\n          : valueNumber / (deviceInformation.parameters[i].factor || 1);\n    }\n\n    if (value !== undefined) parameters[label] = value;\n    parametersArray.push(value);\n  }\n\n  return { parameters, parametersArray };\n};\n","'use strict';\n\nmodule.exports = function numberToLabel(value) {\n  if (value < 26) {\n    return String.fromCharCode(65 + value);\n  } else {\n    return String.fromCharCode(Math.floor(value / 26) + 64, 65 + value - 26);\n  }\n};\n","'use strict';\n\nmodule.exports = function deviceIdNumberToString(idNumber) {\n  return (\n    String.fromCharCode((idNumber / 256) | 0) +\n    String.fromCharCode(idNumber % 256)\n  );\n};\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nmodule.exports = snakeCase;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","var deburrLetter = require('./_deburrLetter'),\n    toString = require('./toString');\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('dj vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nmodule.exports = deburr;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nmodule.exports = deburrLetter;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n","var asciiWords = require('./_asciiWords'),\n    hasUnicodeWord = require('./_hasUnicodeWord'),\n    toString = require('./toString'),\n    unicodeWords = require('./_unicodeWords');\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nmodule.exports = words;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nmodule.exports = asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nmodule.exports = hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nmodule.exports = unicodeWords;\n","var capitalize = require('./capitalize'),\n    createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\nmodule.exports = camelCase;\n","var toString = require('./toString'),\n    upperFirst = require('./upperFirst');\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\nmodule.exports = capitalize;\n","var createCaseFirst = require('./_createCaseFirst');\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nmodule.exports = upperFirst;\n","var castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nmodule.exports = createCaseFirst;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * The opposite of `_.mapValues`; this method creates an object with the\n * same values as `object` and keys generated by running each own enumerable\n * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n * with three arguments: (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapValues\n * @example\n *\n * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n *   return key + value;\n * });\n * // => { 'a1': 1, 'b2': 2 }\n */\nfunction mapKeys(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, iteratee(value, key, object), value);\n  });\n  return result;\n}\n\nmodule.exports = mapKeys;\n","\n/**\n * Topological sorting function\n *\n * @param {Array} edges\n * @returns {Array}\n */\n\nmodule.exports = function(edges) {\n  return toposort(uniqueNodes(edges), edges)\n}\n\nmodule.exports.array = toposort\n\nfunction toposort(nodes, edges) {\n  var cursor = nodes.length\n    , sorted = new Array(cursor)\n    , visited = {}\n    , i = cursor\n    // Better data structures make algorithm much faster.\n    , outgoingEdges = makeOutgoingEdges(edges)\n    , nodesHash = makeNodesHash(nodes)\n\n  // check for unknown nodes\n  edges.forEach(function(edge) {\n    if (!nodesHash.has(edge[0]) || !nodesHash.has(edge[1])) {\n      throw new Error('Unknown node. There is an unknown node in the supplied edges.')\n    }\n  })\n\n  while (i--) {\n    if (!visited[i]) visit(nodes[i], i, new Set())\n  }\n\n  return sorted\n\n  function visit(node, i, predecessors) {\n    if(predecessors.has(node)) {\n      var nodeRep\n      try {\n        nodeRep = \", node was:\" + JSON.stringify(node)\n      } catch(e) {\n        nodeRep = \"\"\n      }\n      throw new Error('Cyclic dependency' + nodeRep)\n    }\n\n    if (!nodesHash.has(node)) {\n      throw new Error('Found unknown node. Make sure to provided all involved nodes. Unknown node: '+JSON.stringify(node))\n    }\n\n    if (visited[i]) return;\n    visited[i] = true\n\n    var outgoing = outgoingEdges.get(node) || new Set()\n    outgoing = Array.from(outgoing)\n\n    if (i = outgoing.length) {\n      predecessors.add(node)\n      do {\n        var child = outgoing[--i]\n        visit(child, nodesHash.get(child), predecessors)\n      } while (i)\n      predecessors.delete(node)\n    }\n\n    sorted[--cursor] = node\n  }\n}\n\nfunction uniqueNodes(arr){\n  var res = new Set()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    res.add(edge[0])\n    res.add(edge[1])\n  }\n  return Array.from(res)\n}\n\nfunction makeOutgoingEdges(arr){\n  var edges = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    if (!edges.has(edge[0])) edges.set(edge[0], new Set())\n    if (!edges.has(edge[1])) edges.set(edge[1], new Set())\n    edges.get(edge[0]).add(edge[1])\n  }\n  return edges\n}\n\nfunction makeNodesHash(arr){\n  var res = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    res.set(arr[i], i)\n  }\n  return res\n}\n","import immediate from 'immediate';\nimport { v4 } from 'uuid';\nimport Md5 from 'spark-md5';\nimport vuvuzela from 'vuvuzela';\nimport getArguments from 'argsarray';\nimport inherits from 'inherits';\nimport EE from 'events';\n\nfunction mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n/* global Map,Set,Symbol */\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return getArguments(function (args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  });\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return getArguments(function (args) {\n    // Clone arguments\n    args = clone(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  });\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(getArguments(function (args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  }));\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new ExportedMap();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nvar hasLocal;\n\ntry {\n  localStorage.setItem('_pouch_check_localstorage', 1);\n  hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n} catch (e) {\n  hasLocal = false;\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n\ninherits(Changes, EE);\n\n/* istanbul ignore next */\nfunction attachBrowserEvents(self) {\n  if (hasLocalStorage()) {\n    addEventListener(\"storage\", function (e) {\n      self.emit(e.key);\n    });\n  }\n}\n\nfunction Changes() {\n  EE.call(this);\n  this._listeners = {};\n\n  attachBrowserEvents(this);\n}\nChanges.prototype.addListener = function (dbName, id, db, opts) {\n  /* istanbul ignore if */\n  if (this._listeners[id]) {\n    return;\n  }\n  var self = this;\n  var inprogress = false;\n  function eventFunction() {\n    /* istanbul ignore if */\n    if (!self._listeners[id]) {\n      return;\n    }\n    if (inprogress) {\n      inprogress = 'waiting';\n      return;\n    }\n    inprogress = true;\n    var changesOpts = pick(opts, [\n      'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n      'doc_ids', 'view', 'since', 'query_params', 'binary', 'return_docs'\n    ]);\n\n    /* istanbul ignore next */\n    function onError() {\n      inprogress = false;\n    }\n\n    db.changes(changesOpts).on('change', function (c) {\n      if (c.seq > opts.since && !opts.cancelled) {\n        opts.since = c.seq;\n        opts.onChange(c);\n      }\n    }).on('complete', function () {\n      if (inprogress === 'waiting') {\n        immediate(eventFunction);\n      }\n      inprogress = false;\n    }).on('error', onError);\n  }\n  this._listeners[id] = eventFunction;\n  this.on(dbName, eventFunction);\n};\n\nChanges.prototype.removeListener = function (dbName, id) {\n  /* istanbul ignore if */\n  if (!(id in this._listeners)) {\n    return;\n  }\n  EE.prototype.removeListener.call(this, dbName,\n    this._listeners[id]);\n  delete this._listeners[id];\n};\n\n\n/* istanbul ignore next */\nChanges.prototype.notifyLocalWindows = function (dbName) {\n  //do a useless change on a storage thing\n  //in order to get other windows's listeners to activate\n  if (hasLocalStorage()) {\n    localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n  }\n};\n\nChanges.prototype.notify = function (dbName) {\n  this.emit(dbName);\n  this.notifyLocalWindows(dbName);\n};\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (typeof console !== 'undefined' && typeof console[method] === 'function') {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar $inject_Object_assign = assign;\n\ninherits(PouchError, Error);\n\nfunction PouchError(status, error, reason) {\n  Error.call(this, reason);\n  this.status = status;\n  this.name = error;\n  this.message = reason;\n  this.error = true;\n}\n\nPouchError.prototype.toString = function () {\n  return JSON.stringify({\n    status: this.status,\n    name: this.name,\n    message: this.message,\n    reason: this.reason\n  });\n};\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    var names = Object.getOwnPropertyNames(error);\n    for (var i = 0, len = names.length; i < len; i++) {\n      if (typeof error[names[i]] !== 'function') {\n        this[names[i]] = error[names[i]];\n      }\n    }\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  return err;\n}\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (change.doc._attachments.hasOwnProperty(att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EE.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint maxlen: 0, no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (scope.hasOwnProperty(key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return new Promise(function (fulfill, reject) {\n    db.get(docId, function (err, doc) {\n      if (err) {\n        /* istanbul ignore next */\n        if (err.status !== 404) {\n          return reject(err);\n        }\n        doc = {};\n      }\n\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return fulfill({updated: false, rev: docRev});\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      fulfill(tryAndPut(db, newDoc, diffFun));\n    });\n  });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nvar thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\n\nvar setImmediateShim = self.setImmediate || self.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return thisBtoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\nfunction rev(doc, deterministic_revs) {\n  var clonedDoc = clone(doc);\n  if (!deterministic_revs) {\n    return v4().replace(/-/g, '').toLowerCase();\n  }\n\n  delete clonedDoc._rev_tree;\n  return stringMd5(JSON.stringify(clonedDoc));\n}\n\nvar uuid = v4; // mimic old import, only v4 is ever used elsewhere\n\n// We fetch all leafs of the revision tree, and sort them based on tree length\n// and whether they were deleted, undeleted documents with the longest revision\n// tree (most edits) win\n// The final sort algorithm is slightly documented in a sidebar here:\n// http://guide.couchdb.org/draft/conflicts.html\nfunction winningRev(metadata) {\n  var winningId;\n  var winningPos;\n  var winningDeleted;\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var tree = node.ids;\n    var branches = tree[2];\n    var pos = node.pos;\n    if (branches.length) { // non-leaf\n      for (var i = 0, len = branches.length; i < len; i++) {\n        toVisit.push({pos: pos + 1, ids: branches[i]});\n      }\n      continue;\n    }\n    var deleted = !!tree[1].deleted;\n    var id = tree[0];\n    // sort by deleted, then pos, then id\n    if (!winningId || (winningDeleted !== deleted ? winningDeleted :\n        winningPos !== pos ? winningPos < pos : winningId < id)) {\n      winningId = id;\n      winningPos = pos;\n      winningDeleted = deleted;\n    }\n  }\n\n  return winningPos + '-' + winningId;\n}\n\n// Pretty much all below can be combined into a higher order function to\n// traverse revisions\n// The return value from the callback will be passed as context to all\n// children of that node\nfunction traverseRevTree(revs, callback) {\n  var toVisit = revs.slice();\n\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var branches = tree[2];\n    var newCtx =\n      callback(branches.length === 0, pos, tree[0], node.ctx, tree[1]);\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], ctx: newCtx});\n    }\n  }\n}\n\nfunction sortByPos(a, b) {\n  return a.pos - b.pos;\n}\n\nfunction collectLeaves(revs) {\n  var leaves = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, acc, opts) {\n    if (isLeaf) {\n      leaves.push({rev: pos + \"-\" + id, pos: pos, opts: opts});\n    }\n  });\n  leaves.sort(sortByPos).reverse();\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    delete leaves[i].pos;\n  }\n  return leaves;\n}\n\n// returns revs of all conflicts that is leaves such that\n// 1. are not deleted and\n// 2. are different than winning revision\nfunction collectConflicts(metadata) {\n  var win = winningRev(metadata);\n  var leaves = collectLeaves(metadata.rev_tree);\n  var conflicts = [];\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    var leaf = leaves[i];\n    if (leaf.rev !== win && !leaf.opts.deleted) {\n      conflicts.push(leaf.rev);\n    }\n  }\n  return conflicts;\n}\n\n// compact a tree by marking its non-leafs as missing,\n// and return a list of revs to delete\nfunction compactTree(metadata) {\n  var revs = [];\n  traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                               revHash, ctx, opts) {\n    if (opts.status === 'available' && !isLeaf) {\n      revs.push(pos + '-' + revHash);\n      opts.status = 'missing';\n    }\n  });\n  return revs;\n}\n\n// build up a list of all the paths to the leafs in this revision tree\nfunction rootToLeaf(revs) {\n  var paths = [];\n  var toVisit = revs.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, opts: opts});\n    if (isLeaf) {\n      paths.push({pos: (pos + 1 - history.length), ids: history});\n    }\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], history: history});\n    }\n  }\n  return paths.reverse();\n}\n\n// for a better overview of what this is doing, read:\n\nfunction sortByPos$1(a, b) {\n  return a.pos - b.pos;\n}\n\n// classic binary search\nfunction binarySearch(arr, item, comparator) {\n  var low = 0;\n  var high = arr.length;\n  var mid;\n  while (low < high) {\n    mid = (low + high) >>> 1;\n    if (comparator(arr[mid], item) < 0) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  return low;\n}\n\n// assuming the arr is sorted, insert the item in the proper place\nfunction insertSorted(arr, item, comparator) {\n  var idx = binarySearch(arr, item, comparator);\n  arr.splice(idx, 0, item);\n}\n\n// Turn a path as a flat array into a tree with a single branch.\n// If any should be stemmed from the beginning of the array, that's passed\n// in as the second argument\nfunction pathToTree(path, numStemmed) {\n  var root;\n  var leaf;\n  for (var i = numStemmed, len = path.length; i < len; i++) {\n    var node = path[i];\n    var currentLeaf = [node.id, node.opts, []];\n    if (leaf) {\n      leaf[2].push(currentLeaf);\n      leaf = currentLeaf;\n    } else {\n      root = leaf = currentLeaf;\n    }\n  }\n  return root;\n}\n\n// compare the IDs of two trees\nfunction compareTree(a, b) {\n  return a[0] < b[0] ? -1 : 1;\n}\n\n// Merge two trees together\n// The roots of tree1 and tree2 must be the same revision\nfunction mergeTree(in_tree1, in_tree2) {\n  var queue = [{tree1: in_tree1, tree2: in_tree2}];\n  var conflicts = false;\n  while (queue.length > 0) {\n    var item = queue.pop();\n    var tree1 = item.tree1;\n    var tree2 = item.tree2;\n\n    if (tree1[1].status || tree2[1].status) {\n      tree1[1].status =\n        (tree1[1].status ===  'available' ||\n        tree2[1].status === 'available') ? 'available' : 'missing';\n    }\n\n    for (var i = 0; i < tree2[2].length; i++) {\n      if (!tree1[2][0]) {\n        conflicts = 'new_leaf';\n        tree1[2][0] = tree2[2][i];\n        continue;\n      }\n\n      var merged = false;\n      for (var j = 0; j < tree1[2].length; j++) {\n        if (tree1[2][j][0] === tree2[2][i][0]) {\n          queue.push({tree1: tree1[2][j], tree2: tree2[2][i]});\n          merged = true;\n        }\n      }\n      if (!merged) {\n        conflicts = 'new_branch';\n        insertSorted(tree1[2], tree2[2][i], compareTree);\n      }\n    }\n  }\n  return {conflicts: conflicts, tree: in_tree1};\n}\n\nfunction doMerge(tree, path, dontExpand) {\n  var restree = [];\n  var conflicts = false;\n  var merged = false;\n  var res;\n\n  if (!tree.length) {\n    return {tree: [path], conflicts: 'new_leaf'};\n  }\n\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var branch = tree[i];\n    if (branch.pos === path.pos && branch.ids[0] === path.ids[0]) {\n      // Paths start at the same position and have the same root, so they need\n      // merged\n      res = mergeTree(branch.ids, path.ids);\n      restree.push({pos: branch.pos, ids: res.tree});\n      conflicts = conflicts || res.conflicts;\n      merged = true;\n    } else if (dontExpand !== true) {\n      // The paths start at a different position, take the earliest path and\n      // traverse up until it as at the same point from root as the path we\n      // want to merge.  If the keys match we return the longer path with the\n      // other merged After stemming we dont want to expand the trees\n\n      var t1 = branch.pos < path.pos ? branch : path;\n      var t2 = branch.pos < path.pos ? path : branch;\n      var diff = t2.pos - t1.pos;\n\n      var candidateParents = [];\n\n      var trees = [];\n      trees.push({ids: t1.ids, diff: diff, parent: null, parentIdx: null});\n      while (trees.length > 0) {\n        var item = trees.pop();\n        if (item.diff === 0) {\n          if (item.ids[0] === t2.ids[0]) {\n            candidateParents.push(item);\n          }\n          continue;\n        }\n        var elements = item.ids[2];\n        for (var j = 0, elementsLen = elements.length; j < elementsLen; j++) {\n          trees.push({\n            ids: elements[j],\n            diff: item.diff - 1,\n            parent: item.ids,\n            parentIdx: j\n          });\n        }\n      }\n\n      var el = candidateParents[0];\n\n      if (!el) {\n        restree.push(branch);\n      } else {\n        res = mergeTree(el.ids, t2.ids);\n        el.parent[2][el.parentIdx] = res.tree;\n        restree.push({pos: t1.pos, ids: t1.ids});\n        conflicts = conflicts || res.conflicts;\n        merged = true;\n      }\n    } else {\n      restree.push(branch);\n    }\n  }\n\n  // We didnt find\n  if (!merged) {\n    restree.push(path);\n  }\n\n  restree.sort(sortByPos$1);\n\n  return {\n    tree: restree,\n    conflicts: conflicts || 'internal_node'\n  };\n}\n\n// To ensure we dont grow the revision tree infinitely, we stem old revisions\nfunction stem(tree, depth) {\n  // First we break out the tree into a complete list of root to leaf paths\n  var paths = rootToLeaf(tree);\n  var stemmedRevs;\n\n  var result;\n  for (var i = 0, len = paths.length; i < len; i++) {\n    // Then for each path, we cut off the start of the path based on the\n    // `depth` to stem to, and generate a new set of flat trees\n    var path = paths[i];\n    var stemmed = path.ids;\n    var node;\n    if (stemmed.length > depth) {\n      // only do the stemming work if we actually need to stem\n      if (!stemmedRevs) {\n        stemmedRevs = {}; // avoid allocating this object unnecessarily\n      }\n      var numStemmed = stemmed.length - depth;\n      node = {\n        pos: path.pos + numStemmed,\n        ids: pathToTree(stemmed, numStemmed)\n      };\n\n      for (var s = 0; s < numStemmed; s++) {\n        var rev = (path.pos + s) + '-' + stemmed[s].id;\n        stemmedRevs[rev] = true;\n      }\n    } else { // no need to actually stem\n      node = {\n        pos: path.pos,\n        ids: pathToTree(stemmed, 0)\n      };\n    }\n\n    // Then we remerge all those flat trees together, ensuring that we dont\n    // connect trees that would go beyond the depth limit\n    if (result) {\n      result = doMerge(result, node, true).tree;\n    } else {\n      result = [node];\n    }\n  }\n\n  // this is memory-heavy per Chrome profiler, avoid unless we actually stemmed\n  if (stemmedRevs) {\n    traverseRevTree(result, function (isLeaf, pos, revHash) {\n      // some revisions may have been removed in a branch but not in another\n      delete stemmedRevs[pos + '-' + revHash];\n    });\n  }\n\n  return {\n    tree: result,\n    revs: stemmedRevs ? Object.keys(stemmedRevs) : []\n  };\n}\n\nfunction merge(tree, path, depth) {\n  var newTree = doMerge(tree, path);\n  var stemmed = stem(newTree.tree, depth);\n  return {\n    tree: stemmed.tree,\n    stemmedRevs: stemmed.revs,\n    conflicts: newTree.conflicts\n  };\n}\n\n// return true if a rev exists in the rev tree, false otherwise\nfunction revExists(revs, rev) {\n  var toVisit = revs.slice();\n  var splitRev = rev.split('-');\n  var targetPos = parseInt(splitRev[0], 10);\n  var targetId = splitRev[1];\n\n  var node;\n  while ((node = toVisit.pop())) {\n    if (node.pos === targetPos && node.ids[0] === targetId) {\n      return true;\n    }\n    var branches = node.ids[2];\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: node.pos + 1, ids: branches[i]});\n    }\n  }\n  return false;\n}\n\nfunction getTrees(node) {\n  return node.ids;\n}\n\n// check if a specific revision of a doc has been deleted\n//  - metadata: the metadata object from the doc store\n//  - rev: (optional) the revision to check. defaults to winning revision\nfunction isDeleted(metadata, rev) {\n  if (!rev) {\n    rev = winningRev(metadata);\n  }\n  var id = rev.substring(rev.indexOf('-') + 1);\n  var toVisit = metadata.rev_tree.map(getTrees);\n\n  var tree;\n  while ((tree = toVisit.pop())) {\n    if (tree[0] === id) {\n      return !!tree[1].deleted;\n    }\n    toVisit = toVisit.concat(tree[2]);\n  }\n}\n\nfunction isLocalId(id) {\n  return (/^_local/).test(id);\n}\n\n// returns the current leaf node for a given revision\nfunction latest(rev, metadata) {\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, pos: pos, opts: opts});\n\n    if (isLeaf) {\n      for (var i = 0, len = history.length; i < len; i++) {\n        var historyNode = history[i];\n        var historyRev = historyNode.pos + '-' + historyNode.id;\n\n        if (historyRev === rev) {\n          // return the rev of this leaf\n          return pos + '-' + id;\n        }\n      }\n    }\n\n    for (var j = 0, l = branches.length; j < l; j++) {\n      toVisit.push({pos: pos + 1, ids: branches[j], history: history});\n    }\n  }\n\n  /* istanbul ignore next */\n  throw new Error('Unable to resolve latest revision for id ' + metadata.id + ', rev ' + rev);\n}\n\ninherits(Changes$1, EE);\n\nfunction tryCatchInChangeListener(self, change, pending, lastSeq) {\n  // isolate try/catches to avoid V8 deoptimizations\n  try {\n    self.emit('change', change, pending, lastSeq);\n  } catch (e) {\n    guardedConsole('error', 'Error in .on(\"change\", function):', e);\n  }\n}\n\nfunction Changes$1(db, opts, callback) {\n  EE.call(this);\n  var self = this;\n  this.db = db;\n  opts = opts ? clone(opts) : {};\n  var complete = opts.complete = once(function (err, resp) {\n    if (err) {\n      if (listenerCount(self, 'error') > 0) {\n        self.emit('error', err);\n      }\n    } else {\n      self.emit('complete', resp);\n    }\n    self.removeAllListeners();\n    db.removeListener('destroyed', onDestroy);\n  });\n  if (callback) {\n    self.on('complete', function (resp) {\n      callback(null, resp);\n    });\n    self.on('error', callback);\n  }\n  function onDestroy() {\n    self.cancel();\n  }\n  db.once('destroyed', onDestroy);\n\n  opts.onChange = function (change, pending, lastSeq) {\n    /* istanbul ignore if */\n    if (self.isCancelled) {\n      return;\n    }\n    tryCatchInChangeListener(self, change, pending, lastSeq);\n  };\n\n  var promise = new Promise(function (fulfill, reject) {\n    opts.complete = function (err, res) {\n      if (err) {\n        reject(err);\n      } else {\n        fulfill(res);\n      }\n    };\n  });\n  self.once('cancel', function () {\n    db.removeListener('destroyed', onDestroy);\n    opts.complete(null, {status: 'cancelled'});\n  });\n  this.then = promise.then.bind(promise);\n  this['catch'] = promise['catch'].bind(promise);\n  this.then(function (result) {\n    complete(null, result);\n  }, complete);\n\n\n\n  if (!db.taskqueue.isReady) {\n    db.taskqueue.addTask(function (failed) {\n      if (failed) {\n        opts.complete(failed);\n      } else if (self.isCancelled) {\n        self.emit('cancel');\n      } else {\n        self.validateChanges(opts);\n      }\n    });\n  } else {\n    self.validateChanges(opts);\n  }\n}\nChanges$1.prototype.cancel = function () {\n  this.isCancelled = true;\n  if (this.db.taskqueue.isReady) {\n    this.emit('cancel');\n  }\n};\nfunction processChange(doc, metadata, opts) {\n  var changeList = [{rev: doc._rev}];\n  if (opts.style === 'all_docs') {\n    changeList = collectLeaves(metadata.rev_tree)\n    .map(function (x) { return {rev: x.rev}; });\n  }\n  var change = {\n    id: metadata.id,\n    changes: changeList,\n    doc: doc\n  };\n\n  if (isDeleted(metadata, doc._rev)) {\n    change.deleted = true;\n  }\n  if (opts.conflicts) {\n    change.doc._conflicts = collectConflicts(metadata);\n    if (!change.doc._conflicts.length) {\n      delete change.doc._conflicts;\n    }\n  }\n  return change;\n}\n\nChanges$1.prototype.validateChanges = function (opts) {\n  var callback = opts.complete;\n  var self = this;\n\n  /* istanbul ignore else */\n  if (PouchDB._changesFilterPlugin) {\n    PouchDB._changesFilterPlugin.validate(opts, function (err) {\n      if (err) {\n        return callback(err);\n      }\n      self.doChanges(opts);\n    });\n  } else {\n    self.doChanges(opts);\n  }\n};\n\nChanges$1.prototype.doChanges = function (opts) {\n  var self = this;\n  var callback = opts.complete;\n\n  opts = clone(opts);\n  if ('live' in opts && !('continuous' in opts)) {\n    opts.continuous = opts.live;\n  }\n  opts.processChange = processChange;\n\n  if (opts.since === 'latest') {\n    opts.since = 'now';\n  }\n  if (!opts.since) {\n    opts.since = 0;\n  }\n  if (opts.since === 'now') {\n    this.db.info().then(function (info) {\n      /* istanbul ignore if */\n      if (self.isCancelled) {\n        callback(null, {status: 'cancelled'});\n        return;\n      }\n      opts.since = info.update_seq;\n      self.doChanges(opts);\n    }, callback);\n    return;\n  }\n\n  /* istanbul ignore else */\n  if (PouchDB._changesFilterPlugin) {\n    PouchDB._changesFilterPlugin.normalize(opts);\n    if (PouchDB._changesFilterPlugin.shouldFilter(this, opts)) {\n      return PouchDB._changesFilterPlugin.filter(this, opts);\n    }\n  } else {\n    ['doc_ids', 'filter', 'selector', 'view'].forEach(function (key) {\n      if (key in opts) {\n        guardedConsole('warn',\n          'The \"' + key + '\" option was passed in to changes/replicate, ' +\n          'but pouchdb-changes-filter plugin is not installed, so it ' +\n          'was ignored. Please install the plugin to enable filtering.'\n        );\n      }\n    });\n  }\n\n  if (!('descending' in opts)) {\n    opts.descending = false;\n  }\n\n  // 0 and 1 should return 1 document\n  opts.limit = opts.limit === 0 ? 1 : opts.limit;\n  opts.complete = callback;\n  var newPromise = this.db._changes(opts);\n  /* istanbul ignore else */\n  if (newPromise && typeof newPromise.cancel === 'function') {\n    var cancel = self.cancel;\n    self.cancel = getArguments(function (args) {\n      newPromise.cancel();\n      cancel.apply(this, args);\n    });\n  }\n};\n\n/*\n * A generic pouch adapter\n */\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Wrapper for functions that call the bulkdocs api with a single doc,\n// if the first result is an error, return an error\nfunction yankError(callback, docId) {\n  return function (err, results) {\n    if (err || (results[0] && results[0].error)) {\n      err = err || results[0];\n      err.docId = docId;\n      callback(err);\n    } else {\n      callback(null, results.length ? results[0]  : results);\n    }\n  };\n}\n\n// clean docs given to us by the user\nfunction cleanDocs(docs) {\n  for (var i = 0; i < docs.length; i++) {\n    var doc = docs[i];\n    if (doc._deleted) {\n      delete doc._attachments; // ignore atts for deleted docs\n    } else if (doc._attachments) {\n      // filter out extraneous keys from _attachments\n      var atts = Object.keys(doc._attachments);\n      for (var j = 0; j < atts.length; j++) {\n        var att = atts[j];\n        doc._attachments[att] = pick(doc._attachments[att],\n          ['data', 'digest', 'content_type', 'length', 'revpos', 'stub']);\n      }\n    }\n  }\n}\n\n// compare two docs, first by _id then by _rev\nfunction compareByIdThenRev(a, b) {\n  var idCompare = compare(a._id, b._id);\n  if (idCompare !== 0) {\n    return idCompare;\n  }\n  var aStart = a._revisions ? a._revisions.start : 0;\n  var bStart = b._revisions ? b._revisions.start : 0;\n  return compare(aStart, bStart);\n}\n\n// for every node in a revision tree computes its distance from the closest\n// leaf\nfunction computeHeight(revs) {\n  var height = {};\n  var edges = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, prnt) {\n    var rev$$1 = pos + \"-\" + id;\n    if (isLeaf) {\n      height[rev$$1] = 0;\n    }\n    if (prnt !== undefined) {\n      edges.push({from: prnt, to: rev$$1});\n    }\n    return rev$$1;\n  });\n\n  edges.reverse();\n  edges.forEach(function (edge) {\n    if (height[edge.from] === undefined) {\n      height[edge.from] = 1 + height[edge.to];\n    } else {\n      height[edge.from] = Math.min(height[edge.from], 1 + height[edge.to]);\n    }\n  });\n  return height;\n}\n\nfunction allDocsKeysParse(opts) {\n  var keys =  ('limit' in opts) ?\n    opts.keys.slice(opts.skip, opts.limit + opts.skip) :\n    (opts.skip > 0) ? opts.keys.slice(opts.skip) : opts.keys;\n  opts.keys = keys;\n  opts.skip = 0;\n  delete opts.limit;\n  if (opts.descending) {\n    keys.reverse();\n    opts.descending = false;\n  }\n}\n\n// all compaction is done in a queue, to avoid attaching\n// too many listeners at once\nfunction doNextCompaction(self) {\n  var task = self._compactionQueue[0];\n  var opts = task.opts;\n  var callback = task.callback;\n  self.get('_local/compaction').catch(function () {\n    return false;\n  }).then(function (doc) {\n    if (doc && doc.last_seq) {\n      opts.last_seq = doc.last_seq;\n    }\n    self._compact(opts, function (err, res) {\n      /* istanbul ignore if */\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, res);\n      }\n      immediate(function () {\n        self._compactionQueue.shift();\n        if (self._compactionQueue.length) {\n          doNextCompaction(self);\n        }\n      });\n    });\n  });\n}\n\nfunction attachmentNameError(name) {\n  if (name.charAt(0) === '_') {\n    return name + ' is not a valid attachment name, attachment ' +\n      'names cannot start with \\'_\\'';\n  }\n  return false;\n}\n\ninherits(AbstractPouchDB, EE);\n\nfunction AbstractPouchDB() {\n  EE.call(this);\n\n  // re-bind prototyped methods\n  for (var p in AbstractPouchDB.prototype) {\n    if (typeof this[p] === 'function') {\n      this[p] = this[p].bind(this);\n    }\n  }\n}\n\nAbstractPouchDB.prototype.post =\n  adapterFun('post', function (doc, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return callback(createError(NOT_AN_OBJECT));\n  }\n  this.bulkDocs({docs: [doc]}, opts, yankError(callback, doc._id));\n});\n\nAbstractPouchDB.prototype.put = adapterFun('put', function (doc, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return cb(createError(NOT_AN_OBJECT));\n  }\n  invalidIdError(doc._id);\n  if (isLocalId(doc._id) && typeof this._putLocal === 'function') {\n    if (doc._deleted) {\n      return this._removeLocal(doc, cb);\n    } else {\n      return this._putLocal(doc, cb);\n    }\n  }\n  var self = this;\n  if (opts.force && doc._rev) {\n    transformForceOptionToNewEditsOption();\n    putDoc(function (err) {\n      var result = err ? null : {ok: true, id: doc._id, rev: doc._rev};\n      cb(err, result);\n    });\n  } else {\n    putDoc(cb);\n  }\n\n  function transformForceOptionToNewEditsOption() {\n    var parts = doc._rev.split('-');\n    var oldRevId = parts[1];\n    var oldRevNum = parseInt(parts[0], 10);\n\n    var newRevNum = oldRevNum + 1;\n    var newRevId = rev();\n\n    doc._revisions = {\n      start: newRevNum,\n      ids: [newRevId, oldRevId]\n    };\n    doc._rev = newRevNum + '-' + newRevId;\n    opts.new_edits = false;\n  }\n  function putDoc(next) {\n    if (typeof self._put === 'function' && opts.new_edits !== false) {\n      self._put(doc, opts, next);\n    } else {\n      self.bulkDocs({docs: [doc]}, opts, yankError(next, doc._id));\n    }\n  }\n});\n\nAbstractPouchDB.prototype.putAttachment =\n  adapterFun('putAttachment', function (docId, attachmentId, rev$$1,\n                                              blob, type) {\n  var api = this;\n  if (typeof type === 'function') {\n    type = blob;\n    blob = rev$$1;\n    rev$$1 = null;\n  }\n  // Lets fix in https://github.com/pouchdb/pouchdb/issues/3267\n  /* istanbul ignore if */\n  if (typeof type === 'undefined') {\n    type = blob;\n    blob = rev$$1;\n    rev$$1 = null;\n  }\n  if (!type) {\n    guardedConsole('warn', 'Attachment', attachmentId, 'on document', docId, 'is missing content_type');\n  }\n\n  function createAttachment(doc) {\n    var prevrevpos = '_rev' in doc ? parseInt(doc._rev, 10) : 0;\n    doc._attachments = doc._attachments || {};\n    doc._attachments[attachmentId] = {\n      content_type: type,\n      data: blob,\n      revpos: ++prevrevpos\n    };\n    return api.put(doc);\n  }\n\n  return api.get(docId).then(function (doc) {\n    if (doc._rev !== rev$$1) {\n      throw createError(REV_CONFLICT);\n    }\n\n    return createAttachment(doc);\n  }, function (err) {\n     // create new doc\n    /* istanbul ignore else */\n    if (err.reason === MISSING_DOC.message) {\n      return createAttachment({_id: docId});\n    } else {\n      throw err;\n    }\n  });\n});\n\nAbstractPouchDB.prototype.removeAttachment =\n  adapterFun('removeAttachment', function (docId, attachmentId, rev$$1,\n                                                 callback) {\n  var self = this;\n  self.get(docId, function (err, obj) {\n    /* istanbul ignore if */\n    if (err) {\n      callback(err);\n      return;\n    }\n    if (obj._rev !== rev$$1) {\n      callback(createError(REV_CONFLICT));\n      return;\n    }\n    /* istanbul ignore if */\n    if (!obj._attachments) {\n      return callback();\n    }\n    delete obj._attachments[attachmentId];\n    if (Object.keys(obj._attachments).length === 0) {\n      delete obj._attachments;\n    }\n    self.put(obj, callback);\n  });\n});\n\nAbstractPouchDB.prototype.remove =\n  adapterFun('remove', function (docOrId, optsOrRev, opts, callback) {\n  var doc;\n  if (typeof optsOrRev === 'string') {\n    // id, rev, opts, callback style\n    doc = {\n      _id: docOrId,\n      _rev: optsOrRev\n    };\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n  } else {\n    // doc, opts, callback style\n    doc = docOrId;\n    if (typeof optsOrRev === 'function') {\n      callback = optsOrRev;\n      opts = {};\n    } else {\n      callback = opts;\n      opts = optsOrRev;\n    }\n  }\n  opts = opts || {};\n  opts.was_delete = true;\n  var newDoc = {_id: doc._id, _rev: (doc._rev || opts.rev)};\n  newDoc._deleted = true;\n  if (isLocalId(newDoc._id) && typeof this._removeLocal === 'function') {\n    return this._removeLocal(doc, callback);\n  }\n  this.bulkDocs({docs: [newDoc]}, opts, yankError(callback, newDoc._id));\n});\n\nAbstractPouchDB.prototype.revsDiff =\n  adapterFun('revsDiff', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  var ids = Object.keys(req);\n\n  if (!ids.length) {\n    return callback(null, {});\n  }\n\n  var count = 0;\n  var missing = new ExportedMap();\n\n  function addToMissing(id, revId) {\n    if (!missing.has(id)) {\n      missing.set(id, {missing: []});\n    }\n    missing.get(id).missing.push(revId);\n  }\n\n  function processDoc(id, rev_tree) {\n    // Is this fast enough? Maybe we should switch to a set simulated by a map\n    var missingForId = req[id].slice(0);\n    traverseRevTree(rev_tree, function (isLeaf, pos, revHash, ctx,\n      opts) {\n        var rev$$1 = pos + '-' + revHash;\n        var idx = missingForId.indexOf(rev$$1);\n        if (idx === -1) {\n          return;\n        }\n\n        missingForId.splice(idx, 1);\n        /* istanbul ignore if */\n        if (opts.status !== 'available') {\n          addToMissing(id, rev$$1);\n        }\n      });\n\n    // Traversing the tree is synchronous, so now `missingForId` contains\n    // revisions that were not found in the tree\n    missingForId.forEach(function (rev$$1) {\n      addToMissing(id, rev$$1);\n    });\n  }\n\n  ids.map(function (id) {\n    this._getRevisionTree(id, function (err, rev_tree) {\n      if (err && err.status === 404 && err.message === 'missing') {\n        missing.set(id, {missing: req[id]});\n      } else if (err) {\n        /* istanbul ignore next */\n        return callback(err);\n      } else {\n        processDoc(id, rev_tree);\n      }\n\n      if (++count === ids.length) {\n        // convert LazyMap to object\n        var missingObj = {};\n        missing.forEach(function (value, key) {\n          missingObj[key] = value;\n        });\n        return callback(null, missingObj);\n      }\n    });\n  }, this);\n});\n\n// _bulk_get API for faster replication, as described in\n// https://github.com/apache/couchdb-chttpd/pull/33\n// At the \"abstract\" level, it will just run multiple get()s in\n// parallel, because this isn't much of a performance cost\n// for local databases (except the cost of multiple transactions, which is\n// small). The http adapter overrides this in order\n// to do a more efficient single HTTP request.\nAbstractPouchDB.prototype.bulkGet =\n  adapterFun('bulkGet', function (opts, callback) {\n  bulkGet(this, opts, callback);\n});\n\n// compact one document and fire callback\n// by compacting we mean removing all revisions which\n// are further from the leaf in revision tree than max_height\nAbstractPouchDB.prototype.compactDocument =\n  adapterFun('compactDocument', function (docId, maxHeight, callback) {\n  var self = this;\n  this._getRevisionTree(docId, function (err, revTree) {\n    /* istanbul ignore if */\n    if (err) {\n      return callback(err);\n    }\n    var height = computeHeight(revTree);\n    var candidates = [];\n    var revs = [];\n    Object.keys(height).forEach(function (rev$$1) {\n      if (height[rev$$1] > maxHeight) {\n        candidates.push(rev$$1);\n      }\n    });\n\n    traverseRevTree(revTree, function (isLeaf, pos, revHash, ctx, opts) {\n      var rev$$1 = pos + '-' + revHash;\n      if (opts.status === 'available' && candidates.indexOf(rev$$1) !== -1) {\n        revs.push(rev$$1);\n      }\n    });\n    self._doCompaction(docId, revs, callback);\n  });\n});\n\n// compact the whole database using single document\n// compaction\nAbstractPouchDB.prototype.compact =\n  adapterFun('compact', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  self._compactionQueue = self._compactionQueue || [];\n  self._compactionQueue.push({opts: opts, callback: callback});\n  if (self._compactionQueue.length === 1) {\n    doNextCompaction(self);\n  }\n});\nAbstractPouchDB.prototype._compact = function (opts, callback) {\n  var self = this;\n  var changesOpts = {\n    return_docs: false,\n    last_seq: opts.last_seq || 0\n  };\n  var promises = [];\n\n  function onChange(row) {\n    promises.push(self.compactDocument(row.id, 0));\n  }\n  function onComplete(resp) {\n    var lastSeq = resp.last_seq;\n    Promise.all(promises).then(function () {\n      return upsert(self, '_local/compaction', function deltaFunc(doc) {\n        if (!doc.last_seq || doc.last_seq < lastSeq) {\n          doc.last_seq = lastSeq;\n          return doc;\n        }\n        return false; // somebody else got here first, don't update\n      });\n    }).then(function () {\n      callback(null, {ok: true});\n    }).catch(callback);\n  }\n  self.changes(changesOpts)\n    .on('change', onChange)\n    .on('complete', onComplete)\n    .on('error', callback);\n};\n\n/* Begin api wrappers. Specific functionality to storage belongs in the\n   _[method] */\nAbstractPouchDB.prototype.get = adapterFun('get', function (id, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof id !== 'string') {\n    return cb(createError(INVALID_ID));\n  }\n  if (isLocalId(id) && typeof this._getLocal === 'function') {\n    return this._getLocal(id, cb);\n  }\n  var leaves = [], self = this;\n\n  function finishOpenRevs() {\n    var result = [];\n    var count = leaves.length;\n    /* istanbul ignore if */\n    if (!count) {\n      return cb(null, result);\n    }\n\n    // order with open_revs is unspecified\n    leaves.forEach(function (leaf) {\n      self.get(id, {\n        rev: leaf,\n        revs: opts.revs,\n        latest: opts.latest,\n        attachments: opts.attachments,\n        binary: opts.binary\n      }, function (err, doc) {\n        if (!err) {\n          // using latest=true can produce duplicates\n          var existing;\n          for (var i = 0, l = result.length; i < l; i++) {\n            if (result[i].ok && result[i].ok._rev === doc._rev) {\n              existing = true;\n              break;\n            }\n          }\n          if (!existing) {\n            result.push({ok: doc});\n          }\n        } else {\n          result.push({missing: leaf});\n        }\n        count--;\n        if (!count) {\n          cb(null, result);\n        }\n      });\n    });\n  }\n\n  if (opts.open_revs) {\n    if (opts.open_revs === \"all\") {\n      this._getRevisionTree(id, function (err, rev_tree) {\n        /* istanbul ignore if */\n        if (err) {\n          return cb(err);\n        }\n        leaves = collectLeaves(rev_tree).map(function (leaf) {\n          return leaf.rev;\n        });\n        finishOpenRevs();\n      });\n    } else {\n      if (Array.isArray(opts.open_revs)) {\n        leaves = opts.open_revs;\n        for (var i = 0; i < leaves.length; i++) {\n          var l = leaves[i];\n          // looks like it's the only thing couchdb checks\n          if (!(typeof (l) === \"string\" && /^\\d+-/.test(l))) {\n            return cb(createError(INVALID_REV));\n          }\n        }\n        finishOpenRevs();\n      } else {\n        return cb(createError(UNKNOWN_ERROR, 'function_clause'));\n      }\n    }\n    return; // open_revs does not like other options\n  }\n\n  return this._get(id, opts, function (err, result) {\n    if (err) {\n      err.docId = id;\n      return cb(err);\n    }\n\n    var doc = result.doc;\n    var metadata = result.metadata;\n    var ctx = result.ctx;\n\n    if (opts.conflicts) {\n      var conflicts = collectConflicts(metadata);\n      if (conflicts.length) {\n        doc._conflicts = conflicts;\n      }\n    }\n\n    if (isDeleted(metadata, doc._rev)) {\n      doc._deleted = true;\n    }\n\n    if (opts.revs || opts.revs_info) {\n      var splittedRev = doc._rev.split('-');\n      var revNo       = parseInt(splittedRev[0], 10);\n      var revHash     = splittedRev[1];\n\n      var paths = rootToLeaf(metadata.rev_tree);\n      var path = null;\n\n      for (var i = 0; i < paths.length; i++) {\n        var currentPath = paths[i];\n        var hashIndex = currentPath.ids.map(function (x) { return x.id; })\n          .indexOf(revHash);\n        var hashFoundAtRevPos = hashIndex === (revNo - 1);\n\n        if (hashFoundAtRevPos || (!path && hashIndex !== -1)) {\n          path = currentPath;\n        }\n      }\n\n      /* istanbul ignore if */\n      if (!path) {\n        err = new Error('invalid rev tree');\n        err.docId = id;\n        return cb(err);\n      }\n\n      var indexOfRev = path.ids.map(function (x) { return x.id; })\n        .indexOf(doc._rev.split('-')[1]) + 1;\n      var howMany = path.ids.length - indexOfRev;\n      path.ids.splice(indexOfRev, howMany);\n      path.ids.reverse();\n\n      if (opts.revs) {\n        doc._revisions = {\n          start: (path.pos + path.ids.length) - 1,\n          ids: path.ids.map(function (rev$$1) {\n            return rev$$1.id;\n          })\n        };\n      }\n      if (opts.revs_info) {\n        var pos =  path.pos + path.ids.length;\n        doc._revs_info = path.ids.map(function (rev$$1) {\n          pos--;\n          return {\n            rev: pos + '-' + rev$$1.id,\n            status: rev$$1.opts.status\n          };\n        });\n      }\n    }\n\n    if (opts.attachments && doc._attachments) {\n      var attachments = doc._attachments;\n      var count = Object.keys(attachments).length;\n      if (count === 0) {\n        return cb(null, doc);\n      }\n      Object.keys(attachments).forEach(function (key) {\n        this._getAttachment(doc._id, key, attachments[key], {\n          // Previously the revision handling was done in adapter.js\n          // getAttachment, however since idb-next doesnt we need to\n          // pass the rev through\n          rev: doc._rev,\n          binary: opts.binary,\n          ctx: ctx\n        }, function (err, data) {\n          var att = doc._attachments[key];\n          att.data = data;\n          delete att.stub;\n          delete att.length;\n          if (!--count) {\n            cb(null, doc);\n          }\n        });\n      }, self);\n    } else {\n      if (doc._attachments) {\n        for (var key in doc._attachments) {\n          /* istanbul ignore else */\n          if (doc._attachments.hasOwnProperty(key)) {\n            doc._attachments[key].stub = true;\n          }\n        }\n      }\n      cb(null, doc);\n    }\n  });\n});\n\n// TODO: I dont like this, it forces an extra read for every\n// attachment read and enforces a confusing api between\n// adapter.js and the adapter implementation\nAbstractPouchDB.prototype.getAttachment =\n  adapterFun('getAttachment', function (docId, attachmentId, opts, callback) {\n  var self = this;\n  if (opts instanceof Function) {\n    callback = opts;\n    opts = {};\n  }\n  this._get(docId, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (res.doc._attachments && res.doc._attachments[attachmentId]) {\n      opts.ctx = res.ctx;\n      opts.binary = true;\n      self._getAttachment(docId, attachmentId,\n                          res.doc._attachments[attachmentId], opts, callback);\n    } else {\n      return callback(createError(MISSING_DOC));\n    }\n  });\n});\n\nAbstractPouchDB.prototype.allDocs =\n  adapterFun('allDocs', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  opts.skip = typeof opts.skip !== 'undefined' ? opts.skip : 0;\n  if (opts.start_key) {\n    opts.startkey = opts.start_key;\n  }\n  if (opts.end_key) {\n    opts.endkey = opts.end_key;\n  }\n  if ('keys' in opts) {\n    if (!Array.isArray(opts.keys)) {\n      return callback(new TypeError('options.keys must be an array'));\n    }\n    var incompatibleOpt =\n      ['startkey', 'endkey', 'key'].filter(function (incompatibleOpt) {\n      return incompatibleOpt in opts;\n    })[0];\n    if (incompatibleOpt) {\n      callback(createError(QUERY_PARSE_ERROR,\n        'Query parameter `' + incompatibleOpt +\n        '` is not compatible with multi-get'\n      ));\n      return;\n    }\n    if (!isRemote(this)) {\n      allDocsKeysParse(opts);\n      if (opts.keys.length === 0) {\n        return this._allDocs({limit: 0}, callback);\n      }\n    }\n  }\n\n  return this._allDocs(opts, callback);\n});\n\nAbstractPouchDB.prototype.changes = function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  // By default set return_docs to false if the caller has opts.live = true,\n  // this will prevent us from collecting the set of changes indefinitely\n  // resulting in growing memory\n  opts.return_docs = ('return_docs' in opts) ? opts.return_docs : !opts.live;\n\n  return new Changes$1(this, opts, callback);\n};\n\nAbstractPouchDB.prototype.close = adapterFun('close', function (callback) {\n  this._closed = true;\n  this.emit('closed');\n  return this._close(callback);\n});\n\nAbstractPouchDB.prototype.info = adapterFun('info', function (callback) {\n  var self = this;\n  this._info(function (err, info) {\n    if (err) {\n      return callback(err);\n    }\n    // assume we know better than the adapter, unless it informs us\n    info.db_name = info.db_name || self.name;\n    info.auto_compaction = !!(self.auto_compaction && !isRemote(self));\n    info.adapter = self.adapter;\n    callback(null, info);\n  });\n});\n\nAbstractPouchDB.prototype.id = adapterFun('id', function (callback) {\n  return this._id(callback);\n});\n\n/* istanbul ignore next */\nAbstractPouchDB.prototype.type = function () {\n  return (typeof this._type === 'function') ? this._type() : this.adapter;\n};\n\nAbstractPouchDB.prototype.bulkDocs =\n  adapterFun('bulkDocs', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  if (Array.isArray(req)) {\n    req = {\n      docs: req\n    };\n  }\n\n  if (!req || !req.docs || !Array.isArray(req.docs)) {\n    return callback(createError(MISSING_BULK_DOCS));\n  }\n\n  for (var i = 0; i < req.docs.length; ++i) {\n    if (typeof req.docs[i] !== 'object' || Array.isArray(req.docs[i])) {\n      return callback(createError(NOT_AN_OBJECT));\n    }\n  }\n\n  var attachmentError;\n  req.docs.forEach(function (doc) {\n    if (doc._attachments) {\n      Object.keys(doc._attachments).forEach(function (name) {\n        attachmentError = attachmentError || attachmentNameError(name);\n        if (!doc._attachments[name].content_type) {\n          guardedConsole('warn', 'Attachment', name, 'on document', doc._id, 'is missing content_type');\n        }\n      });\n    }\n  });\n\n  if (attachmentError) {\n    return callback(createError(BAD_REQUEST, attachmentError));\n  }\n\n  if (!('new_edits' in opts)) {\n    if ('new_edits' in req) {\n      opts.new_edits = req.new_edits;\n    } else {\n      opts.new_edits = true;\n    }\n  }\n\n  var adapter = this;\n  if (!opts.new_edits && !isRemote(adapter)) {\n    // ensure revisions of the same doc are sorted, so that\n    // the local adapter processes them correctly (#2935)\n    req.docs.sort(compareByIdThenRev);\n  }\n\n  cleanDocs(req.docs);\n\n  // in the case of conflicts, we want to return the _ids to the user\n  // however, the underlying adapter may destroy the docs array, so\n  // create a copy here\n  var ids = req.docs.map(function (doc) {\n    return doc._id;\n  });\n\n  return this._bulkDocs(req, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (!opts.new_edits) {\n      // this is what couch does when new_edits is false\n      res = res.filter(function (x) {\n        return x.error;\n      });\n    }\n    // add ids for error/conflict responses (not required for CouchDB)\n    if (!isRemote(adapter)) {\n      for (var i = 0, l = res.length; i < l; i++) {\n        res[i].id = res[i].id || ids[i];\n      }\n    }\n\n    callback(null, res);\n  });\n});\n\nAbstractPouchDB.prototype.registerDependentDatabase =\n  adapterFun('registerDependentDatabase', function (dependentDb,\n                                                          callback) {\n  var depDB = new this.constructor(dependentDb, this.__opts);\n\n  function diffFun(doc) {\n    doc.dependentDbs = doc.dependentDbs || {};\n    if (doc.dependentDbs[dependentDb]) {\n      return false; // no update required\n    }\n    doc.dependentDbs[dependentDb] = true;\n    return doc;\n  }\n  upsert(this, '_local/_pouch_dependentDbs', diffFun)\n    .then(function () {\n      callback(null, {db: depDB});\n    }).catch(callback);\n});\n\nAbstractPouchDB.prototype.destroy =\n  adapterFun('destroy', function (opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  var usePrefix = 'use_prefix' in self ? self.use_prefix : true;\n\n  function destroyDb() {\n    // call destroy method of the particular adaptor\n    self._destroy(opts, function (err, resp) {\n      if (err) {\n        return callback(err);\n      }\n      self._destroyed = true;\n      self.emit('destroyed');\n      callback(null, resp || { 'ok': true });\n    });\n  }\n\n  if (isRemote(self)) {\n    // no need to check for dependent DBs if it's a remote DB\n    return destroyDb();\n  }\n\n  self.get('_local/_pouch_dependentDbs', function (err, localDoc) {\n    if (err) {\n      /* istanbul ignore if */\n      if (err.status !== 404) {\n        return callback(err);\n      } else { // no dependencies\n        return destroyDb();\n      }\n    }\n    var dependentDbs = localDoc.dependentDbs;\n    var PouchDB = self.constructor;\n    var deletedMap = Object.keys(dependentDbs).map(function (name) {\n      // use_prefix is only false in the browser\n      /* istanbul ignore next */\n      var trueName = usePrefix ?\n        name.replace(new RegExp('^' + PouchDB.prefix), '') : name;\n      return new PouchDB(trueName, self.__opts).destroy();\n    });\n    Promise.all(deletedMap).then(destroyDb, callback);\n  });\n});\n\nfunction TaskQueue() {\n  this.isReady = false;\n  this.failed = false;\n  this.queue = [];\n}\n\nTaskQueue.prototype.execute = function () {\n  var fun;\n  if (this.failed) {\n    while ((fun = this.queue.shift())) {\n      fun(this.failed);\n    }\n  } else {\n    while ((fun = this.queue.shift())) {\n      fun();\n    }\n  }\n};\n\nTaskQueue.prototype.fail = function (err) {\n  this.failed = err;\n  this.execute();\n};\n\nTaskQueue.prototype.ready = function (db) {\n  this.isReady = true;\n  this.db = db;\n  this.execute();\n};\n\nTaskQueue.prototype.addTask = function (fun) {\n  this.queue.push(fun);\n  if (this.failed) {\n    this.execute();\n  }\n};\n\nfunction parseAdapter(name, opts) {\n  var match = name.match(/([a-z-]*):\\/\\/(.*)/);\n  if (match) {\n    // the http adapter expects the fully qualified name\n    return {\n      name: /https?/.test(match[1]) ? match[1] + '://' + match[2] : match[2],\n      adapter: match[1]\n    };\n  }\n\n  var adapters = PouchDB.adapters;\n  var preferredAdapters = PouchDB.preferredAdapters;\n  var prefix = PouchDB.prefix;\n  var adapterName = opts.adapter;\n\n  if (!adapterName) { // automatically determine adapter\n    for (var i = 0; i < preferredAdapters.length; ++i) {\n      adapterName = preferredAdapters[i];\n      // check for browsers that have been upgraded from websql-only to websql+idb\n      /* istanbul ignore if */\n      if (adapterName === 'idb' && 'websql' in adapters &&\n          hasLocalStorage() && localStorage['_pouch__websqldb_' + prefix + name]) {\n        // log it, because this can be confusing during development\n        guardedConsole('log', 'PouchDB is downgrading \"' + name + '\" to WebSQL to' +\n          ' avoid data loss, because it was already opened with WebSQL.');\n        continue; // keep using websql to avoid user data loss\n      }\n      break;\n    }\n  }\n\n  var adapter = adapters[adapterName];\n\n  // if adapter is invalid, then an error will be thrown later\n  var usePrefix = (adapter && 'use_prefix' in adapter) ?\n    adapter.use_prefix : true;\n\n  return {\n    name: usePrefix ? (prefix + name) : name,\n    adapter: adapterName\n  };\n}\n\n// OK, so here's the deal. Consider this code:\n//     var db1 = new PouchDB('foo');\n//     var db2 = new PouchDB('foo');\n//     db1.destroy();\n// ^ these two both need to emit 'destroyed' events,\n// as well as the PouchDB constructor itself.\n// So we have one db object (whichever one got destroy() called on it)\n// responsible for emitting the initial event, which then gets emitted\n// by the constructor, which then broadcasts it to any other dbs\n// that may have been created with the same name.\nfunction prepareForDestruction(self) {\n\n  function onDestroyed(from_constructor) {\n    self.removeListener('closed', onClosed);\n    if (!from_constructor) {\n      self.constructor.emit('destroyed', self.name);\n    }\n  }\n\n  function onClosed() {\n    self.removeListener('destroyed', onDestroyed);\n    self.constructor.emit('unref', self);\n  }\n\n  self.once('destroyed', onDestroyed);\n  self.once('closed', onClosed);\n  self.constructor.emit('ref', self);\n}\n\ninherits(PouchDB, AbstractPouchDB);\nfunction PouchDB(name, opts) {\n  // In Node our test suite only tests this for PouchAlt unfortunately\n  /* istanbul ignore if */\n  if (!(this instanceof PouchDB)) {\n    return new PouchDB(name, opts);\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  if (name && typeof name === 'object') {\n    opts = name;\n    name = opts.name;\n    delete opts.name;\n  }\n\n  if (opts.deterministic_revs === undefined) {\n    opts.deterministic_revs = true;\n  }\n\n  this.__opts = opts = clone(opts);\n\n  self.auto_compaction = opts.auto_compaction;\n  self.prefix = PouchDB.prefix;\n\n  if (typeof name !== 'string') {\n    throw new Error('Missing/invalid DB name');\n  }\n\n  var prefixedName = (opts.prefix || '') + name;\n  var backend = parseAdapter(prefixedName, opts);\n\n  opts.name = backend.name;\n  opts.adapter = opts.adapter || backend.adapter;\n\n  self.name = name;\n  self._adapter = opts.adapter;\n  PouchDB.emit('debug', ['adapter', 'Picked adapter: ', opts.adapter]);\n\n  if (!PouchDB.adapters[opts.adapter] ||\n      !PouchDB.adapters[opts.adapter].valid()) {\n    throw new Error('Invalid Adapter: ' + opts.adapter);\n  }\n\n  AbstractPouchDB.call(self);\n  self.taskqueue = new TaskQueue();\n\n  self.adapter = opts.adapter;\n\n  PouchDB.adapters[opts.adapter].call(self, opts, function (err) {\n    if (err) {\n      return self.taskqueue.fail(err);\n    }\n    prepareForDestruction(self);\n\n    self.emit('created', self);\n    PouchDB.emit('created', self.name);\n    self.taskqueue.ready(self);\n  });\n\n}\n\n// AbortController was introduced quite a while after fetch and\n// isnt required for PouchDB to function so polyfill if needed\nvar a = (typeof AbortController !== 'undefined')\n    ? AbortController\n    : function () { return {abort: function () {}}; };\n\nvar f$1 = fetch;\nvar h = Headers;\n\nPouchDB.adapters = {};\nPouchDB.preferredAdapters = [];\n\nPouchDB.prefix = '_pouch_';\n\nvar eventEmitter = new EE();\n\nfunction setUpEventEmitter(Pouch) {\n  Object.keys(EE.prototype).forEach(function (key) {\n    if (typeof EE.prototype[key] === 'function') {\n      Pouch[key] = eventEmitter[key].bind(eventEmitter);\n    }\n  });\n\n  // these are created in constructor.js, and allow us to notify each DB with\n  // the same name that it was destroyed, via the constructor object\n  var destructListeners = Pouch._destructionListeners = new ExportedMap();\n\n  Pouch.on('ref', function onConstructorRef(db) {\n    if (!destructListeners.has(db.name)) {\n      destructListeners.set(db.name, []);\n    }\n    destructListeners.get(db.name).push(db);\n  });\n\n  Pouch.on('unref', function onConstructorUnref(db) {\n    if (!destructListeners.has(db.name)) {\n      return;\n    }\n    var dbList = destructListeners.get(db.name);\n    var pos = dbList.indexOf(db);\n    if (pos < 0) {\n      /* istanbul ignore next */\n      return;\n    }\n    dbList.splice(pos, 1);\n    if (dbList.length > 1) {\n      /* istanbul ignore next */\n      destructListeners.set(db.name, dbList);\n    } else {\n      destructListeners.delete(db.name);\n    }\n  });\n\n  Pouch.on('destroyed', function onConstructorDestroyed(name) {\n    if (!destructListeners.has(name)) {\n      return;\n    }\n    var dbList = destructListeners.get(name);\n    destructListeners.delete(name);\n    dbList.forEach(function (db) {\n      db.emit('destroyed',true);\n    });\n  });\n}\n\nsetUpEventEmitter(PouchDB);\n\nPouchDB.adapter = function (id, obj, addToPreferredAdapters) {\n  /* istanbul ignore else */\n  if (obj.valid()) {\n    PouchDB.adapters[id] = obj;\n    if (addToPreferredAdapters) {\n      PouchDB.preferredAdapters.push(id);\n    }\n  }\n};\n\nPouchDB.plugin = function (obj) {\n  if (typeof obj === 'function') { // function style for plugins\n    obj(PouchDB);\n  } else if (typeof obj !== 'object' || Object.keys(obj).length === 0) {\n    throw new Error('Invalid plugin: got \"' + obj + '\", expected an object or a function');\n  } else {\n    Object.keys(obj).forEach(function (id) { // object style for plugins\n      PouchDB.prototype[id] = obj[id];\n    });\n  }\n  if (this.__defaults) {\n    PouchDB.__defaults = $inject_Object_assign({}, this.__defaults);\n  }\n  return PouchDB;\n};\n\nPouchDB.defaults = function (defaultOpts) {\n  function PouchAlt(name, opts) {\n    if (!(this instanceof PouchAlt)) {\n      return new PouchAlt(name, opts);\n    }\n\n    opts = opts || {};\n\n    if (name && typeof name === 'object') {\n      opts = name;\n      name = opts.name;\n      delete opts.name;\n    }\n\n    opts = $inject_Object_assign({}, PouchAlt.__defaults, opts);\n    PouchDB.call(this, name, opts);\n  }\n\n  inherits(PouchAlt, PouchDB);\n\n  PouchAlt.preferredAdapters = PouchDB.preferredAdapters.slice();\n  Object.keys(PouchDB).forEach(function (key) {\n    if (!(key in PouchAlt)) {\n      PouchAlt[key] = PouchDB[key];\n    }\n  });\n\n  // make default options transitive\n  // https://github.com/pouchdb/pouchdb/issues/5922\n  PouchAlt.__defaults = $inject_Object_assign({}, this.__defaults, defaultOpts);\n\n  return PouchAlt;\n};\n\nPouchDB.fetch = function (url, opts) {\n  return f$1(url, opts);\n};\n\n// managed automatically by set-version.js\nvar version = \"7.2.2\";\n\n// this would just be \"return doc[field]\", but fields\n// can be \"deep\" due to dot notation\nfunction getFieldFromDoc(doc, parsedField) {\n  var value = doc;\n  for (var i = 0, len = parsedField.length; i < len; i++) {\n    var key = parsedField[i];\n    value = value[key];\n    if (!value) {\n      break;\n    }\n  }\n  return value;\n}\n\nfunction compare$1(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Converts a string in dot notation to an array of its components, with backslash escaping\nfunction parseField(fieldName) {\n  // fields may be deep (e.g. \"foo.bar.baz\"), so parse\n  var fields = [];\n  var current = '';\n  for (var i = 0, len = fieldName.length; i < len; i++) {\n    var ch = fieldName[i];\n    if (ch === '.') {\n      if (i > 0 && fieldName[i - 1] === '\\\\') { // escaped delimiter\n        current = current.substring(0, current.length - 1) + '.';\n      } else { // not escaped, so delimiter\n        fields.push(current);\n        current = '';\n      }\n    } else { // normal character\n      current += ch;\n    }\n  }\n  fields.push(current);\n  return fields;\n}\n\nvar combinationFields = ['$or', '$nor', '$not'];\nfunction isCombinationalField(field) {\n  return combinationFields.indexOf(field) > -1;\n}\n\nfunction getKey(obj) {\n  return Object.keys(obj)[0];\n}\n\nfunction getValue(obj) {\n  return obj[getKey(obj)];\n}\n\n\n// flatten an array of selectors joined by an $and operator\nfunction mergeAndedSelectors(selectors) {\n\n  // sort to ensure that e.g. if the user specified\n  // $and: [{$gt: 'a'}, {$gt: 'b'}], then it's collapsed into\n  // just {$gt: 'b'}\n  var res = {};\n\n  selectors.forEach(function (selector) {\n    Object.keys(selector).forEach(function (field) {\n      var matcher = selector[field];\n      if (typeof matcher !== 'object') {\n        matcher = {$eq: matcher};\n      }\n\n      if (isCombinationalField(field)) {\n        if (matcher instanceof Array) {\n          res[field] = matcher.map(function (m) {\n            return mergeAndedSelectors([m]);\n          });\n        } else {\n          res[field] = mergeAndedSelectors([matcher]);\n        }\n      } else {\n        var fieldMatchers = res[field] = res[field] || {};\n        Object.keys(matcher).forEach(function (operator) {\n          var value = matcher[operator];\n\n          if (operator === '$gt' || operator === '$gte') {\n            return mergeGtGte(operator, value, fieldMatchers);\n          } else if (operator === '$lt' || operator === '$lte') {\n            return mergeLtLte(operator, value, fieldMatchers);\n          } else if (operator === '$ne') {\n            return mergeNe(value, fieldMatchers);\n          } else if (operator === '$eq') {\n            return mergeEq(value, fieldMatchers);\n          }\n          fieldMatchers[operator] = value;\n        });\n      }\n    });\n  });\n\n  return res;\n}\n\n\n\n// collapse logically equivalent gt/gte values\nfunction mergeGtGte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$gte !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gte) { // more specificity\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value >= fieldMatchers.$gte) { // more specificity\n        delete fieldMatchers.$gte;\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$gt !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gt) { // more specificity\n        delete fieldMatchers.$gt;\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value > fieldMatchers.$gt) { // more specificity\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// collapse logically equivalent lt/lte values\nfunction mergeLtLte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$lte !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lte) { // more specificity\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value <= fieldMatchers.$lte) { // more specificity\n        delete fieldMatchers.$lte;\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$lt !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lt) { // more specificity\n        delete fieldMatchers.$lt;\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value < fieldMatchers.$lt) { // more specificity\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// combine $ne values into one array\nfunction mergeNe(value, fieldMatchers) {\n  if ('$ne' in fieldMatchers) {\n    // there are many things this could \"not\" be\n    fieldMatchers.$ne.push(value);\n  } else { // doesn't exist yet\n    fieldMatchers.$ne = [value];\n  }\n}\n\n// add $eq into the mix\nfunction mergeEq(value, fieldMatchers) {\n  // these all have less specificity than the $eq\n  // TODO: check for user errors here\n  delete fieldMatchers.$gt;\n  delete fieldMatchers.$gte;\n  delete fieldMatchers.$lt;\n  delete fieldMatchers.$lte;\n  delete fieldMatchers.$ne;\n  fieldMatchers.$eq = value;\n}\n\n//#7458: execute function mergeAndedSelectors on nested $and\nfunction mergeAndedSelectorsNested(obj) {\n    for (var prop in obj) {\n        if (Array.isArray(obj)) {\n            for (var i in obj) {\n                if (obj[i]['$and']) {\n                    obj[i] = mergeAndedSelectors(obj[i]['$and']);\n                }\n            }\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            mergeAndedSelectorsNested(value); // <- recursive call\n        }\n    }\n    return obj;\n}\n\n//#7458: determine id $and is present in selector (at any level)\nfunction isAndInSelector(obj, isAnd) {\n    for (var prop in obj) {\n        if (prop === '$and') {\n            isAnd = true;\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            isAnd = isAndInSelector(value, isAnd); // <- recursive call\n        }\n    }\n    return isAnd;\n}\n\n//\n// normalize the selector\n//\nfunction massageSelector(input) {\n  var result = clone(input);\n  var wasAnded = false;\n    //#7458: if $and is present in selector (at any level) merge nested $and\n    if (isAndInSelector(result, false)) {\n        result = mergeAndedSelectorsNested(result);\n        if ('$and' in result) {\n            result = mergeAndedSelectors(result['$and']);\n        }\n        wasAnded = true;\n    }\n\n  ['$or', '$nor'].forEach(function (orOrNor) {\n    if (orOrNor in result) {\n      // message each individual selector\n      // e.g. {foo: 'bar'} becomes {foo: {$eq: 'bar'}}\n      result[orOrNor].forEach(function (subSelector) {\n        var fields = Object.keys(subSelector);\n        for (var i = 0; i < fields.length; i++) {\n          var field = fields[i];\n          var matcher = subSelector[field];\n          if (typeof matcher !== 'object' || matcher === null) {\n            subSelector[field] = {$eq: matcher};\n          }\n        }\n      });\n    }\n  });\n\n  if ('$not' in result) {\n    //This feels a little like forcing, but it will work for now,\n    //I would like to come back to this and make the merging of selectors a little more generic\n    result['$not'] = mergeAndedSelectors([result['$not']]);\n  }\n\n  var fields = Object.keys(result);\n\n  for (var i = 0; i < fields.length; i++) {\n    var field = fields[i];\n    var matcher = result[field];\n\n    if (typeof matcher !== 'object' || matcher === null) {\n      matcher = {$eq: matcher};\n    } else if ('$ne' in matcher && !wasAnded) {\n      // I put these in an array, since there may be more than one\n      // but in the \"mergeAnded\" operation, I already take care of that\n      matcher.$ne = [matcher.$ne];\n    }\n    result[field] = matcher;\n  }\n\n  return result;\n}\n\nfunction pad(str, padWith, upToLength) {\n  var padding = '';\n  var targetLength = upToLength - str.length;\n  /* istanbul ignore next */\n  while (padding.length < targetLength) {\n    padding += padWith;\n  }\n  return padding;\n}\n\nfunction padLeft(str, padWith, upToLength) {\n  var padding = pad(str, padWith, upToLength);\n  return padding + str;\n}\n\nvar MIN_MAGNITUDE = -324; // verified by -Number.MIN_VALUE\nvar MAGNITUDE_DIGITS = 3; // ditto\nvar SEP = ''; // set to '_' for easier debugging \n\nfunction collate(a, b) {\n\n  if (a === b) {\n    return 0;\n  }\n\n  a = normalizeKey(a);\n  b = normalizeKey(b);\n\n  var ai = collationIndex(a);\n  var bi = collationIndex(b);\n  if ((ai - bi) !== 0) {\n    return ai - bi;\n  }\n  switch (typeof a) {\n    case 'number':\n      return a - b;\n    case 'boolean':\n      return a < b ? -1 : 1;\n    case 'string':\n      return stringCollate(a, b);\n  }\n  return Array.isArray(a) ? arrayCollate(a, b) : objectCollate(a, b);\n}\n\n// couch considers null/NaN/Infinity/-Infinity === undefined,\n// for the purposes of mapreduce indexes. also, dates get stringified.\nfunction normalizeKey(key) {\n  switch (typeof key) {\n    case 'undefined':\n      return null;\n    case 'number':\n      if (key === Infinity || key === -Infinity || isNaN(key)) {\n        return null;\n      }\n      return key;\n    case 'object':\n      var origKey = key;\n      if (Array.isArray(key)) {\n        var len = key.length;\n        key = new Array(len);\n        for (var i = 0; i < len; i++) {\n          key[i] = normalizeKey(origKey[i]);\n        }\n      /* istanbul ignore next */\n      } else if (key instanceof Date) {\n        return key.toJSON();\n      } else if (key !== null) { // generic object\n        key = {};\n        for (var k in origKey) {\n          if (origKey.hasOwnProperty(k)) {\n            var val = origKey[k];\n            if (typeof val !== 'undefined') {\n              key[k] = normalizeKey(val);\n            }\n          }\n        }\n      }\n  }\n  return key;\n}\n\nfunction indexify(key) {\n  if (key !== null) {\n    switch (typeof key) {\n      case 'boolean':\n        return key ? 1 : 0;\n      case 'number':\n        return numToIndexableString(key);\n      case 'string':\n        // We've to be sure that key does not contain \\u0000\n        // Do order-preserving replacements:\n        // 0 -> 1, 1\n        // 1 -> 1, 2\n        // 2 -> 2, 2\n        /* eslint-disable no-control-regex */\n        return key\n          .replace(/\\u0002/g, '\\u0002\\u0002')\n          .replace(/\\u0001/g, '\\u0001\\u0002')\n          .replace(/\\u0000/g, '\\u0001\\u0001');\n        /* eslint-enable no-control-regex */\n      case 'object':\n        var isArray = Array.isArray(key);\n        var arr = isArray ? key : Object.keys(key);\n        var i = -1;\n        var len = arr.length;\n        var result = '';\n        if (isArray) {\n          while (++i < len) {\n            result += toIndexableString(arr[i]);\n          }\n        } else {\n          while (++i < len) {\n            var objKey = arr[i];\n            result += toIndexableString(objKey) +\n                toIndexableString(key[objKey]);\n          }\n        }\n        return result;\n    }\n  }\n  return '';\n}\n\n// convert the given key to a string that would be appropriate\n// for lexical sorting, e.g. within a database, where the\n// sorting is the same given by the collate() function.\nfunction toIndexableString(key) {\n  var zero = '\\u0000';\n  key = normalizeKey(key);\n  return collationIndex(key) + SEP + indexify(key) + zero;\n}\n\nfunction parseNumber(str, i) {\n  var originalIdx = i;\n  var num;\n  var zero = str[i] === '1';\n  if (zero) {\n    num = 0;\n    i++;\n  } else {\n    var neg = str[i] === '0';\n    i++;\n    var numAsString = '';\n    var magAsString = str.substring(i, i + MAGNITUDE_DIGITS);\n    var magnitude = parseInt(magAsString, 10) + MIN_MAGNITUDE;\n    /* istanbul ignore next */\n    if (neg) {\n      magnitude = -magnitude;\n    }\n    i += MAGNITUDE_DIGITS;\n    while (true) {\n      var ch = str[i];\n      if (ch === '\\u0000') {\n        break;\n      } else {\n        numAsString += ch;\n      }\n      i++;\n    }\n    numAsString = numAsString.split('.');\n    if (numAsString.length === 1) {\n      num = parseInt(numAsString, 10);\n    } else {\n      /* istanbul ignore next */\n      num = parseFloat(numAsString[0] + '.' + numAsString[1]);\n    }\n    /* istanbul ignore next */\n    if (neg) {\n      num = num - 10;\n    }\n    /* istanbul ignore next */\n    if (magnitude !== 0) {\n      // parseFloat is more reliable than pow due to rounding errors\n      // e.g. Number.MAX_VALUE would return Infinity if we did\n      // num * Math.pow(10, magnitude);\n      num = parseFloat(num + 'e' + magnitude);\n    }\n  }\n  return {num: num, length : i - originalIdx};\n}\n\n// move up the stack while parsing\n// this function moved outside of parseIndexableString for performance\nfunction pop(stack, metaStack) {\n  var obj = stack.pop();\n\n  if (metaStack.length) {\n    var lastMetaElement = metaStack[metaStack.length - 1];\n    if (obj === lastMetaElement.element) {\n      // popping a meta-element, e.g. an object whose value is another object\n      metaStack.pop();\n      lastMetaElement = metaStack[metaStack.length - 1];\n    }\n    var element = lastMetaElement.element;\n    var lastElementIndex = lastMetaElement.index;\n    if (Array.isArray(element)) {\n      element.push(obj);\n    } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n      var key = stack.pop();\n      element[key] = obj;\n    } else {\n      stack.push(obj); // obj with key only\n    }\n  }\n}\n\nfunction parseIndexableString(str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n\n  /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n  while (true) {\n    var collationIndex = str[i++];\n    if (collationIndex === '\\u0000') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case '1':\n        stack.push(null);\n        break;\n      case '2':\n        stack.push(str[i] === '1');\n        i++;\n        break;\n      case '3':\n        var parsedNum = parseNumber(str, i);\n        stack.push(parsedNum.num);\n        i += parsedNum.length;\n        break;\n      case '4':\n        var parsedStr = '';\n        /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n        while (true) {\n          var ch = str[i];\n          if (ch === '\\u0000') {\n            break;\n          }\n          parsedStr += ch;\n          i++;\n        }\n        // perform the reverse of the order-preserving replacement\n        // algorithm (see above)\n        /* eslint-disable no-control-regex */\n        parsedStr = parsedStr.replace(/\\u0001\\u0001/g, '\\u0000')\n          .replace(/\\u0001\\u0002/g, '\\u0001')\n          .replace(/\\u0002\\u0002/g, '\\u0002');\n        /* eslint-enable no-control-regex */\n        stack.push(parsedStr);\n        break;\n      case '5':\n        var arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '6':\n        var objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      /* istanbul ignore next */\n      default:\n        throw new Error(\n          'bad collationIndex or unexpectedly reached end of input: ' +\n            collationIndex);\n    }\n  }\n}\n\nfunction arrayCollate(a, b) {\n  var len = Math.min(a.length, b.length);\n  for (var i = 0; i < len; i++) {\n    var sort = collate(a[i], b[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n  }\n  return (a.length === b.length) ? 0 :\n    (a.length > b.length) ? 1 : -1;\n}\nfunction stringCollate(a, b) {\n  // See: https://github.com/daleharvey/pouchdb/issues/40\n  // This is incompatible with the CouchDB implementation, but its the\n  // best we can do for now\n  return (a === b) ? 0 : ((a > b) ? 1 : -1);\n}\nfunction objectCollate(a, b) {\n  var ak = Object.keys(a), bk = Object.keys(b);\n  var len = Math.min(ak.length, bk.length);\n  for (var i = 0; i < len; i++) {\n    // First sort the keys\n    var sort = collate(ak[i], bk[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n    // if the keys are equal sort the values\n    sort = collate(a[ak[i]], b[bk[i]]);\n    if (sort !== 0) {\n      return sort;\n    }\n\n  }\n  return (ak.length === bk.length) ? 0 :\n    (ak.length > bk.length) ? 1 : -1;\n}\n// The collation is defined by erlangs ordered terms\n// the atoms null, true, false come first, then numbers, strings,\n// arrays, then objects\n// null/undefined/NaN/Infinity/-Infinity are all considered null\nfunction collationIndex(x) {\n  var id = ['boolean', 'number', 'string', 'object'];\n  var idx = id.indexOf(typeof x);\n  //false if -1 otherwise true, but fast!!!!1\n  if (~idx) {\n    if (x === null) {\n      return 1;\n    }\n    if (Array.isArray(x)) {\n      return 5;\n    }\n    return idx < 3 ? (idx + 2) : (idx + 3);\n  }\n  /* istanbul ignore next */\n  if (Array.isArray(x)) {\n    return 5;\n  }\n}\n\n// conversion:\n// x yyy zz...zz\n// x = 0 for negative, 1 for 0, 2 for positive\n// y = exponent (for negative numbers negated) moved so that it's >= 0\n// z = mantisse\nfunction numToIndexableString(num) {\n\n  if (num === 0) {\n    return '1';\n  }\n\n  // convert number to exponential format for easier and\n  // more succinct string sorting\n  var expFormat = num.toExponential().split(/e\\+?/);\n  var magnitude = parseInt(expFormat[1], 10);\n\n  var neg = num < 0;\n\n  var result = neg ? '0' : '2';\n\n  // first sort by magnitude\n  // it's easier if all magnitudes are positive\n  var magForComparison = ((neg ? -magnitude : magnitude) - MIN_MAGNITUDE);\n  var magString = padLeft((magForComparison).toString(), '0', MAGNITUDE_DIGITS);\n\n  result += SEP + magString;\n\n  // then sort by the factor\n  var factor = Math.abs(parseFloat(expFormat[0])); // [1..10)\n  /* istanbul ignore next */\n  if (neg) { // for negative reverse ordering\n    factor = 10 - factor;\n  }\n\n  var factorStr = factor.toFixed(20);\n\n  // strip zeros from the end\n  factorStr = factorStr.replace(/\\.?0+$/, '');\n\n  result += SEP + factorStr;\n\n  return result;\n}\n\n// create a comparator based on the sort object\nfunction createFieldSorter(sort) {\n\n  function getFieldValuesAsArray(doc) {\n    return sort.map(function (sorting) {\n      var fieldName = getKey(sorting);\n      var parsedField = parseField(fieldName);\n      var docFieldValue = getFieldFromDoc(doc, parsedField);\n      return docFieldValue;\n    });\n  }\n\n  return function (aRow, bRow) {\n    var aFieldValues = getFieldValuesAsArray(aRow.doc);\n    var bFieldValues = getFieldValuesAsArray(bRow.doc);\n    var collation = collate(aFieldValues, bFieldValues);\n    if (collation !== 0) {\n      return collation;\n    }\n    // this is what mango seems to do\n    return compare$1(aRow.doc._id, bRow.doc._id);\n  };\n}\n\nfunction filterInMemoryFields(rows, requestDef, inMemoryFields) {\n  rows = rows.filter(function (row) {\n    return rowFilter(row.doc, requestDef.selector, inMemoryFields);\n  });\n\n  if (requestDef.sort) {\n    // in-memory sort\n    var fieldSorter = createFieldSorter(requestDef.sort);\n    rows = rows.sort(fieldSorter);\n    if (typeof requestDef.sort[0] !== 'string' &&\n        getValue(requestDef.sort[0]) === 'desc') {\n      rows = rows.reverse();\n    }\n  }\n\n  if ('limit' in requestDef || 'skip' in requestDef) {\n    // have to do the limit in-memory\n    var skip = requestDef.skip || 0;\n    var limit = ('limit' in requestDef ? requestDef.limit : rows.length) + skip;\n    rows = rows.slice(skip, limit);\n  }\n  return rows;\n}\n\nfunction rowFilter(doc, selector, inMemoryFields) {\n  return inMemoryFields.every(function (field) {\n    var matcher = selector[field];\n    var parsedField = parseField(field);\n    var docFieldValue = getFieldFromDoc(doc, parsedField);\n    if (isCombinationalField(field)) {\n      return matchCominationalSelector(field, matcher, doc);\n    }\n\n    return matchSelector(matcher, doc, parsedField, docFieldValue);\n  });\n}\n\nfunction matchSelector(matcher, doc, parsedField, docFieldValue) {\n  if (!matcher) {\n    // no filtering necessary; this field is just needed for sorting\n    return true;\n  }\n\n  // is matcher an object, if so continue recursion\n  if (typeof matcher === 'object') {\n    return Object.keys(matcher).every(function (userOperator) {\n      var userValue = matcher[userOperator];\n      return match(userOperator, doc, userValue, parsedField, docFieldValue);\n    });\n  }\n\n  // no more depth, No need to recurse further\n  return matcher === docFieldValue;\n}\n\nfunction matchCominationalSelector(field, matcher, doc) {\n\n  if (field === '$or') {\n    return matcher.some(function (orMatchers) {\n      return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n    });\n  }\n\n  if (field === '$not') {\n    return !rowFilter(doc, matcher, Object.keys(matcher));\n  }\n\n  //`$nor`\n  return !matcher.find(function (orMatchers) {\n    return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n  });\n\n}\n\nfunction match(userOperator, doc, userValue, parsedField, docFieldValue) {\n  if (!matchers[userOperator]) {\n    throw new Error('unknown operator \"' + userOperator +\n      '\" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, ' +\n      '$nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');\n  }\n  return matchers[userOperator](doc, userValue, parsedField, docFieldValue);\n}\n\nfunction fieldExists(docFieldValue) {\n  return typeof docFieldValue !== 'undefined' && docFieldValue !== null;\n}\n\nfunction fieldIsNotUndefined(docFieldValue) {\n  return typeof docFieldValue !== 'undefined';\n}\n\nfunction modField(docFieldValue, userValue) {\n  var divisor = userValue[0];\n  var mod = userValue[1];\n  if (divisor === 0) {\n    throw new Error('Bad divisor, cannot divide by zero');\n  }\n\n  if (parseInt(divisor, 10) !== divisor ) {\n    throw new Error('Divisor is not an integer');\n  }\n\n  if (parseInt(mod, 10) !== mod ) {\n    throw new Error('Modulus is not an integer');\n  }\n\n  if (parseInt(docFieldValue, 10) !== docFieldValue) {\n    return false;\n  }\n\n  return docFieldValue % divisor === mod;\n}\n\nfunction arrayContainsValue(docFieldValue, userValue) {\n  return userValue.some(function (val) {\n    if (docFieldValue instanceof Array) {\n      return docFieldValue.indexOf(val) > -1;\n    }\n\n    return docFieldValue === val;\n  });\n}\n\nfunction arrayContainsAllValues(docFieldValue, userValue) {\n  return userValue.every(function (val) {\n    return docFieldValue.indexOf(val) > -1;\n  });\n}\n\nfunction arraySize(docFieldValue, userValue) {\n  return docFieldValue.length === userValue;\n}\n\nfunction regexMatch(docFieldValue, userValue) {\n  var re = new RegExp(userValue);\n\n  return re.test(docFieldValue);\n}\n\nfunction typeMatch(docFieldValue, userValue) {\n\n  switch (userValue) {\n    case 'null':\n      return docFieldValue === null;\n    case 'boolean':\n      return typeof (docFieldValue) === 'boolean';\n    case 'number':\n      return typeof (docFieldValue) === 'number';\n    case 'string':\n      return typeof (docFieldValue) === 'string';\n    case 'array':\n      return docFieldValue instanceof Array;\n    case 'object':\n      return ({}).toString.call(docFieldValue) === '[object Object]';\n  }\n\n  throw new Error(userValue + ' not supported as a type.' +\n                  'Please use one of object, string, array, number, boolean or null.');\n\n}\n\nvar matchers = {\n\n  '$elemMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.some(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.some(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$allMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    /* istanbul ignore next */\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.every(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.every(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$eq': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) === 0;\n  },\n\n  '$gte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) >= 0;\n  },\n\n  '$gt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) > 0;\n  },\n\n  '$lte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) <= 0;\n  },\n\n  '$lt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) < 0;\n  },\n\n  '$exists': function (doc, userValue, parsedField, docFieldValue) {\n    //a field that is null is still considered to exist\n    if (userValue) {\n      return fieldIsNotUndefined(docFieldValue);\n    }\n\n    return !fieldIsNotUndefined(docFieldValue);\n  },\n\n  '$mod': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && modField(docFieldValue, userValue);\n  },\n\n  '$ne': function (doc, userValue, parsedField, docFieldValue) {\n    return userValue.every(function (neValue) {\n      return collate(docFieldValue, neValue) !== 0;\n    });\n  },\n  '$in': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$nin': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && !arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$size': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arraySize(docFieldValue, userValue);\n  },\n\n  '$all': function (doc, userValue, parsedField, docFieldValue) {\n    return Array.isArray(docFieldValue) && arrayContainsAllValues(docFieldValue, userValue);\n  },\n\n  '$regex': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && regexMatch(docFieldValue, userValue);\n  },\n\n  '$type': function (doc, userValue, parsedField, docFieldValue) {\n    return typeMatch(docFieldValue, userValue);\n  }\n};\n\n// return true if the given doc matches the supplied selector\nfunction matchesSelector(doc, selector) {\n  /* istanbul ignore if */\n  if (typeof selector !== 'object') {\n    // match the CouchDB error message\n    throw new Error('Selector error: expected a JSON object');\n  }\n\n  selector = massageSelector(selector);\n  var row = {\n    'doc': doc\n  };\n\n  var rowsMatched = filterInMemoryFields([row], { 'selector': selector }, Object.keys(selector));\n  return rowsMatched && rowsMatched.length === 1;\n}\n\nfunction evalFilter(input) {\n  return scopeEval('\"use strict\";\\nreturn ' + input + ';', {});\n}\n\nfunction evalView(input) {\n  var code = [\n    'return function(doc) {',\n    '  \"use strict\";',\n    '  var emitted = false;',\n    '  var emit = function (a, b) {',\n    '    emitted = true;',\n    '  };',\n    '  var view = ' + input + ';',\n    '  view(doc);',\n    '  if (emitted) {',\n    '    return true;',\n    '  }',\n    '};'\n  ].join('\\n');\n\n  return scopeEval(code, {});\n}\n\nfunction validate(opts, callback) {\n  if (opts.selector) {\n    if (opts.filter && opts.filter !== '_selector') {\n      var filterName = typeof opts.filter === 'string' ?\n        opts.filter : 'function';\n      return callback(new Error('selector invalid for filter \"' + filterName + '\"'));\n    }\n  }\n  callback();\n}\n\nfunction normalize(opts) {\n  if (opts.view && !opts.filter) {\n    opts.filter = '_view';\n  }\n\n  if (opts.selector && !opts.filter) {\n    opts.filter = '_selector';\n  }\n\n  if (opts.filter && typeof opts.filter === 'string') {\n    if (opts.filter === '_view') {\n      opts.view = normalizeDesignDocFunctionName(opts.view);\n    } else {\n      opts.filter = normalizeDesignDocFunctionName(opts.filter);\n    }\n  }\n}\n\nfunction shouldFilter(changesHandler, opts) {\n  return opts.filter && typeof opts.filter === 'string' &&\n    !opts.doc_ids && !isRemote(changesHandler.db);\n}\n\nfunction filter(changesHandler, opts) {\n  var callback = opts.complete;\n  if (opts.filter === '_view') {\n    if (!opts.view || typeof opts.view !== 'string') {\n      var err = createError(BAD_REQUEST,\n        '`view` filter parameter not found or invalid.');\n      return callback(err);\n    }\n    // fetch a view from a design doc, make it behave like a filter\n    var viewName = parseDesignDocFunctionName(opts.view);\n    changesHandler.db.get('_design/' + viewName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var mapFun = ddoc && ddoc.views && ddoc.views[viewName[1]] &&\n        ddoc.views[viewName[1]].map;\n      if (!mapFun) {\n        return callback(createError(MISSING_DOC,\n          (ddoc.views ? 'missing json key: ' + viewName[1] :\n            'missing json key: views')));\n      }\n      opts.filter = evalView(mapFun);\n      changesHandler.doChanges(opts);\n    });\n  } else if (opts.selector) {\n    opts.filter = function (doc) {\n      return matchesSelector(doc, opts.selector);\n    };\n    changesHandler.doChanges(opts);\n  } else {\n    // fetch a filter from a design doc\n    var filterName = parseDesignDocFunctionName(opts.filter);\n    changesHandler.db.get('_design/' + filterName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var filterFun = ddoc && ddoc.filters && ddoc.filters[filterName[1]];\n      if (!filterFun) {\n        return callback(createError(MISSING_DOC,\n          ((ddoc && ddoc.filters) ? 'missing json key: ' + filterName[1]\n            : 'missing json key: filters')));\n      }\n      opts.filter = evalFilter(filterFun);\n      changesHandler.doChanges(opts);\n    });\n  }\n}\n\nfunction applyChangesFilterPlugin(PouchDB) {\n  PouchDB._changesFilterPlugin = {\n    validate: validate,\n    normalize: normalize,\n    shouldFilter: shouldFilter,\n    filter: filter\n  };\n}\n\n// TODO: remove from pouchdb-core (breaking)\nPouchDB.plugin(applyChangesFilterPlugin);\n\nPouchDB.version = version;\n\nfunction toObject(array) {\n  return array.reduce(function (obj, item) {\n    obj[item] = true;\n    return obj;\n  }, {});\n}\n// List of top level reserved words for doc\nvar reservedWords = toObject([\n  '_id',\n  '_rev',\n  '_attachments',\n  '_deleted',\n  '_revisions',\n  '_revs_info',\n  '_conflicts',\n  '_deleted_conflicts',\n  '_local_seq',\n  '_rev_tree',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats',\n  // Specific to Couchbase Sync Gateway\n  '_removed'\n]);\n\n// List of reserved words that should end up the document\nvar dataWords = toObject([\n  '_attachments',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats'\n]);\n\nfunction parseRevisionInfo(rev$$1) {\n  if (!/^\\d+-/.test(rev$$1)) {\n    return createError(INVALID_REV);\n  }\n  var idx = rev$$1.indexOf('-');\n  var left = rev$$1.substring(0, idx);\n  var right = rev$$1.substring(idx + 1);\n  return {\n    prefix: parseInt(left, 10),\n    id: right\n  };\n}\n\nfunction makeRevTreeFromRevisions(revisions, opts) {\n  var pos = revisions.start - revisions.ids.length + 1;\n\n  var revisionIds = revisions.ids;\n  var ids = [revisionIds[0], opts, []];\n\n  for (var i = 1, len = revisionIds.length; i < len; i++) {\n    ids = [revisionIds[i], {status: 'missing'}, [ids]];\n  }\n\n  return [{\n    pos: pos,\n    ids: ids\n  }];\n}\n\n// Preprocess documents, parse their revisions, assign an id and a\n// revision for new writes that are missing them, etc\nfunction parseDoc(doc, newEdits, dbOpts) {\n  if (!dbOpts) {\n    dbOpts = {\n      deterministic_revs: true\n    };\n  }\n\n  var nRevNum;\n  var newRevId;\n  var revInfo;\n  var opts = {status: 'available'};\n  if (doc._deleted) {\n    opts.deleted = true;\n  }\n\n  if (newEdits) {\n    if (!doc._id) {\n      doc._id = uuid();\n    }\n    newRevId = rev(doc, dbOpts.deterministic_revs);\n    if (doc._rev) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      doc._rev_tree = [{\n        pos: revInfo.prefix,\n        ids: [revInfo.id, {status: 'missing'}, [[newRevId, opts, []]]]\n      }];\n      nRevNum = revInfo.prefix + 1;\n    } else {\n      doc._rev_tree = [{\n        pos: 1,\n        ids : [newRevId, opts, []]\n      }];\n      nRevNum = 1;\n    }\n  } else {\n    if (doc._revisions) {\n      doc._rev_tree = makeRevTreeFromRevisions(doc._revisions, opts);\n      nRevNum = doc._revisions.start;\n      newRevId = doc._revisions.ids[0];\n    }\n    if (!doc._rev_tree) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      nRevNum = revInfo.prefix;\n      newRevId = revInfo.id;\n      doc._rev_tree = [{\n        pos: nRevNum,\n        ids: [newRevId, opts, []]\n      }];\n    }\n  }\n\n  invalidIdError(doc._id);\n\n  doc._rev = nRevNum + '-' + newRevId;\n\n  var result = {metadata : {}, data : {}};\n  for (var key in doc) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(doc, key)) {\n      var specialKey = key[0] === '_';\n      if (specialKey && !reservedWords[key]) {\n        var error = createError(DOC_VALIDATION, key);\n        error.message = DOC_VALIDATION.message + ': ' + key;\n        throw error;\n      } else if (specialKey && !dataWords[key]) {\n        result.metadata[key.slice(1)] = doc[key];\n      } else {\n        result.data[key] = doc[key];\n      }\n    }\n  }\n  return result;\n}\n\nfunction parseBase64(data) {\n  try {\n    return thisAtob(data);\n  } catch (e) {\n    var err = createError(BAD_ARG,\n      'Attachment is not a valid base64 string');\n    return {error: err};\n  }\n}\n\nfunction preprocessString(att, blobType, callback) {\n  var asBinary = parseBase64(att.data);\n  if (asBinary.error) {\n    return callback(asBinary.error);\n  }\n\n  att.length = asBinary.length;\n  if (blobType === 'blob') {\n    att.data = binStringToBluffer(asBinary, att.content_type);\n  } else if (blobType === 'base64') {\n    att.data = thisBtoa(asBinary);\n  } else { // binary\n    att.data = asBinary;\n  }\n  binaryMd5(asBinary, function (result) {\n    att.digest = 'md5-' + result;\n    callback();\n  });\n}\n\nfunction preprocessBlob(att, blobType, callback) {\n  binaryMd5(att.data, function (md5) {\n    att.digest = 'md5-' + md5;\n    // size is for blobs (browser), length is for buffers (node)\n    att.length = att.data.size || att.data.length || 0;\n    if (blobType === 'binary') {\n      blobToBinaryString(att.data, function (binString) {\n        att.data = binString;\n        callback();\n      });\n    } else if (blobType === 'base64') {\n      blobToBase64(att.data, function (b64) {\n        att.data = b64;\n        callback();\n      });\n    } else {\n      callback();\n    }\n  });\n}\n\nfunction preprocessAttachment(att, blobType, callback) {\n  if (att.stub) {\n    return callback();\n  }\n  if (typeof att.data === 'string') { // input is a base64 string\n    preprocessString(att, blobType, callback);\n  } else { // input is a blob\n    preprocessBlob(att, blobType, callback);\n  }\n}\n\nfunction preprocessAttachments(docInfos, blobType, callback) {\n\n  if (!docInfos.length) {\n    return callback();\n  }\n\n  var docv = 0;\n  var overallErr;\n\n  docInfos.forEach(function (docInfo) {\n    var attachments = docInfo.data && docInfo.data._attachments ?\n      Object.keys(docInfo.data._attachments) : [];\n    var recv = 0;\n\n    if (!attachments.length) {\n      return done();\n    }\n\n    function processedAttachment(err) {\n      overallErr = err;\n      recv++;\n      if (recv === attachments.length) {\n        done();\n      }\n    }\n\n    for (var key in docInfo.data._attachments) {\n      if (docInfo.data._attachments.hasOwnProperty(key)) {\n        preprocessAttachment(docInfo.data._attachments[key],\n          blobType, processedAttachment);\n      }\n    }\n  });\n\n  function done() {\n    docv++;\n    if (docInfos.length === docv) {\n      if (overallErr) {\n        callback(overallErr);\n      } else {\n        callback();\n      }\n    }\n  }\n}\n\nfunction updateDoc(revLimit, prev, docInfo, results,\n                   i, cb, writeDoc, newEdits) {\n\n  if (revExists(prev.rev_tree, docInfo.metadata.rev) && !newEdits) {\n    results[i] = docInfo;\n    return cb();\n  }\n\n  // sometimes this is pre-calculated. historically not always\n  var previousWinningRev = prev.winningRev || winningRev(prev);\n  var previouslyDeleted = 'deleted' in prev ? prev.deleted :\n    isDeleted(prev, previousWinningRev);\n  var deleted = 'deleted' in docInfo.metadata ? docInfo.metadata.deleted :\n    isDeleted(docInfo.metadata);\n  var isRoot = /^1-/.test(docInfo.metadata.rev);\n\n  if (previouslyDeleted && !deleted && newEdits && isRoot) {\n    var newDoc = docInfo.data;\n    newDoc._rev = previousWinningRev;\n    newDoc._id = docInfo.metadata.id;\n    docInfo = parseDoc(newDoc, newEdits);\n  }\n\n  var merged = merge(prev.rev_tree, docInfo.metadata.rev_tree[0], revLimit);\n\n  var inConflict = newEdits && ((\n    (previouslyDeleted && deleted && merged.conflicts !== 'new_leaf') ||\n    (!previouslyDeleted && merged.conflicts !== 'new_leaf') ||\n    (previouslyDeleted && !deleted && merged.conflicts === 'new_branch')));\n\n  if (inConflict) {\n    var err = createError(REV_CONFLICT);\n    results[i] = err;\n    return cb();\n  }\n\n  var newRev = docInfo.metadata.rev;\n  docInfo.metadata.rev_tree = merged.tree;\n  docInfo.stemmedRevs = merged.stemmedRevs || [];\n  /* istanbul ignore else */\n  if (prev.rev_map) {\n    docInfo.metadata.rev_map = prev.rev_map; // used only by leveldb\n  }\n\n  // recalculate\n  var winningRev$$1 = winningRev(docInfo.metadata);\n  var winningRevIsDeleted = isDeleted(docInfo.metadata, winningRev$$1);\n\n  // calculate the total number of documents that were added/removed,\n  // from the perspective of total_rows/doc_count\n  var delta = (previouslyDeleted === winningRevIsDeleted) ? 0 :\n    previouslyDeleted < winningRevIsDeleted ? -1 : 1;\n\n  var newRevIsDeleted;\n  if (newRev === winningRev$$1) {\n    // if the new rev is the same as the winning rev, we can reuse that value\n    newRevIsDeleted = winningRevIsDeleted;\n  } else {\n    // if they're not the same, then we need to recalculate\n    newRevIsDeleted = isDeleted(docInfo.metadata, newRev);\n  }\n\n  writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n    true, delta, i, cb);\n}\n\nfunction rootIsMissing(docInfo) {\n  return docInfo.metadata.rev_tree[0].ids[1].status === 'missing';\n}\n\nfunction processDocs(revLimit, docInfos, api, fetchedDocs, tx, results,\n                     writeDoc, opts, overallCallback) {\n\n  // Default to 1000 locally\n  revLimit = revLimit || 1000;\n\n  function insertDoc(docInfo, resultsIdx, callback) {\n    // Cant insert new deleted documents\n    var winningRev$$1 = winningRev(docInfo.metadata);\n    var deleted = isDeleted(docInfo.metadata, winningRev$$1);\n    if ('was_delete' in opts && deleted) {\n      results[resultsIdx] = createError(MISSING_DOC, 'deleted');\n      return callback();\n    }\n\n    // 4712 - detect whether a new document was inserted with a _rev\n    var inConflict = newEdits && rootIsMissing(docInfo);\n\n    if (inConflict) {\n      var err = createError(REV_CONFLICT);\n      results[resultsIdx] = err;\n      return callback();\n    }\n\n    var delta = deleted ? 0 : 1;\n\n    writeDoc(docInfo, winningRev$$1, deleted, deleted, false,\n      delta, resultsIdx, callback);\n  }\n\n  var newEdits = opts.new_edits;\n  var idsToDocs = new ExportedMap();\n\n  var docsDone = 0;\n  var docsToDo = docInfos.length;\n\n  function checkAllDocsDone() {\n    if (++docsDone === docsToDo && overallCallback) {\n      overallCallback();\n    }\n  }\n\n  docInfos.forEach(function (currentDoc, resultsIdx) {\n\n    if (currentDoc._id && isLocalId(currentDoc._id)) {\n      var fun = currentDoc._deleted ? '_removeLocal' : '_putLocal';\n      api[fun](currentDoc, {ctx: tx}, function (err, res) {\n        results[resultsIdx] = err || res;\n        checkAllDocsDone();\n      });\n      return;\n    }\n\n    var id = currentDoc.metadata.id;\n    if (idsToDocs.has(id)) {\n      docsToDo--; // duplicate\n      idsToDocs.get(id).push([currentDoc, resultsIdx]);\n    } else {\n      idsToDocs.set(id, [[currentDoc, resultsIdx]]);\n    }\n  });\n\n  // in the case of new_edits, the user can provide multiple docs\n  // with the same id. these need to be processed sequentially\n  idsToDocs.forEach(function (docs, id) {\n    var numDone = 0;\n\n    function docWritten() {\n      if (++numDone < docs.length) {\n        nextDoc();\n      } else {\n        checkAllDocsDone();\n      }\n    }\n    function nextDoc() {\n      var value = docs[numDone];\n      var currentDoc = value[0];\n      var resultsIdx = value[1];\n\n      if (fetchedDocs.has(id)) {\n        updateDoc(revLimit, fetchedDocs.get(id), currentDoc, results,\n          resultsIdx, docWritten, writeDoc, newEdits);\n      } else {\n        // Ensure stemming applies to new writes as well\n        var merged = merge([], currentDoc.metadata.rev_tree[0], revLimit);\n        currentDoc.metadata.rev_tree = merged.tree;\n        currentDoc.stemmedRevs = merged.stemmedRevs || [];\n        insertDoc(currentDoc, resultsIdx, docWritten);\n      }\n    }\n    nextDoc();\n  });\n}\n\n// IndexedDB requires a versioned database structure, so we use the\n// version here to manage migrations.\nvar ADAPTER_VERSION = 5;\n\n// The object stores created for each database\n// DOC_STORE stores the document meta data, its revision history and state\n// Keyed by document id\nvar DOC_STORE = 'document-store';\n// BY_SEQ_STORE stores a particular version of a document, keyed by its\n// sequence id\nvar BY_SEQ_STORE = 'by-sequence';\n// Where we store attachments\nvar ATTACH_STORE = 'attach-store';\n// Where we store many-to-many relations\n// between attachment digests and seqs\nvar ATTACH_AND_SEQ_STORE = 'attach-seq-store';\n\n// Where we store database-wide meta data in a single record\n// keyed by id: META_STORE\nvar META_STORE = 'meta-store';\n// Where we store local documents\nvar LOCAL_STORE = 'local-store';\n// Where we detect blob support\nvar DETECT_BLOB_SUPPORT_STORE = 'detect-blob-support';\n\nfunction safeJsonParse(str) {\n  // This try/catch guards against stack overflow errors.\n  // JSON.parse() is faster than vuvuzela.parse() but vuvuzela\n  // cannot overflow.\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.parse(str);\n  }\n}\n\nfunction safeJsonStringify(json) {\n  try {\n    return JSON.stringify(json);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.stringify(json);\n  }\n}\n\nfunction idbError(callback) {\n  return function (evt) {\n    var message = 'unknown_error';\n    if (evt.target && evt.target.error) {\n      message = evt.target.error.name || evt.target.error.message;\n    }\n    callback(createError(IDB_ERROR, message, evt.type));\n  };\n}\n\n// Unfortunately, the metadata has to be stringified\n// when it is put into the database, because otherwise\n// IndexedDB can throw errors for deeply-nested objects.\n// Originally we just used JSON.parse/JSON.stringify; now\n// we use this custom vuvuzela library that avoids recursion.\n// If we could do it all over again, we'd probably use a\n// format for the revision trees other than JSON.\nfunction encodeMetadata(metadata, winningRev, deleted) {\n  return {\n    data: safeJsonStringify(metadata),\n    winningRev: winningRev,\n    deletedOrLocal: deleted ? '1' : '0',\n    seq: metadata.seq, // highest seq for this doc\n    id: metadata.id\n  };\n}\n\nfunction decodeMetadata(storedObject) {\n  if (!storedObject) {\n    return null;\n  }\n  var metadata = safeJsonParse(storedObject.data);\n  metadata.winningRev = storedObject.winningRev;\n  metadata.deleted = storedObject.deletedOrLocal === '1';\n  metadata.seq = storedObject.seq;\n  return metadata;\n}\n\n// read the doc back out from the database. we don't store the\n// _id or _rev because we already have _doc_id_rev.\nfunction decodeDoc(doc) {\n  if (!doc) {\n    return doc;\n  }\n  var idx = doc._doc_id_rev.lastIndexOf(':');\n  doc._id = doc._doc_id_rev.substring(0, idx - 1);\n  doc._rev = doc._doc_id_rev.substring(idx + 1);\n  delete doc._doc_id_rev;\n  return doc;\n}\n\n// Read a blob from the database, encoding as necessary\n// and translating from base64 if the IDB doesn't support\n// native Blobs\nfunction readBlobData(body, type, asBlob, callback) {\n  if (asBlob) {\n    if (!body) {\n      callback(createBlob([''], {type: type}));\n    } else if (typeof body !== 'string') { // we have blob support\n      callback(body);\n    } else { // no blob support\n      callback(b64ToBluffer(body, type));\n    }\n  } else { // as base64 string\n    if (!body) {\n      callback('');\n    } else if (typeof body !== 'string') { // we have blob support\n      readAsBinaryString(body, function (binary) {\n        callback(thisBtoa(binary));\n      });\n    } else { // no blob support\n      callback(body);\n    }\n  }\n}\n\nfunction fetchAttachmentsIfNecessary(doc, opts, txn, cb) {\n  var attachments = Object.keys(doc._attachments || {});\n  if (!attachments.length) {\n    return cb && cb();\n  }\n  var numDone = 0;\n\n  function checkDone() {\n    if (++numDone === attachments.length && cb) {\n      cb();\n    }\n  }\n\n  function fetchAttachment(doc, att) {\n    var attObj = doc._attachments[att];\n    var digest = attObj.digest;\n    var req = txn.objectStore(ATTACH_STORE).get(digest);\n    req.onsuccess = function (e) {\n      attObj.body = e.target.result.body;\n      checkDone();\n    };\n  }\n\n  attachments.forEach(function (att) {\n    if (opts.attachments && opts.include_docs) {\n      fetchAttachment(doc, att);\n    } else {\n      doc._attachments[att].stub = true;\n      checkDone();\n    }\n  });\n}\n\n// IDB-specific postprocessing necessary because\n// we don't know whether we stored a true Blob or\n// a base64-encoded string, and if it's a Blob it\n// needs to be read outside of the transaction context\nfunction postProcessAttachments(results, asBlob) {\n  return Promise.all(results.map(function (row) {\n    if (row.doc && row.doc._attachments) {\n      var attNames = Object.keys(row.doc._attachments);\n      return Promise.all(attNames.map(function (att) {\n        var attObj = row.doc._attachments[att];\n        if (!('body' in attObj)) { // already processed\n          return;\n        }\n        var body = attObj.body;\n        var type = attObj.content_type;\n        return new Promise(function (resolve) {\n          readBlobData(body, type, asBlob, function (data) {\n            row.doc._attachments[att] = $inject_Object_assign(\n              pick(attObj, ['digest', 'content_type']),\n              {data: data}\n            );\n            resolve();\n          });\n        });\n      }));\n    }\n  }));\n}\n\nfunction compactRevs(revs, docId, txn) {\n\n  var possiblyOrphanedDigests = [];\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var attStore = txn.objectStore(ATTACH_STORE);\n  var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n  var count = revs.length;\n\n  function checkDone() {\n    count--;\n    if (!count) { // done processing all revs\n      deleteOrphanedAttachments();\n    }\n  }\n\n  function deleteOrphanedAttachments() {\n    if (!possiblyOrphanedDigests.length) {\n      return;\n    }\n    possiblyOrphanedDigests.forEach(function (digest) {\n      var countReq = attAndSeqStore.index('digestSeq').count(\n        IDBKeyRange.bound(\n          digest + '::', digest + '::\\uffff', false, false));\n      countReq.onsuccess = function (e) {\n        var count = e.target.result;\n        if (!count) {\n          // orphaned\n          attStore.delete(digest);\n        }\n      };\n    });\n  }\n\n  revs.forEach(function (rev$$1) {\n    var index = seqStore.index('_doc_id_rev');\n    var key = docId + \"::\" + rev$$1;\n    index.getKey(key).onsuccess = function (e) {\n      var seq = e.target.result;\n      if (typeof seq !== 'number') {\n        return checkDone();\n      }\n      seqStore.delete(seq);\n\n      var cursor = attAndSeqStore.index('seq')\n        .openCursor(IDBKeyRange.only(seq));\n\n      cursor.onsuccess = function (event) {\n        var cursor = event.target.result;\n        if (cursor) {\n          var digest = cursor.value.digestSeq.split('::')[0];\n          possiblyOrphanedDigests.push(digest);\n          attAndSeqStore.delete(cursor.primaryKey);\n          cursor.continue();\n        } else { // done\n          checkDone();\n        }\n      };\n    };\n  });\n}\n\nfunction openTransactionSafely(idb, stores, mode) {\n  try {\n    return {\n      txn: idb.transaction(stores, mode)\n    };\n  } catch (err) {\n    return {\n      error: err\n    };\n  }\n}\n\nvar changesHandler = new Changes();\n\nfunction idbBulkDocs(dbOpts, req, opts, api, idb, callback) {\n  var docInfos = req.docs;\n  var txn;\n  var docStore;\n  var bySeqStore;\n  var attachStore;\n  var attachAndSeqStore;\n  var metaStore;\n  var docInfoError;\n  var metaDoc;\n\n  for (var i = 0, len = docInfos.length; i < len; i++) {\n    var doc = docInfos[i];\n    if (doc._id && isLocalId(doc._id)) {\n      continue;\n    }\n    doc = docInfos[i] = parseDoc(doc, opts.new_edits, dbOpts);\n    if (doc.error && !docInfoError) {\n      docInfoError = doc;\n    }\n  }\n\n  if (docInfoError) {\n    return callback(docInfoError);\n  }\n\n  var allDocsProcessed = false;\n  var docCountDelta = 0;\n  var results = new Array(docInfos.length);\n  var fetchedDocs = new ExportedMap();\n  var preconditionErrored = false;\n  var blobType = api._meta.blobSupport ? 'blob' : 'base64';\n\n  preprocessAttachments(docInfos, blobType, function (err) {\n    if (err) {\n      return callback(err);\n    }\n    startTransaction();\n  });\n\n  function startTransaction() {\n\n    var stores = [\n      DOC_STORE, BY_SEQ_STORE,\n      ATTACH_STORE,\n      LOCAL_STORE, ATTACH_AND_SEQ_STORE,\n      META_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    txn = txnResult.txn;\n    txn.onabort = idbError(callback);\n    txn.ontimeout = idbError(callback);\n    txn.oncomplete = complete;\n    docStore = txn.objectStore(DOC_STORE);\n    bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    attachStore = txn.objectStore(ATTACH_STORE);\n    attachAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n    metaStore = txn.objectStore(META_STORE);\n\n    metaStore.get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result;\n      updateDocCountIfReady();\n    };\n\n    verifyAttachments(function (err) {\n      if (err) {\n        preconditionErrored = true;\n        return callback(err);\n      }\n      fetchExistingDocs();\n    });\n  }\n\n  function onAllDocsProcessed() {\n    allDocsProcessed = true;\n    updateDocCountIfReady();\n  }\n\n  function idbProcessDocs() {\n    processDocs(dbOpts.revs_limit, docInfos, api, fetchedDocs,\n                txn, results, writeDoc, opts, onAllDocsProcessed);\n  }\n\n  function updateDocCountIfReady() {\n    if (!metaDoc || !allDocsProcessed) {\n      return;\n    }\n    // caching the docCount saves a lot of time in allDocs() and\n    // info(), which is why we go to all the trouble of doing this\n    metaDoc.docCount += docCountDelta;\n    metaStore.put(metaDoc);\n  }\n\n  function fetchExistingDocs() {\n\n    if (!docInfos.length) {\n      return;\n    }\n\n    var numFetched = 0;\n\n    function checkDone() {\n      if (++numFetched === docInfos.length) {\n        idbProcessDocs();\n      }\n    }\n\n    function readMetadata(event) {\n      var metadata = decodeMetadata(event.target.result);\n\n      if (metadata) {\n        fetchedDocs.set(metadata.id, metadata);\n      }\n      checkDone();\n    }\n\n    for (var i = 0, len = docInfos.length; i < len; i++) {\n      var docInfo = docInfos[i];\n      if (docInfo._id && isLocalId(docInfo._id)) {\n        checkDone(); // skip local docs\n        continue;\n      }\n      var req = docStore.get(docInfo.metadata.id);\n      req.onsuccess = readMetadata;\n    }\n  }\n\n  function complete() {\n    if (preconditionErrored) {\n      return;\n    }\n\n    changesHandler.notify(api._meta.name);\n    callback(null, results);\n  }\n\n  function verifyAttachment(digest, callback) {\n\n    var req = attachStore.get(digest);\n    req.onsuccess = function (e) {\n      if (!e.target.result) {\n        var err = createError(MISSING_STUB,\n          'unknown stub attachment with digest ' +\n          digest);\n        err.status = 412;\n        callback(err);\n      } else {\n        callback();\n      }\n    };\n  }\n\n  function verifyAttachments(finish) {\n\n\n    var digests = [];\n    docInfos.forEach(function (docInfo) {\n      if (docInfo.data && docInfo.data._attachments) {\n        Object.keys(docInfo.data._attachments).forEach(function (filename) {\n          var att = docInfo.data._attachments[filename];\n          if (att.stub) {\n            digests.push(att.digest);\n          }\n        });\n      }\n    });\n    if (!digests.length) {\n      return finish();\n    }\n    var numDone = 0;\n    var err;\n\n    function checkDone() {\n      if (++numDone === digests.length) {\n        finish(err);\n      }\n    }\n    digests.forEach(function (digest) {\n      verifyAttachment(digest, function (attErr) {\n        if (attErr && !err) {\n          err = attErr;\n        }\n        checkDone();\n      });\n    });\n  }\n\n  function writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n                    isUpdate, delta, resultsIdx, callback) {\n\n    docInfo.metadata.winningRev = winningRev$$1;\n    docInfo.metadata.deleted = winningRevIsDeleted;\n\n    var doc = docInfo.data;\n    doc._id = docInfo.metadata.id;\n    doc._rev = docInfo.metadata.rev;\n\n    if (newRevIsDeleted) {\n      doc._deleted = true;\n    }\n\n    var hasAttachments = doc._attachments &&\n      Object.keys(doc._attachments).length;\n    if (hasAttachments) {\n      return writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n        isUpdate, resultsIdx, callback);\n    }\n\n    docCountDelta += delta;\n    updateDocCountIfReady();\n\n    finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n      isUpdate, resultsIdx, callback);\n  }\n\n  function finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n                     isUpdate, resultsIdx, callback) {\n\n    var doc = docInfo.data;\n    var metadata = docInfo.metadata;\n\n    doc._doc_id_rev = metadata.id + '::' + metadata.rev;\n    delete doc._id;\n    delete doc._rev;\n\n    function afterPutDoc(e) {\n      var revsToDelete = docInfo.stemmedRevs || [];\n\n      if (isUpdate && api.auto_compaction) {\n        revsToDelete = revsToDelete.concat(compactTree(docInfo.metadata));\n      }\n\n      if (revsToDelete && revsToDelete.length) {\n        compactRevs(revsToDelete, docInfo.metadata.id, txn);\n      }\n\n      metadata.seq = e.target.result;\n      // Current _rev is calculated from _rev_tree on read\n      // delete metadata.rev;\n      var metadataToStore = encodeMetadata(metadata, winningRev$$1,\n        winningRevIsDeleted);\n      var metaDataReq = docStore.put(metadataToStore);\n      metaDataReq.onsuccess = afterPutMetadata;\n    }\n\n    function afterPutDocError(e) {\n      // ConstraintError, need to update, not put (see #1638 for details)\n      e.preventDefault(); // avoid transaction abort\n      e.stopPropagation(); // avoid transaction onerror\n      var index = bySeqStore.index('_doc_id_rev');\n      var getKeyReq = index.getKey(doc._doc_id_rev);\n      getKeyReq.onsuccess = function (e) {\n        var putReq = bySeqStore.put(doc, e.target.result);\n        putReq.onsuccess = afterPutDoc;\n      };\n    }\n\n    function afterPutMetadata() {\n      results[resultsIdx] = {\n        ok: true,\n        id: metadata.id,\n        rev: metadata.rev\n      };\n      fetchedDocs.set(docInfo.metadata.id, docInfo.metadata);\n      insertAttachmentMappings(docInfo, metadata.seq, callback);\n    }\n\n    var putReq = bySeqStore.put(doc);\n\n    putReq.onsuccess = afterPutDoc;\n    putReq.onerror = afterPutDocError;\n  }\n\n  function writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n                            isUpdate, resultsIdx, callback) {\n\n\n    var doc = docInfo.data;\n\n    var numDone = 0;\n    var attachments = Object.keys(doc._attachments);\n\n    function collectResults() {\n      if (numDone === attachments.length) {\n        finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n          isUpdate, resultsIdx, callback);\n      }\n    }\n\n    function attachmentSaved() {\n      numDone++;\n      collectResults();\n    }\n\n    attachments.forEach(function (key) {\n      var att = docInfo.data._attachments[key];\n      if (!att.stub) {\n        var data = att.data;\n        delete att.data;\n        att.revpos = parseInt(winningRev$$1, 10);\n        var digest = att.digest;\n        saveAttachment(digest, data, attachmentSaved);\n      } else {\n        numDone++;\n        collectResults();\n      }\n    });\n  }\n\n  // map seqs to attachment digests, which\n  // we will need later during compaction\n  function insertAttachmentMappings(docInfo, seq, callback) {\n\n    var attsAdded = 0;\n    var attsToAdd = Object.keys(docInfo.data._attachments || {});\n\n    if (!attsToAdd.length) {\n      return callback();\n    }\n\n    function checkDone() {\n      if (++attsAdded === attsToAdd.length) {\n        callback();\n      }\n    }\n\n    function add(att) {\n      var digest = docInfo.data._attachments[att].digest;\n      var req = attachAndSeqStore.put({\n        seq: seq,\n        digestSeq: digest + '::' + seq\n      });\n\n      req.onsuccess = checkDone;\n      req.onerror = function (e) {\n        // this callback is for a constaint error, which we ignore\n        // because this docid/rev has already been associated with\n        // the digest (e.g. when new_edits == false)\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n        checkDone();\n      };\n    }\n    for (var i = 0; i < attsToAdd.length; i++) {\n      add(attsToAdd[i]); // do in parallel\n    }\n  }\n\n  function saveAttachment(digest, data, callback) {\n\n\n    var getKeyReq = attachStore.count(digest);\n    getKeyReq.onsuccess = function (e) {\n      var count = e.target.result;\n      if (count) {\n        return callback(); // already exists\n      }\n      var newAtt = {\n        digest: digest,\n        body: data\n      };\n      var putReq = attachStore.put(newAtt);\n      putReq.onsuccess = callback;\n    };\n  }\n}\n\n// Abstraction over IDBCursor and getAll()/getAllKeys() that allows us to batch our operations\n// while falling back to a normal IDBCursor operation on browsers that don't support getAll() or\n// getAllKeys(). This allows for a much faster implementation than just straight-up cursors, because\n// we're not processing each document one-at-a-time.\nfunction runBatchedCursor(objectStore, keyRange, descending, batchSize, onBatch) {\n\n  if (batchSize === -1) {\n    batchSize = 1000;\n  }\n\n  // Bail out of getAll()/getAllKeys() in the following cases:\n  // 1) either method is unsupported - we need both\n  // 2) batchSize is 1 (might as well use IDBCursor)\n  // 3) descending  no real way to do this via getAll()/getAllKeys()\n\n  var useGetAll = typeof objectStore.getAll === 'function' &&\n    typeof objectStore.getAllKeys === 'function' &&\n    batchSize > 1 && !descending;\n\n  var keysBatch;\n  var valuesBatch;\n  var pseudoCursor;\n\n  function onGetAll(e) {\n    valuesBatch = e.target.result;\n    if (keysBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function onGetAllKeys(e) {\n    keysBatch = e.target.result;\n    if (valuesBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function continuePseudoCursor() {\n    if (!keysBatch.length) { // no more results\n      return onBatch();\n    }\n    // fetch next batch, exclusive start\n    var lastKey = keysBatch[keysBatch.length - 1];\n    var newKeyRange;\n    if (keyRange && keyRange.upper) {\n      try {\n        newKeyRange = IDBKeyRange.bound(lastKey, keyRange.upper,\n          true, keyRange.upperOpen);\n      } catch (e) {\n        if (e.name === \"DataError\" && e.code === 0) {\n          return onBatch(); // we're done, startkey and endkey are equal\n        }\n      }\n    } else {\n      newKeyRange = IDBKeyRange.lowerBound(lastKey, true);\n    }\n    keyRange = newKeyRange;\n    keysBatch = null;\n    valuesBatch = null;\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  }\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (!cursor) { // done\n      return onBatch();\n    }\n    // regular IDBCursor acts like a batch where batch size is always 1\n    onBatch([cursor.key], [cursor.value], cursor);\n  }\n\n  if (useGetAll) {\n    pseudoCursor = {\"continue\": continuePseudoCursor};\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  } else if (descending) {\n    objectStore.openCursor(keyRange, 'prev').onsuccess = onCursor;\n  } else {\n    objectStore.openCursor(keyRange).onsuccess = onCursor;\n  }\n}\n\n// simple shim for objectStore.getAll(), falling back to IDBCursor\nfunction getAll(objectStore, keyRange, onSuccess) {\n  if (typeof objectStore.getAll === 'function') {\n    // use native getAll\n    objectStore.getAll(keyRange).onsuccess = onSuccess;\n    return;\n  }\n  // fall back to cursors\n  var values = [];\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (cursor) {\n      values.push(cursor.value);\n      cursor.continue();\n    } else {\n      onSuccess({\n        target: {\n          result: values\n        }\n      });\n    }\n  }\n\n  objectStore.openCursor(keyRange).onsuccess = onCursor;\n}\n\nfunction allDocsKeys(keys, docStore, onBatch) {\n  // It's not guaranted to be returned in right order  \n  var valuesBatch = new Array(keys.length);\n  var count = 0;\n  keys.forEach(function (key, index) {\n    docStore.get(key).onsuccess = function (event) {\n      if (event.target.result) {\n        valuesBatch[index] = event.target.result;\n      } else {\n        valuesBatch[index] = {key: key, error: 'not_found'};\n      }\n      count++;\n      if (count === keys.length) {\n        onBatch(keys, valuesBatch, {});\n      }\n    };\n  });\n}\n\nfunction createKeyRange(start, end, inclusiveEnd, key, descending) {\n  try {\n    if (start && end) {\n      if (descending) {\n        return IDBKeyRange.bound(end, start, !inclusiveEnd, false);\n      } else {\n        return IDBKeyRange.bound(start, end, false, !inclusiveEnd);\n      }\n    } else if (start) {\n      if (descending) {\n        return IDBKeyRange.upperBound(start);\n      } else {\n        return IDBKeyRange.lowerBound(start);\n      }\n    } else if (end) {\n      if (descending) {\n        return IDBKeyRange.lowerBound(end, !inclusiveEnd);\n      } else {\n        return IDBKeyRange.upperBound(end, !inclusiveEnd);\n      }\n    } else if (key) {\n      return IDBKeyRange.only(key);\n    }\n  } catch (e) {\n    return {error: e};\n  }\n  return null;\n}\n\nfunction idbAllDocs(opts, idb, callback) {\n  var start = 'startkey' in opts ? opts.startkey : false;\n  var end = 'endkey' in opts ? opts.endkey : false;\n  var key = 'key' in opts ? opts.key : false;\n  var keys = 'keys' in opts ? opts.keys : false; \n  var skip = opts.skip || 0;\n  var limit = typeof opts.limit === 'number' ? opts.limit : -1;\n  var inclusiveEnd = opts.inclusive_end !== false;\n\n  var keyRange ; \n  var keyRangeError;\n  if (!keys) {\n    keyRange = createKeyRange(start, end, inclusiveEnd, key, opts.descending);\n    keyRangeError = keyRange && keyRange.error;\n    if (keyRangeError && \n      !(keyRangeError.name === \"DataError\" && keyRangeError.code === 0)) {\n      // DataError with error code 0 indicates start is less than end, so\n      // can just do an empty query. Else need to throw\n      return callback(createError(IDB_ERROR,\n        keyRangeError.name, keyRangeError.message));\n    }\n  }\n\n  var stores = [DOC_STORE, BY_SEQ_STORE, META_STORE];\n\n  if (opts.attachments) {\n    stores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, stores, 'readonly');\n  if (txnResult.error) {\n    return callback(txnResult.error);\n  }\n  var txn = txnResult.txn;\n  txn.oncomplete = onTxnComplete;\n  txn.onabort = idbError(callback);\n  var docStore = txn.objectStore(DOC_STORE);\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var metaStore = txn.objectStore(META_STORE);\n  var docIdRevIndex = seqStore.index('_doc_id_rev');\n  var results = [];\n  var docCount;\n  var updateSeq;\n\n  metaStore.get(META_STORE).onsuccess = function (e) {\n    docCount = e.target.result.docCount;\n  };\n\n  /* istanbul ignore if */\n  if (opts.update_seq) {\n    getMaxUpdateSeq(seqStore, function (e) { \n      if (e.target.result && e.target.result.length > 0) {\n        updateSeq = e.target.result[0];\n      }\n    });\n  }\n\n  function getMaxUpdateSeq(objectStore, onSuccess) {\n    function onCursor(e) {\n      var cursor = e.target.result;\n      var maxKey = undefined;\n      if (cursor && cursor.key) {\n        maxKey = cursor.key;\n      } \n      return onSuccess({\n        target: {\n          result: [maxKey]\n        }\n      });\n    }\n    objectStore.openCursor(null, 'prev').onsuccess = onCursor;\n  }\n\n  // if the user specifies include_docs=true, then we don't\n  // want to block the main cursor while we're fetching the doc\n  function fetchDocAsynchronously(metadata, row, winningRev$$1) {\n    var key = metadata.id + \"::\" + winningRev$$1;\n    docIdRevIndex.get(key).onsuccess =  function onGetDoc(e) {\n      row.doc = decodeDoc(e.target.result) || {};\n      if (opts.conflicts) {\n        var conflicts = collectConflicts(metadata);\n        if (conflicts.length) {\n          row.doc._conflicts = conflicts;\n        }\n      }\n      fetchAttachmentsIfNecessary(row.doc, opts, txn);\n    };\n  }\n\n  function allDocsInner(winningRev$$1, metadata) {\n    var row = {\n      id: metadata.id,\n      key: metadata.id,\n      value: {\n        rev: winningRev$$1\n      }\n    };\n    var deleted = metadata.deleted;\n    if (deleted) {\n      if (keys) {\n        results.push(row);\n        // deleted docs are okay with \"keys\" requests\n        row.value.deleted = true;\n        row.doc = null;\n      }\n    } else if (skip-- <= 0) {\n      results.push(row);\n      if (opts.include_docs) {\n        fetchDocAsynchronously(metadata, row, winningRev$$1);\n      }\n    }\n  }\n\n  function processBatch(batchValues) {\n    for (var i = 0, len = batchValues.length; i < len; i++) {\n      if (results.length === limit) {\n        break;\n      }\n      var batchValue = batchValues[i];\n      if (batchValue.error && keys) {\n        // key was not found with \"keys\" requests\n        results.push(batchValue);\n        continue;\n      }\n      var metadata = decodeMetadata(batchValue);\n      var winningRev$$1 = metadata.winningRev;\n      allDocsInner(winningRev$$1, metadata);\n    }\n  }\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor) {\n      return;\n    }\n    processBatch(batchValues);\n    if (results.length < limit) {\n      cursor.continue();\n    }\n  }\n\n  function onGetAll(e) {\n    var values = e.target.result;\n    if (opts.descending) {\n      values = values.reverse();\n    }\n    processBatch(values);\n  }\n\n  function onResultsReady() {\n    var returnVal = {\n      total_rows: docCount,\n      offset: opts.skip,\n      rows: results\n    };\n    \n    /* istanbul ignore if */\n    if (opts.update_seq && updateSeq !== undefined) {\n      returnVal.update_seq = updateSeq;\n    }\n    callback(null, returnVal);\n  }\n\n  function onTxnComplete() {\n    if (opts.attachments) {\n      postProcessAttachments(results, opts.binary).then(onResultsReady);\n    } else {\n      onResultsReady();\n    }\n  }\n\n  // don't bother doing any requests if start > end or limit === 0\n  if (keyRangeError || limit === 0) {\n    return;\n  }\n  if (keys) {\n    return allDocsKeys(opts.keys, docStore, onBatch);\n  }\n  if (limit === -1) { // just fetch everything\n    return getAll(docStore, keyRange, onGetAll);\n  }\n  // else do a cursor\n  // choose a batch size based on the skip, since we'll need to skip that many\n  runBatchedCursor(docStore, keyRange, opts.descending, limit + skip, onBatch);\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\nfunction checkBlobSupport(txn) {\n  return new Promise(function (resolve) {\n    var blob$$1 = createBlob(['']);\n    var req = txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob$$1, 'key');\n\n    req.onsuccess = function () {\n      var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n      var matchedEdge = navigator.userAgent.match(/Edge\\//);\n      // MS Edge pretends to be Chrome 42:\n      // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n      resolve(matchedEdge || !matchedChrome ||\n        parseInt(matchedChrome[1], 10) >= 43);\n    };\n\n    req.onerror = txn.onabort = function (e) {\n      // If the transaction aborts now its due to not being able to\n      // write to the database, likely due to the disk being full\n      e.preventDefault();\n      e.stopPropagation();\n      resolve(false);\n    };\n  }).catch(function () {\n    return false; // error, so assume unsupported\n  });\n}\n\nfunction countDocs(txn, cb) {\n  var index = txn.objectStore(DOC_STORE).index('deletedOrLocal');\n  index.count(IDBKeyRange.only('0')).onsuccess = function (e) {\n    cb(e.target.result);\n  };\n}\n\n// This task queue ensures that IDB open calls are done in their own tick\n\nvar running = false;\nvar queue = [];\n\nfunction tryCode(fun, err, res, PouchDB) {\n  try {\n    fun(err, res);\n  } catch (err) {\n    // Shouldn't happen, but in some odd cases\n    // IndexedDB implementations might throw a sync\n    // error, in which case this will at least log it.\n    PouchDB.emit('error', err);\n  }\n}\n\nfunction applyNext() {\n  if (running || !queue.length) {\n    return;\n  }\n  running = true;\n  queue.shift()();\n}\n\nfunction enqueueTask(action, callback, PouchDB) {\n  queue.push(function runAction() {\n    action(function runCallback(err, res) {\n      tryCode(callback, err, res, PouchDB);\n      running = false;\n      immediate(function runNext() {\n        applyNext(PouchDB);\n      });\n    });\n  });\n  applyNext();\n}\n\nfunction changes(opts, api, dbName, idb) {\n  opts = clone(opts);\n\n  if (opts.continuous) {\n    var id = dbName + ':' + uuid();\n    changesHandler.addListener(dbName, id, api, opts);\n    changesHandler.notify(dbName);\n    return {\n      cancel: function () {\n        changesHandler.removeListener(dbName, id);\n      }\n    };\n  }\n\n  var docIds = opts.doc_ids && new ExportedSet(opts.doc_ids);\n\n  opts.since = opts.since || 0;\n  var lastSeq = opts.since;\n\n  var limit = 'limit' in opts ? opts.limit : -1;\n  if (limit === 0) {\n    limit = 1; // per CouchDB _changes spec\n  }\n\n  var results = [];\n  var numResults = 0;\n  var filter = filterChange(opts);\n  var docIdsToMetadata = new ExportedMap();\n\n  var txn;\n  var bySeqStore;\n  var docStore;\n  var docIdRevIndex;\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor || !batchKeys.length) { // done\n      return;\n    }\n\n    var winningDocs = new Array(batchKeys.length);\n    var metadatas = new Array(batchKeys.length);\n\n    function processMetadataAndWinningDoc(metadata, winningDoc) {\n      var change = opts.processChange(winningDoc, metadata, opts);\n      lastSeq = change.seq = metadata.seq;\n\n      var filtered = filter(change);\n      if (typeof filtered === 'object') { // anything but true/false indicates error\n        return Promise.reject(filtered);\n      }\n\n      if (!filtered) {\n        return Promise.resolve();\n      }\n      numResults++;\n      if (opts.return_docs) {\n        results.push(change);\n      }\n      // process the attachment immediately\n      // for the benefit of live listeners\n      if (opts.attachments && opts.include_docs) {\n        return new Promise(function (resolve) {\n          fetchAttachmentsIfNecessary(winningDoc, opts, txn, function () {\n            postProcessAttachments([change], opts.binary).then(function () {\n              resolve(change);\n            });\n          });\n        });\n      } else {\n        return Promise.resolve(change);\n      }\n    }\n\n    function onBatchDone() {\n      var promises = [];\n      for (var i = 0, len = winningDocs.length; i < len; i++) {\n        if (numResults === limit) {\n          break;\n        }\n        var winningDoc = winningDocs[i];\n        if (!winningDoc) {\n          continue;\n        }\n        var metadata = metadatas[i];\n        promises.push(processMetadataAndWinningDoc(metadata, winningDoc));\n      }\n\n      Promise.all(promises).then(function (changes) {\n        for (var i = 0, len = changes.length; i < len; i++) {\n          if (changes[i]) {\n            opts.onChange(changes[i]);\n          }\n        }\n      }).catch(opts.complete);\n\n      if (numResults !== limit) {\n        cursor.continue();\n      }\n    }\n\n    // Fetch all metadatas/winningdocs from this batch in parallel, then process\n    // them all only once all data has been collected. This is done in parallel\n    // because it's faster than doing it one-at-a-time.\n    var numDone = 0;\n    batchValues.forEach(function (value, i) {\n      var doc = decodeDoc(value);\n      var seq = batchKeys[i];\n      fetchWinningDocAndMetadata(doc, seq, function (metadata, winningDoc) {\n        metadatas[i] = metadata;\n        winningDocs[i] = winningDoc;\n        if (++numDone === batchKeys.length) {\n          onBatchDone();\n        }\n      });\n    });\n  }\n\n  function onGetMetadata(doc, seq, metadata, cb) {\n    if (metadata.seq !== seq) {\n      // some other seq is later\n      return cb();\n    }\n\n    if (metadata.winningRev === doc._rev) {\n      // this is the winning doc\n      return cb(metadata, doc);\n    }\n\n    // fetch winning doc in separate request\n    var docIdRev = doc._id + '::' + metadata.winningRev;\n    var req = docIdRevIndex.get(docIdRev);\n    req.onsuccess = function (e) {\n      cb(metadata, decodeDoc(e.target.result));\n    };\n  }\n\n  function fetchWinningDocAndMetadata(doc, seq, cb) {\n    if (docIds && !docIds.has(doc._id)) {\n      return cb();\n    }\n\n    var metadata = docIdsToMetadata.get(doc._id);\n    if (metadata) { // cached\n      return onGetMetadata(doc, seq, metadata, cb);\n    }\n    // metadata not cached, have to go fetch it\n    docStore.get(doc._id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      docIdsToMetadata.set(doc._id, metadata);\n      onGetMetadata(doc, seq, metadata, cb);\n    };\n  }\n\n  function finish() {\n    opts.complete(null, {\n      results: results,\n      last_seq: lastSeq\n    });\n  }\n\n  function onTxnComplete() {\n    if (!opts.continuous && opts.attachments) {\n      // cannot guarantee that postProcessing was already done,\n      // so do it again\n      postProcessAttachments(results).then(finish);\n    } else {\n      finish();\n    }\n  }\n\n  var objectStores = [DOC_STORE, BY_SEQ_STORE];\n  if (opts.attachments) {\n    objectStores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, objectStores, 'readonly');\n  if (txnResult.error) {\n    return opts.complete(txnResult.error);\n  }\n  txn = txnResult.txn;\n  txn.onabort = idbError(opts.complete);\n  txn.oncomplete = onTxnComplete;\n\n  bySeqStore = txn.objectStore(BY_SEQ_STORE);\n  docStore = txn.objectStore(DOC_STORE);\n  docIdRevIndex = bySeqStore.index('_doc_id_rev');\n\n  var keyRange = (opts.since && !opts.descending) ?\n    IDBKeyRange.lowerBound(opts.since, true) : null;\n\n  runBatchedCursor(bySeqStore, keyRange, opts.descending, limit, onBatch);\n}\n\nvar cachedDBs = new ExportedMap();\nvar blobSupportPromise;\nvar openReqList = new ExportedMap();\n\nfunction IdbPouch(opts, callback) {\n  var api = this;\n\n  enqueueTask(function (thisCallback) {\n    init(api, opts, thisCallback);\n  }, callback, api.constructor);\n}\n\nfunction init(api, opts, callback) {\n\n  var dbName = opts.name;\n\n  var idb = null;\n  api._meta = null;\n\n  // called when creating a fresh new database\n  function createSchema(db) {\n    var docStore = db.createObjectStore(DOC_STORE, {keyPath : 'id'});\n    db.createObjectStore(BY_SEQ_STORE, {autoIncrement: true})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n    db.createObjectStore(ATTACH_STORE, {keyPath: 'digest'});\n    db.createObjectStore(META_STORE, {keyPath: 'id', autoIncrement: false});\n    db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n\n    // added in v2\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    // added in v3\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'});\n\n    // added in v4\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 2\n  // unfortunately \"deletedOrLocal\" is a misnomer now that we no longer\n  // store local docs in the main doc-store, but whaddyagonnado\n  function addDeletedOrLocalIndex(txn, callback) {\n    var docStore = txn.objectStore(DOC_STORE);\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    docStore.openCursor().onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var deleted = isDeleted(metadata);\n        metadata.deletedOrLocal = deleted ? \"1\" : \"0\";\n        docStore.put(metadata);\n        cursor.continue();\n      } else {\n        callback();\n      }\n    };\n  }\n\n  // migration to version 3 (part 1)\n  function createLocalStoreSchema(db) {\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n  }\n\n  // migration to version 3 (part 2)\n  function migrateLocalStore(txn, cb) {\n    var localStore = txn.objectStore(LOCAL_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var docId = metadata.id;\n        var local = isLocalId(docId);\n        var rev$$1 = winningRev(metadata);\n        if (local) {\n          var docIdRev = docId + \"::\" + rev$$1;\n          // remove all seq entries\n          // associated with this docId\n          var start = docId + \"::\";\n          var end = docId + \"::~\";\n          var index = seqStore.index('_doc_id_rev');\n          var range = IDBKeyRange.bound(start, end, false, false);\n          var seqCursor = index.openCursor(range);\n          seqCursor.onsuccess = function (e) {\n            seqCursor = e.target.result;\n            if (!seqCursor) {\n              // done\n              docStore.delete(cursor.primaryKey);\n              cursor.continue();\n            } else {\n              var data = seqCursor.value;\n              if (data._doc_id_rev === docIdRev) {\n                localStore.put(data);\n              }\n              seqStore.delete(seqCursor.primaryKey);\n              seqCursor.continue();\n            }\n          };\n        } else {\n          cursor.continue();\n        }\n      } else if (cb) {\n        cb();\n      }\n    };\n  }\n\n  // migration to version 4 (part 1)\n  function addAttachAndSeqStore(db) {\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 4 (part 2)\n  function migrateAttsAndSeqs(txn, callback) {\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n    var attStore = txn.objectStore(ATTACH_STORE);\n    var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n\n    // need to actually populate the table. this is the expensive part,\n    // so as an optimization, check first that this database even\n    // contains attachments\n    var req = attStore.count();\n    req.onsuccess = function (e) {\n      var count = e.target.result;\n      if (!count) {\n        return callback(); // done\n      }\n\n      seqStore.openCursor().onsuccess = function (e) {\n        var cursor = e.target.result;\n        if (!cursor) {\n          return callback(); // done\n        }\n        var doc = cursor.value;\n        var seq = cursor.primaryKey;\n        var atts = Object.keys(doc._attachments || {});\n        var digestMap = {};\n        for (var j = 0; j < atts.length; j++) {\n          var att = doc._attachments[atts[j]];\n          digestMap[att.digest] = true; // uniq digests, just in case\n        }\n        var digests = Object.keys(digestMap);\n        for (j = 0; j < digests.length; j++) {\n          var digest = digests[j];\n          attAndSeqStore.put({\n            seq: seq,\n            digestSeq: digest + '::' + seq\n          });\n        }\n        cursor.continue();\n      };\n    };\n  }\n\n  // migration to version 5\n  // Instead of relying on on-the-fly migration of metadata,\n  // this brings the doc-store to its modern form:\n  // - metadata.winningrev\n  // - metadata.seq\n  // - stringify the metadata when storing it\n  function migrateMetadata(txn) {\n\n    function decodeMetadataCompat(storedObject) {\n      if (!storedObject.data) {\n        // old format, when we didn't store it stringified\n        storedObject.deleted = storedObject.deletedOrLocal === '1';\n        return storedObject;\n      }\n      return decodeMetadata(storedObject);\n    }\n\n    // ensure that every metadata has a winningRev and seq,\n    // which was previously created on-the-fly but better to migrate\n    var bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (e) {\n      var cursor = e.target.result;\n      if (!cursor) {\n        return; // done\n      }\n      var metadata = decodeMetadataCompat(cursor.value);\n\n      metadata.winningRev = metadata.winningRev ||\n        winningRev(metadata);\n\n      function fetchMetadataSeq() {\n        // metadata.seq was added post-3.2.0, so if it's missing,\n        // we need to fetch it manually\n        var start = metadata.id + '::';\n        var end = metadata.id + '::\\uffff';\n        var req = bySeqStore.index('_doc_id_rev').openCursor(\n          IDBKeyRange.bound(start, end));\n\n        var metadataSeq = 0;\n        req.onsuccess = function (e) {\n          var cursor = e.target.result;\n          if (!cursor) {\n            metadata.seq = metadataSeq;\n            return onGetMetadataSeq();\n          }\n          var seq = cursor.primaryKey;\n          if (seq > metadataSeq) {\n            metadataSeq = seq;\n          }\n          cursor.continue();\n        };\n      }\n\n      function onGetMetadataSeq() {\n        var metadataToStore = encodeMetadata(metadata,\n          metadata.winningRev, metadata.deleted);\n\n        var req = docStore.put(metadataToStore);\n        req.onsuccess = function () {\n          cursor.continue();\n        };\n      }\n\n      if (metadata.seq) {\n        return onGetMetadataSeq();\n      }\n\n      fetchMetadataSeq();\n    };\n\n  }\n\n  api._remote = false;\n  api.type = function () {\n    return 'idb';\n  };\n\n  api._id = toPromise(function (callback) {\n    callback(null, api._meta.instanceId);\n  });\n\n  api._bulkDocs = function idb_bulkDocs(req, reqOpts, callback) {\n    idbBulkDocs(opts, req, reqOpts, api, idb, callback);\n  };\n\n  // First we look up the metadata in the ids database, then we fetch the\n  // current revision(s) from the by sequence store\n  api._get = function idb_get(id, opts, callback) {\n    var doc;\n    var metadata;\n    var err;\n    var txn = opts.ctx;\n    if (!txn) {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n\n    function finish() {\n      callback(err, {doc: doc, metadata: metadata, ctx: txn});\n    }\n\n    txn.objectStore(DOC_STORE).get(id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      // we can determine the result here if:\n      // 1. there is no such document\n      // 2. the document is deleted and we don't ask about specific rev\n      // When we ask with opts.rev we expect the answer to be either\n      // doc (possibly with _deleted=true) or missing error\n      if (!metadata) {\n        err = createError(MISSING_DOC, 'missing');\n        return finish();\n      }\n\n      var rev$$1;\n      if (!opts.rev) {\n        rev$$1 = metadata.winningRev;\n        var deleted = isDeleted(metadata);\n        if (deleted) {\n          err = createError(MISSING_DOC, \"deleted\");\n          return finish();\n        }\n      } else {\n        rev$$1 = opts.latest ? latest(opts.rev, metadata) : opts.rev;\n      }\n\n      var objectStore = txn.objectStore(BY_SEQ_STORE);\n      var key = metadata.id + '::' + rev$$1;\n\n      objectStore.index('_doc_id_rev').get(key).onsuccess = function (e) {\n        doc = e.target.result;\n        if (doc) {\n          doc = decodeDoc(doc);\n        }\n        if (!doc) {\n          err = createError(MISSING_DOC, 'missing');\n          return finish();\n        }\n        finish();\n      };\n    };\n  };\n\n  api._getAttachment = function (docId, attachId, attachment, opts, callback) {\n    var txn;\n    if (opts.ctx) {\n      txn = opts.ctx;\n    } else {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n    var digest = attachment.digest;\n    var type = attachment.content_type;\n\n    txn.objectStore(ATTACH_STORE).get(digest).onsuccess = function (e) {\n      var body = e.target.result.body;\n      readBlobData(body, type, opts.binary, function (blobData) {\n        callback(null, blobData);\n      });\n    };\n  };\n\n  api._info = function idb_info(callback) {\n    var updateSeq;\n    var docCount;\n\n    var txnResult = openTransactionSafely(idb, [META_STORE, BY_SEQ_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      docCount = e.target.result.docCount;\n    };\n    txn.objectStore(BY_SEQ_STORE).openCursor(null, 'prev').onsuccess = function (e) {\n      var cursor = e.target.result;\n      updateSeq = cursor ? cursor.key : 0;\n    };\n\n    txn.oncomplete = function () {\n      callback(null, {\n        doc_count: docCount,\n        update_seq: updateSeq,\n        // for debugging\n        idb_attachment_format: (api._meta.blobSupport ? 'binary' : 'base64')\n      });\n    };\n  };\n\n  api._allDocs = function idb_allDocs(opts, callback) {\n    idbAllDocs(opts, idb, callback);\n  };\n\n  api._changes = function idbChanges(opts) {\n    return changes(opts, api, dbName, idb);\n  };\n\n  api._close = function (callback) {\n    // https://developer.mozilla.org/en-US/docs/IndexedDB/IDBDatabase#close\n    // \"Returns immediately and closes the connection in a separate thread...\"\n    idb.close();\n    cachedDBs.delete(dbName);\n    callback();\n  };\n\n  api._getRevisionTree = function (docId, callback) {\n    var txnResult = openTransactionSafely(idb, [DOC_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    var req = txn.objectStore(DOC_STORE).get(docId);\n    req.onsuccess = function (event) {\n      var doc = decodeMetadata(event.target.result);\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        callback(null, doc.rev_tree);\n      }\n    };\n  };\n\n  // This function removes revisions of document docId\n  // which are listed in revs and sets this document\n  // revision to to rev_tree\n  api._doCompaction = function (docId, revs, callback) {\n    var stores = [\n      DOC_STORE,\n      BY_SEQ_STORE,\n      ATTACH_STORE,\n      ATTACH_AND_SEQ_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n\n    var docStore = txn.objectStore(DOC_STORE);\n\n    docStore.get(docId).onsuccess = function (event) {\n      var metadata = decodeMetadata(event.target.result);\n      traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                                         revHash, ctx, opts) {\n        var rev$$1 = pos + '-' + revHash;\n        if (revs.indexOf(rev$$1) !== -1) {\n          opts.status = 'missing';\n        }\n      });\n      compactRevs(revs, docId, txn);\n      var winningRev$$1 = metadata.winningRev;\n      var deleted = metadata.deleted;\n      txn.objectStore(DOC_STORE).put(\n        encodeMetadata(metadata, winningRev$$1, deleted));\n    };\n    txn.onabort = idbError(callback);\n    txn.oncomplete = function () {\n      callback();\n    };\n  };\n\n\n  api._getLocal = function (id, callback) {\n    var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var tx = txnResult.txn;\n    var req = tx.objectStore(LOCAL_STORE).get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var doc = e.target.result;\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        delete doc['_doc_id_rev']; // for backwards compat\n        callback(null, doc);\n      }\n    };\n  };\n\n  api._putLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    delete doc._revisions; // ignore this, trust the rev\n    var oldRev = doc._rev;\n    var id = doc._id;\n    if (!oldRev) {\n      doc._rev = '0-1';\n    } else {\n      doc._rev = '0-' + (parseInt(oldRev.split('-')[1], 10) + 1);\n    }\n\n    var tx = opts.ctx;\n    var ret;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.onerror = idbError(callback);\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req;\n    if (oldRev) {\n      req = oStore.get(id);\n      req.onsuccess = function (e) {\n        var oldDoc = e.target.result;\n        if (!oldDoc || oldDoc._rev !== oldRev) {\n          callback(createError(REV_CONFLICT));\n        } else { // update\n          var req = oStore.put(doc);\n          req.onsuccess = function () {\n            ret = {ok: true, id: doc._id, rev: doc._rev};\n            if (opts.ctx) { // return immediately\n              callback(null, ret);\n            }\n          };\n        }\n      };\n    } else { // new doc\n      req = oStore.add(doc);\n      req.onerror = function (e) {\n        // constraint error, already exists\n        callback(createError(REV_CONFLICT));\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n      };\n      req.onsuccess = function () {\n        ret = {ok: true, id: doc._id, rev: doc._rev};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      };\n    }\n  };\n\n  api._removeLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var tx = opts.ctx;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n    var ret;\n    var id = doc._id;\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req = oStore.get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var oldDoc = e.target.result;\n      if (!oldDoc || oldDoc._rev !== doc._rev) {\n        callback(createError(MISSING_DOC));\n      } else {\n        oStore.delete(id);\n        ret = {ok: true, id: id, rev: '0-0'};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      }\n    };\n  };\n\n  api._destroy = function (opts, callback) {\n    changesHandler.removeAllListeners(dbName);\n\n    //Close open request for \"dbName\" database to fix ie delay.\n    var openReq = openReqList.get(dbName);\n    if (openReq && openReq.result) {\n      openReq.result.close();\n      cachedDBs.delete(dbName);\n    }\n    var req = indexedDB.deleteDatabase(dbName);\n\n    req.onsuccess = function () {\n      //Remove open request from the list.\n      openReqList.delete(dbName);\n      if (hasLocalStorage() && (dbName in localStorage)) {\n        delete localStorage[dbName];\n      }\n      callback(null, { 'ok': true });\n    };\n\n    req.onerror = idbError(callback);\n  };\n\n  var cached = cachedDBs.get(dbName);\n\n  if (cached) {\n    idb = cached.idb;\n    api._meta = cached.global;\n    return immediate(function () {\n      callback(null, api);\n    });\n  }\n\n  var req = indexedDB.open(dbName, ADAPTER_VERSION);\n  openReqList.set(dbName, req);\n\n  req.onupgradeneeded = function (e) {\n    var db = e.target.result;\n    if (e.oldVersion < 1) {\n      return createSchema(db); // new db, initial schema\n    }\n    // do migrations\n\n    var txn = e.currentTarget.transaction;\n    // these migrations have to be done in this function, before\n    // control is returned to the event loop, because IndexedDB\n\n    if (e.oldVersion < 3) {\n      createLocalStoreSchema(db); // v2 -> v3\n    }\n    if (e.oldVersion < 4) {\n      addAttachAndSeqStore(db); // v3 -> v4\n    }\n\n    var migrations = [\n      addDeletedOrLocalIndex, // v1 -> v2\n      migrateLocalStore,      // v2 -> v3\n      migrateAttsAndSeqs,     // v3 -> v4\n      migrateMetadata         // v4 -> v5\n    ];\n\n    var i = e.oldVersion;\n\n    function next() {\n      var migration = migrations[i - 1];\n      i++;\n      if (migration) {\n        migration(txn, next);\n      }\n    }\n\n    next();\n  };\n\n  req.onsuccess = function (e) {\n\n    idb = e.target.result;\n\n    idb.onversionchange = function () {\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    idb.onabort = function (e) {\n      guardedConsole('error', 'Database has a global failure', e.target.error);\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    // Do a few setup operations (in parallel as much as possible):\n    // 1. Fetch meta doc\n    // 2. Check blob support\n    // 3. Calculate docCount\n    // 4. Generate an instanceId if necessary\n    // 5. Store docCount and instanceId on meta doc\n\n    var txn = idb.transaction([\n      META_STORE,\n      DETECT_BLOB_SUPPORT_STORE,\n      DOC_STORE\n    ], 'readwrite');\n\n    var storedMetaDoc = false;\n    var metaDoc;\n    var docCount;\n    var blobSupport;\n    var instanceId;\n\n    function completeSetup() {\n      if (typeof blobSupport === 'undefined' || !storedMetaDoc) {\n        return;\n      }\n      api._meta = {\n        name: dbName,\n        instanceId: instanceId,\n        blobSupport: blobSupport\n      };\n\n      cachedDBs.set(dbName, {\n        idb: idb,\n        global: api._meta\n      });\n      callback(null, api);\n    }\n\n    function storeMetaDocIfReady() {\n      if (typeof docCount === 'undefined' || typeof metaDoc === 'undefined') {\n        return;\n      }\n      var instanceKey = dbName + '_id';\n      if (instanceKey in metaDoc) {\n        instanceId = metaDoc[instanceKey];\n      } else {\n        metaDoc[instanceKey] = instanceId = uuid();\n      }\n      metaDoc.docCount = docCount;\n      txn.objectStore(META_STORE).put(metaDoc);\n    }\n\n    //\n    // fetch or generate the instanceId\n    //\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result || { id: META_STORE };\n      storeMetaDocIfReady();\n    };\n\n    //\n    // countDocs\n    //\n    countDocs(txn, function (count) {\n      docCount = count;\n      storeMetaDocIfReady();\n    });\n\n    //\n    // check blob support\n    //\n    if (!blobSupportPromise) {\n      // make sure blob support is only checked once\n      blobSupportPromise = checkBlobSupport(txn);\n    }\n\n    blobSupportPromise.then(function (val) {\n      blobSupport = val;\n      completeSetup();\n    });\n\n    // only when the metadata put transaction has completed,\n    // consider the setup done\n    txn.oncomplete = function () {\n      storedMetaDoc = true;\n      completeSetup();\n    };\n    txn.onabort = idbError(callback);\n  };\n\n  req.onerror = function (e) {\n    var msg = e.target.error && e.target.error.message;\n\n    if (!msg) {\n      msg = 'Failed to open indexedDB, are you in private browsing mode?';\n    } else if (msg.indexOf(\"stored database is a higher version\") !== -1) {\n      msg = new Error('This DB was created with the newer \"indexeddb\" adapter, but you are trying to open it with the older \"idb\" adapter');\n    }\n\n    guardedConsole('error', msg);\n    callback(createError(IDB_ERROR, msg));\n  };\n}\n\nIdbPouch.valid = function () {\n  // Following #7085 buggy idb versions (typically Safari < 10.1) are\n  // considered valid.\n\n  // On Firefox SecurityError is thrown while referencing indexedDB if cookies\n  // are not allowed. `typeof indexedDB` also triggers the error.\n  try {\n    // some outdated implementations of IDB that appear on Samsung\n    // and HTC Android devices <4.4 are missing IDBKeyRange\n    return typeof indexedDB !== 'undefined' && typeof IDBKeyRange !== 'undefined';\n  } catch (e) {\n    return false;\n  }\n};\n\nfunction IDBPouch (PouchDB) {\n  PouchDB.adapter('idb', IdbPouch, true);\n}\n\n// dead simple promise pool, inspired by https://github.com/timdp/es6-promise-pool\n// but much smaller in code size. limits the number of concurrent promises that are executed\n\n\nfunction pool(promiseFactories, limit) {\n  return new Promise(function (resolve, reject) {\n    var running = 0;\n    var current = 0;\n    var done = 0;\n    var len = promiseFactories.length;\n    var err;\n\n    function runNext() {\n      running++;\n      promiseFactories[current++]().then(onSuccess, onError);\n    }\n\n    function doNext() {\n      if (++done === len) {\n        /* istanbul ignore if */\n        if (err) {\n          reject(err);\n        } else {\n          resolve();\n        }\n      } else {\n        runNextBatch();\n      }\n    }\n\n    function onSuccess() {\n      running--;\n      doNext();\n    }\n\n    /* istanbul ignore next */\n    function onError(thisErr) {\n      running--;\n      err = err || thisErr;\n      doNext();\n    }\n\n    function runNextBatch() {\n      while (running < limit && current < len) {\n        runNext();\n      }\n    }\n\n    runNextBatch();\n  });\n}\n\nvar CHANGES_BATCH_SIZE = 25;\nvar MAX_SIMULTANEOUS_REVS = 50;\nvar CHANGES_TIMEOUT_BUFFER = 5000;\nvar DEFAULT_HEARTBEAT = 10000;\n\nvar supportsBulkGetMap = {};\n\nfunction readAttachmentsAsBlobOrBuffer(row) {\n  var doc = row.doc || row.ok;\n  var atts = doc && doc._attachments;\n  if (!atts) {\n    return;\n  }\n  Object.keys(atts).forEach(function (filename) {\n    var att = atts[filename];\n    att.data = b64ToBluffer(att.data, att.content_type);\n  });\n}\n\nfunction encodeDocId(id) {\n  if (/^_design/.test(id)) {\n    return '_design/' + encodeURIComponent(id.slice(8));\n  }\n  if (/^_local/.test(id)) {\n    return '_local/' + encodeURIComponent(id.slice(7));\n  }\n  return encodeURIComponent(id);\n}\n\nfunction preprocessAttachments$1(doc) {\n  if (!doc._attachments || !Object.keys(doc._attachments)) {\n    return Promise.resolve();\n  }\n\n  return Promise.all(Object.keys(doc._attachments).map(function (key) {\n    var attachment = doc._attachments[key];\n    if (attachment.data && typeof attachment.data !== 'string') {\n      return new Promise(function (resolve) {\n        blobToBase64(attachment.data, resolve);\n      }).then(function (b64) {\n        attachment.data = b64;\n      });\n    }\n  }));\n}\n\nfunction hasUrlPrefix(opts) {\n  if (!opts.prefix) {\n    return false;\n  }\n  var protocol = parseUri(opts.prefix).protocol;\n  return protocol === 'http' || protocol === 'https';\n}\n\n// Get all the information you possibly can about the URI given by name and\n// return it as a suitable object.\nfunction getHost(name, opts) {\n  // encode db name if opts.prefix is a url (#5574)\n  if (hasUrlPrefix(opts)) {\n    var dbName = opts.name.substr(opts.prefix.length);\n    // Ensure prefix has a trailing slash\n    var prefix = opts.prefix.replace(/\\/?$/, '/');\n    name = prefix + encodeURIComponent(dbName);\n  }\n\n  var uri = parseUri(name);\n  if (uri.user || uri.password) {\n    uri.auth = {username: uri.user, password: uri.password};\n  }\n\n  // Split the path part of the URI into parts using '/' as the delimiter\n  // after removing any leading '/' and any trailing '/'\n  var parts = uri.path.replace(/(^\\/|\\/$)/g, '').split('/');\n\n  uri.db = parts.pop();\n  // Prevent double encoding of URI component\n  if (uri.db.indexOf('%') === -1) {\n    uri.db = encodeURIComponent(uri.db);\n  }\n\n  uri.path = parts.join('/');\n\n  return uri;\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genDBUrl(opts, path) {\n  return genUrl(opts, opts.db + '/' + path);\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genUrl(opts, path) {\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  var pathDel = !opts.path ? '' : '/';\n\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  return opts.protocol + '://' + opts.host +\n         (opts.port ? (':' + opts.port) : '') +\n         '/' + opts.path + pathDel + path;\n}\n\nfunction paramsToStr(params) {\n  return '?' + Object.keys(params).map(function (k) {\n    return k + '=' + encodeURIComponent(params[k]);\n  }).join('&');\n}\n\nfunction shouldCacheBust(opts) {\n  var ua = (typeof navigator !== 'undefined' && navigator.userAgent) ?\n      navigator.userAgent.toLowerCase() : '';\n  var isIE = ua.indexOf('msie') !== -1;\n  var isTrident = ua.indexOf('trident') !== -1;\n  var isEdge = ua.indexOf('edge') !== -1;\n  var isGET = !('method' in opts) || opts.method === 'GET';\n  return (isIE || isTrident || isEdge) && isGET;\n}\n\n// Implements the PouchDB API for dealing with CouchDB instances over HTTP\nfunction HttpPouch(opts, callback) {\n\n  // The functions that will be publicly available for HttpPouch\n  var api = this;\n\n  var host = getHost(opts.name, opts);\n  var dbUrl = genDBUrl(host, '');\n\n  opts = clone(opts);\n\n  var ourFetch = function (url, options) {\n\n    options = options || {};\n    options.headers = options.headers || new h();\n\n    options.credentials = 'include';\n\n    if (opts.auth || host.auth) {\n      var nAuth = opts.auth || host.auth;\n      var str = nAuth.username + ':' + nAuth.password;\n      var token = thisBtoa(unescape(encodeURIComponent(str)));\n      options.headers.set('Authorization', 'Basic ' + token);\n    }\n\n    var headers = opts.headers || {};\n    Object.keys(headers).forEach(function (key) {\n      options.headers.append(key, headers[key]);\n    });\n\n    /* istanbul ignore if */\n    if (shouldCacheBust(options)) {\n      url += (url.indexOf('?') === -1 ? '?' : '&') + '_nonce=' + Date.now();\n    }\n\n    var fetchFun = opts.fetch || f$1;\n    return fetchFun(url, options);\n  };\n\n  function adapterFun$$1(name, fun) {\n    return adapterFun(name, getArguments(function (args) {\n      setup().then(function () {\n        return fun.apply(this, args);\n      }).catch(function (e) {\n        var callback = args.pop();\n        callback(e);\n      });\n    })).bind(api);\n  }\n\n  function fetchJSON(url, options, callback) {\n\n    var result = {};\n\n    options = options || {};\n    options.headers = options.headers || new h();\n\n    if (!options.headers.get('Content-Type')) {\n      options.headers.set('Content-Type', 'application/json');\n    }\n    if (!options.headers.get('Accept')) {\n      options.headers.set('Accept', 'application/json');\n    }\n\n    return ourFetch(url, options).then(function (response) {\n      result.ok = response.ok;\n      result.status = response.status;\n      return response.json();\n    }).then(function (json) {\n      result.data = json;\n      if (!result.ok) {\n        result.data.status = result.status;\n        var err = generateErrorFromResponse(result.data);\n        if (callback) {\n          return callback(err);\n        } else {\n          throw err;\n        }\n      }\n\n      if (Array.isArray(result.data)) {\n        result.data = result.data.map(function (v) {\n          if (v.error || v.missing) {\n            return generateErrorFromResponse(v);\n          } else {\n            return v;\n          }\n        });\n      }\n\n      if (callback) {\n        callback(null, result.data);\n      } else {\n        return result;\n      }\n    });\n  }\n\n  var setupPromise;\n\n  function setup() {\n    if (opts.skip_setup) {\n      return Promise.resolve();\n    }\n\n    // If there is a setup in process or previous successful setup\n    // done then we will use that\n    // If previous setups have been rejected we will try again\n    if (setupPromise) {\n      return setupPromise;\n    }\n\n    setupPromise = fetchJSON(dbUrl).catch(function (err) {\n      if (err && err.status && err.status === 404) {\n        // Doesnt exist, create it\n        explainError(404, 'PouchDB is just detecting if the remote exists.');\n        return fetchJSON(dbUrl, {method: 'PUT'});\n      } else {\n        return Promise.reject(err);\n      }\n    }).catch(function (err) {\n      // If we try to create a database that already exists, skipped in\n      // istanbul since its catching a race condition.\n      /* istanbul ignore if */\n      if (err && err.status && err.status === 412) {\n        return true;\n      }\n      return Promise.reject(err);\n    });\n\n    setupPromise.catch(function () {\n      setupPromise = null;\n    });\n\n    return setupPromise;\n  }\n\n  immediate(function () {\n    callback(null, api);\n  });\n\n  api._remote = true;\n\n  /* istanbul ignore next */\n  api.type = function () {\n    return 'http';\n  };\n\n  api.id = adapterFun$$1('id', function (callback) {\n    ourFetch(genUrl(host, '')).then(function (response) {\n      return response.json();\n    }).catch(function () {\n      return {};\n    }).then(function (result) {\n      // Bad response or missing `uuid` should not prevent ID generation.\n      var uuid$$1 = (result && result.uuid) ?\n          (result.uuid + host.db) : genDBUrl(host, '');\n      callback(null, uuid$$1);\n    });\n  });\n\n  // Sends a POST request to the host calling the couchdb _compact function\n  //    version: The version of CouchDB it is running\n  api.compact = adapterFun$$1('compact', function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    fetchJSON(genDBUrl(host, '_compact'), {method: 'POST'}).then(function () {\n      function ping() {\n        api.info(function (err, res) {\n          // CouchDB may send a \"compact_running:true\" if it's\n          // already compacting. PouchDB Server doesn't.\n          /* istanbul ignore else */\n          if (res && !res.compact_running) {\n            callback(null, {ok: true});\n          } else {\n            setTimeout(ping, opts.interval || 200);\n          }\n        });\n      }\n      // Ping the http if it's finished compaction\n      ping();\n    });\n  });\n\n  api.bulkGet = adapterFun('bulkGet', function (opts, callback) {\n    var self = this;\n\n    function doBulkGet(cb) {\n      var params = {};\n      if (opts.revs) {\n        params.revs = true;\n      }\n      if (opts.attachments) {\n        /* istanbul ignore next */\n        params.attachments = true;\n      }\n      if (opts.latest) {\n        params.latest = true;\n      }\n      fetchJSON(genDBUrl(host, '_bulk_get' + paramsToStr(params)), {\n        method: 'POST',\n        body: JSON.stringify({ docs: opts.docs})\n      }).then(function (result) {\n        if (opts.attachments && opts.binary) {\n          result.data.results.forEach(function (res) {\n            res.docs.forEach(readAttachmentsAsBlobOrBuffer);\n          });\n        }\n        cb(null, result.data);\n      }).catch(cb);\n    }\n\n    /* istanbul ignore next */\n    function doBulkGetShim() {\n      // avoid \"url too long error\" by splitting up into multiple requests\n      var batchSize = MAX_SIMULTANEOUS_REVS;\n      var numBatches = Math.ceil(opts.docs.length / batchSize);\n      var numDone = 0;\n      var results = new Array(numBatches);\n\n      function onResult(batchNum) {\n        return function (err, res) {\n          // err is impossible because shim returns a list of errs in that case\n          results[batchNum] = res.results;\n          if (++numDone === numBatches) {\n            callback(null, {results: flatten(results)});\n          }\n        };\n      }\n\n      for (var i = 0; i < numBatches; i++) {\n        var subOpts = pick(opts, ['revs', 'attachments', 'binary', 'latest']);\n        subOpts.docs = opts.docs.slice(i * batchSize,\n          Math.min(opts.docs.length, (i + 1) * batchSize));\n        bulkGet(self, subOpts, onResult(i));\n      }\n    }\n\n    // mark the whole database as either supporting or not supporting _bulk_get\n    var dbUrl = genUrl(host, '');\n    var supportsBulkGet = supportsBulkGetMap[dbUrl];\n\n    /* istanbul ignore next */\n    if (typeof supportsBulkGet !== 'boolean') {\n      // check if this database supports _bulk_get\n      doBulkGet(function (err, res) {\n        if (err) {\n          supportsBulkGetMap[dbUrl] = false;\n          explainError(\n            err.status,\n            'PouchDB is just detecting if the remote ' +\n            'supports the _bulk_get API.'\n          );\n          doBulkGetShim();\n        } else {\n          supportsBulkGetMap[dbUrl] = true;\n          callback(null, res);\n        }\n      });\n    } else if (supportsBulkGet) {\n      doBulkGet(callback);\n    } else {\n      doBulkGetShim();\n    }\n  });\n\n  // Calls GET on the host, which gets back a JSON string containing\n  //    couchdb: A welcome string\n  //    version: The version of CouchDB it is running\n  api._info = function (callback) {\n    setup().then(function () {\n      return ourFetch(genDBUrl(host, ''));\n    }).then(function (response) {\n      return response.json();\n    }).then(function (info) {\n      info.host = genDBUrl(host, '');\n      callback(null, info);\n    }).catch(callback);\n  };\n\n  api.fetch = function (path, options) {\n    return setup().then(function () {\n      var url = path.substring(0, 1) === '/' ?\n        genUrl(host, path.substring(1)) :\n        genDBUrl(host, path);\n      return ourFetch(url, options);\n    });\n  };\n\n  // Get the document with the given id from the database given by host.\n  // The id could be solely the _id in the database, or it may be a\n  // _design/ID or _local/ID path\n  api.get = adapterFun$$1('get', function (id, opts, callback) {\n    // If no options were given, set the callback to the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    var params = {};\n\n    if (opts.revs) {\n      params.revs = true;\n    }\n\n    if (opts.revs_info) {\n      params.revs_info = true;\n    }\n\n    if (opts.latest) {\n      params.latest = true;\n    }\n\n    if (opts.open_revs) {\n      if (opts.open_revs !== \"all\") {\n        opts.open_revs = JSON.stringify(opts.open_revs);\n      }\n      params.open_revs = opts.open_revs;\n    }\n\n    if (opts.rev) {\n      params.rev = opts.rev;\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = opts.conflicts;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = opts.update_seq;\n    }\n\n    id = encodeDocId(id);\n\n    function fetchAttachments(doc) {\n      var atts = doc._attachments;\n      var filenames = atts && Object.keys(atts);\n      if (!atts || !filenames.length) {\n        return;\n      }\n      // we fetch these manually in separate XHRs, because\n      // Sync Gateway would normally send it back as multipart/mixed,\n      // which we cannot parse. Also, this is more efficient than\n      // receiving attachments as base64-encoded strings.\n      function fetchData(filename) {\n        var att = atts[filename];\n        var path = encodeDocId(doc._id) + '/' + encodeAttachmentId(filename) +\n            '?rev=' + doc._rev;\n        return ourFetch(genDBUrl(host, path)).then(function (response) {\n          if ('buffer' in response) {\n            return response.buffer();\n          } else {\n            /* istanbul ignore next */\n            return response.blob();\n          }\n        }).then(function (blob) {\n          if (opts.binary) {\n            var typeFieldDescriptor = Object.getOwnPropertyDescriptor(blob.__proto__, 'type');\n            if (!typeFieldDescriptor || typeFieldDescriptor.set) {\n              blob.type = att.content_type;\n            }\n            return blob;\n          }\n          return new Promise(function (resolve) {\n            blobToBase64(blob, resolve);\n          });\n        }).then(function (data) {\n          delete att.stub;\n          delete att.length;\n          att.data = data;\n        });\n      }\n\n      var promiseFactories = filenames.map(function (filename) {\n        return function () {\n          return fetchData(filename);\n        };\n      });\n\n      // This limits the number of parallel xhr requests to 5 any time\n      // to avoid issues with maximum browser request limits\n      return pool(promiseFactories, 5);\n    }\n\n    function fetchAllAttachments(docOrDocs) {\n      if (Array.isArray(docOrDocs)) {\n        return Promise.all(docOrDocs.map(function (doc) {\n          if (doc.ok) {\n            return fetchAttachments(doc.ok);\n          }\n        }));\n      }\n      return fetchAttachments(docOrDocs);\n    }\n\n    var url = genDBUrl(host, id + paramsToStr(params));\n    fetchJSON(url).then(function (res) {\n      return Promise.resolve().then(function () {\n        if (opts.attachments) {\n          return fetchAllAttachments(res.data);\n        }\n      }).then(function () {\n        callback(null, res.data);\n      });\n    }).catch(function (e) {\n      e.docId = id;\n      callback(e);\n    });\n  });\n\n\n  // Delete the document given by doc from the database given by host.\n  api.remove = adapterFun$$1('remove', function (docOrId, optsOrRev, opts, cb) {\n    var doc;\n    if (typeof optsOrRev === 'string') {\n      // id, rev, opts, callback style\n      doc = {\n        _id: docOrId,\n        _rev: optsOrRev\n      };\n      if (typeof opts === 'function') {\n        cb = opts;\n        opts = {};\n      }\n    } else {\n      // doc, opts, callback style\n      doc = docOrId;\n      if (typeof optsOrRev === 'function') {\n        cb = optsOrRev;\n        opts = {};\n      } else {\n        cb = opts;\n        opts = optsOrRev;\n      }\n    }\n\n    var rev$$1 = (doc._rev || opts.rev);\n    var url = genDBUrl(host, encodeDocId(doc._id)) + '?rev=' + rev$$1;\n\n    fetchJSON(url, {method: 'DELETE'}, cb).catch(cb);\n  });\n\n  function encodeAttachmentId(attachmentId) {\n    return attachmentId.split(\"/\").map(encodeURIComponent).join(\"/\");\n  }\n\n  // Get the attachment\n  api.getAttachment = adapterFun$$1('getAttachment', function (docId, attachmentId,\n                                                            opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var params = opts.rev ? ('?rev=' + opts.rev) : '';\n    var url = genDBUrl(host, encodeDocId(docId)) + '/' +\n        encodeAttachmentId(attachmentId) + params;\n    var contentType;\n    ourFetch(url, {method: 'GET'}).then(function (response) {\n      contentType = response.headers.get('content-type');\n      if (!response.ok) {\n        throw response;\n      } else {\n        if (typeof process !== 'undefined' && !process.browser && typeof response.buffer === 'function') {\n          return response.buffer();\n        } else {\n          /* istanbul ignore next */\n          return response.blob();\n        }\n      }\n    }).then(function (blob) {\n      // TODO: also remove\n      if (typeof process !== 'undefined' && !process.browser) {\n        blob.type = contentType;\n      }\n      callback(null, blob);\n    }).catch(function (err) {\n      callback(err);\n    });\n  });\n\n  // Remove the attachment given by the id and rev\n  api.removeAttachment =  adapterFun$$1('removeAttachment', function (docId,\n                                                                   attachmentId,\n                                                                   rev$$1,\n                                                                   callback) {\n    var url = genDBUrl(host, encodeDocId(docId) + '/' +\n                       encodeAttachmentId(attachmentId)) + '?rev=' + rev$$1;\n    fetchJSON(url, {method: 'DELETE'}, callback).catch(callback);\n  });\n\n  // Add the attachment given by blob and its contentType property\n  // to the document with the given id, the revision given by rev, and\n  // add it to the database given by host.\n  api.putAttachment = adapterFun$$1('putAttachment', function (docId, attachmentId,\n                                                            rev$$1, blob,\n                                                            type, callback) {\n    if (typeof type === 'function') {\n      callback = type;\n      type = blob;\n      blob = rev$$1;\n      rev$$1 = null;\n    }\n    var id = encodeDocId(docId) + '/' + encodeAttachmentId(attachmentId);\n    var url = genDBUrl(host, id);\n    if (rev$$1) {\n      url += '?rev=' + rev$$1;\n    }\n\n    if (typeof blob === 'string') {\n      // input is assumed to be a base64 string\n      var binary;\n      try {\n        binary = thisAtob(blob);\n      } catch (err) {\n        return callback(createError(BAD_ARG,\n                        'Attachment is not a valid base64 string'));\n      }\n      blob = binary ? binStringToBluffer(binary, type) : '';\n    }\n\n    // Add the attachment\n    fetchJSON(url, {\n      headers: new h({'Content-Type': type}),\n      method: 'PUT',\n      body: blob\n    }, callback).catch(callback);\n  });\n\n  // Update/create multiple documents given by req in the database\n  // given by host.\n  api._bulkDocs = function (req, opts, callback) {\n    // If new_edits=false then it prevents the database from creating\n    // new revision numbers for the documents. Instead it just uses\n    // the old ones. This is used in database replication.\n    req.new_edits = opts.new_edits;\n\n    setup().then(function () {\n      return Promise.all(req.docs.map(preprocessAttachments$1));\n    }).then(function () {\n      // Update/create the documents\n      return fetchJSON(genDBUrl(host, '_bulk_docs'), {\n        method: 'POST',\n        body: JSON.stringify(req)\n      }, callback);\n    }).catch(callback);\n  };\n\n\n  // Update/create document\n  api._put = function (doc, opts, callback) {\n    setup().then(function () {\n      return preprocessAttachments$1(doc);\n    }).then(function () {\n      return fetchJSON(genDBUrl(host, encodeDocId(doc._id)), {\n        method: 'PUT',\n        body: JSON.stringify(doc)\n      });\n    }).then(function (result) {\n      callback(null, result.data);\n    }).catch(function (err) {\n      err.docId = doc && doc._id;\n      callback(err);\n    });\n  };\n\n\n  // Get a listing of the documents in the database given\n  // by host and ordered by increasing id.\n  api.allDocs = adapterFun$$1('allDocs', function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    var params = {};\n    var body;\n    var method = 'GET';\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n\n    if (opts.include_docs) {\n      params.include_docs = true;\n    }\n\n    // added in CouchDB 1.6.0\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.key) {\n      params.key = JSON.stringify(opts.key);\n    }\n\n    if (opts.start_key) {\n      opts.startkey = opts.start_key;\n    }\n\n    if (opts.startkey) {\n      params.startkey = JSON.stringify(opts.startkey);\n    }\n\n    if (opts.end_key) {\n      opts.endkey = opts.end_key;\n    }\n\n    if (opts.endkey) {\n      params.endkey = JSON.stringify(opts.endkey);\n    }\n\n    if (typeof opts.inclusive_end !== 'undefined') {\n      params.inclusive_end = !!opts.inclusive_end;\n    }\n\n    if (typeof opts.limit !== 'undefined') {\n      params.limit = opts.limit;\n    }\n\n    if (typeof opts.skip !== 'undefined') {\n      params.skip = opts.skip;\n    }\n\n    var paramStr = paramsToStr(params);\n\n    if (typeof opts.keys !== 'undefined') {\n      method = 'POST';\n      body = {keys: opts.keys};\n    }\n\n    fetchJSON(genDBUrl(host, '_all_docs' + paramStr), {\n       method: method,\n      body: JSON.stringify(body)\n    }).then(function (result) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        result.data.rows.forEach(readAttachmentsAsBlobOrBuffer);\n      }\n      callback(null, result.data);\n    }).catch(callback);\n  });\n\n  // Get a list of changes made to documents in the database given by host.\n  // TODO According to the README, there should be two other methods here,\n  // api.changes.addListener and api.changes.removeListener.\n  api._changes = function (opts) {\n\n    // We internally page the results of a changes request, this means\n    // if there is a large set of changes to be returned we can start\n    // processing them quicker instead of waiting on the entire\n    // set of changes to return and attempting to process them at once\n    var batchSize = 'batch_size' in opts ? opts.batch_size : CHANGES_BATCH_SIZE;\n\n    opts = clone(opts);\n\n    if (opts.continuous && !('heartbeat' in opts)) {\n      opts.heartbeat = DEFAULT_HEARTBEAT;\n    }\n\n    var requestTimeout = ('timeout' in opts) ? opts.timeout : 30 * 1000;\n\n    // ensure CHANGES_TIMEOUT_BUFFER applies\n    if ('timeout' in opts && opts.timeout &&\n      (requestTimeout - opts.timeout) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.timeout + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    /* istanbul ignore if */\n    if ('heartbeat' in opts && opts.heartbeat &&\n       (requestTimeout - opts.heartbeat) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.heartbeat + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    var params = {};\n    if ('timeout' in opts && opts.timeout) {\n      params.timeout = opts.timeout;\n    }\n\n    var limit = (typeof opts.limit !== 'undefined') ? opts.limit : false;\n    var leftToFetch = limit;\n\n    if (opts.style) {\n      params.style = opts.style;\n    }\n\n    if (opts.include_docs || opts.filter && typeof opts.filter === 'function') {\n      params.include_docs = true;\n    }\n\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.continuous) {\n      params.feed = 'longpoll';\n    }\n\n    if (opts.seq_interval) {\n      params.seq_interval = opts.seq_interval;\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = true;\n    }\n\n    if ('heartbeat' in opts) {\n      // If the heartbeat value is false, it disables the default heartbeat\n      if (opts.heartbeat) {\n        params.heartbeat = opts.heartbeat;\n      }\n    }\n\n    if (opts.filter && typeof opts.filter === 'string') {\n      params.filter = opts.filter;\n    }\n\n    if (opts.view && typeof opts.view === 'string') {\n      params.filter = '_view';\n      params.view = opts.view;\n    }\n\n    // If opts.query_params exists, pass it through to the changes request.\n    // These parameters may be used by the filter on the source database.\n    if (opts.query_params && typeof opts.query_params === 'object') {\n      for (var param_name in opts.query_params) {\n        /* istanbul ignore else */\n        if (opts.query_params.hasOwnProperty(param_name)) {\n          params[param_name] = opts.query_params[param_name];\n        }\n      }\n    }\n\n    var method = 'GET';\n    var body;\n\n    if (opts.doc_ids) {\n      // set this automagically for the user; it's annoying that couchdb\n      // requires both a \"filter\" and a \"doc_ids\" param.\n      params.filter = '_doc_ids';\n      method = 'POST';\n      body = {doc_ids: opts.doc_ids };\n    }\n    /* istanbul ignore next */\n    else if (opts.selector) {\n      // set this automagically for the user, similar to above\n      params.filter = '_selector';\n      method = 'POST';\n      body = {selector: opts.selector };\n    }\n\n    var controller = new a();\n    var lastFetchedSeq;\n\n    // Get all the changes starting wtih the one immediately after the\n    // sequence number given by since.\n    var fetchData = function (since, callback) {\n      if (opts.aborted) {\n        return;\n      }\n      params.since = since;\n      // \"since\" can be any kind of json object in Cloudant/CouchDB 2.x\n      /* istanbul ignore next */\n      if (typeof params.since === \"object\") {\n        params.since = JSON.stringify(params.since);\n      }\n\n      if (opts.descending) {\n        if (limit) {\n          params.limit = leftToFetch;\n        }\n      } else {\n        params.limit = (!limit || leftToFetch > batchSize) ?\n          batchSize : leftToFetch;\n      }\n\n      // Set the options for the ajax call\n      var url = genDBUrl(host, '_changes' + paramsToStr(params));\n      var fetchOpts = {\n        signal: controller.signal,\n        method: method,\n        body: JSON.stringify(body)\n      };\n      lastFetchedSeq = since;\n\n      /* istanbul ignore if */\n      if (opts.aborted) {\n        return;\n      }\n\n      // Get the changes\n      setup().then(function () {\n        return fetchJSON(url, fetchOpts, callback);\n      }).catch(callback);\n    };\n\n    // If opts.since exists, get all the changes from the sequence\n    // number given by opts.since. Otherwise, get all the changes\n    // from the sequence number 0.\n    var results = {results: []};\n\n    var fetched = function (err, res) {\n      if (opts.aborted) {\n        return;\n      }\n      var raw_results_length = 0;\n      // If the result of the ajax call (res) contains changes (res.results)\n      if (res && res.results) {\n        raw_results_length = res.results.length;\n        results.last_seq = res.last_seq;\n        var pending = null;\n        var lastSeq = null;\n        // Attach 'pending' property if server supports it (CouchDB 2.0+)\n        /* istanbul ignore if */\n        if (typeof res.pending === 'number') {\n          pending = res.pending;\n        }\n        if (typeof results.last_seq === 'string' || typeof results.last_seq === 'number') {\n          lastSeq = results.last_seq;\n        }\n        // For each change\n        var req = {};\n        req.query = opts.query_params;\n        res.results = res.results.filter(function (c) {\n          leftToFetch--;\n          var ret = filterChange(opts)(c);\n          if (ret) {\n            if (opts.include_docs && opts.attachments && opts.binary) {\n              readAttachmentsAsBlobOrBuffer(c);\n            }\n            if (opts.return_docs) {\n              results.results.push(c);\n            }\n            opts.onChange(c, pending, lastSeq);\n          }\n          return ret;\n        });\n      } else if (err) {\n        // In case of an error, stop listening for changes and call\n        // opts.complete\n        opts.aborted = true;\n        opts.complete(err);\n        return;\n      }\n\n      // The changes feed may have timed out with no results\n      // if so reuse last update sequence\n      if (res && res.last_seq) {\n        lastFetchedSeq = res.last_seq;\n      }\n\n      var finished = (limit && leftToFetch <= 0) ||\n        (res && raw_results_length < batchSize) ||\n        (opts.descending);\n\n      if ((opts.continuous && !(limit && leftToFetch <= 0)) || !finished) {\n        // Queue a call to fetch again with the newest sequence number\n        immediate(function () { fetchData(lastFetchedSeq, fetched); });\n      } else {\n        // We're done, call the callback\n        opts.complete(null, results);\n      }\n    };\n\n    fetchData(opts.since || 0, fetched);\n\n    // Return a method to cancel this method from processing any more\n    return {\n      cancel: function () {\n        opts.aborted = true;\n        controller.abort();\n      }\n    };\n  };\n\n  // Given a set of document/revision IDs (given by req), tets the subset of\n  // those that do NOT correspond to revisions stored in the database.\n  // See http://wiki.apache.org/couchdb/HttpPostRevsDiff\n  api.revsDiff = adapterFun$$1('revsDiff', function (req, opts, callback) {\n    // If no options were given, set the callback to be the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n\n    // Get the missing document/revision IDs\n    fetchJSON(genDBUrl(host, '_revs_diff'), {\n      method: 'POST',\n      body: JSON.stringify(req)\n    }, callback).catch(callback);\n  });\n\n  api._close = function (callback) {\n    callback();\n  };\n\n  api._destroy = function (options, callback) {\n    fetchJSON(genDBUrl(host, ''), {method: 'DELETE'}).then(function (json) {\n      callback(null, json);\n    }).catch(function (err) {\n      /* istanbul ignore if */\n      if (err.status === 404) {\n        callback(null, {ok: true});\n      } else {\n        callback(err);\n      }\n    });\n  };\n}\n\n// HttpPouch is a valid adapter.\nHttpPouch.valid = function () {\n  return true;\n};\n\nfunction HttpPouch$1 (PouchDB) {\n  PouchDB.adapter('http', HttpPouch, false);\n  PouchDB.adapter('https', HttpPouch, false);\n}\n\nfunction QueryParseError(message) {\n  this.status = 400;\n  this.name = 'query_parse_error';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, QueryParseError);\n  } catch (e) {}\n}\n\ninherits(QueryParseError, Error);\n\nfunction NotFoundError(message) {\n  this.status = 404;\n  this.name = 'not_found';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, NotFoundError);\n  } catch (e) {}\n}\n\ninherits(NotFoundError, Error);\n\nfunction BuiltInError(message) {\n  this.status = 500;\n  this.name = 'invalid_value';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, BuiltInError);\n  } catch (e) {}\n}\n\ninherits(BuiltInError, Error);\n\nfunction promisedCallback(promise, callback) {\n  if (callback) {\n    promise.then(function (res) {\n      immediate(function () {\n        callback(null, res);\n      });\n    }, function (reason) {\n      immediate(function () {\n        callback(reason);\n      });\n    });\n  }\n  return promise;\n}\n\nfunction callbackify(fun) {\n  return getArguments(function (args) {\n    var cb = args.pop();\n    var promise = fun.apply(this, args);\n    if (typeof cb === 'function') {\n      promisedCallback(promise, cb);\n    }\n    return promise;\n  });\n}\n\n// Promise finally util similar to Q.finally\nfunction fin(promise, finalPromiseFactory) {\n  return promise.then(function (res) {\n    return finalPromiseFactory().then(function () {\n      return res;\n    });\n  }, function (reason) {\n    return finalPromiseFactory().then(function () {\n      throw reason;\n    });\n  });\n}\n\nfunction sequentialize(queue, promiseFactory) {\n  return function () {\n    var args = arguments;\n    var that = this;\n    return queue.add(function () {\n      return promiseFactory.apply(that, args);\n    });\n  };\n}\n\n// uniq an array of strings, order not guaranteed\n// similar to underscore/lodash _.uniq\nfunction uniq(arr) {\n  var theSet = new ExportedSet(arr);\n  var result = new Array(theSet.size);\n  var index = -1;\n  theSet.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nfunction mapToKeysArray(map) {\n  var result = new Array(map.size);\n  var index = -1;\n  map.forEach(function (value, key) {\n    result[++index] = key;\n  });\n  return result;\n}\n\nfunction createBuiltInError(name) {\n  var message = 'builtin ' + name +\n    ' function requires map values to be numbers' +\n    ' or number arrays';\n  return new BuiltInError(message);\n}\n\nfunction sum(values) {\n  var result = 0;\n  for (var i = 0, len = values.length; i < len; i++) {\n    var num = values[i];\n    if (typeof num !== 'number') {\n      if (Array.isArray(num)) {\n        // lists of numbers are also allowed, sum them separately\n        result = typeof result === 'number' ? [result] : result;\n        for (var j = 0, jLen = num.length; j < jLen; j++) {\n          var jNum = num[j];\n          if (typeof jNum !== 'number') {\n            throw createBuiltInError('_sum');\n          } else if (typeof result[j] === 'undefined') {\n            result.push(jNum);\n          } else {\n            result[j] += jNum;\n          }\n        }\n      } else { // not array/number\n        throw createBuiltInError('_sum');\n      }\n    } else if (typeof result === 'number') {\n      result += num;\n    } else { // add number to array\n      result[0] += num;\n    }\n  }\n  return result;\n}\n\nvar log = guardedConsole.bind(null, 'log');\nvar isArray = Array.isArray;\nvar toJSON = JSON.parse;\n\nfunction evalFunctionWithEval(func, emit) {\n  return scopeEval(\n    \"return (\" + func.replace(/;\\s*$/, \"\") + \");\",\n    {\n      emit: emit,\n      sum: sum,\n      log: log,\n      isArray: isArray,\n      toJSON: toJSON\n    }\n  );\n}\n\n/*\n * Simple task queue to sequentialize actions. Assumes\n * callbacks will eventually fire (once).\n */\n\n\nfunction TaskQueue$1() {\n  this.promise = new Promise(function (fulfill) {fulfill(); });\n}\nTaskQueue$1.prototype.add = function (promiseFactory) {\n  this.promise = this.promise.catch(function () {\n    // just recover\n  }).then(function () {\n    return promiseFactory();\n  });\n  return this.promise;\n};\nTaskQueue$1.prototype.finish = function () {\n  return this.promise;\n};\n\nfunction stringify(input) {\n  if (!input) {\n    return 'undefined'; // backwards compat for empty reduce\n  }\n  // for backwards compat with mapreduce, functions/strings are stringified\n  // as-is. everything else is JSON-stringified.\n  switch (typeof input) {\n    case 'function':\n      // e.g. a mapreduce map\n      return input.toString();\n    case 'string':\n      // e.g. a mapreduce built-in _reduce function\n      return input.toString();\n    default:\n      // e.g. a JSON object in the case of mango queries\n      return JSON.stringify(input);\n  }\n}\n\n/* create a string signature for a view so we can cache it and uniq it */\nfunction createViewSignature(mapFun, reduceFun) {\n  // the \"undefined\" part is for backwards compatibility\n  return stringify(mapFun) + stringify(reduceFun) + 'undefined';\n}\n\nfunction createView(sourceDB, viewName, mapFun, reduceFun, temporary, localDocName) {\n  var viewSignature = createViewSignature(mapFun, reduceFun);\n\n  var cachedViews;\n  if (!temporary) {\n    // cache this to ensure we don't try to update the same view twice\n    cachedViews = sourceDB._cachedViews = sourceDB._cachedViews || {};\n    if (cachedViews[viewSignature]) {\n      return cachedViews[viewSignature];\n    }\n  }\n\n  var promiseForView = sourceDB.info().then(function (info) {\n\n    var depDbName = info.db_name + '-mrview-' +\n      (temporary ? 'temp' : stringMd5(viewSignature));\n\n    // save the view name in the source db so it can be cleaned up if necessary\n    // (e.g. when the _design doc is deleted, remove all associated view data)\n    function diffFunction(doc) {\n      doc.views = doc.views || {};\n      var fullViewName = viewName;\n      if (fullViewName.indexOf('/') === -1) {\n        fullViewName = viewName + '/' + viewName;\n      }\n      var depDbs = doc.views[fullViewName] = doc.views[fullViewName] || {};\n      /* istanbul ignore if */\n      if (depDbs[depDbName]) {\n        return; // no update necessary\n      }\n      depDbs[depDbName] = true;\n      return doc;\n    }\n    return upsert(sourceDB, '_local/' + localDocName, diffFunction).then(function () {\n      return sourceDB.registerDependentDatabase(depDbName).then(function (res) {\n        var db = res.db;\n        db.auto_compaction = true;\n        var view = {\n          name: depDbName,\n          db: db,\n          sourceDB: sourceDB,\n          adapter: sourceDB.adapter,\n          mapFun: mapFun,\n          reduceFun: reduceFun\n        };\n        return view.db.get('_local/lastSeq').catch(function (err) {\n          /* istanbul ignore if */\n          if (err.status !== 404) {\n            throw err;\n          }\n        }).then(function (lastSeqDoc) {\n          view.seq = lastSeqDoc ? lastSeqDoc.seq : 0;\n          if (cachedViews) {\n            view.db.once('destroyed', function () {\n              delete cachedViews[viewSignature];\n            });\n          }\n          return view;\n        });\n      });\n    });\n  });\n\n  if (cachedViews) {\n    cachedViews[viewSignature] = promiseForView;\n  }\n  return promiseForView;\n}\n\nvar persistentQueues = {};\nvar tempViewQueue = new TaskQueue$1();\nvar CHANGES_BATCH_SIZE$1 = 50;\n\nfunction parseViewName(name) {\n  // can be either 'ddocname/viewname' or just 'viewname'\n  // (where the ddoc name is the same)\n  return name.indexOf('/') === -1 ? [name, name] : name.split('/');\n}\n\nfunction isGenOne(changes) {\n  // only return true if the current change is 1-\n  // and there are no other leafs\n  return changes.length === 1 && /^1-/.test(changes[0].rev);\n}\n\nfunction emitError(db, e) {\n  try {\n    db.emit('error', e);\n  } catch (err) {\n    guardedConsole('error',\n      'The user\\'s map/reduce function threw an uncaught error.\\n' +\n      'You can debug this error by doing:\\n' +\n      'myDatabase.on(\\'error\\', function (err) { debugger; });\\n' +\n      'Please double-check your map/reduce function.');\n    guardedConsole('error', e);\n  }\n}\n\n/**\n * Returns an \"abstract\" mapreduce object of the form:\n *\n *   {\n *     query: queryFun,\n *     viewCleanup: viewCleanupFun\n *   }\n *\n * Arguments are:\n *\n * localDoc: string\n *   This is for the local doc that gets saved in order to track the\n *   \"dependent\" DBs and clean them up for viewCleanup. It should be\n *   unique, so that indexer plugins don't collide with each other.\n * mapper: function (mapFunDef, emit)\n *   Returns a map function based on the mapFunDef, which in the case of\n *   normal map/reduce is just the de-stringified function, but may be\n *   something else, such as an object in the case of pouchdb-find.\n * reducer: function (reduceFunDef)\n *   Ditto, but for reducing. Modules don't have to support reducing\n *   (e.g. pouchdb-find).\n * ddocValidator: function (ddoc, viewName)\n *   Throws an error if the ddoc or viewName is not valid.\n *   This could be a way to communicate to the user that the configuration for the\n *   indexer is invalid.\n */\nfunction createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator) {\n\n  function tryMap(db, fun, doc) {\n    // emit an event if there was an error thrown by a map function.\n    // putting try/catches in a single function also avoids deoptimizations.\n    try {\n      fun(doc);\n    } catch (e) {\n      emitError(db, e);\n    }\n  }\n\n  function tryReduce(db, fun, keys, values, rereduce) {\n    // same as above, but returning the result or an error. there are two separate\n    // functions to avoid extra memory allocations since the tryCode() case is used\n    // for custom map functions (common) vs this function, which is only used for\n    // custom reduce functions (rare)\n    try {\n      return {output : fun(keys, values, rereduce)};\n    } catch (e) {\n      emitError(db, e);\n      return {error: e};\n    }\n  }\n\n  function sortByKeyThenValue(x, y) {\n    var keyCompare = collate(x.key, y.key);\n    return keyCompare !== 0 ? keyCompare : collate(x.value, y.value);\n  }\n\n  function sliceResults(results, limit, skip) {\n    skip = skip || 0;\n    if (typeof limit === 'number') {\n      return results.slice(skip, limit + skip);\n    } else if (skip > 0) {\n      return results.slice(skip);\n    }\n    return results;\n  }\n\n  function rowToDocId(row) {\n    var val = row.value;\n    // Users can explicitly specify a joined doc _id, or it\n    // defaults to the doc _id that emitted the key/value.\n    var docId = (val && typeof val === 'object' && val._id) || row.id;\n    return docId;\n  }\n\n  function readAttachmentsAsBlobOrBuffer(res) {\n    res.rows.forEach(function (row) {\n      var atts = row.doc && row.doc._attachments;\n      if (!atts) {\n        return;\n      }\n      Object.keys(atts).forEach(function (filename) {\n        var att = atts[filename];\n        atts[filename].data = b64ToBluffer(att.data, att.content_type);\n      });\n    });\n  }\n\n  function postprocessAttachments(opts) {\n    return function (res) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        readAttachmentsAsBlobOrBuffer(res);\n      }\n      return res;\n    };\n  }\n\n  function addHttpParam(paramName, opts, params, asJson) {\n    // add an http param from opts to params, optionally json-encoded\n    var val = opts[paramName];\n    if (typeof val !== 'undefined') {\n      if (asJson) {\n        val = encodeURIComponent(JSON.stringify(val));\n      }\n      params.push(paramName + '=' + val);\n    }\n  }\n\n  function coerceInteger(integerCandidate) {\n    if (typeof integerCandidate !== 'undefined') {\n      var asNumber = Number(integerCandidate);\n      // prevents e.g. '1foo' or '1.1' being coerced to 1\n      if (!isNaN(asNumber) && asNumber === parseInt(integerCandidate, 10)) {\n        return asNumber;\n      } else {\n        return integerCandidate;\n      }\n    }\n  }\n\n  function coerceOptions(opts) {\n    opts.group_level = coerceInteger(opts.group_level);\n    opts.limit = coerceInteger(opts.limit);\n    opts.skip = coerceInteger(opts.skip);\n    return opts;\n  }\n\n  function checkPositiveInteger(number) {\n    if (number) {\n      if (typeof number !== 'number') {\n        return  new QueryParseError('Invalid value for integer: \"' +\n          number + '\"');\n      }\n      if (number < 0) {\n        return new QueryParseError('Invalid value for positive integer: ' +\n          '\"' + number + '\"');\n      }\n    }\n  }\n\n  function checkQueryParseError(options, fun) {\n    var startkeyName = options.descending ? 'endkey' : 'startkey';\n    var endkeyName = options.descending ? 'startkey' : 'endkey';\n\n    if (typeof options[startkeyName] !== 'undefined' &&\n      typeof options[endkeyName] !== 'undefined' &&\n      collate(options[startkeyName], options[endkeyName]) > 0) {\n      throw new QueryParseError('No rows can match your key range, ' +\n        'reverse your start_key and end_key or set {descending : true}');\n    } else if (fun.reduce && options.reduce !== false) {\n      if (options.include_docs) {\n        throw new QueryParseError('{include_docs:true} is invalid for reduce');\n      } else if (options.keys && options.keys.length > 1 &&\n        !options.group && !options.group_level) {\n        throw new QueryParseError('Multi-key fetches for reduce views must use ' +\n          '{group: true}');\n      }\n    }\n    ['group_level', 'limit', 'skip'].forEach(function (optionName) {\n      var error = checkPositiveInteger(options[optionName]);\n      if (error) {\n        throw error;\n      }\n    });\n  }\n\n  function httpQuery(db, fun, opts) {\n    // List of parameters to add to the PUT request\n    var params = [];\n    var body;\n    var method = 'GET';\n    var ok, status;\n\n    // If opts.reduce exists and is defined, then add it to the list\n    // of parameters.\n    // If reduce=false then the results are that of only the map function\n    // not the final result of map and reduce.\n    addHttpParam('reduce', opts, params);\n    addHttpParam('include_docs', opts, params);\n    addHttpParam('attachments', opts, params);\n    addHttpParam('limit', opts, params);\n    addHttpParam('descending', opts, params);\n    addHttpParam('group', opts, params);\n    addHttpParam('group_level', opts, params);\n    addHttpParam('skip', opts, params);\n    addHttpParam('stale', opts, params);\n    addHttpParam('conflicts', opts, params);\n    addHttpParam('startkey', opts, params, true);\n    addHttpParam('start_key', opts, params, true);\n    addHttpParam('endkey', opts, params, true);\n    addHttpParam('end_key', opts, params, true);\n    addHttpParam('inclusive_end', opts, params);\n    addHttpParam('key', opts, params, true);\n    addHttpParam('update_seq', opts, params);\n\n    // Format the list of parameters into a valid URI query string\n    params = params.join('&');\n    params = params === '' ? '' : '?' + params;\n\n    // If keys are supplied, issue a POST to circumvent GET query string limits\n    // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options\n    if (typeof opts.keys !== 'undefined') {\n      var MAX_URL_LENGTH = 2000;\n      // according to http://stackoverflow.com/a/417184/680742,\n      // the de facto URL length limit is 2000 characters\n\n      var keysAsString =\n        'keys=' + encodeURIComponent(JSON.stringify(opts.keys));\n      if (keysAsString.length + params.length + 1 <= MAX_URL_LENGTH) {\n        // If the keys are short enough, do a GET. we do this to work around\n        // Safari not understanding 304s on POSTs (see pouchdb/pouchdb#1239)\n        params += (params[0] === '?' ? '&' : '?') + keysAsString;\n      } else {\n        method = 'POST';\n        if (typeof fun === 'string') {\n          body = {keys: opts.keys};\n        } else { // fun is {map : mapfun}, so append to this\n          fun.keys = opts.keys;\n        }\n      }\n    }\n\n    // We are referencing a query defined in the design doc\n    if (typeof fun === 'string') {\n      var parts = parseViewName(fun);\n      return db.fetch('_design/' + parts[0] + '/_view/' + parts[1] + params, {\n        headers: new h({'Content-Type': 'application/json'}),\n        method: method,\n        body: JSON.stringify(body)\n      }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n        return response.json();\n      }).then(function (result) {\n        if (!ok) {\n          result.status = status;\n          throw generateErrorFromResponse(result);\n        }\n        // fail the entire request if the result contains an error\n        result.rows.forEach(function (row) {\n          /* istanbul ignore if */\n          if (row.value && row.value.error && row.value.error === \"builtin_reduce_error\") {\n            throw new Error(row.reason);\n          }\n        });\n        return result;\n      }).then(postprocessAttachments(opts));\n    }\n\n    // We are using a temporary view, terrible for performance, good for testing\n    body = body || {};\n    Object.keys(fun).forEach(function (key) {\n      if (Array.isArray(fun[key])) {\n        body[key] = fun[key];\n      } else {\n        body[key] = fun[key].toString();\n      }\n    });\n\n    return db.fetch('_temp_view' + params, {\n      headers: new h({'Content-Type': 'application/json'}),\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n      return response.json();\n    }).then(function (result) {\n      if (!ok) {\n        result.status = status;\n        throw generateErrorFromResponse(result);\n      }\n      return result;\n    }).then(postprocessAttachments(opts));\n  }\n\n  // custom adapters can define their own api._query\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customQuery(db, fun, opts) {\n    return new Promise(function (resolve, reject) {\n      db._query(fun, opts, function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  // custom adapters can define their own api._viewCleanup\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customViewCleanup(db) {\n    return new Promise(function (resolve, reject) {\n      db._viewCleanup(function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  function defaultsTo(value) {\n    return function (reason) {\n      /* istanbul ignore else */\n      if (reason.status === 404) {\n        return value;\n      } else {\n        throw reason;\n      }\n    };\n  }\n\n  // returns a promise for a list of docs to update, based on the input docId.\n  // the order doesn't matter, because post-3.2.0, bulkDocs\n  // is an atomic operation in all three adapters.\n  function getDocsToPersist(docId, view, docIdsToChangesAndEmits) {\n    var metaDocId = '_local/doc_' + docId;\n    var defaultMetaDoc = {_id: metaDocId, keys: []};\n    var docData = docIdsToChangesAndEmits.get(docId);\n    var indexableKeysToKeyValues = docData[0];\n    var changes = docData[1];\n\n    function getMetaDoc() {\n      if (isGenOne(changes)) {\n        // generation 1, so we can safely assume initial state\n        // for performance reasons (avoids unnecessary GETs)\n        return Promise.resolve(defaultMetaDoc);\n      }\n      return view.db.get(metaDocId).catch(defaultsTo(defaultMetaDoc));\n    }\n\n    function getKeyValueDocs(metaDoc) {\n      if (!metaDoc.keys.length) {\n        // no keys, no need for a lookup\n        return Promise.resolve({rows: []});\n      }\n      return view.db.allDocs({\n        keys: metaDoc.keys,\n        include_docs: true\n      });\n    }\n\n    function processKeyValueDocs(metaDoc, kvDocsRes) {\n      var kvDocs = [];\n      var oldKeys = new ExportedSet();\n\n      for (var i = 0, len = kvDocsRes.rows.length; i < len; i++) {\n        var row = kvDocsRes.rows[i];\n        var doc = row.doc;\n        if (!doc) { // deleted\n          continue;\n        }\n        kvDocs.push(doc);\n        oldKeys.add(doc._id);\n        doc._deleted = !indexableKeysToKeyValues.has(doc._id);\n        if (!doc._deleted) {\n          var keyValue = indexableKeysToKeyValues.get(doc._id);\n          if ('value' in keyValue) {\n            doc.value = keyValue.value;\n          }\n        }\n      }\n      var newKeys = mapToKeysArray(indexableKeysToKeyValues);\n      newKeys.forEach(function (key) {\n        if (!oldKeys.has(key)) {\n          // new doc\n          var kvDoc = {\n            _id: key\n          };\n          var keyValue = indexableKeysToKeyValues.get(key);\n          if ('value' in keyValue) {\n            kvDoc.value = keyValue.value;\n          }\n          kvDocs.push(kvDoc);\n        }\n      });\n      metaDoc.keys = uniq(newKeys.concat(metaDoc.keys));\n      kvDocs.push(metaDoc);\n\n      return kvDocs;\n    }\n\n    return getMetaDoc().then(function (metaDoc) {\n      return getKeyValueDocs(metaDoc).then(function (kvDocsRes) {\n        return processKeyValueDocs(metaDoc, kvDocsRes);\n      });\n    });\n  }\n\n  // updates all emitted key/value docs and metaDocs in the mrview database\n  // for the given batch of documents from the source database\n  function saveKeyValues(view, docIdsToChangesAndEmits, seq) {\n    var seqDocId = '_local/lastSeq';\n    return view.db.get(seqDocId)\n      .catch(defaultsTo({_id: seqDocId, seq: 0}))\n      .then(function (lastSeqDoc) {\n        var docIds = mapToKeysArray(docIdsToChangesAndEmits);\n        return Promise.all(docIds.map(function (docId) {\n          return getDocsToPersist(docId, view, docIdsToChangesAndEmits);\n        })).then(function (listOfDocsToPersist) {\n          var docsToPersist = flatten(listOfDocsToPersist);\n          lastSeqDoc.seq = seq;\n          docsToPersist.push(lastSeqDoc);\n          // write all docs in a single operation, update the seq once\n          return view.db.bulkDocs({docs : docsToPersist});\n        });\n      });\n  }\n\n  function getQueue(view) {\n    var viewName = typeof view === 'string' ? view : view.name;\n    var queue = persistentQueues[viewName];\n    if (!queue) {\n      queue = persistentQueues[viewName] = new TaskQueue$1();\n    }\n    return queue;\n  }\n\n  function updateView(view) {\n    return sequentialize(getQueue(view), function () {\n      return updateViewInQueue(view);\n    })();\n  }\n\n  function updateViewInQueue(view) {\n    // bind the emit function once\n    var mapResults;\n    var doc;\n\n    function emit(key, value) {\n      var output = {id: doc._id, key: normalizeKey(key)};\n      // Don't explicitly store the value unless it's defined and non-null.\n      // This saves on storage space, because often people don't use it.\n      if (typeof value !== 'undefined' && value !== null) {\n        output.value = normalizeKey(value);\n      }\n      mapResults.push(output);\n    }\n\n    var mapFun = mapper(view.mapFun, emit);\n\n    var currentSeq = view.seq || 0;\n\n    function processChange(docIdsToChangesAndEmits, seq) {\n      return function () {\n        return saveKeyValues(view, docIdsToChangesAndEmits, seq);\n      };\n    }\n\n    var queue = new TaskQueue$1();\n\n    function processNextBatch() {\n      return view.sourceDB.changes({\n        return_docs: true,\n        conflicts: true,\n        include_docs: true,\n        style: 'all_docs',\n        since: currentSeq,\n        limit: CHANGES_BATCH_SIZE$1\n      }).then(processBatch);\n    }\n\n    function processBatch(response) {\n      var results = response.results;\n      if (!results.length) {\n        return;\n      }\n      var docIdsToChangesAndEmits = createDocIdsToChangesAndEmits(results);\n      queue.add(processChange(docIdsToChangesAndEmits, currentSeq));\n      if (results.length < CHANGES_BATCH_SIZE$1) {\n        return;\n      }\n      return processNextBatch();\n    }\n\n    function createDocIdsToChangesAndEmits(results) {\n      var docIdsToChangesAndEmits = new ExportedMap();\n      for (var i = 0, len = results.length; i < len; i++) {\n        var change = results[i];\n        if (change.doc._id[0] !== '_') {\n          mapResults = [];\n          doc = change.doc;\n\n          if (!doc._deleted) {\n            tryMap(view.sourceDB, mapFun, doc);\n          }\n          mapResults.sort(sortByKeyThenValue);\n\n          var indexableKeysToKeyValues = createIndexableKeysToKeyValues(mapResults);\n          docIdsToChangesAndEmits.set(change.doc._id, [\n            indexableKeysToKeyValues,\n            change.changes\n          ]);\n        }\n        currentSeq = change.seq;\n      }\n      return docIdsToChangesAndEmits;\n    }\n\n    function createIndexableKeysToKeyValues(mapResults) {\n      var indexableKeysToKeyValues = new ExportedMap();\n      var lastKey;\n      for (var i = 0, len = mapResults.length; i < len; i++) {\n        var emittedKeyValue = mapResults[i];\n        var complexKey = [emittedKeyValue.key, emittedKeyValue.id];\n        if (i > 0 && collate(emittedKeyValue.key, lastKey) === 0) {\n          complexKey.push(i); // dup key+id, so make it unique\n        }\n        indexableKeysToKeyValues.set(toIndexableString(complexKey), emittedKeyValue);\n        lastKey = emittedKeyValue.key;\n      }\n      return indexableKeysToKeyValues;\n    }\n\n    return processNextBatch().then(function () {\n      return queue.finish();\n    }).then(function () {\n      view.seq = currentSeq;\n    });\n  }\n\n  function reduceView(view, results, options) {\n    if (options.group_level === 0) {\n      delete options.group_level;\n    }\n\n    var shouldGroup = options.group || options.group_level;\n\n    var reduceFun = reducer(view.reduceFun);\n\n    var groups = [];\n    var lvl = isNaN(options.group_level) ? Number.POSITIVE_INFINITY :\n      options.group_level;\n    results.forEach(function (e) {\n      var last = groups[groups.length - 1];\n      var groupKey = shouldGroup ? e.key : null;\n\n      // only set group_level for array keys\n      if (shouldGroup && Array.isArray(groupKey)) {\n        groupKey = groupKey.slice(0, lvl);\n      }\n\n      if (last && collate(last.groupKey, groupKey) === 0) {\n        last.keys.push([e.key, e.id]);\n        last.values.push(e.value);\n        return;\n      }\n      groups.push({\n        keys: [[e.key, e.id]],\n        values: [e.value],\n        groupKey: groupKey\n      });\n    });\n    results = [];\n    for (var i = 0, len = groups.length; i < len; i++) {\n      var e = groups[i];\n      var reduceTry = tryReduce(view.sourceDB, reduceFun, e.keys, e.values, false);\n      if (reduceTry.error && reduceTry.error instanceof BuiltInError) {\n        // CouchDB returns an error if a built-in errors out\n        throw reduceTry.error;\n      }\n      results.push({\n        // CouchDB just sets the value to null if a non-built-in errors out\n        value: reduceTry.error ? null : reduceTry.output,\n        key: e.groupKey\n      });\n    }\n    // no total_rows/offset when reducing\n    return {rows: sliceResults(results, options.limit, options.skip)};\n  }\n\n  function queryView(view, opts) {\n    return sequentialize(getQueue(view), function () {\n      return queryViewInQueue(view, opts);\n    })();\n  }\n\n  function queryViewInQueue(view, opts) {\n    var totalRows;\n    var shouldReduce = view.reduceFun && opts.reduce !== false;\n    var skip = opts.skip || 0;\n    if (typeof opts.keys !== 'undefined' && !opts.keys.length) {\n      // equivalent query\n      opts.limit = 0;\n      delete opts.keys;\n    }\n\n    function fetchFromView(viewOpts) {\n      viewOpts.include_docs = true;\n      return view.db.allDocs(viewOpts).then(function (res) {\n        totalRows = res.total_rows;\n        return res.rows.map(function (result) {\n\n          // implicit migration - in older versions of PouchDB,\n          // we explicitly stored the doc as {id: ..., key: ..., value: ...}\n          // this is tested in a migration test\n          /* istanbul ignore next */\n          if ('value' in result.doc && typeof result.doc.value === 'object' &&\n            result.doc.value !== null) {\n            var keys = Object.keys(result.doc.value).sort();\n            // this detection method is not perfect, but it's unlikely the user\n            // emitted a value which was an object with these 3 exact keys\n            var expectedKeys = ['id', 'key', 'value'];\n            if (!(keys < expectedKeys || keys > expectedKeys)) {\n              return result.doc.value;\n            }\n          }\n\n          var parsedKeyAndDocId = parseIndexableString(result.doc._id);\n          return {\n            key: parsedKeyAndDocId[0],\n            id: parsedKeyAndDocId[1],\n            value: ('value' in result.doc ? result.doc.value : null)\n          };\n        });\n      });\n    }\n\n    function onMapResultsReady(rows) {\n      var finalResults;\n      if (shouldReduce) {\n        finalResults = reduceView(view, rows, opts);\n      } else {\n        finalResults = {\n          total_rows: totalRows,\n          offset: skip,\n          rows: rows\n        };\n      }\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        finalResults.update_seq = view.seq;\n      }\n      if (opts.include_docs) {\n        var docIds = uniq(rows.map(rowToDocId));\n\n        return view.sourceDB.allDocs({\n          keys: docIds,\n          include_docs: true,\n          conflicts: opts.conflicts,\n          attachments: opts.attachments,\n          binary: opts.binary\n        }).then(function (allDocsRes) {\n          var docIdsToDocs = new ExportedMap();\n          allDocsRes.rows.forEach(function (row) {\n            docIdsToDocs.set(row.id, row.doc);\n          });\n          rows.forEach(function (row) {\n            var docId = rowToDocId(row);\n            var doc = docIdsToDocs.get(docId);\n            if (doc) {\n              row.doc = doc;\n            }\n          });\n          return finalResults;\n        });\n      } else {\n        return finalResults;\n      }\n    }\n\n    if (typeof opts.keys !== 'undefined') {\n      var keys = opts.keys;\n      var fetchPromises = keys.map(function (key) {\n        var viewOpts = {\n          startkey : toIndexableString([key]),\n          endkey   : toIndexableString([key, {}])\n        };\n        /* istanbul ignore if */\n        if (opts.update_seq) {\n          viewOpts.update_seq = true;\n        }\n        return fetchFromView(viewOpts);\n      });\n      return Promise.all(fetchPromises).then(flatten).then(onMapResultsReady);\n    } else { // normal query, no 'keys'\n      var viewOpts = {\n        descending : opts.descending\n      };\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        viewOpts.update_seq = true;\n      }\n      var startkey;\n      var endkey;\n      if ('start_key' in opts) {\n        startkey = opts.start_key;\n      }\n      if ('startkey' in opts) {\n        startkey = opts.startkey;\n      }\n      if ('end_key' in opts) {\n        endkey = opts.end_key;\n      }\n      if ('endkey' in opts) {\n        endkey = opts.endkey;\n      }\n      if (typeof startkey !== 'undefined') {\n        viewOpts.startkey = opts.descending ?\n          toIndexableString([startkey, {}]) :\n          toIndexableString([startkey]);\n      }\n      if (typeof endkey !== 'undefined') {\n        var inclusiveEnd = opts.inclusive_end !== false;\n        if (opts.descending) {\n          inclusiveEnd = !inclusiveEnd;\n        }\n\n        viewOpts.endkey = toIndexableString(\n          inclusiveEnd ? [endkey, {}] : [endkey]);\n      }\n      if (typeof opts.key !== 'undefined') {\n        var keyStart = toIndexableString([opts.key]);\n        var keyEnd = toIndexableString([opts.key, {}]);\n        if (viewOpts.descending) {\n          viewOpts.endkey = keyStart;\n          viewOpts.startkey = keyEnd;\n        } else {\n          viewOpts.startkey = keyStart;\n          viewOpts.endkey = keyEnd;\n        }\n      }\n      if (!shouldReduce) {\n        if (typeof opts.limit === 'number') {\n          viewOpts.limit = opts.limit;\n        }\n        viewOpts.skip = skip;\n      }\n      return fetchFromView(viewOpts).then(onMapResultsReady);\n    }\n  }\n\n  function httpViewCleanup(db) {\n    return db.fetch('_view_cleanup', {\n      headers: new h({'Content-Type': 'application/json'}),\n      method: 'POST'\n    }).then(function (response) {\n      return response.json();\n    });\n  }\n\n  function localViewCleanup(db) {\n    return db.get('_local/' + localDocName).then(function (metaDoc) {\n      var docsToViews = new ExportedMap();\n      Object.keys(metaDoc.views).forEach(function (fullViewName) {\n        var parts = parseViewName(fullViewName);\n        var designDocName = '_design/' + parts[0];\n        var viewName = parts[1];\n        var views = docsToViews.get(designDocName);\n        if (!views) {\n          views = new ExportedSet();\n          docsToViews.set(designDocName, views);\n        }\n        views.add(viewName);\n      });\n      var opts = {\n        keys : mapToKeysArray(docsToViews),\n        include_docs : true\n      };\n      return db.allDocs(opts).then(function (res) {\n        var viewsToStatus = {};\n        res.rows.forEach(function (row) {\n          var ddocName = row.key.substring(8); // cuts off '_design/'\n          docsToViews.get(row.key).forEach(function (viewName) {\n            var fullViewName = ddocName + '/' + viewName;\n            /* istanbul ignore if */\n            if (!metaDoc.views[fullViewName]) {\n              // new format, without slashes, to support PouchDB 2.2.0\n              // migration test in pouchdb's browser.migration.js verifies this\n              fullViewName = viewName;\n            }\n            var viewDBNames = Object.keys(metaDoc.views[fullViewName]);\n            // design doc deleted, or view function nonexistent\n            var statusIsGood = row.doc && row.doc.views &&\n              row.doc.views[viewName];\n            viewDBNames.forEach(function (viewDBName) {\n              viewsToStatus[viewDBName] =\n                viewsToStatus[viewDBName] || statusIsGood;\n            });\n          });\n        });\n        var dbsToDelete = Object.keys(viewsToStatus).filter(\n          function (viewDBName) { return !viewsToStatus[viewDBName]; });\n        var destroyPromises = dbsToDelete.map(function (viewDBName) {\n          return sequentialize(getQueue(viewDBName), function () {\n            return new db.constructor(viewDBName, db.__opts).destroy();\n          })();\n        });\n        return Promise.all(destroyPromises).then(function () {\n          return {ok: true};\n        });\n      });\n    }, defaultsTo({ok: true}));\n  }\n\n  function queryPromised(db, fun, opts) {\n    /* istanbul ignore next */\n    if (typeof db._query === 'function') {\n      return customQuery(db, fun, opts);\n    }\n    if (isRemote(db)) {\n      return httpQuery(db, fun, opts);\n    }\n\n    if (typeof fun !== 'string') {\n      // temp_view\n      checkQueryParseError(opts, fun);\n\n      tempViewQueue.add(function () {\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ 'temp_view/temp_view',\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ true,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          return fin(updateView(view).then(function () {\n            return queryView(view, opts);\n          }), function () {\n            return view.db.destroy();\n          });\n        });\n      });\n      return tempViewQueue.finish();\n    } else {\n      // persistent view\n      var fullViewName = fun;\n      var parts = parseViewName(fullViewName);\n      var designDocName = parts[0];\n      var viewName = parts[1];\n      return db.get('_design/' + designDocName).then(function (doc) {\n        var fun = doc.views && doc.views[viewName];\n\n        if (!fun) {\n          // basic validator; it's assumed that every subclass would want this\n          throw new NotFoundError('ddoc ' + doc._id + ' has no view named ' +\n            viewName);\n        }\n\n        ddocValidator(doc, viewName);\n        checkQueryParseError(opts, fun);\n\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ fullViewName,\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ false,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          if (opts.stale === 'ok' || opts.stale === 'update_after') {\n            if (opts.stale === 'update_after') {\n              immediate(function () {\n                updateView(view);\n              });\n            }\n            return queryView(view, opts);\n          } else { // stale not ok\n            return updateView(view).then(function () {\n              return queryView(view, opts);\n            });\n          }\n        });\n      });\n    }\n  }\n\n  function abstractQuery(fun, opts, callback) {\n    var db = this;\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = opts ? coerceOptions(opts) : {};\n\n    if (typeof fun === 'function') {\n      fun = {map : fun};\n    }\n\n    var promise = Promise.resolve().then(function () {\n      return queryPromised(db, fun, opts);\n    });\n    promisedCallback(promise, callback);\n    return promise;\n  }\n\n  var abstractViewCleanup = callbackify(function () {\n    var db = this;\n    /* istanbul ignore next */\n    if (typeof db._viewCleanup === 'function') {\n      return customViewCleanup(db);\n    }\n    if (isRemote(db)) {\n      return httpViewCleanup(db);\n    }\n    return localViewCleanup(db);\n  });\n\n  return {\n    query: abstractQuery,\n    viewCleanup: abstractViewCleanup\n  };\n}\n\nvar builtInReduce = {\n  _sum: function (keys, values) {\n    return sum(values);\n  },\n\n  _count: function (keys, values) {\n    return values.length;\n  },\n\n  _stats: function (keys, values) {\n    // no need to implement rereduce=true, because Pouch\n    // will never call it\n    function sumsqr(values) {\n      var _sumsqr = 0;\n      for (var i = 0, len = values.length; i < len; i++) {\n        var num = values[i];\n        _sumsqr += (num * num);\n      }\n      return _sumsqr;\n    }\n    return {\n      sum     : sum(values),\n      min     : Math.min.apply(null, values),\n      max     : Math.max.apply(null, values),\n      count   : values.length,\n      sumsqr : sumsqr(values)\n    };\n  }\n};\n\nfunction getBuiltIn(reduceFunString) {\n  if (/^_sum/.test(reduceFunString)) {\n    return builtInReduce._sum;\n  } else if (/^_count/.test(reduceFunString)) {\n    return builtInReduce._count;\n  } else if (/^_stats/.test(reduceFunString)) {\n    return builtInReduce._stats;\n  } else if (/^_/.test(reduceFunString)) {\n    throw new Error(reduceFunString + ' is not a supported reduce function.');\n  }\n}\n\nfunction mapper(mapFun, emit) {\n  // for temp_views one can use emit(doc, emit), see #38\n  if (typeof mapFun === \"function\" && mapFun.length === 2) {\n    var origMap = mapFun;\n    return function (doc) {\n      return origMap(doc, emit);\n    };\n  } else {\n    return evalFunctionWithEval(mapFun.toString(), emit);\n  }\n}\n\nfunction reducer(reduceFun) {\n  var reduceFunString = reduceFun.toString();\n  var builtIn = getBuiltIn(reduceFunString);\n  if (builtIn) {\n    return builtIn;\n  } else {\n    return evalFunctionWithEval(reduceFunString);\n  }\n}\n\nfunction ddocValidator(ddoc, viewName) {\n  var fun = ddoc.views && ddoc.views[viewName];\n  if (typeof fun.map !== 'string') {\n    throw new NotFoundError('ddoc ' + ddoc._id + ' has no string view named ' +\n      viewName + ', instead found object of type: ' + typeof fun.map);\n  }\n}\n\nvar localDocName = 'mrviews';\nvar abstract = createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator);\n\nfunction query(fun, opts, callback) {\n  return abstract.query.call(this, fun, opts, callback);\n}\n\nfunction viewCleanup(callback) {\n  return abstract.viewCleanup.call(this, callback);\n}\n\nvar mapreduce = {\n  query: query,\n  viewCleanup: viewCleanup\n};\n\nfunction isGenOne$1(rev$$1) {\n  return /^1-/.test(rev$$1);\n}\n\nfunction fileHasChanged(localDoc, remoteDoc, filename) {\n  return !localDoc._attachments ||\n         !localDoc._attachments[filename] ||\n         localDoc._attachments[filename].digest !== remoteDoc._attachments[filename].digest;\n}\n\nfunction getDocAttachments(db, doc) {\n  var filenames = Object.keys(doc._attachments);\n  return Promise.all(filenames.map(function (filename) {\n    return db.getAttachment(doc._id, filename, {rev: doc._rev});\n  }));\n}\n\nfunction getDocAttachmentsFromTargetOrSource(target, src, doc) {\n  var doCheckForLocalAttachments = isRemote(src) && !isRemote(target);\n  var filenames = Object.keys(doc._attachments);\n\n  if (!doCheckForLocalAttachments) {\n    return getDocAttachments(src, doc);\n  }\n\n  return target.get(doc._id).then(function (localDoc) {\n    return Promise.all(filenames.map(function (filename) {\n      if (fileHasChanged(localDoc, doc, filename)) {\n        return src.getAttachment(doc._id, filename);\n      }\n\n      return target.getAttachment(localDoc._id, filename);\n    }));\n  }).catch(function (error) {\n    /* istanbul ignore if */\n    if (error.status !== 404) {\n      throw error;\n    }\n\n    return getDocAttachments(src, doc);\n  });\n}\n\nfunction createBulkGetOpts(diffs) {\n  var requests = [];\n  Object.keys(diffs).forEach(function (id) {\n    var missingRevs = diffs[id].missing;\n    missingRevs.forEach(function (missingRev) {\n      requests.push({\n        id: id,\n        rev: missingRev\n      });\n    });\n  });\n\n  return {\n    docs: requests,\n    revs: true,\n    latest: true\n  };\n}\n\n//\n// Fetch all the documents from the src as described in the \"diffs\",\n// which is a mapping of docs IDs to revisions. If the state ever\n// changes to \"cancelled\", then the returned promise will be rejected.\n// Else it will be resolved with a list of fetched documents.\n//\nfunction getDocs(src, target, diffs, state) {\n  diffs = clone(diffs); // we do not need to modify this\n\n  var resultDocs = [],\n      ok = true;\n\n  function getAllDocs() {\n\n    var bulkGetOpts = createBulkGetOpts(diffs);\n\n    if (!bulkGetOpts.docs.length) { // optimization: skip empty requests\n      return;\n    }\n\n    return src.bulkGet(bulkGetOpts).then(function (bulkGetResponse) {\n      /* istanbul ignore if */\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      return Promise.all(bulkGetResponse.results.map(function (bulkGetInfo) {\n        return Promise.all(bulkGetInfo.docs.map(function (doc) {\n          var remoteDoc = doc.ok;\n\n          if (doc.error) {\n            // when AUTO_COMPACTION is set, docs can be returned which look\n            // like this: {\"missing\":\"1-7c3ac256b693c462af8442f992b83696\"}\n            ok = false;\n          }\n\n          if (!remoteDoc || !remoteDoc._attachments) {\n            return remoteDoc;\n          }\n\n          return getDocAttachmentsFromTargetOrSource(target, src, remoteDoc)\n                   .then(function (attachments) {\n                           var filenames = Object.keys(remoteDoc._attachments);\n                           attachments\n                             .forEach(function (attachment, i) {\n                                        var att = remoteDoc._attachments[filenames[i]];\n                                        delete att.stub;\n                                        delete att.length;\n                                        att.data = attachment;\n                                      });\n\n                                      return remoteDoc;\n                                    });\n        }));\n      }))\n\n      .then(function (results) {\n        resultDocs = resultDocs.concat(flatten(results).filter(Boolean));\n      });\n    });\n  }\n\n  function hasAttachments(doc) {\n    return doc._attachments && Object.keys(doc._attachments).length > 0;\n  }\n\n  function hasConflicts(doc) {\n    return doc._conflicts && doc._conflicts.length > 0;\n  }\n\n  function fetchRevisionOneDocs(ids) {\n    // Optimization: fetch gen-1 docs and attachments in\n    // a single request using _all_docs\n    return src.allDocs({\n      keys: ids,\n      include_docs: true,\n      conflicts: true\n    }).then(function (res) {\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      res.rows.forEach(function (row) {\n        if (row.deleted || !row.doc || !isGenOne$1(row.value.rev) ||\n            hasAttachments(row.doc) || hasConflicts(row.doc)) {\n          // if any of these conditions apply, we need to fetch using get()\n          return;\n        }\n\n        // strip _conflicts array to appease CSG (#5793)\n        /* istanbul ignore if */\n        if (row.doc._conflicts) {\n          delete row.doc._conflicts;\n        }\n\n        // the doc we got back from allDocs() is sufficient\n        resultDocs.push(row.doc);\n        delete diffs[row.id];\n      });\n    });\n  }\n\n  function getRevisionOneDocs() {\n    // filter out the generation 1 docs and get them\n    // leaving the non-generation one docs to be got otherwise\n    var ids = Object.keys(diffs).filter(function (id) {\n      var missing = diffs[id].missing;\n      return missing.length === 1 && isGenOne$1(missing[0]);\n    });\n    if (ids.length > 0) {\n      return fetchRevisionOneDocs(ids);\n    }\n  }\n\n  function returnResult() {\n    return { ok:ok, docs:resultDocs };\n  }\n\n  return Promise.resolve()\n    .then(getRevisionOneDocs)\n    .then(getAllDocs)\n    .then(returnResult);\n}\n\nvar CHECKPOINT_VERSION = 1;\nvar REPLICATOR = \"pouchdb\";\n// This is an arbitrary number to limit the\n// amount of replication history we save in the checkpoint.\n// If we save too much, the checkpoing docs will become very big,\n// if we save fewer, we'll run a greater risk of having to\n// read all the changes from 0 when checkpoint PUTs fail\n// CouchDB 2.0 has a more involved history pruning,\n// but let's go for the simple version for now.\nvar CHECKPOINT_HISTORY_SIZE = 5;\nvar LOWEST_SEQ = 0;\n\nfunction updateCheckpoint(db, id, checkpoint, session, returnValue) {\n  return db.get(id).catch(function (err) {\n    if (err.status === 404) {\n      if (db.adapter === 'http' || db.adapter === 'https') {\n        explainError(\n          404, 'PouchDB is just checking if a remote checkpoint exists.'\n        );\n      }\n      return {\n        session_id: session,\n        _id: id,\n        history: [],\n        replicator: REPLICATOR,\n        version: CHECKPOINT_VERSION\n      };\n    }\n    throw err;\n  }).then(function (doc) {\n    if (returnValue.cancelled) {\n      return;\n    }\n\n    // if the checkpoint has not changed, do not update\n    if (doc.last_seq === checkpoint) {\n      return;\n    }\n\n    // Filter out current entry for this replication\n    doc.history = (doc.history || []).filter(function (item) {\n      return item.session_id !== session;\n    });\n\n    // Add the latest checkpoint to history\n    doc.history.unshift({\n      last_seq: checkpoint,\n      session_id: session\n    });\n\n    // Just take the last pieces in history, to\n    // avoid really big checkpoint docs.\n    // see comment on history size above\n    doc.history = doc.history.slice(0, CHECKPOINT_HISTORY_SIZE);\n\n    doc.version = CHECKPOINT_VERSION;\n    doc.replicator = REPLICATOR;\n\n    doc.session_id = session;\n    doc.last_seq = checkpoint;\n\n    return db.put(doc).catch(function (err) {\n      if (err.status === 409) {\n        // retry; someone is trying to write a checkpoint simultaneously\n        return updateCheckpoint(db, id, checkpoint, session, returnValue);\n      }\n      throw err;\n    });\n  });\n}\n\nfunction Checkpointer(src, target, id, returnValue, opts) {\n  this.src = src;\n  this.target = target;\n  this.id = id;\n  this.returnValue = returnValue;\n  this.opts = opts || {};\n}\n\nCheckpointer.prototype.writeCheckpoint = function (checkpoint, session) {\n  var self = this;\n  return this.updateTarget(checkpoint, session).then(function () {\n    return self.updateSource(checkpoint, session);\n  });\n};\n\nCheckpointer.prototype.updateTarget = function (checkpoint, session) {\n  if (this.opts.writeTargetCheckpoint) {\n    return updateCheckpoint(this.target, this.id, checkpoint,\n      session, this.returnValue);\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nCheckpointer.prototype.updateSource = function (checkpoint, session) {\n  if (this.opts.writeSourceCheckpoint) {\n    var self = this;\n    return updateCheckpoint(this.src, this.id, checkpoint,\n      session, this.returnValue)\n      .catch(function (err) {\n        if (isForbiddenError(err)) {\n          self.opts.writeSourceCheckpoint = false;\n          return true;\n        }\n        throw err;\n      });\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nvar comparisons = {\n  \"undefined\": function (targetDoc, sourceDoc) {\n    // This is the previous comparison function\n    if (collate(targetDoc.last_seq, sourceDoc.last_seq) === 0) {\n      return sourceDoc.last_seq;\n    }\n    /* istanbul ignore next */\n    return 0;\n  },\n  \"1\": function (targetDoc, sourceDoc) {\n    // This is the comparison function ported from CouchDB\n    return compareReplicationLogs(sourceDoc, targetDoc).last_seq;\n  }\n};\n\nCheckpointer.prototype.getCheckpoint = function () {\n  var self = this;\n\n  if (self.opts && self.opts.writeSourceCheckpoint && !self.opts.writeTargetCheckpoint) {\n    return self.src.get(self.id).then(function (sourceDoc) {\n      return sourceDoc.last_seq || LOWEST_SEQ;\n    }).catch(function (err) {\n      /* istanbul ignore if */\n      if (err.status !== 404) {\n        throw err;\n      }\n      return LOWEST_SEQ;\n    });\n  }\n\n  return self.target.get(self.id).then(function (targetDoc) {\n    if (self.opts && self.opts.writeTargetCheckpoint && !self.opts.writeSourceCheckpoint) {\n      return targetDoc.last_seq || LOWEST_SEQ;\n    }\n\n    return self.src.get(self.id).then(function (sourceDoc) {\n      // Since we can't migrate an old version doc to a new one\n      // (no session id), we just go with the lowest seq in this case\n      /* istanbul ignore if */\n      if (targetDoc.version !== sourceDoc.version) {\n        return LOWEST_SEQ;\n      }\n\n      var version;\n      if (targetDoc.version) {\n        version = targetDoc.version.toString();\n      } else {\n        version = \"undefined\";\n      }\n\n      if (version in comparisons) {\n        return comparisons[version](targetDoc, sourceDoc);\n      }\n      /* istanbul ignore next */\n      return LOWEST_SEQ;\n    }, function (err) {\n      if (err.status === 404 && targetDoc.last_seq) {\n        return self.src.put({\n          _id: self.id,\n          last_seq: LOWEST_SEQ\n        }).then(function () {\n          return LOWEST_SEQ;\n        }, function (err) {\n          if (isForbiddenError(err)) {\n            self.opts.writeSourceCheckpoint = false;\n            return targetDoc.last_seq;\n          }\n          /* istanbul ignore next */\n          return LOWEST_SEQ;\n        });\n      }\n      throw err;\n    });\n  }).catch(function (err) {\n    if (err.status !== 404) {\n      throw err;\n    }\n    return LOWEST_SEQ;\n  });\n};\n// This checkpoint comparison is ported from CouchDBs source\n// they come from here:\n// https://github.com/apache/couchdb-couch-replicator/blob/master/src/couch_replicator.erl#L863-L906\n\nfunction compareReplicationLogs(srcDoc, tgtDoc) {\n  if (srcDoc.session_id === tgtDoc.session_id) {\n    return {\n      last_seq: srcDoc.last_seq,\n      history: srcDoc.history\n    };\n  }\n\n  return compareReplicationHistory(srcDoc.history, tgtDoc.history);\n}\n\nfunction compareReplicationHistory(sourceHistory, targetHistory) {\n  // the erlang loop via function arguments is not so easy to repeat in JS\n  // therefore, doing this as recursion\n  var S = sourceHistory[0];\n  var sourceRest = sourceHistory.slice(1);\n  var T = targetHistory[0];\n  var targetRest = targetHistory.slice(1);\n\n  if (!S || targetHistory.length === 0) {\n    return {\n      last_seq: LOWEST_SEQ,\n      history: []\n    };\n  }\n\n  var sourceId = S.session_id;\n  /* istanbul ignore if */\n  if (hasSessionId(sourceId, targetHistory)) {\n    return {\n      last_seq: S.last_seq,\n      history: sourceHistory\n    };\n  }\n\n  var targetId = T.session_id;\n  if (hasSessionId(targetId, sourceRest)) {\n    return {\n      last_seq: T.last_seq,\n      history: targetRest\n    };\n  }\n\n  return compareReplicationHistory(sourceRest, targetRest);\n}\n\nfunction hasSessionId(sessionId, history) {\n  var props = history[0];\n  var rest = history.slice(1);\n\n  if (!sessionId || history.length === 0) {\n    return false;\n  }\n\n  if (sessionId === props.session_id) {\n    return true;\n  }\n\n  return hasSessionId(sessionId, rest);\n}\n\nfunction isForbiddenError(err) {\n  return typeof err.status === 'number' && Math.floor(err.status / 100) === 4;\n}\n\nvar STARTING_BACK_OFF = 0;\n\nfunction backOff(opts, returnValue, error, callback) {\n  if (opts.retry === false) {\n    returnValue.emit('error', error);\n    returnValue.removeAllListeners();\n    return;\n  }\n  /* istanbul ignore if */\n  if (typeof opts.back_off_function !== 'function') {\n    opts.back_off_function = defaultBackOff;\n  }\n  returnValue.emit('requestError', error);\n  if (returnValue.state === 'active' || returnValue.state === 'pending') {\n    returnValue.emit('paused', error);\n    returnValue.state = 'stopped';\n    var backOffSet = function backoffTimeSet() {\n      opts.current_back_off = STARTING_BACK_OFF;\n    };\n    var removeBackOffSetter = function removeBackOffTimeSet() {\n      returnValue.removeListener('active', backOffSet);\n    };\n    returnValue.once('paused', removeBackOffSetter);\n    returnValue.once('active', backOffSet);\n  }\n\n  opts.current_back_off = opts.current_back_off || STARTING_BACK_OFF;\n  opts.current_back_off = opts.back_off_function(opts.current_back_off);\n  setTimeout(callback, opts.current_back_off);\n}\n\nfunction sortObjectPropertiesByKey(queryParams) {\n  return Object.keys(queryParams).sort(collate).reduce(function (result, key) {\n    result[key] = queryParams[key];\n    return result;\n  }, {});\n}\n\n// Generate a unique id particular to this replication.\n// Not guaranteed to align perfectly with CouchDB's rep ids.\nfunction generateReplicationId(src, target, opts) {\n  var docIds = opts.doc_ids ? opts.doc_ids.sort(collate) : '';\n  var filterFun = opts.filter ? opts.filter.toString() : '';\n  var queryParams = '';\n  var filterViewName =  '';\n  var selector = '';\n\n  // possibility for checkpoints to be lost here as behaviour of\n  // JSON.stringify is not stable (see #6226)\n  /* istanbul ignore if */\n  if (opts.selector) {\n    selector = JSON.stringify(opts.selector);\n  }\n\n  if (opts.filter && opts.query_params) {\n    queryParams = JSON.stringify(sortObjectPropertiesByKey(opts.query_params));\n  }\n\n  if (opts.filter && opts.filter === '_view') {\n    filterViewName = opts.view.toString();\n  }\n\n  return Promise.all([src.id(), target.id()]).then(function (res) {\n    var queryData = res[0] + res[1] + filterFun + filterViewName +\n      queryParams + docIds + selector;\n    return new Promise(function (resolve) {\n      binaryMd5(queryData, resolve);\n    });\n  }).then(function (md5sum) {\n    // can't use straight-up md5 alphabet, because\n    // the char '/' is interpreted as being for attachments,\n    // and + is also not url-safe\n    md5sum = md5sum.replace(/\\//g, '.').replace(/\\+/g, '_');\n    return '_local/' + md5sum;\n  });\n}\n\nfunction replicate(src, target, opts, returnValue, result) {\n  var batches = [];               // list of batches to be processed\n  var currentBatch;               // the batch currently being processed\n  var pendingBatch = {\n    seq: 0,\n    changes: [],\n    docs: []\n  }; // next batch, not yet ready to be processed\n  var writingCheckpoint = false;  // true while checkpoint is being written\n  var changesCompleted = false;   // true when all changes received\n  var replicationCompleted = false; // true when replication has completed\n  var last_seq = 0;\n  var continuous = opts.continuous || opts.live || false;\n  var batch_size = opts.batch_size || 100;\n  var batches_limit = opts.batches_limit || 10;\n  var changesPending = false;     // true while src.changes is running\n  var doc_ids = opts.doc_ids;\n  var selector = opts.selector;\n  var repId;\n  var checkpointer;\n  var changedDocs = [];\n  // Like couchdb, every replication gets a unique session id\n  var session = uuid();\n\n  result = result || {\n    ok: true,\n    start_time: new Date().toISOString(),\n    docs_read: 0,\n    docs_written: 0,\n    doc_write_failures: 0,\n    errors: []\n  };\n\n  var changesOpts = {};\n  returnValue.ready(src, target);\n\n  function initCheckpointer() {\n    if (checkpointer) {\n      return Promise.resolve();\n    }\n    return generateReplicationId(src, target, opts).then(function (res) {\n      repId = res;\n\n      var checkpointOpts = {};\n      if (opts.checkpoint === false) {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'source') {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'target') {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: true };\n      } else {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: true };\n      }\n\n      checkpointer = new Checkpointer(src, target, repId, returnValue, checkpointOpts);\n    });\n  }\n\n  function writeDocs() {\n    changedDocs = [];\n\n    if (currentBatch.docs.length === 0) {\n      return;\n    }\n    var docs = currentBatch.docs;\n    var bulkOpts = {timeout: opts.timeout};\n    return target.bulkDocs({docs: docs, new_edits: false}, bulkOpts).then(function (res) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n\n      // `res` doesn't include full documents (which live in `docs`), so we create a map of \n      // (id -> error), and check for errors while iterating over `docs`\n      var errorsById = Object.create(null);\n      res.forEach(function (res) {\n        if (res.error) {\n          errorsById[res.id] = res;\n        }\n      });\n\n      var errorsNo = Object.keys(errorsById).length;\n      result.doc_write_failures += errorsNo;\n      result.docs_written += docs.length - errorsNo;\n\n      docs.forEach(function (doc) {\n        var error = errorsById[doc._id];\n        if (error) {\n          result.errors.push(error);\n          // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n          var errorName = (error.name || '').toLowerCase();\n          if (errorName === 'unauthorized' || errorName === 'forbidden') {\n            returnValue.emit('denied', clone(error));\n          } else {\n            throw error;\n          }\n        } else {\n          changedDocs.push(doc);\n        }\n      });\n\n    }, function (err) {\n      result.doc_write_failures += docs.length;\n      throw err;\n    });\n  }\n\n  function finishBatch() {\n    if (currentBatch.error) {\n      throw new Error('There was a problem getting docs.');\n    }\n    result.last_seq = last_seq = currentBatch.seq;\n    var outResult = clone(result);\n    if (changedDocs.length) {\n      outResult.docs = changedDocs;\n      // Attach 'pending' property if server supports it (CouchDB 2.0+)\n      /* istanbul ignore if */\n      if (typeof currentBatch.pending === 'number') {\n        outResult.pending = currentBatch.pending;\n        delete currentBatch.pending;\n      }\n      returnValue.emit('change', outResult);\n    }\n    writingCheckpoint = true;\n    return checkpointer.writeCheckpoint(currentBatch.seq,\n        session).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      currentBatch = undefined;\n      getChanges();\n    }).catch(function (err) {\n      onCheckpointError(err);\n      throw err;\n    });\n  }\n\n  function getDiffs() {\n    var diff = {};\n    currentBatch.changes.forEach(function (change) {\n      // Couchbase Sync Gateway emits these, but we can ignore them\n      /* istanbul ignore if */\n      if (change.id === \"_user/\") {\n        return;\n      }\n      diff[change.id] = change.changes.map(function (x) {\n        return x.rev;\n      });\n    });\n    return target.revsDiff(diff).then(function (diffs) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      // currentBatch.diffs elements are deleted as the documents are written\n      currentBatch.diffs = diffs;\n    });\n  }\n\n  function getBatchDocs() {\n    return getDocs(src, target, currentBatch.diffs, returnValue).then(function (got) {\n      currentBatch.error = !got.ok;\n      got.docs.forEach(function (doc) {\n        delete currentBatch.diffs[doc._id];\n        result.docs_read++;\n        currentBatch.docs.push(doc);\n      });\n    });\n  }\n\n  function startNextBatch() {\n    if (returnValue.cancelled || currentBatch) {\n      return;\n    }\n    if (batches.length === 0) {\n      processPendingBatch(true);\n      return;\n    }\n    currentBatch = batches.shift();\n    getDiffs()\n      .then(getBatchDocs)\n      .then(writeDocs)\n      .then(finishBatch)\n      .then(startNextBatch)\n      .catch(function (err) {\n        abortReplication('batch processing terminated with error', err);\n      });\n  }\n\n\n  function processPendingBatch(immediate$$1) {\n    if (pendingBatch.changes.length === 0) {\n      if (batches.length === 0 && !currentBatch) {\n        if ((continuous && changesOpts.live) || changesCompleted) {\n          returnValue.state = 'pending';\n          returnValue.emit('paused');\n        }\n        if (changesCompleted) {\n          completeReplication();\n        }\n      }\n      return;\n    }\n    if (\n      immediate$$1 ||\n      changesCompleted ||\n      pendingBatch.changes.length >= batch_size\n    ) {\n      batches.push(pendingBatch);\n      pendingBatch = {\n        seq: 0,\n        changes: [],\n        docs: []\n      };\n      if (returnValue.state === 'pending' || returnValue.state === 'stopped') {\n        returnValue.state = 'active';\n        returnValue.emit('active');\n      }\n      startNextBatch();\n    }\n  }\n\n\n  function abortReplication(reason, err) {\n    if (replicationCompleted) {\n      return;\n    }\n    if (!err.message) {\n      err.message = reason;\n    }\n    result.ok = false;\n    result.status = 'aborting';\n    batches = [];\n    pendingBatch = {\n      seq: 0,\n      changes: [],\n      docs: []\n    };\n    completeReplication(err);\n  }\n\n\n  function completeReplication(fatalError) {\n    if (replicationCompleted) {\n      return;\n    }\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      result.status = 'cancelled';\n      if (writingCheckpoint) {\n        return;\n      }\n    }\n    result.status = result.status || 'complete';\n    result.end_time = new Date().toISOString();\n    result.last_seq = last_seq;\n    replicationCompleted = true;\n\n    if (fatalError) {\n      // need to extend the error because Firefox considers \".result\" read-only\n      fatalError = createError(fatalError);\n      fatalError.result = result;\n\n      // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n      var errorName = (fatalError.name || '').toLowerCase();\n      if (errorName === 'unauthorized' || errorName === 'forbidden') {\n        returnValue.emit('error', fatalError);\n        returnValue.removeAllListeners();\n      } else {\n        backOff(opts, returnValue, fatalError, function () {\n          replicate(src, target, opts, returnValue);\n        });\n      }\n    } else {\n      returnValue.emit('complete', result);\n      returnValue.removeAllListeners();\n    }\n  }\n\n\n  function onChange(change, pending, lastSeq) {\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    // Attach 'pending' property if server supports it (CouchDB 2.0+)\n    /* istanbul ignore if */\n    if (typeof pending === 'number') {\n      pendingBatch.pending = pending;\n    }\n\n    var filter = filterChange(opts)(change);\n    if (!filter) {\n      return;\n    }\n    pendingBatch.seq = change.seq || lastSeq;\n    pendingBatch.changes.push(change);\n    immediate(function () {\n      processPendingBatch(batches.length === 0 && changesOpts.live);\n    });\n  }\n\n\n  function onChangesComplete(changes) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n\n    // if no results were returned then we're done,\n    // else fetch more\n    if (changes.results.length > 0) {\n      changesOpts.since = changes.results[changes.results.length - 1].seq;\n      getChanges();\n      processPendingBatch(true);\n    } else {\n\n      var complete = function () {\n        if (continuous) {\n          changesOpts.live = true;\n          getChanges();\n        } else {\n          changesCompleted = true;\n        }\n        processPendingBatch(true);\n      };\n\n      // update the checkpoint so we start from the right seq next time\n      if (!currentBatch && changes.results.length === 0) {\n        writingCheckpoint = true;\n        checkpointer.writeCheckpoint(changes.last_seq,\n            session).then(function () {\n          writingCheckpoint = false;\n          result.last_seq = last_seq = changes.last_seq;\n          complete();\n        })\n        .catch(onCheckpointError);\n      } else {\n        complete();\n      }\n    }\n  }\n\n\n  function onChangesError(err) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    abortReplication('changes rejected', err);\n  }\n\n\n  function getChanges() {\n    if (!(\n      !changesPending &&\n      !changesCompleted &&\n      batches.length < batches_limit\n      )) {\n      return;\n    }\n    changesPending = true;\n    function abortChanges() {\n      changes.cancel();\n    }\n    function removeListener() {\n      returnValue.removeListener('cancel', abortChanges);\n    }\n\n    if (returnValue._changes) { // remove old changes() and listeners\n      returnValue.removeListener('cancel', returnValue._abortChanges);\n      returnValue._changes.cancel();\n    }\n    returnValue.once('cancel', abortChanges);\n\n    var changes = src.changes(changesOpts)\n      .on('change', onChange);\n    changes.then(removeListener, removeListener);\n    changes.then(onChangesComplete)\n      .catch(onChangesError);\n\n    if (opts.retry) {\n      // save for later so we can cancel if necessary\n      returnValue._changes = changes;\n      returnValue._abortChanges = abortChanges;\n    }\n  }\n\n\n  function startChanges() {\n    initCheckpointer().then(function () {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      return checkpointer.getCheckpoint().then(function (checkpoint) {\n        last_seq = checkpoint;\n        changesOpts = {\n          since: last_seq,\n          limit: batch_size,\n          batch_size: batch_size,\n          style: 'all_docs',\n          doc_ids: doc_ids,\n          selector: selector,\n          return_docs: true // required so we know when we're done\n        };\n        if (opts.filter) {\n          if (typeof opts.filter !== 'string') {\n            // required for the client-side filter in onChange\n            changesOpts.include_docs = true;\n          } else { // ddoc filter\n            changesOpts.filter = opts.filter;\n          }\n        }\n        if ('heartbeat' in opts) {\n          changesOpts.heartbeat = opts.heartbeat;\n        }\n        if ('timeout' in opts) {\n          changesOpts.timeout = opts.timeout;\n        }\n        if (opts.query_params) {\n          changesOpts.query_params = opts.query_params;\n        }\n        if (opts.view) {\n          changesOpts.view = opts.view;\n        }\n        getChanges();\n      });\n    }).catch(function (err) {\n      abortReplication('getCheckpoint rejected with ', err);\n    });\n  }\n\n  /* istanbul ignore next */\n  function onCheckpointError(err) {\n    writingCheckpoint = false;\n    abortReplication('writeCheckpoint completed with error', err);\n  }\n\n  /* istanbul ignore if */\n  if (returnValue.cancelled) { // cancelled immediately\n    completeReplication();\n    return;\n  }\n\n  if (!returnValue._addedListeners) {\n    returnValue.once('cancel', completeReplication);\n\n    if (typeof opts.complete === 'function') {\n      returnValue.once('error', opts.complete);\n      returnValue.once('complete', function (result) {\n        opts.complete(null, result);\n      });\n    }\n    returnValue._addedListeners = true;\n  }\n\n  if (typeof opts.since === 'undefined') {\n    startChanges();\n  } else {\n    initCheckpointer().then(function () {\n      writingCheckpoint = true;\n      return checkpointer.writeCheckpoint(opts.since, session);\n    }).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      last_seq = opts.since;\n      startChanges();\n    }).catch(onCheckpointError);\n  }\n}\n\n// We create a basic promise so the caller can cancel the replication possibly\n// before we have actually started listening to changes etc\ninherits(Replication, EE);\nfunction Replication() {\n  EE.call(this);\n  this.cancelled = false;\n  this.state = 'pending';\n  var self = this;\n  var promise = new Promise(function (fulfill, reject) {\n    self.once('complete', fulfill);\n    self.once('error', reject);\n  });\n  self.then = function (resolve, reject) {\n    return promise.then(resolve, reject);\n  };\n  self.catch = function (reject) {\n    return promise.catch(reject);\n  };\n  // As we allow error handling via \"error\" event as well,\n  // put a stub in here so that rejecting never throws UnhandledError.\n  self.catch(function () {});\n}\n\nReplication.prototype.cancel = function () {\n  this.cancelled = true;\n  this.state = 'cancelled';\n  this.emit('cancel');\n};\n\nReplication.prototype.ready = function (src, target) {\n  var self = this;\n  if (self._readyCalled) {\n    return;\n  }\n  self._readyCalled = true;\n\n  function onDestroy() {\n    self.cancel();\n  }\n  src.once('destroyed', onDestroy);\n  target.once('destroyed', onDestroy);\n  function cleanup() {\n    src.removeListener('destroyed', onDestroy);\n    target.removeListener('destroyed', onDestroy);\n  }\n  self.once('complete', cleanup);\n};\n\nfunction toPouch(db, opts) {\n  var PouchConstructor = opts.PouchConstructor;\n  if (typeof db === 'string') {\n    return new PouchConstructor(db, opts);\n  } else {\n    return db;\n  }\n}\n\nfunction replicateWrapper(src, target, opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n\n  if (opts.doc_ids && !Array.isArray(opts.doc_ids)) {\n    throw createError(BAD_REQUEST,\n                       \"`doc_ids` filter parameter is not a list.\");\n  }\n\n  opts.complete = callback;\n  opts = clone(opts);\n  opts.continuous = opts.continuous || opts.live;\n  opts.retry = ('retry' in opts) ? opts.retry : false;\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  var replicateRet = new Replication(opts);\n  var srcPouch = toPouch(src, opts);\n  var targetPouch = toPouch(target, opts);\n  replicate(srcPouch, targetPouch, opts, replicateRet);\n  return replicateRet;\n}\n\ninherits(Sync, EE);\nfunction sync(src, target, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n  opts = clone(opts);\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  src = toPouch(src, opts);\n  target = toPouch(target, opts);\n  return new Sync(src, target, opts, callback);\n}\n\nfunction Sync(src, target, opts, callback) {\n  var self = this;\n  this.canceled = false;\n\n  var optsPush = opts.push ? $inject_Object_assign({}, opts, opts.push) : opts;\n  var optsPull = opts.pull ? $inject_Object_assign({}, opts, opts.pull) : opts;\n\n  this.push = replicateWrapper(src, target, optsPush);\n  this.pull = replicateWrapper(target, src, optsPull);\n\n  this.pushPaused = true;\n  this.pullPaused = true;\n\n  function pullChange(change) {\n    self.emit('change', {\n      direction: 'pull',\n      change: change\n    });\n  }\n  function pushChange(change) {\n    self.emit('change', {\n      direction: 'push',\n      change: change\n    });\n  }\n  function pushDenied(doc) {\n    self.emit('denied', {\n      direction: 'push',\n      doc: doc\n    });\n  }\n  function pullDenied(doc) {\n    self.emit('denied', {\n      direction: 'pull',\n      doc: doc\n    });\n  }\n  function pushPaused() {\n    self.pushPaused = true;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('paused');\n    }\n  }\n  function pullPaused() {\n    self.pullPaused = true;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('paused');\n    }\n  }\n  function pushActive() {\n    self.pushPaused = false;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('active', {\n        direction: 'push'\n      });\n    }\n  }\n  function pullActive() {\n    self.pullPaused = false;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('active', {\n        direction: 'pull'\n      });\n    }\n  }\n\n  var removed = {};\n\n  function removeAll(type) { // type is 'push' or 'pull'\n    return function (event, func) {\n      var isChange = event === 'change' &&\n        (func === pullChange || func === pushChange);\n      var isDenied = event === 'denied' &&\n        (func === pullDenied || func === pushDenied);\n      var isPaused = event === 'paused' &&\n        (func === pullPaused || func === pushPaused);\n      var isActive = event === 'active' &&\n        (func === pullActive || func === pushActive);\n\n      if (isChange || isDenied || isPaused || isActive) {\n        if (!(event in removed)) {\n          removed[event] = {};\n        }\n        removed[event][type] = true;\n        if (Object.keys(removed[event]).length === 2) {\n          // both push and pull have asked to be removed\n          self.removeAllListeners(event);\n        }\n      }\n    };\n  }\n\n  if (opts.live) {\n    this.push.on('complete', self.pull.cancel.bind(self.pull));\n    this.pull.on('complete', self.push.cancel.bind(self.push));\n  }\n\n  function addOneListener(ee, event, listener) {\n    if (ee.listeners(event).indexOf(listener) == -1) {\n      ee.on(event, listener);\n    }\n  }\n\n  this.on('newListener', function (event) {\n    if (event === 'change') {\n      addOneListener(self.pull, 'change', pullChange);\n      addOneListener(self.push, 'change', pushChange);\n    } else if (event === 'denied') {\n      addOneListener(self.pull, 'denied', pullDenied);\n      addOneListener(self.push, 'denied', pushDenied);\n    } else if (event === 'active') {\n      addOneListener(self.pull, 'active', pullActive);\n      addOneListener(self.push, 'active', pushActive);\n    } else if (event === 'paused') {\n      addOneListener(self.pull, 'paused', pullPaused);\n      addOneListener(self.push, 'paused', pushPaused);\n    }\n  });\n\n  this.on('removeListener', function (event) {\n    if (event === 'change') {\n      self.pull.removeListener('change', pullChange);\n      self.push.removeListener('change', pushChange);\n    } else if (event === 'denied') {\n      self.pull.removeListener('denied', pullDenied);\n      self.push.removeListener('denied', pushDenied);\n    } else if (event === 'active') {\n      self.pull.removeListener('active', pullActive);\n      self.push.removeListener('active', pushActive);\n    } else if (event === 'paused') {\n      self.pull.removeListener('paused', pullPaused);\n      self.push.removeListener('paused', pushPaused);\n    }\n  });\n\n  this.pull.on('removeListener', removeAll('pull'));\n  this.push.on('removeListener', removeAll('push'));\n\n  var promise = Promise.all([\n    this.push,\n    this.pull\n  ]).then(function (resp) {\n    var out = {\n      push: resp[0],\n      pull: resp[1]\n    };\n    self.emit('complete', out);\n    if (callback) {\n      callback(null, out);\n    }\n    self.removeAllListeners();\n    return out;\n  }, function (err) {\n    self.cancel();\n    if (callback) {\n      // if there's a callback, then the callback can receive\n      // the error event\n      callback(err);\n    } else {\n      // if there's no callback, then we're safe to emit an error\n      // event, which would otherwise throw an unhandled error\n      // due to 'error' being a special event in EventEmitters\n      self.emit('error', err);\n    }\n    self.removeAllListeners();\n    if (callback) {\n      // no sense throwing if we're already emitting an 'error' event\n      throw err;\n    }\n  });\n\n  this.then = function (success, err) {\n    return promise.then(success, err);\n  };\n\n  this.catch = function (err) {\n    return promise.catch(err);\n  };\n}\n\nSync.prototype.cancel = function () {\n  if (!this.canceled) {\n    this.canceled = true;\n    this.push.cancel();\n    this.pull.cancel();\n  }\n};\n\nfunction replication(PouchDB) {\n  PouchDB.replicate = replicateWrapper;\n  PouchDB.sync = sync;\n\n  Object.defineProperty(PouchDB.prototype, 'replicate', {\n    get: function () {\n      var self = this;\n      if (typeof this.replicateMethods === 'undefined') {\n        this.replicateMethods = {\n          from: function (other, opts, callback) {\n            return self.constructor.replicate(other, self, opts, callback);\n          },\n          to: function (other, opts, callback) {\n            return self.constructor.replicate(self, other, opts, callback);\n          }\n        };\n      }\n      return this.replicateMethods;\n    }\n  });\n\n  PouchDB.prototype.sync = function (dbName, opts, callback) {\n    return this.constructor.sync(this, dbName, opts, callback);\n  };\n}\n\nPouchDB.plugin(IDBPouch)\n  .plugin(HttpPouch$1)\n  .plugin(mapreduce)\n  .plugin(replication);\n\n// Pull from src because pouchdb-node/pouchdb-browser themselves\n\nexport default PouchDB;\n","'use strict';\nvar types = [\n  require('./nextTick'),\n  require('./queueMicrotask'),\n  require('./mutation.js'),\n  require('./messageChannel'),\n  require('./stateChange'),\n  require('./timeout')\n];\nvar draining;\nvar currentQueue;\nvar queueIndex = -1;\nvar queue = [];\nvar scheduled = false;\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n  draining = false;\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n  if (queue.length) {\n    nextTick();\n  }\n}\n\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  if (draining) {\n    return;\n  }\n  scheduled = false;\n  draining = true;\n  var len = queue.length;\n  var timeout = setTimeout(cleanUpNextTick);\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n    while (currentQueue && ++queueIndex < len) {\n      currentQueue[queueIndex].run();\n    }\n    queueIndex = -1;\n    len = queue.length;\n  }\n  currentQueue = null;\n  queueIndex = -1;\n  draining = false;\n  clearTimeout(timeout);\n}\nvar scheduleDrain;\nvar i = -1;\nvar len = types.length;\nwhile (++i < len) {\n  if (types[i] && types[i].test && types[i].test()) {\n    scheduleDrain = types[i].install(nextTick);\n    break;\n  }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\nItem.prototype.run = function () {\n  var fun = this.fun;\n  var array = this.array;\n  switch (array.length) {\n  case 0:\n    return fun();\n  case 1:\n    return fun(array[0]);\n  case 2:\n    return fun(array[0], array[1]);\n  case 3:\n    return fun(array[0], array[1], array[2]);\n  default:\n    return fun.apply(null, array);\n  }\n\n};\nmodule.exports = immediate;\nfunction immediate(task) {\n  var args = new Array(arguments.length - 1);\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n  queue.push(new Item(task, args));\n  if (!scheduled && !draining) {\n    scheduled = true;\n    scheduleDrain();\n  }\n}\n","'use strict';\nexports.test = function () {\n  return typeof global.queueMicrotask === 'function';\n};\n\nexports.install = function (func) {\n  return function () {\n    global.queueMicrotask(func);\n  };\n};\n","'use strict';\n//based off rsvp https://github.com/tildeio/rsvp.js\n//license https://github.com/tildeio/rsvp.js/blob/master/LICENSE\n//https://github.com/tildeio/rsvp.js/blob/master/lib/rsvp/asap.js\n\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nexports.test = function () {\n  return Mutation;\n};\n\nexports.install = function (handle) {\n  var called = 0;\n  var observer = new Mutation(handle);\n  var element = global.document.createTextNode('');\n  observer.observe(element, {\n    characterData: true\n  });\n  return function () {\n    element.data = (called = ++called % 2);\n  };\n};","'use strict';\n\nexports.test = function () {\n  if (global.setImmediate) {\n    // we can only get here in IE10\n    // which doesn't handel postMessage well\n    return false;\n  }\n  return typeof global.MessageChannel !== 'undefined';\n};\n\nexports.install = function (func) {\n  var channel = new global.MessageChannel();\n  channel.port1.onmessage = func;\n  return function () {\n    channel.port2.postMessage(0);\n  };\n};","'use strict';\n\nexports.test = function () {\n  return 'document' in global && 'onreadystatechange' in global.document.createElement('script');\n};\n\nexports.install = function (handle) {\n  return function () {\n\n    // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n    // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n    var scriptEl = global.document.createElement('script');\n    scriptEl.onreadystatechange = function () {\n      handle();\n\n      scriptEl.onreadystatechange = null;\n      scriptEl.parentNode.removeChild(scriptEl);\n      scriptEl = null;\n    };\n    global.document.documentElement.appendChild(scriptEl);\n\n    return handle;\n  };\n};","'use strict';\nexports.test = function () {\n  return true;\n};\n\nexports.install = function (t) {\n  return function () {\n    setTimeout(t, 0);\n  };\n};","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","'use strict';\n\n/**\n * Stringify/parse functions that don't operate\n * recursively, so they avoid call stack exceeded\n * errors.\n */\nexports.stringify = function stringify(input) {\n  var queue = [];\n  queue.push({obj: input});\n\n  var res = '';\n  var next, obj, prefix, val, i, arrayPrefix, keys, k, key, value, objPrefix;\n  while ((next = queue.pop())) {\n    obj = next.obj;\n    prefix = next.prefix || '';\n    val = next.val || '';\n    res += prefix;\n    if (val) {\n      res += val;\n    } else if (typeof obj !== 'object') {\n      res += typeof obj === 'undefined' ? null : JSON.stringify(obj);\n    } else if (obj === null) {\n      res += 'null';\n    } else if (Array.isArray(obj)) {\n      queue.push({val: ']'});\n      for (i = obj.length - 1; i >= 0; i--) {\n        arrayPrefix = i === 0 ? '' : ',';\n        queue.push({obj: obj[i], prefix: arrayPrefix});\n      }\n      queue.push({val: '['});\n    } else { // object\n      keys = [];\n      for (k in obj) {\n        if (obj.hasOwnProperty(k)) {\n          keys.push(k);\n        }\n      }\n      queue.push({val: '}'});\n      for (i = keys.length - 1; i >= 0; i--) {\n        key = keys[i];\n        value = obj[key];\n        objPrefix = (i > 0 ? ',' : '');\n        objPrefix += JSON.stringify(key) + ':';\n        queue.push({obj: value, prefix: objPrefix});\n      }\n      queue.push({val: '{'});\n    }\n  }\n  return res;\n};\n\n// Convenience function for the parse function.\n// This pop function is basically copied from\n// pouchCollate.parseIndexableString\nfunction pop(obj, stack, metaStack) {\n  var lastMetaElement = metaStack[metaStack.length - 1];\n  if (obj === lastMetaElement.element) {\n    // popping a meta-element, e.g. an object whose value is another object\n    metaStack.pop();\n    lastMetaElement = metaStack[metaStack.length - 1];\n  }\n  var element = lastMetaElement.element;\n  var lastElementIndex = lastMetaElement.index;\n  if (Array.isArray(element)) {\n    element.push(obj);\n  } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n    var key = stack.pop();\n    element[key] = obj;\n  } else {\n    stack.push(obj); // obj with key only\n  }\n}\n\nexports.parse = function (str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n  var collationIndex,parsedNum,numChar;\n  var parsedString,lastCh,numConsecutiveSlashes,ch;\n  var arrayElement, objElement;\n  while (true) {\n    collationIndex = str[i++];\n    if (collationIndex === '}' ||\n        collationIndex === ']' ||\n        typeof collationIndex === 'undefined') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack.pop(), stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case ' ':\n      case '\\t':\n      case '\\n':\n      case ':':\n      case ',':\n        break;\n      case 'n':\n        i += 3; // 'ull'\n        pop(null, stack, metaStack);\n        break;\n      case 't':\n        i += 3; // 'rue'\n        pop(true, stack, metaStack);\n        break;\n      case 'f':\n        i += 4; // 'alse'\n        pop(false, stack, metaStack);\n        break;\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '-':\n        parsedNum = '';\n        i--;\n        while (true) {\n          numChar = str[i++];\n          if (/[\\d\\.\\-e\\+]/.test(numChar)) {\n            parsedNum += numChar;\n          } else {\n            i--;\n            break;\n          }\n        }\n        pop(parseFloat(parsedNum), stack, metaStack);\n        break;\n      case '\"':\n        parsedString = '';\n        lastCh = void 0;\n        numConsecutiveSlashes = 0;\n        while (true) {\n          ch = str[i++];\n          if (ch !== '\"' || (lastCh === '\\\\' &&\n              numConsecutiveSlashes % 2 === 1)) {\n            parsedString += ch;\n            lastCh = ch;\n            if (lastCh === '\\\\') {\n              numConsecutiveSlashes++;\n            } else {\n              numConsecutiveSlashes = 0;\n            }\n          } else {\n            break;\n          }\n        }\n        pop(JSON.parse('\"' + parsedString + '\"'), stack, metaStack);\n        break;\n      case '[':\n        arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '{':\n        objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      default:\n        throw new Error(\n          'unexpectedly reached end of input: ' + collationIndex);\n    }\n  }\n};\n","'use strict';\n\nmodule.exports = argsArray;\n\nfunction argsArray(fun) {\n  return function () {\n    var len = arguments.length;\n    if (len) {\n      var args = [];\n      var i = -1;\n      while (++i < len) {\n        args[i] = arguments[i];\n      }\n      return fun.call(this, args);\n    } else {\n      return fun.call(this, []);\n    }\n  };\n}","'use strict'\n\nvar MqttClient = require('../client')\nvar Store = require('../store')\nvar url = require('url')\nvar xtend = require('xtend')\nvar debug = require('debug')('mqttjs')\n\nvar protocols = {}\n\n// eslint-disable-next-line camelcase\nif ((typeof process !== 'undefined' && process.title !== 'browser') || typeof __webpack_require__ !== 'function') {\n  protocols.mqtt = require('./tcp')\n  protocols.tcp = require('./tcp')\n  protocols.ssl = require('./tls')\n  protocols.tls = require('./tls')\n  protocols.mqtts = require('./tls')\n} else {\n  protocols.wx = require('./wx')\n  protocols.wxs = require('./wx')\n\n  protocols.ali = require('./ali')\n  protocols.alis = require('./ali')\n}\n\nprotocols.ws = require('./ws')\nprotocols.wss = require('./ws')\n\n/**\n * Parse the auth attribute and merge username and password in the options object.\n *\n * @param {Object} [opts] option object\n */\nfunction parseAuthOptions (opts) {\n  var matches\n  if (opts.auth) {\n    matches = opts.auth.match(/^(.+):(.+)$/)\n    if (matches) {\n      opts.username = matches[1]\n      opts.password = matches[2]\n    } else {\n      opts.username = opts.auth\n    }\n  }\n}\n\n/**\n * connect - connect to an MQTT broker.\n *\n * @param {String} [brokerUrl] - url of the broker, optional\n * @param {Object} opts - see MqttClient#constructor\n */\nfunction connect (brokerUrl, opts) {\n  debug('connecting to an MQTT broker...')\n  if ((typeof brokerUrl === 'object') && !opts) {\n    opts = brokerUrl\n    brokerUrl = null\n  }\n\n  opts = opts || {}\n\n  if (brokerUrl) {\n    var parsed = url.parse(brokerUrl, true)\n    if (parsed.port != null) {\n      parsed.port = Number(parsed.port)\n    }\n\n    opts = xtend(parsed, opts)\n\n    if (opts.protocol === null) {\n      throw new Error('Missing protocol')\n    }\n\n    opts.protocol = opts.protocol.replace(/:$/, '')\n  }\n\n  // merge in the auth options if supplied\n  parseAuthOptions(opts)\n\n  // support clientId passed in the query string of the url\n  if (opts.query && typeof opts.query.clientId === 'string') {\n    opts.clientId = opts.query.clientId\n  }\n\n  if (opts.cert && opts.key) {\n    if (opts.protocol) {\n      if (['mqtts', 'wss', 'wxs', 'alis'].indexOf(opts.protocol) === -1) {\n        switch (opts.protocol) {\n          case 'mqtt':\n            opts.protocol = 'mqtts'\n            break\n          case 'ws':\n            opts.protocol = 'wss'\n            break\n          case 'wx':\n            opts.protocol = 'wxs'\n            break\n          case 'ali':\n            opts.protocol = 'alis'\n            break\n          default:\n            throw new Error('Unknown protocol for secure connection: \"' + opts.protocol + '\"!')\n        }\n      }\n    } else {\n      // A cert and key was provided, however no protocol was specified, so we will throw an error.\n      throw new Error('Missing secure protocol key')\n    }\n  }\n\n  if (!protocols[opts.protocol]) {\n    var isSecure = ['mqtts', 'wss'].indexOf(opts.protocol) !== -1\n    opts.protocol = [\n      'mqtt',\n      'mqtts',\n      'ws',\n      'wss',\n      'wx',\n      'wxs',\n      'ali',\n      'alis'\n    ].filter(function (key, index) {\n      if (isSecure && index % 2 === 0) {\n        // Skip insecure protocols when requesting a secure one.\n        return false\n      }\n      return (typeof protocols[key] === 'function')\n    })[0]\n  }\n\n  if (opts.clean === false && !opts.clientId) {\n    throw new Error('Missing clientId for unclean clients')\n  }\n\n  if (opts.protocol) {\n    opts.defaultProtocol = opts.protocol\n  }\n\n  function wrapper (client) {\n    if (opts.servers) {\n      if (!client._reconnectCount || client._reconnectCount === opts.servers.length) {\n        client._reconnectCount = 0\n      }\n\n      opts.host = opts.servers[client._reconnectCount].host\n      opts.port = opts.servers[client._reconnectCount].port\n      opts.protocol = (!opts.servers[client._reconnectCount].protocol ? opts.defaultProtocol : opts.servers[client._reconnectCount].protocol)\n      opts.hostname = opts.host\n\n      client._reconnectCount++\n    }\n\n    debug('calling streambuilder for', opts.protocol)\n    return protocols[opts.protocol](client, opts)\n  }\n  var client = new MqttClient(wrapper, opts)\n  client.on('error', function () { /* Automatically set up client error handling */ })\n  return client\n}\n\nmodule.exports = connect\nmodule.exports.connect = connect\nmodule.exports.MqttClient = MqttClient\nmodule.exports.Store = Store\n","'use strict'\n\n/**\n * Module dependencies\n */\nvar EventEmitter = require('events').EventEmitter\nvar Store = require('./store')\nvar mqttPacket = require('mqtt-packet')\nvar Writable = require('readable-stream').Writable\nvar inherits = require('inherits')\nvar reInterval = require('reinterval')\nvar validations = require('./validations')\nvar xtend = require('xtend')\nvar debug = require('debug')('mqttjs:client')\nvar nextTick = process ? process.nextTick : function (callback) { setTimeout(callback, 0) }\nvar setImmediate = global.setImmediate || function (callback) {\n  // works in node v0.8\n  nextTick(callback)\n}\nvar defaultConnectOptions = {\n  keepalive: 60,\n  reschedulePings: true,\n  protocolId: 'MQTT',\n  protocolVersion: 4,\n  reconnectPeriod: 1000,\n  connectTimeout: 30 * 1000,\n  clean: true,\n  resubscribe: true\n}\n\nvar socketErrors = [\n  'ECONNREFUSED',\n  'EADDRINUSE',\n  'ECONNRESET',\n  'ENOTFOUND'\n]\n\n// Other Socket Errors: EADDRINUSE, ECONNRESET, ENOTFOUND.\n\nvar errors = {\n  0: '',\n  1: 'Unacceptable protocol version',\n  2: 'Identifier rejected',\n  3: 'Server unavailable',\n  4: 'Bad username or password',\n  5: 'Not authorized',\n  16: 'No matching subscribers',\n  17: 'No subscription existed',\n  128: 'Unspecified error',\n  129: 'Malformed Packet',\n  130: 'Protocol Error',\n  131: 'Implementation specific error',\n  132: 'Unsupported Protocol Version',\n  133: 'Client Identifier not valid',\n  134: 'Bad User Name or Password',\n  135: 'Not authorized',\n  136: 'Server unavailable',\n  137: 'Server busy',\n  138: 'Banned',\n  139: 'Server shutting down',\n  140: 'Bad authentication method',\n  141: 'Keep Alive timeout',\n  142: 'Session taken over',\n  143: 'Topic Filter invalid',\n  144: 'Topic Name invalid',\n  145: 'Packet identifier in use',\n  146: 'Packet Identifier not found',\n  147: 'Receive Maximum exceeded',\n  148: 'Topic Alias invalid',\n  149: 'Packet too large',\n  150: 'Message rate too high',\n  151: 'Quota exceeded',\n  152: 'Administrative action',\n  153: 'Payload format invalid',\n  154: 'Retain not supported',\n  155: 'QoS not supported',\n  156: 'Use another server',\n  157: 'Server moved',\n  158: 'Shared Subscriptions not supported',\n  159: 'Connection rate exceeded',\n  160: 'Maximum connect time',\n  161: 'Subscription Identifiers not supported',\n  162: 'Wildcard Subscriptions not supported'\n}\n\nfunction defaultId () {\n  return 'mqttjs_' + Math.random().toString(16).substr(2, 8)\n}\n\nfunction sendPacket (client, packet, cb) {\n  debug('sendPacket :: packet: %O', packet)\n  debug('sendPacket :: emitting `packetsend`')\n  client.emit('packetsend', packet)\n\n  debug('sendPacket :: writing to stream')\n  var result = mqttPacket.writeToStream(packet, client.stream, client.options)\n  debug('sendPacket :: writeToStream result %s', result)\n  if (!result && cb) {\n    debug('sendPacket :: handle events on `drain` once through callback.')\n    client.stream.once('drain', cb)\n  } else if (cb) {\n    debug('sendPacket :: invoking cb')\n    cb()\n  }\n}\n\nfunction flush (queue) {\n  if (queue) {\n    debug('flush: queue exists? %b', !!(queue))\n    Object.keys(queue).forEach(function (messageId) {\n      if (typeof queue[messageId].cb === 'function') {\n        queue[messageId].cb(new Error('Connection closed'))\n        delete queue[messageId]\n      }\n    })\n  }\n}\n\nfunction flushVolatile (queue) {\n  if (queue) {\n    debug('flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function')\n    Object.keys(queue).forEach(function (messageId) {\n      if (queue[messageId].volatile && typeof queue[messageId].cb === 'function') {\n        queue[messageId].cb(new Error('Connection closed'))\n        delete queue[messageId]\n      }\n    })\n  }\n}\n\nfunction storeAndSend (client, packet, cb, cbStorePut) {\n  debug('storeAndSend :: store packet with cmd %s to outgoingStore', packet.cmd)\n  client.outgoingStore.put(packet, function storedPacket (err) {\n    if (err) {\n      return cb && cb(err)\n    }\n    cbStorePut()\n    sendPacket(client, packet, cb)\n  })\n}\n\nfunction nop (error) {\n  debug('nop ::', error)\n}\n\n/**\n * MqttClient constructor\n *\n * @param {Stream} stream - stream\n * @param {Object} [options] - connection options\n * (see Connection#connect)\n */\nfunction MqttClient (streamBuilder, options) {\n  var k\n  var that = this\n\n  if (!(this instanceof MqttClient)) {\n    return new MqttClient(streamBuilder, options)\n  }\n\n  this.options = options || {}\n\n  // Defaults\n  for (k in defaultConnectOptions) {\n    if (typeof this.options[k] === 'undefined') {\n      this.options[k] = defaultConnectOptions[k]\n    } else {\n      this.options[k] = options[k]\n    }\n  }\n\n  debug('MqttClient :: options.protocol', options.protocol)\n  debug('MqttClient :: options.protocolVersion', options.protocolVersion)\n  debug('MqttClient :: options.username', options.username)\n  debug('MqttClient :: options.keepalive', options.keepalive)\n  debug('MqttClient :: options.reconnectPeriod', options.reconnectPeriod)\n  debug('MqttClient :: options.rejectUnauthorized', options.rejectUnauthorized)\n\n  this.options.clientId = (typeof options.clientId === 'string') ? options.clientId : defaultId()\n\n  debug('MqttClient :: clientId', this.options.clientId)\n\n  this.options.customHandleAcks = (options.protocolVersion === 5 && options.customHandleAcks) ? options.customHandleAcks : function () { arguments[3](0) }\n\n  this.streamBuilder = streamBuilder\n\n  // Inflight message storages\n  this.outgoingStore = options.outgoingStore || new Store()\n  this.incomingStore = options.incomingStore || new Store()\n\n  // Should QoS zero messages be queued when the connection is broken?\n  this.queueQoSZero = options.queueQoSZero === undefined ? true : options.queueQoSZero\n\n  // map of subscribed topics to support reconnection\n  this._resubscribeTopics = {}\n\n  // map of a subscribe messageId and a topic\n  this.messageIdToTopic = {}\n\n  // Ping timer, setup in _setupPingTimer\n  this.pingTimer = null\n  // Is the client connected?\n  this.connected = false\n  // Are we disconnecting?\n  this.disconnecting = false\n  // Packet queue\n  this.queue = []\n  // connack timer\n  this.connackTimer = null\n  // Reconnect timer\n  this.reconnectTimer = null\n  // Is processing store?\n  this._storeProcessing = false\n  // Packet Ids are put into the store during store processing\n  this._packetIdsDuringStoreProcessing = {}\n  /**\n   * MessageIDs starting with 1\n   * ensure that nextId is min. 1, see https://github.com/mqttjs/MQTT.js/issues/810\n   */\n  this.nextId = Math.max(1, Math.floor(Math.random() * 65535))\n\n  // Inflight callbacks\n  this.outgoing = {}\n\n  // True if connection is first time.\n  this._firstConnection = true\n\n  // Send queued packets\n  this.on('connect', function () {\n    var queue = this.queue\n\n    function deliver () {\n      var entry = queue.shift()\n      debug('deliver :: entry %o', entry)\n      var packet = null\n\n      if (!entry) {\n        return\n      }\n\n      packet = entry.packet\n      debug('deliver :: call _sendPacket for %o', packet)\n      that._sendPacket(\n        packet,\n        function (err) {\n          if (entry.cb) {\n            entry.cb(err)\n          }\n          deliver()\n        }\n      )\n    }\n\n    debug('connect :: sending queued packets')\n    deliver()\n  })\n\n  this.on('close', function () {\n    debug('close :: connected set to `false`')\n    this.connected = false\n\n    debug('close :: clearing connackTimer')\n    clearTimeout(this.connackTimer)\n\n    debug('close :: clearing ping timer')\n    if (that.pingTimer !== null) {\n      that.pingTimer.clear()\n      that.pingTimer = null\n    }\n\n    debug('close :: calling _setupReconnect')\n    this._setupReconnect()\n  })\n  EventEmitter.call(this)\n\n  debug('MqttClient :: setting up stream')\n  this._setupStream()\n}\ninherits(MqttClient, EventEmitter)\n\n/**\n * setup the event handlers in the inner stream.\n *\n * @api private\n */\nMqttClient.prototype._setupStream = function () {\n  var connectPacket\n  var that = this\n  var writable = new Writable()\n  var parser = mqttPacket.parser(this.options)\n  var completeParse = null\n  var packets = []\n\n  debug('_setupStream :: calling method to clear reconnect')\n  this._clearReconnect()\n\n  debug('_setupStream :: using streamBuilder provided to client to create stream')\n  this.stream = this.streamBuilder(this)\n\n  parser.on('packet', function (packet) {\n    debug('parser :: on packet push to packets array.')\n    packets.push(packet)\n  })\n\n  function nextTickWork () {\n    if (packets.length) {\n      nextTick(work)\n    } else {\n      var done = completeParse\n      completeParse = null\n      done()\n    }\n  }\n\n  function work () {\n    debug('work :: getting next packet in queue')\n    var packet = packets.shift()\n\n    if (packet) {\n      debug('work :: packet pulled from queue')\n      that._handlePacket(packet, nextTickWork)\n    } else {\n      debug('work :: no packets in queue')\n      var done = completeParse\n      completeParse = null\n      debug('work :: done flag is %s', !!(done))\n      if (done) done()\n    }\n  }\n\n  writable._write = function (buf, enc, done) {\n    completeParse = done\n    debug('writable stream :: parsing buffer')\n    parser.parse(buf)\n    work()\n  }\n\n  function streamErrorHandler (error) {\n    debug('streamErrorHandler :: error', error.message)\n    if (socketErrors.includes(error.code)) {\n      // handle error\n      debug('streamErrorHandler :: emitting error')\n      that.emit('error', error)\n    } else {\n      nop(error)\n    }\n  }\n\n  debug('_setupStream :: pipe stream to writable stream')\n  this.stream.pipe(writable)\n\n  // Suppress connection errors\n  this.stream.on('error', streamErrorHandler)\n\n  // Echo stream close\n  this.stream.on('close', function () {\n    debug('(%s)stream :: on close', that.options.clientId)\n    flushVolatile(that.outgoing)\n    debug('stream: emit close to MqttClient')\n    that.emit('close')\n  })\n\n  // Send a connect packet\n  debug('_setupStream: sending packet `connect`')\n  connectPacket = Object.create(this.options)\n  connectPacket.cmd = 'connect'\n  // avoid message queue\n  sendPacket(this, connectPacket)\n\n  // Echo connection errors\n  parser.on('error', this.emit.bind(this, 'error'))\n\n  // auth\n  if (this.options.properties) {\n    if (!this.options.properties.authenticationMethod && this.options.properties.authenticationData) {\n      that.end(() =>\n        this.emit('error', new Error('Packet has no Authentication Method')\n        ))\n      return this\n    }\n    if (this.options.properties.authenticationMethod && this.options.authPacket && typeof this.options.authPacket === 'object') {\n      var authPacket = xtend({cmd: 'auth', reasonCode: 0}, this.options.authPacket)\n      sendPacket(this, authPacket)\n    }\n  }\n\n  // many drain listeners are needed for qos 1 callbacks if the connection is intermittent\n  this.stream.setMaxListeners(1000)\n\n  clearTimeout(this.connackTimer)\n  this.connackTimer = setTimeout(function () {\n    debug('!!connectTimeout hit!! Calling _cleanUp with force `true`')\n    that._cleanUp(true)\n  }, this.options.connectTimeout)\n}\n\nMqttClient.prototype._handlePacket = function (packet, done) {\n  var options = this.options\n\n  if (options.protocolVersion === 5 && options.properties && options.properties.maximumPacketSize && options.properties.maximumPacketSize < packet.length) {\n    this.emit('error', new Error('exceeding packets size ' + packet.cmd))\n    this.end({reasonCode: 149, properties: { reasonString: 'Maximum packet size was exceeded' }})\n    return this\n  }\n  debug('_handlePacket :: emitting packetreceive')\n  this.emit('packetreceive', packet)\n\n  switch (packet.cmd) {\n    case 'publish':\n      this._handlePublish(packet, done)\n      break\n    case 'puback':\n    case 'pubrec':\n    case 'pubcomp':\n    case 'suback':\n    case 'unsuback':\n      this._handleAck(packet)\n      done()\n      break\n    case 'pubrel':\n      this._handlePubrel(packet, done)\n      break\n    case 'connack':\n      this._handleConnack(packet)\n      done()\n      break\n    case 'pingresp':\n      this._handlePingresp(packet)\n      done()\n      break\n    case 'disconnect':\n      this._handleDisconnect(packet)\n      done()\n      break\n    default:\n      // do nothing\n      // maybe we should do an error handling\n      // or just log it\n      break\n  }\n}\n\nMqttClient.prototype._checkDisconnecting = function (callback) {\n  if (this.disconnecting) {\n    if (callback) {\n      callback(new Error('client disconnecting'))\n    } else {\n      this.emit('error', new Error('client disconnecting'))\n    }\n  }\n  return this.disconnecting\n}\n\n/**\n * publish - publish <message> to <topic>\n *\n * @param {String} topic - topic to publish to\n * @param {String, Buffer} message - message to publish\n * @param {Object} [opts] - publish options, includes:\n *    {Number} qos - qos level to publish on\n *    {Boolean} retain - whether or not to retain the message\n *    {Boolean} dup - whether or not mark a message as duplicate\n *    {Function} cbStorePut - function(){} called when message is put into `outgoingStore`\n * @param {Function} [callback] - function(err){}\n *    called when publish succeeds or fails\n * @returns {MqttClient} this - for chaining\n * @api public\n *\n * @example client.publish('topic', 'message');\n * @example\n *     client.publish('topic', 'message', {qos: 1, retain: true, dup: true});\n * @example client.publish('topic', 'message', console.log);\n */\nMqttClient.prototype.publish = function (topic, message, opts, callback) {\n  debug('publish :: message `%s` to topic `%s`', message, topic)\n  var packet\n  var options = this.options\n\n  // .publish(topic, payload, cb);\n  if (typeof opts === 'function') {\n    callback = opts\n    opts = null\n  }\n\n  // default opts\n  var defaultOpts = {qos: 0, retain: false, dup: false}\n  opts = xtend(defaultOpts, opts)\n\n  if (this._checkDisconnecting(callback)) {\n    return this\n  }\n\n  packet = {\n    cmd: 'publish',\n    topic: topic,\n    payload: message,\n    qos: opts.qos,\n    retain: opts.retain,\n    messageId: this._nextId(),\n    dup: opts.dup\n  }\n\n  if (options.protocolVersion === 5) {\n    packet.properties = opts.properties\n    if ((!options.properties && packet.properties && packet.properties.topicAlias) || ((opts.properties && options.properties) &&\n      ((opts.properties.topicAlias && options.properties.topicAliasMaximum && opts.properties.topicAlias > options.properties.topicAliasMaximum) ||\n        (!options.properties.topicAliasMaximum && opts.properties.topicAlias)))) {\n      /*\n      if we are don`t setup topic alias or\n      topic alias maximum less than topic alias or\n      server don`t give topic alias maximum,\n      we are removing topic alias from packet\n      */\n      delete packet.properties.topicAlias\n    }\n  }\n\n  debug('publish :: qos', opts.qos)\n  switch (opts.qos) {\n    case 1:\n    case 2:\n      // Add to callbacks\n      this.outgoing[packet.messageId] = {\n        volatile: false,\n        cb: callback || nop\n      }\n      if (this._storeProcessing) {\n        debug('_storeProcessing enabled')\n        this._packetIdsDuringStoreProcessing[packet.messageId] = false\n        this._storePacket(packet, undefined, opts.cbStorePut)\n      } else {\n        debug('MqttClient:publish: packet cmd: %s', packet.cmd)\n        this._sendPacket(packet, undefined, opts.cbStorePut)\n      }\n      break\n    default:\n      if (this._storeProcessing) {\n        debug('_storeProcessing enabled')\n        this._storePacket(packet, callback, opts.cbStorePut)\n      } else {\n        debug('MqttClient:publish: packet cmd: %s', packet.cmd)\n        this._sendPacket(packet, callback, opts.cbStorePut)\n      }\n      break\n  }\n\n  return this\n}\n\n/**\n * subscribe - subscribe to <topic>\n *\n * @param {String, Array, Object} topic - topic(s) to subscribe to, supports objects in the form {'topic': qos}\n * @param {Object} [opts] - optional subscription options, includes:\n *    {Number} qos - subscribe qos level\n * @param {Function} [callback] - function(err, granted){} where:\n *    {Error} err - subscription error (none at the moment!)\n *    {Array} granted - array of {topic: 't', qos: 0}\n * @returns {MqttClient} this - for chaining\n * @api public\n * @example client.subscribe('topic');\n * @example client.subscribe('topic', {qos: 1});\n * @example client.subscribe({'topic': {qos: 0}, 'topic2': {qos: 1}}, console.log);\n * @example client.subscribe('topic', console.log);\n */\nMqttClient.prototype.subscribe = function () {\n  var packet\n  var args = new Array(arguments.length)\n  for (var i = 0; i < arguments.length; i++) {\n    args[i] = arguments[i]\n  }\n  var subs = []\n  var obj = args.shift()\n  var resubscribe = obj.resubscribe\n  var callback = args.pop() || nop\n  var opts = args.pop()\n  var invalidTopic\n  var that = this\n  var version = this.options.protocolVersion\n\n  delete obj.resubscribe\n\n  if (typeof obj === 'string') {\n    obj = [obj]\n  }\n\n  if (typeof callback !== 'function') {\n    opts = callback\n    callback = nop\n  }\n\n  invalidTopic = validations.validateTopics(obj)\n  if (invalidTopic !== null) {\n    setImmediate(callback, new Error('Invalid topic ' + invalidTopic))\n    return this\n  }\n\n  if (this._checkDisconnecting(callback)) {\n    debug('subscribe: discconecting true')\n    return this\n  }\n\n  var defaultOpts = {\n    qos: 0\n  }\n  if (version === 5) {\n    defaultOpts.nl = false\n    defaultOpts.rap = false\n    defaultOpts.rh = 0\n  }\n  opts = xtend(defaultOpts, opts)\n\n  if (Array.isArray(obj)) {\n    obj.forEach(function (topic) {\n      debug('subscribe: array topic %s', topic)\n      if (!that._resubscribeTopics.hasOwnProperty(topic) ||\n        that._resubscribeTopics[topic].qos < opts.qos ||\n          resubscribe) {\n        var currentOpts = {\n          topic: topic,\n          qos: opts.qos\n        }\n        if (version === 5) {\n          currentOpts.nl = opts.nl\n          currentOpts.rap = opts.rap\n          currentOpts.rh = opts.rh\n          currentOpts.properties = opts.properties\n        }\n        debug('subscribe: pushing topic `%s` and qos `%s` to subs list', currentOpts.topic, currentOpts.qos)\n        subs.push(currentOpts)\n      }\n    })\n  } else {\n    Object\n      .keys(obj)\n      .forEach(function (k) {\n        debug('subscribe: object topic %s', k)\n        if (!that._resubscribeTopics.hasOwnProperty(k) ||\n          that._resubscribeTopics[k].qos < obj[k].qos ||\n            resubscribe) {\n          var currentOpts = {\n            topic: k,\n            qos: obj[k].qos\n          }\n          if (version === 5) {\n            currentOpts.nl = obj[k].nl\n            currentOpts.rap = obj[k].rap\n            currentOpts.rh = obj[k].rh\n            currentOpts.properties = opts.properties\n          }\n          debug('subscribe: pushing `%s` to subs list', currentOpts)\n          subs.push(currentOpts)\n        }\n      })\n  }\n\n  packet = {\n    cmd: 'subscribe',\n    subscriptions: subs,\n    qos: 1,\n    retain: false,\n    dup: false,\n    messageId: this._nextId()\n  }\n\n  if (opts.properties) {\n    packet.properties = opts.properties\n  }\n\n  if (!subs.length) {\n    callback(null, [])\n    return\n  }\n\n  // subscriptions to resubscribe to in case of disconnect\n  if (this.options.resubscribe) {\n    debug('subscribe :: resubscribe true')\n    var topics = []\n    subs.forEach(function (sub) {\n      if (that.options.reconnectPeriod > 0) {\n        var topic = { qos: sub.qos }\n        if (version === 5) {\n          topic.nl = sub.nl || false\n          topic.rap = sub.rap || false\n          topic.rh = sub.rh || 0\n          topic.properties = sub.properties\n        }\n        that._resubscribeTopics[sub.topic] = topic\n        topics.push(sub.topic)\n      }\n    })\n    that.messageIdToTopic[packet.messageId] = topics\n  }\n\n  this.outgoing[packet.messageId] = {\n    volatile: true,\n    cb: function (err, packet) {\n      if (!err) {\n        var granted = packet.granted\n        for (var i = 0; i < granted.length; i += 1) {\n          subs[i].qos = granted[i]\n        }\n      }\n\n      callback(err, subs)\n    }\n  }\n  debug('subscribe :: call _sendPacket')\n  this._sendPacket(packet)\n\n  return this\n}\n\n/**\n * unsubscribe - unsubscribe from topic(s)\n *\n * @param {String, Array} topic - topics to unsubscribe from\n * @param {Object} [opts] - optional subscription options, includes:\n *    {Object} properties - properties of unsubscribe packet\n * @param {Function} [callback] - callback fired on unsuback\n * @returns {MqttClient} this - for chaining\n * @api public\n * @example client.unsubscribe('topic');\n * @example client.unsubscribe('topic', console.log);\n */\nMqttClient.prototype.unsubscribe = function () {\n  var packet = {\n    cmd: 'unsubscribe',\n    qos: 1,\n    messageId: this._nextId()\n  }\n  var that = this\n  var args = new Array(arguments.length)\n  for (var i = 0; i < arguments.length; i++) {\n    args[i] = arguments[i]\n  }\n  var topic = args.shift()\n  var callback = args.pop() || nop\n  var opts = args.pop()\n\n  if (typeof topic === 'string') {\n    topic = [topic]\n  }\n\n  if (typeof callback !== 'function') {\n    opts = callback\n    callback = nop\n  }\n\n  if (this._checkDisconnecting(callback)) {\n    return this\n  }\n\n  if (typeof topic === 'string') {\n    packet.unsubscriptions = [topic]\n  } else if (Array.isArray(topic)) {\n    packet.unsubscriptions = topic\n  }\n\n  if (this.options.resubscribe) {\n    packet.unsubscriptions.forEach(function (topic) {\n      delete that._resubscribeTopics[topic]\n    })\n  }\n\n  if (typeof opts === 'object' && opts.properties) {\n    packet.properties = opts.properties\n  }\n\n  this.outgoing[packet.messageId] = {\n    volatile: true,\n    cb: callback\n  }\n\n  debug('unsubscribe: call _sendPacket')\n  this._sendPacket(packet)\n\n  return this\n}\n\n/**\n * end - close connection\n *\n * @returns {MqttClient} this - for chaining\n * @param {Boolean} force - do not wait for all in-flight messages to be acked\n * @param {Object} opts - added to the disconnect packet\n * @param {Function} cb - called when the client has been closed\n *\n * @api public\n */\nMqttClient.prototype.end = function (force, opts, cb) {\n  var that = this\n\n  debug('end :: (%s)', this.options.clientId)\n\n  if (force == null || typeof force !== 'boolean') {\n    cb = opts || nop\n    opts = force\n    force = false\n    if (typeof opts !== 'object') {\n      cb = opts\n      opts = null\n      if (typeof cb !== 'function') {\n        cb = nop\n      }\n    }\n  }\n\n  if (typeof opts !== 'object') {\n    cb = opts\n    opts = null\n  }\n\n  debug('end :: cb? %s', !!cb)\n  cb = cb || nop\n\n  function closeStores () {\n    debug('end :: closeStores: closing incoming and outgoing stores')\n    that.disconnected = true\n    that.incomingStore.close(function (e1) {\n      that.outgoingStore.close(function (e2) {\n        debug('end :: closeStores: emitting end')\n        that.emit('end')\n        if (cb) {\n          let err = e1 || e2\n          debug('end :: closeStores: invoking callback with args')\n          cb(err)\n        }\n      })\n    })\n    if (that._deferredReconnect) {\n      that._deferredReconnect()\n    }\n  }\n\n  function finish () {\n    // defer closesStores of an I/O cycle,\n    // just to make sure things are\n    // ok for websockets\n    debug('end :: (%s) :: finish :: calling _cleanUp with force %s', that.options.clientId, force)\n    that._cleanUp(force, () => {\n      debug('end :: finish :: calling process.nextTick on closeStores')\n      // var boundProcess = nextTick.bind(null, closeStores)\n      nextTick(closeStores.bind(that))\n    }, opts)\n  }\n\n  if (this.disconnecting) {\n    cb()\n    return this\n  }\n\n  this._clearReconnect()\n\n  this.disconnecting = true\n\n  if (!force && Object.keys(this.outgoing).length > 0) {\n    // wait 10ms, just to be sure we received all of it\n    debug('end :: (%s) :: calling finish in 10ms once outgoing is empty', that.options.clientId)\n    this.once('outgoingEmpty', setTimeout.bind(null, finish, 10))\n  } else {\n    debug('end :: (%s) :: immediately calling finish', that.options.clientId)\n    finish()\n  }\n\n  return this\n}\n\n/**\n * removeOutgoingMessage - remove a message in outgoing store\n * the outgoing callback will be called withe Error('Message removed') if the message is removed\n *\n * @param {Number} messageId - messageId to remove message\n * @returns {MqttClient} this - for chaining\n * @api public\n *\n * @example client.removeOutgoingMessage(client.getLastMessageId());\n */\nMqttClient.prototype.removeOutgoingMessage = function (messageId) {\n  var cb = this.outgoing[messageId] ? this.outgoing[messageId].cb : null\n  delete this.outgoing[messageId]\n  this.outgoingStore.del({messageId: messageId}, function () {\n    cb(new Error('Message removed'))\n  })\n  return this\n}\n\n/**\n * reconnect - connect again using the same options as connect()\n *\n * @param {Object} [opts] - optional reconnect options, includes:\n *    {Store} incomingStore - a store for the incoming packets\n *    {Store} outgoingStore - a store for the outgoing packets\n *    if opts is not given, current stores are used\n * @returns {MqttClient} this - for chaining\n *\n * @api public\n */\nMqttClient.prototype.reconnect = function (opts) {\n  debug('client reconnect')\n  var that = this\n  var f = function () {\n    if (opts) {\n      that.options.incomingStore = opts.incomingStore\n      that.options.outgoingStore = opts.outgoingStore\n    } else {\n      that.options.incomingStore = null\n      that.options.outgoingStore = null\n    }\n    that.incomingStore = that.options.incomingStore || new Store()\n    that.outgoingStore = that.options.outgoingStore || new Store()\n    that.disconnecting = false\n    that.disconnected = false\n    that._deferredReconnect = null\n    that._reconnect()\n  }\n\n  if (this.disconnecting && !this.disconnected) {\n    this._deferredReconnect = f\n  } else {\n    f()\n  }\n  return this\n}\n\n/**\n * _reconnect - implement reconnection\n * @api privateish\n */\nMqttClient.prototype._reconnect = function () {\n  debug('_reconnect: emitting reconnect to client')\n  this.emit('reconnect')\n  if (this.connected) {\n    this.end(() => { this._setupStream() })\n    debug('client already connected. disconnecting first.')\n  } else {\n    debug('_reconnect: calling _setupStream')\n    this._setupStream()\n  }\n}\n\n/**\n * _setupReconnect - setup reconnect timer\n */\nMqttClient.prototype._setupReconnect = function () {\n  var that = this\n\n  if (!that.disconnecting && !that.reconnectTimer && (that.options.reconnectPeriod > 0)) {\n    if (!this.reconnecting) {\n      debug('_setupReconnect :: emit `offline` state')\n      this.emit('offline')\n      debug('_setupReconnect :: set `reconnecting` to `true`')\n      this.reconnecting = true\n    }\n    debug('_setupReconnect :: setting reconnectTimer for %d ms', that.options.reconnectPeriod)\n    that.reconnectTimer = setInterval(function () {\n      debug('reconnectTimer :: reconnect triggered!')\n      that._reconnect()\n    }, that.options.reconnectPeriod)\n  } else {\n    debug('_setupReconnect :: doing nothing...')\n  }\n}\n\n/**\n * _clearReconnect - clear the reconnect timer\n */\nMqttClient.prototype._clearReconnect = function () {\n  debug('_clearReconnect : clearing reconnect timer')\n  if (this.reconnectTimer) {\n    clearInterval(this.reconnectTimer)\n    this.reconnectTimer = null\n  }\n}\n\n/**\n * _cleanUp - clean up on connection end\n * @api private\n */\nMqttClient.prototype._cleanUp = function (forced, done) {\n  var opts = arguments[2]\n  if (done) {\n    debug('_cleanUp :: done callback provided for on stream close')\n    this.stream.on('close', done)\n  }\n\n  debug('_cleanUp :: forced? %s', forced)\n  if (forced) {\n    if ((this.options.reconnectPeriod === 0) && this.options.clean) {\n      flush(this.outgoing)\n    }\n    debug('_cleanUp :: (%s) :: destroying stream', this.options.clientId)\n    this.stream.destroy()\n  } else {\n    var packet = xtend({ cmd: 'disconnect' }, opts)\n    debug('_cleanUp :: (%s) :: call _sendPacket with disconnect packet', this.options.clientId)\n    this._sendPacket(\n      packet,\n      setImmediate.bind(\n        null,\n        this.stream.end.bind(this.stream)\n      )\n    )\n  }\n\n  if (!this.disconnecting) {\n    debug('_cleanUp :: client not disconnecting. Clearing and resetting reconnect.')\n    this._clearReconnect()\n    this._setupReconnect()\n  }\n\n  if (this.pingTimer !== null) {\n    debug('_cleanUp :: clearing pingTimer')\n    this.pingTimer.clear()\n    this.pingTimer = null\n  }\n\n  if (done && !this.connected) {\n    debug('_cleanUp :: (%s) :: removing stream `done` callback `close` listener', this.options.clientId)\n    this.stream.removeListener('close', done)\n    done()\n  }\n}\n\n/**\n * _sendPacket - send or queue a packet\n * @param {Object} packet - packet options\n * @param {Function} cb - callback when the packet is sent\n * @param {Function} cbStorePut - called when message is put into outgoingStore\n * @api private\n */\nMqttClient.prototype._sendPacket = function (packet, cb, cbStorePut) {\n  debug('_sendPacket :: (%s) ::  start', this.options.clientId)\n  cbStorePut = cbStorePut || nop\n\n  if (!this.connected) {\n    debug('_sendPacket :: client not connected. Storing packet offline.')\n    this._storePacket(packet, cb, cbStorePut)\n    return\n  }\n\n  // When sending a packet, reschedule the ping timer\n  this._shiftPingInterval()\n\n  switch (packet.cmd) {\n    case 'publish':\n      break\n    case 'pubrel':\n      storeAndSend(this, packet, cb, cbStorePut)\n      return\n    default:\n      sendPacket(this, packet, cb)\n      return\n  }\n\n  switch (packet.qos) {\n    case 2:\n    case 1:\n      storeAndSend(this, packet, cb, cbStorePut)\n      break\n    /**\n     * no need of case here since it will be caught by default\n     * and jshint comply that before default it must be a break\n     * anyway it will result in -1 evaluation\n     */\n    case 0:\n      /* falls through */\n    default:\n      sendPacket(this, packet, cb)\n      break\n  }\n  debug('_sendPacket :: (%s) ::  end', this.options.clientId)\n}\n\n/**\n * _storePacket - queue a packet\n * @param {Object} packet - packet options\n * @param {Function} cb - callback when the packet is sent\n * @param {Function} cbStorePut - called when message is put into outgoingStore\n * @api private\n */\nMqttClient.prototype._storePacket = function (packet, cb, cbStorePut) {\n  debug('_storePacket :: packet: %o', packet)\n  debug('_storePacket :: cb? %s', !!cb)\n  cbStorePut = cbStorePut || nop\n\n  // check that the packet is not a qos of 0, or that the command is not a publish\n  if (((packet.qos || 0) === 0 && this.queueQoSZero) || packet.cmd !== 'publish') {\n    this.queue.push({ packet: packet, cb: cb })\n  } else if (packet.qos > 0) {\n    cb = this.outgoing[packet.messageId] ? this.outgoing[packet.messageId].cb : null\n    this.outgoingStore.put(packet, function (err) {\n      if (err) {\n        return cb && cb(err)\n      }\n      cbStorePut()\n    })\n  } else if (cb) {\n    cb(new Error('No connection to broker'))\n  }\n}\n\n/**\n * _setupPingTimer - setup the ping timer\n *\n * @api private\n */\nMqttClient.prototype._setupPingTimer = function () {\n  debug('_setupPingTimer :: keepalive %d (seconds)', this.options.keepalive)\n  var that = this\n\n  if (!this.pingTimer && this.options.keepalive) {\n    this.pingResp = true\n    this.pingTimer = reInterval(function () {\n      that._checkPing()\n    }, this.options.keepalive * 1000)\n  }\n}\n\n/**\n * _shiftPingInterval - reschedule the ping interval\n *\n * @api private\n */\nMqttClient.prototype._shiftPingInterval = function () {\n  if (this.pingTimer && this.options.keepalive && this.options.reschedulePings) {\n    this.pingTimer.reschedule(this.options.keepalive * 1000)\n  }\n}\n/**\n * _checkPing - check if a pingresp has come back, and ping the server again\n *\n * @api private\n */\nMqttClient.prototype._checkPing = function () {\n  debug('_checkPing :: checking ping...')\n  if (this.pingResp) {\n    debug('_checkPing :: ping response received. Clearing flag and sending `pingreq`')\n    this.pingResp = false\n    this._sendPacket({ cmd: 'pingreq' })\n  } else {\n    // do a forced cleanup since socket will be in bad shape\n    debug('_checkPing :: calling _cleanUp with force true')\n    this._cleanUp(true)\n  }\n}\n\n/**\n * _handlePingresp - handle a pingresp\n *\n * @api private\n */\nMqttClient.prototype._handlePingresp = function () {\n  this.pingResp = true\n}\n\n/**\n * _handleConnack\n *\n * @param {Object} packet\n * @api private\n */\nMqttClient.prototype._handleConnack = function (packet) {\n  debug('_handleConnack')\n  var options = this.options\n  var version = options.protocolVersion\n  var rc = version === 5 ? packet.reasonCode : packet.returnCode\n\n  clearTimeout(this.connackTimer)\n\n  if (packet.properties) {\n    if (packet.properties.topicAliasMaximum) {\n      if (!options.properties) { options.properties = {} }\n      options.properties.topicAliasMaximum = packet.properties.topicAliasMaximum\n    }\n    if (packet.properties.serverKeepAlive && options.keepalive) {\n      options.keepalive = packet.properties.serverKeepAlive\n      this._shiftPingInterval()\n    }\n    if (packet.properties.maximumPacketSize) {\n      if (!options.properties) { options.properties = {} }\n      options.properties.maximumPacketSize = packet.properties.maximumPacketSize\n    }\n  }\n\n  if (rc === 0) {\n    this.reconnecting = false\n    this._onConnect(packet)\n  } else if (rc > 0) {\n    var err = new Error('Connection refused: ' + errors[rc])\n    err.code = rc\n    this.emit('error', err)\n  }\n}\n\n/**\n * _handlePublish\n *\n * @param {Object} packet\n * @api private\n */\n/*\nthose late 2 case should be rewrite to comply with coding style:\n\ncase 1:\ncase 0:\n  // do not wait sending a puback\n  // no callback passed\n  if (1 === qos) {\n    this._sendPacket({\n      cmd: 'puback',\n      messageId: messageId\n    });\n  }\n  // emit the message event for both qos 1 and 0\n  this.emit('message', topic, message, packet);\n  this.handleMessage(packet, done);\n  break;\ndefault:\n  // do nothing but every switch mus have a default\n  // log or throw an error about unknown qos\n  break;\n\nfor now i just suppressed the warnings\n*/\nMqttClient.prototype._handlePublish = function (packet, done) {\n  debug('_handlePublish: packet %o', packet)\n  done = typeof done !== 'undefined' ? done : nop\n  var topic = packet.topic.toString()\n  var message = packet.payload\n  var qos = packet.qos\n  var messageId = packet.messageId\n  var that = this\n  var options = this.options\n  var validReasonCodes = [0, 16, 128, 131, 135, 144, 145, 151, 153]\n  debug('_handlePublish: qos %d', qos)\n  switch (qos) {\n    case 2: {\n      options.customHandleAcks(topic, message, packet, function (error, code) {\n        if (!(error instanceof Error)) {\n          code = error\n          error = null\n        }\n        if (error) { return that.emit('error', error) }\n        if (validReasonCodes.indexOf(code) === -1) { return that.emit('error', new Error('Wrong reason code for pubrec')) }\n        if (code) {\n          that._sendPacket({cmd: 'pubrec', messageId: messageId, reasonCode: code}, done)\n        } else {\n          that.incomingStore.put(packet, function () {\n            that._sendPacket({cmd: 'pubrec', messageId: messageId}, done)\n          })\n        }\n      })\n      break\n    }\n    case 1: {\n      // emit the message event\n      options.customHandleAcks(topic, message, packet, function (error, code) {\n        if (!(error instanceof Error)) {\n          code = error\n          error = null\n        }\n        if (error) { return that.emit('error', error) }\n        if (validReasonCodes.indexOf(code) === -1) { return that.emit('error', new Error('Wrong reason code for puback')) }\n        if (!code) { that.emit('message', topic, message, packet) }\n        that.handleMessage(packet, function (err) {\n          if (err) {\n            return done && done(err)\n          }\n          that._sendPacket({cmd: 'puback', messageId: messageId, reasonCode: code}, done)\n        })\n      })\n      break\n    }\n    case 0:\n      // emit the message event\n      this.emit('message', topic, message, packet)\n      this.handleMessage(packet, done)\n      break\n    default:\n      // do nothing\n      debug('_handlePublish: unknown QoS. Doing nothing.')\n      // log or throw an error about unknown qos\n      break\n  }\n}\n\n/**\n * Handle messages with backpressure support, one at a time.\n * Override at will.\n *\n * @param Packet packet the packet\n * @param Function callback call when finished\n * @api public\n */\nMqttClient.prototype.handleMessage = function (packet, callback) {\n  callback()\n}\n\n/**\n * _handleAck\n *\n * @param {Object} packet\n * @api private\n */\n\nMqttClient.prototype._handleAck = function (packet) {\n  /* eslint no-fallthrough: \"off\" */\n  var messageId = packet.messageId\n  var type = packet.cmd\n  var response = null\n  var cb = this.outgoing[messageId] ? this.outgoing[messageId].cb : null\n  var that = this\n  var err\n\n  if (!cb) {\n    debug('_handleAck :: Server sent an ack in error. Ignoring.')\n    // Server sent an ack in error, ignore it.\n    return\n  }\n\n  // Process\n  debug('_handleAck :: packet type', type)\n  switch (type) {\n    case 'pubcomp':\n      // same thing as puback for QoS 2\n    case 'puback':\n      var pubackRC = packet.reasonCode\n      // Callback - we're done\n      if (pubackRC && pubackRC > 0 && pubackRC !== 16) {\n        err = new Error('Publish error: ' + errors[pubackRC])\n        err.code = pubackRC\n        cb(err, packet)\n      }\n      delete this.outgoing[messageId]\n      this.outgoingStore.del(packet, cb)\n      break\n    case 'pubrec':\n      response = {\n        cmd: 'pubrel',\n        qos: 2,\n        messageId: messageId\n      }\n      var pubrecRC = packet.reasonCode\n\n      if (pubrecRC && pubrecRC > 0 && pubrecRC !== 16) {\n        err = new Error('Publish error: ' + errors[pubrecRC])\n        err.code = pubrecRC\n        cb(err, packet)\n      } else {\n        this._sendPacket(response)\n      }\n      break\n    case 'suback':\n      delete this.outgoing[messageId]\n      for (var grantedI = 0; grantedI < packet.granted.length; grantedI++) {\n        if ((packet.granted[grantedI] & 0x80) !== 0) {\n          // suback with Failure status\n          var topics = this.messageIdToTopic[messageId]\n          if (topics) {\n            topics.forEach(function (topic) {\n              delete that._resubscribeTopics[topic]\n            })\n          }\n        }\n      }\n      cb(null, packet)\n      break\n    case 'unsuback':\n      delete this.outgoing[messageId]\n      cb(null)\n      break\n    default:\n      that.emit('error', new Error('unrecognized packet type'))\n  }\n\n  if (this.disconnecting &&\n      Object.keys(this.outgoing).length === 0) {\n    this.emit('outgoingEmpty')\n  }\n}\n\n/**\n * _handlePubrel\n *\n * @param {Object} packet\n * @api private\n */\nMqttClient.prototype._handlePubrel = function (packet, callback) {\n  debug('handling pubrel packet')\n  callback = typeof callback !== 'undefined' ? callback : nop\n  var messageId = packet.messageId\n  var that = this\n\n  var comp = {cmd: 'pubcomp', messageId: messageId}\n\n  that.incomingStore.get(packet, function (err, pub) {\n    if (!err) {\n      that.emit('message', pub.topic, pub.payload, pub)\n      that.handleMessage(pub, function (err) {\n        if (err) {\n          return callback(err)\n        }\n        that.incomingStore.del(pub, nop)\n        that._sendPacket(comp, callback)\n      })\n    } else {\n      that._sendPacket(comp, callback)\n    }\n  })\n}\n\n/**\n * _handleDisconnect\n *\n * @param {Object} packet\n * @api private\n */\nMqttClient.prototype._handleDisconnect = function (packet) {\n  this.emit('disconnect', packet)\n}\n\n/**\n * _nextId\n * @return unsigned int\n */\nMqttClient.prototype._nextId = function () {\n  // id becomes current state of this.nextId and increments afterwards\n  var id = this.nextId++\n  // Ensure 16 bit unsigned int (max 65535, nextId got one higher)\n  if (this.nextId === 65536) {\n    this.nextId = 1\n  }\n  return id\n}\n\n/**\n * getLastMessageId\n * @return unsigned int\n */\nMqttClient.prototype.getLastMessageId = function () {\n  return (this.nextId === 1) ? 65535 : (this.nextId - 1)\n}\n\n/**\n * _resubscribe\n * @api private\n */\nMqttClient.prototype._resubscribe = function (connack) {\n  debug('_resubscribe')\n  var _resubscribeTopicsKeys = Object.keys(this._resubscribeTopics)\n  if (!this._firstConnection &&\n      (this.options.clean || (this.options.protocolVersion === 5 && !connack.sessionPresent)) &&\n      _resubscribeTopicsKeys.length > 0) {\n    if (this.options.resubscribe) {\n      if (this.options.protocolVersion === 5) {\n        debug('_resubscribe: protocolVersion 5')\n        for (var topicI = 0; topicI < _resubscribeTopicsKeys.length; topicI++) {\n          var resubscribeTopic = {}\n          resubscribeTopic[_resubscribeTopicsKeys[topicI]] = this._resubscribeTopics[_resubscribeTopicsKeys[topicI]]\n          resubscribeTopic.resubscribe = true\n          this.subscribe(resubscribeTopic, {properties: resubscribeTopic[_resubscribeTopicsKeys[topicI]].properties})\n        }\n      } else {\n        this._resubscribeTopics.resubscribe = true\n        this.subscribe(this._resubscribeTopics)\n      }\n    } else {\n      this._resubscribeTopics = {}\n    }\n  }\n\n  this._firstConnection = false\n}\n\n/**\n * _onConnect\n *\n * @api private\n */\nMqttClient.prototype._onConnect = function (packet) {\n  if (this.disconnected) {\n    this.emit('connect', packet)\n    return\n  }\n\n  var that = this\n\n  this._setupPingTimer()\n  this._resubscribe(packet)\n\n  this.connected = true\n\n  function startStreamProcess () {\n    var outStore = that.outgoingStore.createStream()\n\n    function clearStoreProcessing () {\n      that._storeProcessing = false\n      that._packetIdsDuringStoreProcessing = {}\n    }\n\n    that.once('close', remove)\n    outStore.on('error', function (err) {\n      clearStoreProcessing()\n      that.removeListener('close', remove)\n      that.emit('error', err)\n    })\n\n    function remove () {\n      outStore.destroy()\n      outStore = null\n      clearStoreProcessing()\n    }\n\n    function storeDeliver () {\n      // edge case, we wrapped this twice\n      if (!outStore) {\n        return\n      }\n      that._storeProcessing = true\n\n      var packet = outStore.read(1)\n\n      var cb\n\n      if (!packet) {\n        // read when data is available in the future\n        outStore.once('readable', storeDeliver)\n        return\n      }\n\n      // Skip already processed store packets\n      if (that._packetIdsDuringStoreProcessing[packet.messageId]) {\n        storeDeliver()\n        return\n      }\n\n      // Avoid unnecessary stream read operations when disconnected\n      if (!that.disconnecting && !that.reconnectTimer) {\n        cb = that.outgoing[packet.messageId] ? that.outgoing[packet.messageId].cb : null\n        that.outgoing[packet.messageId] = {\n          volatile: false,\n          cb: function (err, status) {\n            // Ensure that the original callback passed in to publish gets invoked\n            if (cb) {\n              cb(err, status)\n            }\n\n            storeDeliver()\n          }\n        }\n        that._packetIdsDuringStoreProcessing[packet.messageId] = true\n        that._sendPacket(packet)\n      } else if (outStore.destroy) {\n        outStore.destroy()\n      }\n    }\n\n    outStore.on('end', function () {\n      var allProcessed = true\n      for (var id in that._packetIdsDuringStoreProcessing) {\n        if (!that._packetIdsDuringStoreProcessing[id]) {\n          allProcessed = false\n          break\n        }\n      }\n      if (allProcessed) {\n        clearStoreProcessing()\n        that.removeListener('close', remove)\n        that.emit('connect', packet)\n      } else {\n        startStreamProcess()\n      }\n    })\n    storeDeliver()\n  }\n  // start flowing\n  startStreamProcess()\n}\n\nmodule.exports = MqttClient\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","exports.parser = require('./parser').parser\nexports.generate = require('./generate')\nexports.writeToStream = require('./writeToStream')\n","const bl = require('bl')\nconst EventEmitter = require('events')\nconst Packet = require('./packet')\nconst constants = require('./constants')\nconst debug = require('debug')('mqtt-packet:parser')\n\nclass Parser extends EventEmitter {\n  constructor () {\n    super()\n    this.parser = this.constructor.parser\n  }\n\n  static parser (opt) {\n    if (!(this instanceof Parser)) return (new Parser()).parser(opt)\n\n    this.settings = opt || {}\n\n    this._states = [\n      '_parseHeader',\n      '_parseLength',\n      '_parsePayload',\n      '_newPacket'\n    ]\n\n    this._resetState()\n    return this\n  }\n\n  _resetState () {\n    debug('_resetState: resetting packet, error, _list, and _stateCounter')\n    this.packet = new Packet()\n    this.error = null\n    this._list = bl()\n    this._stateCounter = 0\n  }\n\n  parse (buf) {\n    if (this.error) this._resetState()\n\n    this._list.append(buf)\n    debug('parse: current state: %s', this._states[this._stateCounter])\n    while ((this.packet.length !== -1 || this._list.length > 0) &&\n      this[this._states[this._stateCounter]]() &&\n      !this.error) {\n      this._stateCounter++\n      debug('parse: state complete. _stateCounter is now: %d', this._stateCounter)\n      debug('parse: packet.length: %d, buffer list length: %d', this.packet.length, this._list.length)\n      if (this._stateCounter >= this._states.length) this._stateCounter = 0\n    }\n    debug('parse: exited while loop. packet: %d, buffer list length: %d', this.packet.length, this._list.length)\n    return this._list.length\n  }\n\n  _parseHeader () {\n    // There is at least one byte in the buffer\n    const zero = this._list.readUInt8(0)\n    this.packet.cmd = constants.types[zero >> constants.CMD_SHIFT]\n    this.packet.retain = (zero & constants.RETAIN_MASK) !== 0\n    this.packet.qos = (zero >> constants.QOS_SHIFT) & constants.QOS_MASK\n    this.packet.dup = (zero & constants.DUP_MASK) !== 0\n    debug('_parseHeader: packet: %o', this.packet)\n\n    this._list.consume(1)\n\n    return true\n  }\n\n  _parseLength () {\n    // There is at least one byte in the list\n    const result = this._parseVarByteNum(true)\n\n    if (result) {\n      this.packet.length = result.value\n      this._list.consume(result.bytes)\n    }\n    debug('_parseLength %d', result.value)\n    return !!result\n  }\n\n  _parsePayload () {\n    debug('_parsePayload: payload %O', this._list)\n    let result = false\n\n    // Do we have a payload? Do we have enough data to complete the payload?\n    // PINGs have no payload\n    if (this.packet.length === 0 || this._list.length >= this.packet.length) {\n      this._pos = 0\n\n      switch (this.packet.cmd) {\n        case 'connect':\n          this._parseConnect()\n          break\n        case 'connack':\n          this._parseConnack()\n          break\n        case 'publish':\n          this._parsePublish()\n          break\n        case 'puback':\n        case 'pubrec':\n        case 'pubrel':\n        case 'pubcomp':\n          this._parseConfirmation()\n          break\n        case 'subscribe':\n          this._parseSubscribe()\n          break\n        case 'suback':\n          this._parseSuback()\n          break\n        case 'unsubscribe':\n          this._parseUnsubscribe()\n          break\n        case 'unsuback':\n          this._parseUnsuback()\n          break\n        case 'pingreq':\n        case 'pingresp':\n          // These are empty, nothing to do\n          break\n        case 'disconnect':\n          this._parseDisconnect()\n          break\n        case 'auth':\n          this._parseAuth()\n          break\n        default:\n          this._emitError(new Error('Not supported'))\n      }\n\n      result = true\n    }\n    debug('_parsePayload complete result: %s', result)\n    return result\n  }\n\n  _parseConnect () {\n    debug('_parseConnect')\n    let topic // Will topic\n    let payload // Will payload\n    let password // Password\n    let username // Username\n    const flags = {}\n    const packet = this.packet\n\n    // Parse protocolId\n    const protocolId = this._parseString()\n\n    if (protocolId === null) return this._emitError(new Error('Cannot parse protocolId'))\n    if (protocolId !== 'MQTT' && protocolId !== 'MQIsdp') {\n      return this._emitError(new Error('Invalid protocolId'))\n    }\n\n    packet.protocolId = protocolId\n\n    // Parse constants version number\n    if (this._pos >= this._list.length) return this._emitError(new Error('Packet too short'))\n\n    packet.protocolVersion = this._list.readUInt8(this._pos)\n\n    if (packet.protocolVersion >= 128) {\n      packet.bridgeMode = true\n      packet.protocolVersion = packet.protocolVersion - 128\n    }\n\n    if (packet.protocolVersion !== 3 && packet.protocolVersion !== 4 && packet.protocolVersion !== 5) {\n      return this._emitError(new Error('Invalid protocol version'))\n    }\n\n    this._pos++\n\n    if (this._pos >= this._list.length) {\n      return this._emitError(new Error('Packet too short'))\n    }\n\n    // Parse connect flags\n    flags.username = (this._list.readUInt8(this._pos) & constants.USERNAME_MASK)\n    flags.password = (this._list.readUInt8(this._pos) & constants.PASSWORD_MASK)\n    flags.will = (this._list.readUInt8(this._pos) & constants.WILL_FLAG_MASK)\n\n    if (flags.will) {\n      packet.will = {}\n      packet.will.retain = (this._list.readUInt8(this._pos) & constants.WILL_RETAIN_MASK) !== 0\n      packet.will.qos = (this._list.readUInt8(this._pos) &\n        constants.WILL_QOS_MASK) >> constants.WILL_QOS_SHIFT\n    }\n\n    packet.clean = (this._list.readUInt8(this._pos) & constants.CLEAN_SESSION_MASK) !== 0\n    this._pos++\n\n    // Parse keepalive\n    packet.keepalive = this._parseNum()\n    if (packet.keepalive === -1) return this._emitError(new Error('Packet too short'))\n\n    // parse properties\n    if (packet.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n    // Parse clientId\n    const clientId = this._parseString()\n    if (clientId === null) return this._emitError(new Error('Packet too short'))\n    packet.clientId = clientId\n    debug('_parseConnect: packet.clientId: %s', packet.clientId)\n\n    if (flags.will) {\n      if (packet.protocolVersion === 5) {\n        const willProperties = this._parseProperties()\n        if (Object.getOwnPropertyNames(willProperties).length) {\n          packet.will.properties = willProperties\n        }\n      }\n      // Parse will topic\n      topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse will topic'))\n      packet.will.topic = topic\n      debug('_parseConnect: packet.will.topic: %s', packet.will.topic)\n\n      // Parse will payload\n      payload = this._parseBuffer()\n      if (payload === null) return this._emitError(new Error('Cannot parse will payload'))\n      packet.will.payload = payload\n      debug('_parseConnect: packet.will.paylaod: %s', packet.will.payload)\n    }\n\n    // Parse username\n    if (flags.username) {\n      username = this._parseString()\n      if (username === null) return this._emitError(new Error('Cannot parse username'))\n      packet.username = username\n      debug('_parseConnect: packet.username: %s', packet.username)\n    }\n\n    // Parse password\n    if (flags.password) {\n      password = this._parseBuffer()\n      if (password === null) return this._emitError(new Error('Cannot parse password'))\n      packet.password = password\n    }\n    // need for right parse auth packet and self set up\n    this.settings = packet\n    debug('_parseConnect: complete')\n    return packet\n  }\n\n  _parseConnack () {\n    debug('_parseConnack')\n    const packet = this.packet\n\n    if (this._list.length < 1) return null\n    packet.sessionPresent = !!(this._list.readUInt8(this._pos++) & constants.SESSIONPRESENT_MASK)\n\n    if (this.settings.protocolVersion === 5) {\n      if (this._list.length >= 2) {\n        packet.reasonCode = this._list.readUInt8(this._pos++)\n      } else {\n        packet.reasonCode = 0\n      }\n    } else {\n      if (this._list.length < 2) return null\n      packet.returnCode = this._list.readUInt8(this._pos++)\n    }\n\n    if (packet.returnCode === -1 || packet.reasonCode === -1) return this._emitError(new Error('Cannot parse return code'))\n    // mqtt 5 properties\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n    debug('_parseConnack: complete')\n  }\n\n  _parsePublish () {\n    debug('_parsePublish')\n    const packet = this.packet\n    packet.topic = this._parseString()\n\n    if (packet.topic === null) return this._emitError(new Error('Cannot parse topic'))\n\n    // Parse messageId\n    if (packet.qos > 0) if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    packet.payload = this._list.slice(this._pos, packet.length)\n    debug('_parsePublish: payload from buffer list: %o', packet.payload)\n  }\n\n  _parseSubscribe () {\n    debug('_parseSubscribe')\n    const packet = this.packet\n    let topic\n    let options\n    let qos\n    let rh\n    let rap\n    let nl\n    let subscription\n\n    if (packet.qos !== 1) {\n      return this._emitError(new Error('Wrong subscribe header'))\n    }\n\n    packet.subscriptions = []\n\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    while (this._pos < packet.length) {\n      // Parse topic\n      topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse topic'))\n      if (this._pos >= packet.length) return this._emitError(new Error('Malformed Subscribe Payload'))\n\n      options = this._parseByte()\n      qos = options & constants.SUBSCRIBE_OPTIONS_QOS_MASK\n      nl = ((options >> constants.SUBSCRIBE_OPTIONS_NL_SHIFT) & constants.SUBSCRIBE_OPTIONS_NL_MASK) !== 0\n      rap = ((options >> constants.SUBSCRIBE_OPTIONS_RAP_SHIFT) & constants.SUBSCRIBE_OPTIONS_RAP_MASK) !== 0\n      rh = (options >> constants.SUBSCRIBE_OPTIONS_RH_SHIFT) & constants.SUBSCRIBE_OPTIONS_RH_MASK\n\n      subscription = { topic, qos }\n\n      // mqtt 5 options\n      if (this.settings.protocolVersion === 5) {\n        subscription.nl = nl\n        subscription.rap = rap\n        subscription.rh = rh\n      } else if (this.settings.bridgeMode) {\n        subscription.rh = 0\n        subscription.rap = true\n        subscription.nl = true\n      }\n\n      // Push pair to subscriptions\n      debug('_parseSubscribe: push subscription `%s` to subscription', subscription)\n      packet.subscriptions.push(subscription)\n    }\n  }\n\n  _parseSuback () {\n    debug('_parseSuback')\n    const packet = this.packet\n    this.packet.granted = []\n\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    // Parse granted QoSes\n    while (this._pos < this.packet.length) {\n      this.packet.granted.push(this._list.readUInt8(this._pos++))\n    }\n  }\n\n  _parseUnsubscribe () {\n    debug('_parseUnsubscribe')\n    const packet = this.packet\n\n    packet.unsubscriptions = []\n\n    // Parse messageId\n    if (!this._parseMessageId()) { return }\n\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    while (this._pos < packet.length) {\n      // Parse topic\n      const topic = this._parseString()\n      if (topic === null) return this._emitError(new Error('Cannot parse topic'))\n\n      // Push topic to unsubscriptions\n      debug('_parseUnsubscribe: push topic `%s` to unsubscriptions', topic)\n      packet.unsubscriptions.push(topic)\n    }\n  }\n\n  _parseUnsuback () {\n    debug('_parseUnsuback')\n    const packet = this.packet\n    if (!this._parseMessageId()) return this._emitError(new Error('Cannot parse messageId'))\n    // Properties mqtt 5\n    if (this.settings.protocolVersion === 5) {\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n      // Parse granted QoSes\n      packet.granted = []\n      while (this._pos < this.packet.length) {\n        this.packet.granted.push(this._list.readUInt8(this._pos++))\n      }\n    }\n  }\n\n  // parse packets like puback, pubrec, pubrel, pubcomp\n  _parseConfirmation () {\n    debug('_parseConfirmation: packet.cmd: `%s`', this.packet.cmd)\n    const packet = this.packet\n\n    this._parseMessageId()\n\n    if (this.settings.protocolVersion === 5) {\n      if (packet.length > 2) {\n        // response code\n        packet.reasonCode = this._parseByte()\n        debug('_parseConfirmation: packet.reasonCode `%d`', packet.reasonCode)\n      } else {\n        packet.reasonCode = 0\n      }\n\n      if (packet.length > 3) {\n        // properies mqtt 5\n        const properties = this._parseProperties()\n        if (Object.getOwnPropertyNames(properties).length) {\n          packet.properties = properties\n        }\n      }\n    }\n\n    return true\n  }\n\n  // parse disconnect packet\n  _parseDisconnect () {\n    const packet = this.packet\n    debug('_parseDisconnect')\n\n    if (this.settings.protocolVersion === 5) {\n      // response code\n      if (this._list.length > 0) {\n        packet.reasonCode = this._parseByte()\n      } else {\n        packet.reasonCode = 0\n      }\n      // properies mqtt 5\n      const properties = this._parseProperties()\n      if (Object.getOwnPropertyNames(properties).length) {\n        packet.properties = properties\n      }\n    }\n\n    debug('_parseDisconnect result: true')\n    return true\n  }\n\n  // parse auth packet\n  _parseAuth () {\n    debug('_parseAuth')\n    const packet = this.packet\n\n    if (this.settings.protocolVersion !== 5) {\n      return this._emitError(new Error('Not supported auth packet for this version MQTT'))\n    }\n\n    // response code\n    packet.reasonCode = this._parseByte()\n    // properies mqtt 5\n    const properties = this._parseProperties()\n    if (Object.getOwnPropertyNames(properties).length) {\n      packet.properties = properties\n    }\n\n    debug('_parseAuth: result: true')\n    return true\n  }\n\n  _parseMessageId () {\n    const packet = this.packet\n\n    packet.messageId = this._parseNum()\n\n    if (packet.messageId === null) {\n      this._emitError(new Error('Cannot parse messageId'))\n      return false\n    }\n\n    debug('_parseMessageId: packet.messageId %d', packet.messageId)\n    return true\n  }\n\n  _parseString (maybeBuffer) {\n    const length = this._parseNum()\n    const end = length + this._pos\n\n    if (length === -1 || end > this._list.length || end > this.packet.length) return null\n\n    const result = this._list.toString('utf8', this._pos, end)\n    this._pos += length\n    debug('_parseString: result: %s', result)\n    return result\n  }\n\n  _parseStringPair () {\n    debug('_parseStringPair')\n    return {\n      name: this._parseString(),\n      value: this._parseString()\n    }\n  }\n\n  _parseBuffer () {\n    const length = this._parseNum()\n    const end = length + this._pos\n\n    if (length === -1 || end > this._list.length || end > this.packet.length) return null\n\n    const result = this._list.slice(this._pos, end)\n\n    this._pos += length\n    debug('_parseBuffer: result: %o', result)\n    return result\n  }\n\n  _parseNum () {\n    if (this._list.length - this._pos < 2) return -1\n\n    const result = this._list.readUInt16BE(this._pos)\n    this._pos += 2\n    debug('_parseNum: result: %s', result)\n    return result\n  }\n\n  _parse4ByteNum () {\n    if (this._list.length - this._pos < 4) return -1\n\n    const result = this._list.readUInt32BE(this._pos)\n    this._pos += 4\n    debug('_parse4ByteNum: result: %s', result)\n    return result\n  }\n\n  _parseVarByteNum (fullInfoFlag) {\n    debug('_parseVarByteNum')\n    const maxBytes = 4\n    let bytes = 0\n    let mul = 1\n    let value = 0\n    let result = false\n    let current\n    const padding = this._pos ? this._pos : 0\n\n    while (bytes < maxBytes && (padding + bytes) < this._list.length) {\n      current = this._list.readUInt8(padding + bytes++)\n      value += mul * (current & constants.VARBYTEINT_MASK)\n      mul *= 0x80\n\n      if ((current & constants.VARBYTEINT_FIN_MASK) === 0) {\n        result = true\n        break\n      }\n      if (this._list.length <= bytes) {\n        break\n      }\n    }\n\n    if (!result && bytes === maxBytes && this._list.length >= bytes) {\n      this._emitError(new Error('Invalid variable byte integer'))\n    }\n\n    if (padding) {\n      this._pos += bytes\n    }\n\n    result = result\n      ? fullInfoFlag ? {\n        bytes,\n        value\n      } : value\n      : false\n\n    debug('_parseVarByteNum: result: %o', result)\n    return result\n  }\n\n  _parseByte () {\n    const result = this._list.readUInt8(this._pos)\n    this._pos++\n    debug('_parseByte: result: %o', result)\n    return result\n  }\n\n  _parseByType (type) {\n    debug('_parseByType: type: %s', type)\n    switch (type) {\n      case 'byte': {\n        return this._parseByte() !== 0\n      }\n      case 'int8': {\n        return this._parseByte()\n      }\n      case 'int16': {\n        return this._parseNum()\n      }\n      case 'int32': {\n        return this._parse4ByteNum()\n      }\n      case 'var': {\n        return this._parseVarByteNum()\n      }\n      case 'string': {\n        return this._parseString()\n      }\n      case 'pair': {\n        return this._parseStringPair()\n      }\n      case 'binary': {\n        return this._parseBuffer()\n      }\n    }\n  }\n\n  _parseProperties () {\n    debug('_parseProperties')\n    const length = this._parseVarByteNum()\n    const start = this._pos\n    const end = start + length\n    const result = {}\n    while (this._pos < end) {\n      const type = this._parseByte()\n      const name = constants.propertiesCodes[type]\n      if (!name) {\n        this._emitError(new Error('Unknown property'))\n        return false\n      }\n      // user properties process\n      if (name === 'userProperties') {\n        if (!result[name]) {\n          result[name] = Object.create(null)\n        }\n        const currentUserProperty = this._parseByType(constants.propertiesTypes[name])\n        if (result[name][currentUserProperty.name]) {\n          if (Array.isArray(result[name][currentUserProperty.name])) {\n            result[name][currentUserProperty.name].push(currentUserProperty.value)\n          } else {\n            const currentValue = result[name][currentUserProperty.name]\n            result[name][currentUserProperty.name] = [currentValue]\n            result[name][currentUserProperty.name].push(currentUserProperty.value)\n          }\n        } else {\n          result[name][currentUserProperty.name] = currentUserProperty.value\n        }\n        continue\n      }\n      if (result[name]) {\n        if (Array.isArray(result[name])) {\n          result[name].push(this._parseByType(constants.propertiesTypes[name]))\n        } else {\n          result[name] = [result[name]]\n          result[name].push(this._parseByType(constants.propertiesTypes[name]))\n        }\n      } else {\n        result[name] = this._parseByType(constants.propertiesTypes[name])\n      }\n    }\n    return result\n  }\n\n  _newPacket () {\n    debug('_newPacket')\n    if (this.packet) {\n      this._list.consume(this.packet.length)\n      debug('_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d', this.packet.cmd, this.packet.payload, this.packet.length)\n      this.emit('packet', this.packet)\n    }\n    debug('_newPacket: new packet')\n    this.packet = new Packet()\n\n    this._pos = 0\n\n    return true\n  }\n\n  _emitError (err) {\n    debug('_emitError')\n    this.error = err\n    this.emit('error', err)\n  }\n}\n\nmodule.exports = Parser\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","'use strict'\n\nconst DuplexStream = require('readable-stream').Duplex\nconst inherits = require('inherits')\nconst BufferList = require('./BufferList')\n\nfunction BufferListStream (callback) {\n  if (!(this instanceof BufferListStream)) {\n    return new BufferListStream(callback)\n  }\n\n  if (typeof callback === 'function') {\n    this._callback = callback\n\n    const piper = function piper (err) {\n      if (this._callback) {\n        this._callback(err)\n        this._callback = null\n      }\n    }.bind(this)\n\n    this.on('pipe', function onPipe (src) {\n      src.on('error', piper)\n    })\n    this.on('unpipe', function onUnpipe (src) {\n      src.removeListener('error', piper)\n    })\n\n    callback = null\n  }\n\n  BufferList._init.call(this, callback)\n  DuplexStream.call(this)\n}\n\ninherits(BufferListStream, DuplexStream)\nObject.assign(BufferListStream.prototype, BufferList.prototype)\n\nBufferListStream.prototype._new = function _new (callback) {\n  return new BufferListStream(callback)\n}\n\nBufferListStream.prototype._write = function _write (buf, encoding, callback) {\n  this._appendBuffer(buf)\n\n  if (typeof callback === 'function') {\n    callback()\n  }\n}\n\nBufferListStream.prototype._read = function _read (size) {\n  if (!this.length) {\n    return this.push(null)\n  }\n\n  size = Math.min(size, this.length)\n  this.push(this.slice(0, size))\n  this.consume(size)\n}\n\nBufferListStream.prototype.end = function end (chunk) {\n  DuplexStream.prototype.end.call(this, chunk)\n\n  if (this._callback) {\n    this._callback(null, this.slice())\n    this._callback = null\n  }\n}\n\nBufferListStream.prototype._destroy = function _destroy (err, cb) {\n  this._bufs.length = 0\n  this.length = 0\n  cb(err)\n}\n\nBufferListStream.prototype._isBufferList = function _isBufferList (b) {\n  return b instanceof BufferListStream || b instanceof BufferList || BufferListStream.isBufferList(b)\n}\n\nBufferListStream.isBufferList = BufferList.isBufferList\n\nmodule.exports = BufferListStream\nmodule.exports.BufferListStream = BufferListStream\nmodule.exports.BufferList = BufferList\n","'use strict'\n\nconst { Buffer } = require('buffer')\nconst symbol = Symbol.for('BufferList')\n\nfunction BufferList (buf) {\n  if (!(this instanceof BufferList)) {\n    return new BufferList(buf)\n  }\n\n  BufferList._init.call(this, buf)\n}\n\nBufferList._init = function _init (buf) {\n  Object.defineProperty(this, symbol, { value: true })\n\n  this._bufs = []\n  this.length = 0\n\n  if (buf) {\n    this.append(buf)\n  }\n}\n\nBufferList.prototype._new = function _new (buf) {\n  return new BufferList(buf)\n}\n\nBufferList.prototype._offset = function _offset (offset) {\n  if (offset === 0) {\n    return [0, 0]\n  }\n\n  let tot = 0\n\n  for (let i = 0; i < this._bufs.length; i++) {\n    const _t = tot + this._bufs[i].length\n    if (offset < _t || i === this._bufs.length - 1) {\n      return [i, offset - tot]\n    }\n    tot = _t\n  }\n}\n\nBufferList.prototype._reverseOffset = function (blOffset) {\n  const bufferId = blOffset[0]\n  let offset = blOffset[1]\n\n  for (let i = 0; i < bufferId; i++) {\n    offset += this._bufs[i].length\n  }\n\n  return offset\n}\n\nBufferList.prototype.get = function get (index) {\n  if (index > this.length || index < 0) {\n    return undefined\n  }\n\n  const offset = this._offset(index)\n\n  return this._bufs[offset[0]][offset[1]]\n}\n\nBufferList.prototype.slice = function slice (start, end) {\n  if (typeof start === 'number' && start < 0) {\n    start += this.length\n  }\n\n  if (typeof end === 'number' && end < 0) {\n    end += this.length\n  }\n\n  return this.copy(null, 0, start, end)\n}\n\nBufferList.prototype.copy = function copy (dst, dstStart, srcStart, srcEnd) {\n  if (typeof srcStart !== 'number' || srcStart < 0) {\n    srcStart = 0\n  }\n\n  if (typeof srcEnd !== 'number' || srcEnd > this.length) {\n    srcEnd = this.length\n  }\n\n  if (srcStart >= this.length) {\n    return dst || Buffer.alloc(0)\n  }\n\n  if (srcEnd <= 0) {\n    return dst || Buffer.alloc(0)\n  }\n\n  const copy = !!dst\n  const off = this._offset(srcStart)\n  const len = srcEnd - srcStart\n  let bytes = len\n  let bufoff = (copy && dstStart) || 0\n  let start = off[1]\n\n  // copy/slice everything\n  if (srcStart === 0 && srcEnd === this.length) {\n    if (!copy) {\n      // slice, but full concat if multiple buffers\n      return this._bufs.length === 1\n        ? this._bufs[0]\n        : Buffer.concat(this._bufs, this.length)\n    }\n\n    // copy, need to copy individual buffers\n    for (let i = 0; i < this._bufs.length; i++) {\n      this._bufs[i].copy(dst, bufoff)\n      bufoff += this._bufs[i].length\n    }\n\n    return dst\n  }\n\n  // easy, cheap case where it's a subset of one of the buffers\n  if (bytes <= this._bufs[off[0]].length - start) {\n    return copy\n      ? this._bufs[off[0]].copy(dst, dstStart, start, start + bytes)\n      : this._bufs[off[0]].slice(start, start + bytes)\n  }\n\n  if (!copy) {\n    // a slice, we need something to copy in to\n    dst = Buffer.allocUnsafe(len)\n  }\n\n  for (let i = off[0]; i < this._bufs.length; i++) {\n    const l = this._bufs[i].length - start\n\n    if (bytes > l) {\n      this._bufs[i].copy(dst, bufoff, start)\n      bufoff += l\n    } else {\n      this._bufs[i].copy(dst, bufoff, start, start + bytes)\n      bufoff += l\n      break\n    }\n\n    bytes -= l\n\n    if (start) {\n      start = 0\n    }\n  }\n\n  // safeguard so that we don't return uninitialized memory\n  if (dst.length > bufoff) return dst.slice(0, bufoff)\n\n  return dst\n}\n\nBufferList.prototype.shallowSlice = function shallowSlice (start, end) {\n  start = start || 0\n  end = typeof end !== 'number' ? this.length : end\n\n  if (start < 0) {\n    start += this.length\n  }\n\n  if (end < 0) {\n    end += this.length\n  }\n\n  if (start === end) {\n    return this._new()\n  }\n\n  const startOffset = this._offset(start)\n  const endOffset = this._offset(end)\n  const buffers = this._bufs.slice(startOffset[0], endOffset[0] + 1)\n\n  if (endOffset[1] === 0) {\n    buffers.pop()\n  } else {\n    buffers[buffers.length - 1] = buffers[buffers.length - 1].slice(0, endOffset[1])\n  }\n\n  if (startOffset[1] !== 0) {\n    buffers[0] = buffers[0].slice(startOffset[1])\n  }\n\n  return this._new(buffers)\n}\n\nBufferList.prototype.toString = function toString (encoding, start, end) {\n  return this.slice(start, end).toString(encoding)\n}\n\nBufferList.prototype.consume = function consume (bytes) {\n  // first, normalize the argument, in accordance with how Buffer does it\n  bytes = Math.trunc(bytes)\n  // do nothing if not a positive number\n  if (Number.isNaN(bytes) || bytes <= 0) return this\n\n  while (this._bufs.length) {\n    if (bytes >= this._bufs[0].length) {\n      bytes -= this._bufs[0].length\n      this.length -= this._bufs[0].length\n      this._bufs.shift()\n    } else {\n      this._bufs[0] = this._bufs[0].slice(bytes)\n      this.length -= bytes\n      break\n    }\n  }\n\n  return this\n}\n\nBufferList.prototype.duplicate = function duplicate () {\n  const copy = this._new()\n\n  for (let i = 0; i < this._bufs.length; i++) {\n    copy.append(this._bufs[i])\n  }\n\n  return copy\n}\n\nBufferList.prototype.append = function append (buf) {\n  if (buf == null) {\n    return this\n  }\n\n  if (buf.buffer) {\n    // append a view of the underlying ArrayBuffer\n    this._appendBuffer(Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength))\n  } else if (Array.isArray(buf)) {\n    for (let i = 0; i < buf.length; i++) {\n      this.append(buf[i])\n    }\n  } else if (this._isBufferList(buf)) {\n    // unwrap argument into individual BufferLists\n    for (let i = 0; i < buf._bufs.length; i++) {\n      this.append(buf._bufs[i])\n    }\n  } else {\n    // coerce number arguments to strings, since Buffer(number) does\n    // uninitialized memory allocation\n    if (typeof buf === 'number') {\n      buf = buf.toString()\n    }\n\n    this._appendBuffer(Buffer.from(buf))\n  }\n\n  return this\n}\n\nBufferList.prototype._appendBuffer = function appendBuffer (buf) {\n  this._bufs.push(buf)\n  this.length += buf.length\n}\n\nBufferList.prototype.indexOf = function (search, offset, encoding) {\n  if (encoding === undefined && typeof offset === 'string') {\n    encoding = offset\n    offset = undefined\n  }\n\n  if (typeof search === 'function' || Array.isArray(search)) {\n    throw new TypeError('The \"value\" argument must be one of type string, Buffer, BufferList, or Uint8Array.')\n  } else if (typeof search === 'number') {\n    search = Buffer.from([search])\n  } else if (typeof search === 'string') {\n    search = Buffer.from(search, encoding)\n  } else if (this._isBufferList(search)) {\n    search = search.slice()\n  } else if (Array.isArray(search.buffer)) {\n    search = Buffer.from(search.buffer, search.byteOffset, search.byteLength)\n  } else if (!Buffer.isBuffer(search)) {\n    search = Buffer.from(search)\n  }\n\n  offset = Number(offset || 0)\n\n  if (isNaN(offset)) {\n    offset = 0\n  }\n\n  if (offset < 0) {\n    offset = this.length + offset\n  }\n\n  if (offset < 0) {\n    offset = 0\n  }\n\n  if (search.length === 0) {\n    return offset > this.length ? this.length : offset\n  }\n\n  const blOffset = this._offset(offset)\n  let blIndex = blOffset[0] // index of which internal buffer we're working on\n  let buffOffset = blOffset[1] // offset of the internal buffer we're working on\n\n  // scan over each buffer\n  for (; blIndex < this._bufs.length; blIndex++) {\n    const buff = this._bufs[blIndex]\n\n    while (buffOffset < buff.length) {\n      const availableWindow = buff.length - buffOffset\n\n      if (availableWindow >= search.length) {\n        const nativeSearchResult = buff.indexOf(search, buffOffset)\n\n        if (nativeSearchResult !== -1) {\n          return this._reverseOffset([blIndex, nativeSearchResult])\n        }\n\n        buffOffset = buff.length - search.length + 1 // end of native search window\n      } else {\n        const revOffset = this._reverseOffset([blIndex, buffOffset])\n\n        if (this._match(revOffset, search)) {\n          return revOffset\n        }\n\n        buffOffset++\n      }\n    }\n\n    buffOffset = 0\n  }\n\n  return -1\n}\n\nBufferList.prototype._match = function (offset, search) {\n  if (this.length - offset < search.length) {\n    return false\n  }\n\n  for (let searchOffset = 0; searchOffset < search.length; searchOffset++) {\n    if (this.get(offset + searchOffset) !== search[searchOffset]) {\n      return false\n    }\n  }\n  return true\n}\n\n;(function () {\n  const methods = {\n    readDoubleBE: 8,\n    readDoubleLE: 8,\n    readFloatBE: 4,\n    readFloatLE: 4,\n    readInt32BE: 4,\n    readInt32LE: 4,\n    readUInt32BE: 4,\n    readUInt32LE: 4,\n    readInt16BE: 2,\n    readInt16LE: 2,\n    readUInt16BE: 2,\n    readUInt16LE: 2,\n    readInt8: 1,\n    readUInt8: 1,\n    readIntBE: null,\n    readIntLE: null,\n    readUIntBE: null,\n    readUIntLE: null\n  }\n\n  for (const m in methods) {\n    (function (m) {\n      if (methods[m] === null) {\n        BufferList.prototype[m] = function (offset, byteLength) {\n          return this.slice(offset, offset + byteLength)[m](0, byteLength)\n        }\n      } else {\n        BufferList.prototype[m] = function (offset = 0) {\n          return this.slice(offset, offset + methods[m])[m](0)\n        }\n      }\n    }(m))\n  }\n}())\n\n// Used internally by the class and also as an indicator of this object being\n// a `BufferList`. It's not possible to use `instanceof BufferList` in a browser\n// environment because there could be multiple different copies of the\n// BufferList class and some `BufferList`s might be `BufferList`s.\nBufferList.prototype._isBufferList = function _isBufferList (b) {\n  return b instanceof BufferList || BufferList.isBufferList(b)\n}\n\nBufferList.isBufferList = function isBufferList (b) {\n  return b != null && b[symbol]\n}\n\nmodule.exports = BufferList\n","class Packet {\n  constructor () {\n    this.cmd = null\n    this.retain = false\n    this.qos = 0\n    this.dup = false\n    this.length = -1\n    this.topic = null\n    this.payload = null\n  }\n}\n\nmodule.exports = Packet\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","const writeToStream = require('./writeToStream')\nconst EventEmitter = require('events')\n\nfunction generate (packet, opts) {\n  const stream = new Accumulator()\n  writeToStream(packet, stream, opts)\n  return stream.concat()\n}\n\nclass Accumulator extends EventEmitter {\n  constructor () {\n    super()\n    this._array = new Array(20)\n    this._i = 0\n  }\n\n  write (chunk) {\n    this._array[this._i++] = chunk\n    return true\n  }\n\n  concat () {\n    let length = 0\n    const lengths = new Array(this._array.length)\n    const list = this._array\n    let pos = 0\n    let i\n\n    for (i = 0; i < list.length && list[i] !== undefined; i++) {\n      if (typeof list[i] !== 'string') lengths[i] = list[i].length\n      else lengths[i] = Buffer.byteLength(list[i])\n\n      length += lengths[i]\n    }\n\n    const result = Buffer.allocUnsafe(length)\n\n    for (i = 0; i < list.length && list[i] !== undefined; i++) {\n      if (typeof list[i] !== 'string') {\n        list[i].copy(result, pos)\n        pos += lengths[i]\n      } else {\n        result.write(list[i], pos)\n        pos += lengths[i]\n      }\n    }\n\n    return result\n  }\n}\n\nmodule.exports = generate\n","const max = 65536\nconst cache = {}\n\n// in node 6 Buffer.subarray returns a Uint8Array instead of a Buffer\n// later versions return a Buffer\n// alternative is Buffer.slice but that creates a new buffer\n// creating new buffers takes time\n// SubOk is only false on node < 8\nconst SubOk = Buffer.isBuffer(Buffer.from([1, 2]).subarray(0, 1))\n\nfunction generateBuffer (i) {\n  const buffer = Buffer.allocUnsafe(2)\n  buffer.writeUInt8(i >> 8, 0)\n  buffer.writeUInt8(i & 0x00FF, 0 + 1)\n\n  return buffer\n}\n\nfunction generateCache () {\n  for (let i = 0; i < max; i++) {\n    cache[i] = generateBuffer(i)\n  }\n}\n\nfunction genBufVariableByteInt (num) {\n  const maxLength = 4 // max 4 bytes\n  let digit = 0\n  let pos = 0\n  const buffer = Buffer.allocUnsafe(maxLength)\n\n  do {\n    digit = num % 128 | 0\n    num = num / 128 | 0\n    if (num > 0) digit = digit | 0x80\n\n    buffer.writeUInt8(digit, pos++)\n  } while (num > 0 && pos < maxLength)\n\n  if (num > 0) {\n    pos = 0\n  }\n\n  return SubOk ? buffer.subarray(0, pos) : buffer.slice(0, pos)\n}\n\nfunction generate4ByteBuffer (num) {\n  const buffer = Buffer.allocUnsafe(4)\n  buffer.writeUInt32BE(num, 0)\n  return buffer\n}\n\nmodule.exports = {\n  cache,\n  generateCache,\n  generateNumber: generateBuffer,\n  genBufVariableByteInt,\n  generate4ByteBuffer\n}\n","'use strict'\n\nfunction ReInterval (callback, interval, args) {\n  var self = this;\n\n  this._callback = callback;\n  this._args = args;\n\n  this._interval = setInterval(callback, interval, this._args);\n\n  this.reschedule = function (interval) {\n    // if no interval entered, use the interval passed in on creation\n    if (!interval)\n      interval = self._interval;\n\n    if (self._interval)\n      clearInterval(self._interval);\n    self._interval = setInterval(self._callback, interval, self._args);\n  };\n\n  this.clear = function () {\n    if (self._interval) {\n      clearInterval(self._interval);\n      self._interval = undefined;\n    }\n  };\n  \n  this.destroy = function () {\n    if (self._interval) {\n      clearInterval(self._interval);\n    }\n    self._callback = undefined;\n    self._interval = undefined;\n    self._args = undefined;\n  };\n}\n\nfunction reInterval () {\n  if (typeof arguments[0] !== 'function')\n    throw new Error('callback needed');\n  if (typeof arguments[1] !== 'number')\n    throw new Error('interval needed');\n\n  var args;\n\n  if (arguments.length > 0) {\n    args = new Array(arguments.length - 2);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 2];\n    }\n  }\n\n  return new ReInterval(arguments[0], arguments[1], args);\n}\n\nmodule.exports = reInterval;\n","'use strict'\n\n/**\n * Validate a topic to see if it's valid or not.\n * A topic is valid if it follow below rules:\n * - Rule #1: If any part of the topic is not `+` or `#`, then it must not contain `+` and '#'\n * - Rule #2: Part `#` must be located at the end of the mailbox\n *\n * @param {String} topic - A topic\n * @returns {Boolean} If the topic is valid, returns true. Otherwise, returns false.\n */\nfunction validateTopic (topic) {\n  var parts = topic.split('/')\n\n  for (var i = 0; i < parts.length; i++) {\n    if (parts[i] === '+') {\n      continue\n    }\n\n    if (parts[i] === '#') {\n      // for Rule #2\n      return i === parts.length - 1\n    }\n\n    if (parts[i].indexOf('+') !== -1 || parts[i].indexOf('#') !== -1) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * Validate an array of topics to see if any of them is valid or not\n  * @param {Array} topics - Array of topics\n * @returns {String} If the topics is valid, returns null. Otherwise, returns the invalid one\n */\nfunction validateTopics (topics) {\n  if (topics.length === 0) {\n    return 'empty_topic_list'\n  }\n  for (var i = 0; i < topics.length; i++) {\n    if (!validateTopic(topics[i])) {\n      return topics[i]\n    }\n  }\n  return null\n}\n\nmodule.exports = {\n  validateTopics: validateTopics\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","var once = require('once');\n\nvar noop = function() {};\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\tvar cancelled = false;\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tprocess.nextTick(onclosenexttick);\n\t};\n\n\tvar onclosenexttick = function() {\n\t\tif (cancelled) return;\n\t\tif (readable && !(rs && (rs.ended && !rs.destroyed))) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && (ws.ended && !ws.destroyed))) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tcancelled = true;\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","module.exports = shift\n\nfunction shift (stream) {\n  var rs = stream._readableState\n  if (!rs) return null\n  return (rs.objectMode || typeof stream._duplexState === 'number') ? stream.read() : stream.read(getStateLength(rs))\n}\n\nfunction getStateLength (state) {\n  if (state.buffer.length) {\n    // Since node 6.3.0 state.buffer is a BufferList not an array\n    if (state.buffer.head) {\n      return state.buffer.head.data.length\n    }\n\n    return state.buffer[0].length\n  }\n\n  return state.length\n}\n","'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n","'use strict';\n\nmodule.exports = {\n  parseMultilog: require('./parser/parseMultilog'),\n  parseMultilogLine: require('./parser/parseMultilogLine'),\n  parseCurrentSettings: require('./parser/parseCurrentSettings'),\n  deviceIdNumberToString: require('./util/deviceIdNumberToString'),\n  deviceIdStringToNumber: require('./util/deviceIdStringToNumber'),\n  calculateCheckDigit: require('./util/calculateCheckDigit'),\n  valueToRawNumber: require('./util/valueToRawNumber'),\n  createCompactLog: require('./creator/createCompactLog'),\n  DevicesInfo: require('legoino-device-information'),\n  labelToNumber: require('./util/labelToNumber'),\n  numberToLabel: require('./util/labelToNumber'),\n};\n","'use strict';\n\nconst debug = require('debug')('legoino:parser:parseMutilog');\n\nconst parseMultilogLine = require('./parseMultilogLine');\n\n/**\n * Parse a multilog string\n * @param {*} buffer\n * @param {object} [options={}]\n */\n\nmodule.exports = function parseMultiLog(buffer, options = {}) {\n  let lines = buffer.split(/[\\r\\n]+/).filter((line) => line);\n  let entries = [];\n  for (let line of lines) {\n    let entry = parseMultilogLine(line, options);\n    if (entry) entries.push(entry);\n  }\n  // Check that all entries come from the same device!!\n  if (entries.length > 0) {\n    let deviceId = entries[0].deviceId;\n    for (let i = 1; i < entries.length; i++) {\n      if (entries[i].deviceId !== deviceId) {\n        debug(\n          `checkdigit is ok but all lines did not come from the same device. There are at least 2 device ids: ${entries[0].deviceId}, ${entries[i].deviceId}`,\n        );\n        throw new Error('all lines do not have the same id');\n      }\n    }\n  }\n  return entries;\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Open bioreactor',\n  kind: 'OpenBio',\n  description: '',\n  url: '',\n  id: '$',\n  numberParameters: 52,\n  numberLogParameters: 26,\n  parameters: [\n    {\n      label: 'A',\n      variable: 'liquidTemp',\n      name: 'T LIQ',\n      description: 'Temperature of the bioreactor solution',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'B',\n      variable: 'pcbTemp',\n      name: 'T PCB',\n      description: 'Temperature of the bioreactor circuit',\n      factor: 100,\n      unit: 'C',\n      writable: false,\n    },\n\n    {\n      label: 'C',\n      variable: 'pidTemp',\n      name: 'Pid',\n      description: 'PID absolute value',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'D',\n      variable: 'targetTemp',\n      name: 'T target',\n      description: 'Target temperature',\n      factor: 100,\n      unit: 'C',\n      writable: true,\n    },\n\n    {\n      label: 'E',\n      variable: 'weight',\n      name: 'Weight',\n      description: 'Weight of the bioreactor tank, in internal value',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'F',\n      variable: 'grWeight',\n      name: 'Weight (g)',\n      description: 'Weight of the bioreactor tank, in gr if calibrated',\n      factor: 1,\n      unit: 'g',\n      writable: false,\n    },\n\n    {\n      label: 'G',\n      variable: 'waitSinceLast',\n      name: 'Time since last event',\n      description: 'Time in min since last weight event',\n      factor: 1,\n      unit: 'min',\n      writable: false,\n    },\n\n    {\n      label: 'H',\n      variable: 'minWeight',\n      name: 'Weight min',\n      description: 'Weight min in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'I',\n      variable: 'maxWeight',\n      name: 'Weight max',\n      description: 'Weight max in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'J',\n    },\n\n    {\n      label: 'K',\n    },\n\n    {\n      label: 'L',\n    },\n\n    {\n      label: 'M',\n    },\n\n    {\n      label: 'N',\n    },\n\n    {\n      label: 'O',\n    },\n\n    {\n      label: 'P',\n    },\n\n    {\n      label: 'Q',\n    },\n\n    {\n      label: 'R',\n    },\n\n    {\n      label: 'S',\n    },\n\n    {\n      label: 'T',\n    },\n\n    {\n      label: 'U',\n    },\n\n    {\n      label: 'V',\n    },\n\n    {\n      label: 'W',\n    },\n\n    {\n      label: 'X',\n    },\n\n    {\n      label: 'Y',\n      variable: 'error',\n      name: 'Error',\n      unit: '',\n      factor: 1,\n      description: `\n            bit 0: pcb probe, 1: liquid probe, 2: pcb temperature,\n            3: liquid temperature, 4: target temp. range, 5: weight range`,\n      writable: true,\n      flags: {\n        pcbProbe: {\n          bit: 0,\n          description: 'PCB temperature probe not responding',\n        },\n        liquidProbe: {\n          bit: 1,\n          description: 'Liquid temperature probe not responding',\n        },\n        pcbTemperature: {\n          bit: 2,\n          description: 'PCB temperature out of range',\n        },\n        liquidTemperature: {\n          bit: 3,\n          description: 'Liquid temperature out of range',\n        },\n        targetTemperature: {\n          bit: 4,\n          description: 'Target temperature out of range',\n        },\n        weight: {\n          bit: 5,\n          description: 'Weight out of range',\n        },\n      },\n    },\n\n    {\n      label: 'Z',\n      variable: 'status',\n      name: 'Status',\n      description: `Status of the Bioreactor, the bits of this integer code\n        for the state of specific elements of the reactor (eg. motor ON/OFF, PUMP ON/OFF etc.).\n        bits: 0: stepper, 1: weight, 2: pid, 7: sedimentation, 8: filling, 9: emptying\n        `,\n      factor: 1,\n      unit: '',\n      writable: true,\n      flags: {\n        stepper: {\n          bit: 0,\n          description: 'Stepper running',\n        },\n        food: {\n          bit: 1,\n          description: 'Food running',\n        },\n        pid: {\n          bit: 2,\n          description: 'PID running',\n        },\n        sedimentation: {\n          bit: 7,\n          description: 'Sedimentation running',\n        },\n        filling: {\n          bit: 8,\n          description: 'Filling tank',\n        },\n        emptying: {\n          bit: 9,\n          description: 'Emptying tank',\n        },\n      },\n    },\n\n    {\n      label: 'AA',\n      variable: 'stepperSpeed',\n      name: 'Stepper speed',\n      description: '',\n      factor: 1,\n      unit: 'RPM',\n      writable: true,\n    },\n\n    {\n      label: 'AB',\n      variable: 'stepperOnDelay',\n      name: 'Stepper on delay',\n      description: 'Time in (s) for which the stepper stays on',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'AC',\n      variable: 'stepperOffDelay',\n      name: 'Stepper off delay',\n      description: 'Time to wait in (s) before between stirring periods',\n      factor: 1,\n      unit: 's',\n      writable: true,\n    },\n\n    {\n      label: 'AD',\n    },\n\n    {\n      label: 'AE',\n    },\n\n    {\n      label: 'AF',\n      variable: 'sedTime',\n      name: 'Sedimentation Time',\n      description:\n        'Sedimentation time in min after Semi-batch operation,' +\n        'corresponds to the waiting time without stirring before emptying the reactor to the minimum level',\n      min: 0,\n      max: 32767,\n      factor: 1,\n      unit: 'min',\n      writable: true,\n    },\n\n    {\n      label: 'AG',\n      variable: 'filledTime',\n      name: 'Filled Time',\n      description:\n        'Filled time in min after Semi-batch operation,' +\n        'corresponds to the total time with and without stirring before emptying the reactor to the minimum level' +\n        'must be set longer than the sedimentation time if stirring is desired',\n      min: 0,\n      max: 32767,\n      factor: 1,\n      unit: 'min',\n      writable: true,\n    },\n\n    {\n      label: 'AH',\n      variable: 'weightFactor',\n      name: 'Weight factor',\n      description: 'Factor allowing to convert the internal weight value to g',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AI',\n      variable: 'weightOffset',\n      name: 'Weight offset',\n      description: '',\n      factor: 1,\n      unit: '',\n      writable: false,\n    },\n\n    {\n      label: 'AJ',\n    },\n\n    {\n      label: 'AK',\n    },\n\n    {\n      label: 'AL',\n    },\n\n    {\n      label: 'AM',\n    },\n\n    {\n      label: 'AN',\n    },\n\n    {\n      label: 'AO',\n    },\n\n    {\n      label: 'AP',\n    },\n\n    {\n      label: 'AQ',\n    },\n\n    {\n      label: 'AR',\n    },\n\n    {\n      label: 'AS',\n    },\n\n    {\n      label: 'AT',\n    },\n\n    {\n      label: 'AU',\n    },\n\n    {\n      label: 'AV',\n    },\n\n    {\n      label: 'AW',\n    },\n\n    {\n      label: 'AX',\n    },\n\n    {\n      label: 'AY',\n    },\n\n    {\n      label: 'AZ',\n      variable: 'enable',\n      name: 'Enable',\n      description: 'pid - food - stepper : ex. 1: only stepper',\n      factor: 1,\n      unit: '',\n      writable: true,\n      flags: {\n        stepper: {\n          bit: 0,\n          description: 'Stepper control',\n        },\n        food: {\n          bit: 1,\n          description: 'Food control',\n        },\n        pid: {\n          bit: 2,\n          description: 'PID control',\n        },\n      },\n    },\n  ],\n  events: [\n    {\n      id: 1,\n      name: 'Arduino boot',\n      description: '',\n    },\n    {\n      id: 2,\n      name: 'Set safe mode',\n      description: '',\n    },\n    {\n      id: 3,\n      name: 'Status enable',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'stepper',\n        1: 'food',\n        2: 'pid',\n        7: 'sedimentation',\n        8: 'filling',\n        9: 'emptying',\n      },\n    },\n    {\n      id: 4,\n      name: 'Status disable',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'stepper',\n        1: 'food',\n        2: 'pid',\n        7: 'sedimentation',\n        8: 'filling',\n        9: 'emptying',\n      },\n    },\n    {\n      id: 6,\n      name: 'Error: failed',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'pcb temperature probe',\n        1: 'liquid temperature probe',\n        2: 'pcb temperature range',\n        3: 'liquid temperature range',\n        4: 'target temperature range',\n        5: 'weight range',\n      },\n    },\n    {\n      id: 7,\n      name: 'Error: recover',\n      description:\n        '0:stepper, 1:food, 2:pid, 7:sedimentation, 8:filling, 9:emptying',\n      flags: {\n        0: 'pcb temperature probe',\n        1: 'liquid temperature probe',\n        2: 'pcb temperature range',\n        3: 'liquid temperature range',\n        4: 'target temperature range',\n        5: 'weight range',\n      },\n    },\n    {\n      id: 20,\n      name: 'Rotation start',\n      description: '',\n    },\n    {\n      id: 21,\n      name: 'Rotation stop',\n      description: '',\n    },\n    {\n      id: 150,\n      name: 'Not found log entry N',\n      description: '',\n    },\n    {\n      id: 255,\n      name: 'Save all parameters',\n      description: '',\n    },\n    {\n      id: 256,\n      name: 'Change value of A',\n      description: '',\n    },\n    {\n      id: 257,\n      name: 'Change value of B',\n      description: '',\n    },\n  ],\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Open spectrophotometer',\n  kind: 'OpenSpectro',\n  numberParameters: 26,\n  id: 'S',\n  description: '',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      name: 'Red point',\n      description: 'which point of the linear detector is the maximum for red',\n      factor: 1,\n      unit: 'pixel#',\n      writable: false\n    },\n\n    {\n      label: 'B',\n      name: 'Green point',\n      description:\n        'which point of the linear detector is the maximum for green',\n      factor: 1,\n      unit: 'pixel#',\n      writable: false\n    },\n\n    {\n      label: 'C',\n      name: 'Blue point',\n      description: 'which point of the linear detector is the maximum for blue',\n      factor: 1,\n      unit: 'pixel#',\n      writable: false\n    },\n\n    {\n      label: 'D',\n      name: 'Compression',\n      description: '0 means no compression, can be set',\n      factor: 1,\n      unit: '',\n      writable: true\n    },\n    {\n      label: 'E',\n      name: 'R-Intensity',\n      description: 'Red led intensity (0 to 255)',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'F',\n      name: 'G-Intensity',\n      description: 'Green led intensity (0 to 255)',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n    {\n      label: 'G',\n      name: 'B-Intensity',\n      description: 'Blue led intensity (0 to 255)',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'H',\n      name: 'Scan#',\n      description: 'Number of scans (maximum 64)',\n      factor: 1,\n      unit: '',\n      min: 1,\n      max: 64,\n      writable: true\n    },\n\n    {\n      label: 'I',\n      name: 'DelayExp',\n      description: 'Delay between experiments in seconds',\n      factor: 1,\n      unit: 's',\n      writable: false\n    },\n\n    {\n      label: 'J',\n      name: 'Acq Time',\n      description: 'Accumulation time in ms(in ms, good value=30)',\n      factor: 1,\n      unit: 'ms',\n      writable: true\n    },\n\n    {\n      label: 'K',\n      name: 'lambda-R',\n      description: 'Red maximum wavelength (nm)',\n      factor: 1,\n      unit: 'nm',\n      writable: false\n    },\n\n    {\n      label: 'L',\n      name: 'lambda-G',\n      description: 'Green maximum wavelength (nm)',\n      factor: 1,\n      unit: 'nm',\n      writable: false\n    },\n\n    {\n      label: 'M',\n      name: 'lambda-M',\n      description: 'Blue maximum wavelength (nm)',\n      factor: 1,\n      unit: 'nm',\n      writable: false\n    },\n\n    {\n      label: 'U',\n      name: 'red test',\n      description: 'Set intensity of red led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n    {\n      label: 'V',\n      name: 'green test',\n      description: 'Set intensity of green led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n    {\n      label: 'W',\n      name: 'blue test',\n      description: 'Set intensity of blue led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n    {\n      label: 'X',\n      name: 'white test',\n      description: 'Set intensity of white led for test (0 -> 255)',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n    {\n      label: 'Y'\n    },\n    {\n      label: 'Z'\n    },\n  ]\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Simple spectrophotometer',\n  kind: 'SimpleSpectro',\n  numberParameters: 26,\n  description: '',\n  id: 'T',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      name: 'Transmission of sample (Red)',\n      description: 'Frequency related to the energy of red led through sample',\n      factor: 1,\n      unit: 'Hz',\n      writable: false\n    },\n\n    {\n      label: 'B',\n      name: 'Transmission of sample (Green)',\n      description:\n        'Frequency related to the energy of green led through sample',\n      factor: 1,\n      unit: 'Hz',\n      writable: false\n    },\n\n    {\n      label: 'C',\n      name: 'Transmission of sample (Blue)',\n      description: 'Frequency related to the energy of blue led through sample',\n      factor: 1,\n      unit: 'Hz',\n      writable: false\n    },\n\n    {\n      label: 'D',\n      name: 'Emission of sample (Blue)',\n      description:\n        'Frequency related to the energy of blue perpendicular led re-emitted by sample (fluorescence)',\n      factor: 1,\n      unit: 'Hz',\n      writable: false\n    },\n\n    {\n      label: 'F',\n      name: 'Transmission of blank (Red)',\n      description: 'Frequency related to the energy of red led through blank',\n      factor: 1,\n      unit: 'Hz',\n      writable: false\n    },\n\n    {\n      label: 'G',\n      name: 'Transmission of blank (Green)',\n      description: 'Frequency related to the energy of green led through blank',\n      factor: 1,\n      unit: 'Hz',\n      writable: false\n    },\n\n    {\n      label: 'H',\n      name: 'Transmission of blank (Blue)',\n      description: 'Frequency related to the energy of blue led through blank',\n      factor: 1,\n      unit: 'Hz',\n      writable: false\n    },\n\n    {\n      label: 'I',\n      name: 'Emission of blank (Blue)',\n      description:\n        'Frequency related to the energy of blue perpendicular led re-emitted by blank (fluorescence)',\n      factor: 1,\n      unit: 'Hz',\n      writable: false\n    },\n\n    {\n      label: 'K',\n      name: 'Delay before blank',\n      description: 'Delay before the acquisition of the blank in seconds',\n      factor: 1,\n      unit: 's',\n      writable: true\n    },\n\n    {\n      label: 'L',\n      name: 'Delay before sample',\n      description: 'Delay before the acquisition of the sample in seconds',\n      factor: 1,\n      unit: 's',\n      writable: true\n    },\n\n    {\n      label: 'M',\n      name: 'Delay between experiments',\n      description:\n        'Delay between the acquisition of the experiments (kinetic) in seconds',\n      factor: 1,\n      unit: 's',\n      writable: true\n    },\n\n    {\n      label: 'N',\n      name: 'Nb experiments',\n      description:\n        'Number of experiments for kinetic (max 240 / (number colors + 1))',\n      factor: 1,\n      unit: '',\n      writable: true\n    },\n\n    {\n      label: 'O',\n      name: 'Next exp. number',\n      description: 'Number of the next experiment',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'P',\n      name: 'Waiting time',\n      description: 'Current waiting time before next experiment',\n      factor: 1,\n      unit: 's',\n      writable: false\n    },\n\n    {\n      label: 'Q',\n      name: 'Nb sampling',\n      description:\n        'Number of acquisitions of 100ms that will be taken (default 10). This value could be reduced for fast kinetic',\n      factor: 1,\n      unit: '',\n      writable: true\n    },\n\n    {\n      label: 'R',\n      name: 'Invert rotary',\n      description: ' Invert the rotary button direction',\n      factor: 1,\n      unit: '',\n      writable: true\n    },\n\n    {\n      label: 'S',\n      name: 'Battery voltage',\n      description: 'Current battery voltage',\n      factor: 100,\n      unit: 'V',\n      writable: true\n    },\n\n    {\n      label: 'T',\n      name: 'Temperature',\n      description: 'Current temperature',\n      factor: 100,\n      unit: 'C',\n      writable: true\n    },\n\n    {\n      label: 'V',\n      name: 'Active channels',\n      description:\n        'Active leds and other. A number between 0 and 63. Each bit represents a function (Red, Green, Blue, UV, Voltage, Temperature). 5 would correspond to Red and Blue (binary combination).',\n      factor: 1,\n      unit: '',\n      writable: true\n    },\n\n    {\n      label: 'W',\n      name: 'Error',\n      description: 'Error',\n      factor: 1,\n      unit: '',\n      writable: true\n    },\n\n    {\n      label: 'X',\n      name: 'Result channel',\n      description: 'Value of the channel that will be displayed in the result',\n      factor: 1,\n      unit: '',\n      writable: true\n    },\n\n    {\n      label: 'Y',\n      name: 'Status',\n      description: 'Status',\n      factor: 1,\n      unit: '',\n      writable: true\n    },\n\n    {\n      label: 'Z',\n      name: 'Current menu',\n      description: 'Current menu',\n      factor: 1,\n      unit: '',\n      writable: true\n    }\n  ]\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Solar decathlon 2015',\n  kind: 'Solar',\n  numberParameters: 4,\n  numberLogParameters: 4,\n  id: '#',\n  description: '',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      name: 'Temperature',\n      description: '',\n      factor: 100,\n      unit: 'C',\n      writable: false\n    },\n\n    {\n      label: 'B',\n      name: 'Light',\n      description: '',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'C',\n      name: 'Pressure',\n      description: '',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'D',\n      name: 'Humidity',\n      description: '',\n      factor: 10,\n      unit: '%',\n      writable: false\n    }\n  ]\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Bee Monistoring System',\n  kind: 'Beemos',\n  numberParameters: 32,\n  numberLogParameters: 26,\n  id: 'B',\n  description: 'Bee Monistoring System data result',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      variable: 'externalTemperature',\n      name: 'Ext temperature',\n      description: 'External temperature',\n      factor: 100,\n      unit: 'C',\n      writable: false\n    },\n\n    {\n      label: 'B',\n      variable: 'externalHumidity',\n      name: 'Ext humidity',\n      description: 'External humidity',\n      factor: 100,\n      unit: '%',\n      writable: false\n    },\n\n    {\n      label: 'C',\n      variable: 'luminosity',\n      name: 'Luminosity',\n      description: 'Luminosity (Arbitrary unit)',\n      factor: 10.24,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'D',\n      variable: 'pressure',\n      name: 'Pressure',\n      description: 'Press',\n      factor: 10,\n      unit: 'mbar',\n      writable: false\n    },\n\n    {\n      label: 'E',\n      variable: 'internalTemperature',\n      name: 'Int temperature',\n      description: 'Internal temperature',\n      factor: 100,\n      unit: 'C',\n      writable: false\n    },\n\n    {\n      label: 'F',\n      variable: 'internalHumidity',\n      name: 'Int humidity',\n      description: 'Internal humidity',\n      factor: 100,\n      unit: '%',\n      writable: false\n    },\n\n    {\n      label: 'G',\n      variable: 'internalTemperatureA',\n      name: 'Int temperature A',\n      description: 'Internal temperature A',\n      factor: 100,\n      unit: 'C',\n      writable: false\n    },\n    {\n      label: 'H',\n      variable: 'internalTemperatureB',\n      name: 'Int temperature B',\n      description: 'Internal temperature B',\n      factor: 100,\n      unit: 'C',\n      writable: false\n    },\n\n    {\n      label: 'I',\n      variable: 'weight',\n      name: 'Weight',\n      description: 'Weight',\n      factor: 100,\n      unit: 'kg',\n      writable: false\n    },\n\n    {\n      label: 'J',\n      variable: 'battery',\n      name: 'Battery',\n      description: 'Battery voltage',\n      factor: 1000,\n      unit: 'V',\n      writable: false\n    },\n\n    {\n      label: 'K',\n      variable: 'gate1In',\n      name: 'Gate 1 IN',\n      description: 'Number of input on gate 1',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'L',\n      variable: 'gate1Out',\n      name: 'Gate 1 OUT',\n      description: 'Number of output on gate 1',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'M',\n      variable: 'gate2In',\n      name: 'Gate 2 IN',\n      description: 'Number of input on gate 2',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'N',\n      variable: 'gate2Out',\n      name: 'Gate 2 OUT',\n      description: 'Number of output on gate 2',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'O',\n      variable: 'gate3In',\n      name: 'Gate 3 IN',\n      description: 'Number of input on gate 3',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'P',\n      variable: 'gate3Out',\n      name: 'Gate 3 OUT',\n      description: 'Number of output on gate 3',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'Q',\n      variable: 'gate4In',\n      name: 'Gate 4 IN',\n      description: 'Number of input on gate 4',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'R',\n      variable: 'gate4Out',\n      name: 'Gate 4 OUT',\n      description: 'Number of output on gate 4',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'S',\n      variable: 'gate5In',\n      name: 'Gate 5 IN',\n      description: 'Number of input on gate 5',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'T',\n      variable: 'gate5Out',\n      name: 'Gate 5 OUT',\n      description: 'Number of output on gate 5',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'U',\n      variable: 'gate6In',\n      name: 'Gate 6 IN',\n      description: 'Number of input on gate 6',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'V',\n      variable: 'gate6Out',\n      name: 'Gate 6 OUT',\n      description: 'Number of output on gate 6',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'W',\n      variable: 'gate7In',\n      name: 'Gate 7 IN',\n      description: 'Number of input on gate 7',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'X',\n      variable: 'gate7Out',\n      name: 'Gate 7 OUT',\n      description: 'Number of output on gate 7',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'Y',\n      variable: 'gate8In',\n      name: 'Gate 8 IN',\n      description: 'Number of input on gate 8',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'Z',\n      variable: 'gate8Out',\n      name: 'Gate 8 OUT',\n      description: 'Number of output on gate 8',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'AA',\n      variable: 'weightInternalUnit',\n      name: 'Weight internal unit',\n      description: 'Weight in internal unit',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'AB',\n      variable: 'weightOffset',\n      name: 'Weight offset',\n      description: 'Offset to convert weight from internal unit',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'AC',\n      variable: 'weightFactor',\n      name: 'Weight factor',\n      description: 'Factor to convert the weight from internal unit',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'AD',\n      variable: 'charging',\n      name: 'Charging',\n      description: 'Indication showing if the battery is charging',\n      factor: 1,\n      unit: '',\n      writable: false\n    },\n\n    {\n      label: 'AE',\n      variable: 'loggingInterval',\n      name: 'Logging interval',\n      description: 'Interval in seconds between logs',\n      factor: 1,\n      unit: 's',\n      writable: true\n    }\n  ]\n};\n","'use strict';\n\nmodule.exports = {\n  name: 'Computer monitoring',\n  kind: 'Computer',\n  numberParameters: 16,\n  numberLogParameters: 16,\n  description: '',\n  url: '',\n  parameters: [\n    {\n      label: 'A',\n      variable: 'cpuTemperature',\n      name: 'CPU Temperature',\n      description: '',\n      factor: 1,\n      unit: 'C',\n      writable: false\n    },\n\n    {\n      label: 'B',\n      variable: 'memFree',\n      name: 'Free memory',\n      description: 'Free memory in percent',\n      factor: 1,\n      unit: '%',\n      writable: false\n    },\n\n    {\n      label: 'C',\n      variable: 'swapFree',\n      name: 'Free swap',\n      description: 'Free swap in percent',\n      factor: 1,\n      unit: '%',\n      writable: false\n    },\n\n    {\n      label: 'D',\n      variable: 'fsRead',\n      name: 'FS Read',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false\n    },\n\n    {\n      label: 'E',\n      variable: 'fsWrite',\n      name: 'FS Write',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false\n    },\n\n    {\n      label: 'F',\n      variable: 'networkRead',\n      name: 'Network Read',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false\n    },\n\n    {\n      label: 'G',\n      variable: 'networkWrite',\n      name: 'Network Write',\n      description: 'File system read in kb',\n      factor: 1,\n      unit: 'kb',\n      writable: false\n    },\n\n    {\n      label: 'H',\n      variable: 'load',\n      name: 'Load',\n      description: 'Total load',\n      factor: 1,\n      unit: '%',\n      writable: false\n    },\n\n    {\n      label: 'I',\n      variable: 'userLoad',\n      name: 'User load',\n      description: 'Load from user',\n      factor: 1,\n      unit: '%',\n      writable: false\n    },\n\n    {\n      label: 'J',\n      variable: 'systemLoad',\n      name: 'System load',\n      description: 'Load from system',\n      factor: 1,\n      unit: '%',\n      writable: false\n    },\n\n    {\n      label: 'K',\n      variable: 'niceLoad',\n      name: 'Nice load',\n      description: 'Load for Nice',\n      factor: 1,\n      unit: '%',\n      writable: false\n    },\n\n    {\n      label: 'L',\n      variable: 'idleLoad',\n      name: 'Idle load',\n      description: 'Idle percent of time',\n      factor: 1,\n      unit: '%',\n      writable: false\n    },\n\n    {\n      label: 'M',\n      variable: 'irqLoad',\n      name: 'IRQ load',\n      description: 'Load due to IRQ',\n      factor: 1,\n      unit: '%',\n      writable: false\n    },\n\n    {\n      label: 'N',\n      variable: 'fsMinimalUse',\n      name: 'FS minimal use',\n      description: 'Minimal percent spaced used in a filesystem',\n      factor: 1,\n      unit: '%',\n      writable: false\n    },\n    {\n      label: 'O',\n      variable: 'fsMaximalUse',\n      name: 'FS maximal use',\n      description: 'Maximal percent spaced used in a filesystem',\n      factor: 1,\n      unit: '%',\n      writable: false\n    },\n    {\n      label: 'P'\n    },\n  ]\n};\n","'use strict';\n\nconst debug = require('debug')('legoino:parser:parseCurrentSettings');\n\nconst calculateCheckDigit = require('../util/calculateCheckDigit');\nconst checkCheckDigit = require('../util/checkCheckDigit');\nconst deviceIdNumberToString = require('../util/deviceIdNumberToString');\nconst hexToInt16 = require('../util/hexToInt16');\n\nconst parseParameters = require('./parseParameters');\n\n/**\n * Parse a current settings log.\n * @param {string} line\n * @param {object} [options={}]\n * @param {boolean} [options.flatten=false] The parsed log will have all properties at the same level (no sub-object for the parameters)\n * @param {boolean} [options.parametersArray=false] Add an array with all the parameters to the result\n * @param {boolean} [options.parameterLabel=false] Use the variable property of device info as property name\n * @param {boolean} [options.parameterInfo=false] Show all the information about the parameter in the value\n * @param {string} [options.kind=undefined] Specify a device type from those that exist in `legoino-device-information`\n * @param {object} [options.deviceInformation=undefined] Pass information for a device that does not exist in `legoino-device-information`. To use if `options.kind` is undefined.\n * @return {object} The parsed settings.\n *\n * Warning: parameters that are undefined are not returned!\n */\nmodule.exports = function parseCurrentSettings(line, options) {\n  let { flatten = false, parametersArray = false } = options;\n\n  // keep only valid characters\n  line = line.replace(/[^0-9A-F]/gi, '');\n\n  let entry = {};\n  let parseResult;\n  if (checkCheckDigit(line)) {\n    entry.epoch = parseInt(line.substring(0, 8), 16) * 1000;\n    parseResult = parseParameters(line.substring(8, line.length - 6), options);\n    entry.deviceId = hexToInt16(\n      line.substring(line.length - 6, line.length - 2),\n    );\n    entry.deviceCode = deviceIdNumberToString(entry.deviceId);\n  } else {\n    debug('Check digit error', line);\n    throw new Error(\n      `Check digit error. Should be: ${calculateCheckDigit(line).toString(16)}`,\n    );\n  }\n\n  if (flatten) {\n    Object.assign(entry, parseResult.parameters);\n  } else {\n    entry.parameters = parseResult.parameters;\n  }\n  if (parametersArray) {\n    entry.parametersArray = parseResult.parametersArray;\n  }\n  return entry;\n};\n","'use strict';\n\nmodule.exports = function deviceIdStringToNumber(idString) {\n  if (idString === undefined) return undefined;\n\n  if (idString.length === 2) {\n    return idString.charCodeAt(0) * 256 + idString.charCodeAt(1);\n  } else {\n    throw new Error('Id does not have the expected 2 char format');\n  }\n  // return idString;\n};\n","'use strict';\n\nconst DeviceInformation = require('legoino-device-information');\n\nconst labelToNumber = require('./labelToNumber');\n\nmodule.exports = function valueToRawNumber(label, value, kind) {\n  const deviceInformation = DeviceInformation[kind];\n  return (\n    value * (deviceInformation.parameters[labelToNumber(label)].factor || 1)\n  );\n};\n","'use strict';\n\n/**\n * A log entry is a hexadecimal line composed of :\n * - a sequential ID (8)\n * - epoch (8)\n * - a list of parameters values (n * 4)\n * - a log event ID (4)\n * - a log event value (4)\n * - a device ID (4)\n * - a checkdigit (2)\n *\n * This means that for 26 parameters, the length of a log is 134 hexadecimal characters.\n */\n\nconst calculateCheckDigit = require('../util/calculateCheckDigit');\nconst int16ToHex = require('../util/int16ToHex');\nconst numberToLabel = require('../util/numberToLabel');\n\nmodule.exports = function createCompactLog(data = {}, numberParameters = 26) {\n  if (!data.parameters) data.parameters = [];\n  let result = '';\n  result += Number(data.id | 0)\n    .toString(16)\n    .padStart(8, '0');\n  result += Number(data.epoch | 0)\n    .toString(16)\n    .padStart(8, '0');\n  for (let i = 0; i < numberParameters; i++) {\n    let label = numberToLabel(i);\n    result += int16ToHex(data.parameters[label]);\n  }\n  result += int16ToHex(data.eventId);\n  result += int16ToHex(data.eventValue);\n  result += int16ToHex(data.deviceId);\n  result += calculateCheckDigit(result).toString(16).padStart(2, '0');\n  return result.toUpperCase();\n};\n","'use strict';\n\nmodule.exports = function int16ToHex(value = null) {\n  if (value > 32767 || value < -32767 || value === null) value = -32768;\n  if (value < 0) {\n    value += 65536;\n  }\n  return Number(value).toString(16).padStart(4, '0').toUpperCase();\n};\n","// ES6 Map\nvar map\ntry {\n  map = Map\n} catch (_) { }\nvar set\n\n// ES6 Set\ntry {\n  set = Set\n} catch (_) { }\n\nfunction baseClone (src, circulars, clones) {\n  // Null/undefined/functions/etc\n  if (!src || typeof src !== 'object' || typeof src === 'function') {\n    return src\n  }\n\n  // DOM Node\n  if (src.nodeType && 'cloneNode' in src) {\n    return src.cloneNode(true)\n  }\n\n  // Date\n  if (src instanceof Date) {\n    return new Date(src.getTime())\n  }\n\n  // RegExp\n  if (src instanceof RegExp) {\n    return new RegExp(src)\n  }\n\n  // Arrays\n  if (Array.isArray(src)) {\n    return src.map(clone)\n  }\n\n  // ES6 Maps\n  if (map && src instanceof map) {\n    return new Map(Array.from(src.entries()))\n  }\n\n  // ES6 Sets\n  if (set && src instanceof set) {\n    return new Set(Array.from(src.values()))\n  }\n\n  // Object\n  if (src instanceof Object) {\n    circulars.push(src)\n    var obj = Object.create(src)\n    clones.push(obj)\n    for (var key in src) {\n      var idx = circulars.findIndex(function (i) {\n        return i === src[key]\n      })\n      obj[key] = idx > -1 ? clones[idx] : baseClone(src[key], circulars, clones)\n    }\n    return obj\n  }\n\n  // ???\n  return src\n}\n\nexport default function clone (src) {\n  return baseClone(src, [], [])\n}\n","const toString = Object.prototype.toString;\nconst errorToString = Error.prototype.toString;\nconst regExpToString = RegExp.prototype.toString;\nconst symbolToString = typeof Symbol !== 'undefined' ? Symbol.prototype.toString : () => '';\nconst SYMBOL_REGEXP = /^Symbol\\((.*)\\)(.*)$/;\n\nfunction printNumber(val) {\n  if (val != +val) return 'NaN';\n  const isNegativeZero = val === 0 && 1 / val < 0;\n  return isNegativeZero ? '-0' : '' + val;\n}\n\nfunction printSimpleValue(val, quoteStrings = false) {\n  if (val == null || val === true || val === false) return '' + val;\n  const typeOf = typeof val;\n  if (typeOf === 'number') return printNumber(val);\n  if (typeOf === 'string') return quoteStrings ? `\"${val}\"` : val;\n  if (typeOf === 'function') return '[Function ' + (val.name || 'anonymous') + ']';\n  if (typeOf === 'symbol') return symbolToString.call(val).replace(SYMBOL_REGEXP, 'Symbol($1)');\n  const tag = toString.call(val).slice(8, -1);\n  if (tag === 'Date') return isNaN(val.getTime()) ? '' + val : val.toISOString(val);\n  if (tag === 'Error' || val instanceof Error) return '[' + errorToString.call(val) + ']';\n  if (tag === 'RegExp') return regExpToString.call(val);\n  return null;\n}\n\nexport default function printValue(value, quoteStrings) {\n  let result = printSimpleValue(value, quoteStrings);\n  if (result !== null) return result;\n  return JSON.stringify(value, function (key, value) {\n    let result = printSimpleValue(this[key], quoteStrings);\n    if (result !== null) return result;\n    return value;\n  }, 2);\n}","import printValue from './util/printValue';\nexport let mixed = {\n  default: '${path} is invalid',\n  required: '${path} is a required field',\n  oneOf: '${path} must be one of the following values: ${values}',\n  notOneOf: '${path} must not be one of the following values: ${values}',\n  notType: ({\n    path,\n    type,\n    value,\n    originalValue\n  }) => {\n    let isCast = originalValue != null && originalValue !== value;\n    let msg = `${path} must be a \\`${type}\\` type, ` + `but the final value was: \\`${printValue(value, true)}\\`` + (isCast ? ` (cast from the value \\`${printValue(originalValue, true)}\\`).` : '.');\n\n    if (value === null) {\n      msg += `\\n If \"null\" is intended as an empty value be sure to mark the schema as \\`.nullable()\\``;\n    }\n\n    return msg;\n  },\n  defined: '${path} must be defined'\n};\nexport let string = {\n  length: '${path} must be exactly ${length} characters',\n  min: '${path} must be at least ${min} characters',\n  max: '${path} must be at most ${max} characters',\n  matches: '${path} must match the following: \"${regex}\"',\n  email: '${path} must be a valid email',\n  url: '${path} must be a valid URL',\n  uuid: '${path} must be a valid UUID',\n  trim: '${path} must be a trimmed string',\n  lowercase: '${path} must be a lowercase string',\n  uppercase: '${path} must be a upper case string'\n};\nexport let number = {\n  min: '${path} must be greater than or equal to ${min}',\n  max: '${path} must be less than or equal to ${max}',\n  lessThan: '${path} must be less than ${less}',\n  moreThan: '${path} must be greater than ${more}',\n  positive: '${path} must be a positive number',\n  negative: '${path} must be a negative number',\n  integer: '${path} must be an integer'\n};\nexport let date = {\n  min: '${path} field must be later than ${min}',\n  max: '${path} field must be at earlier than ${max}'\n};\nexport let boolean = {\n  isValue: '${path} field must be ${value}'\n};\nexport let object = {\n  noUnknown: '${path} field has unspecified keys: ${unknown}'\n};\nexport let array = {\n  min: '${path} field must have at least ${min} items',\n  max: '${path} field must have less than or equal to ${max} items',\n  length: '${path} must be have ${length} items'\n};\nexport default Object.assign(Object.create(null), {\n  mixed,\n  string,\n  number,\n  date,\n  object,\n  array,\n  boolean\n});","export default (obj => obj && obj.__isYupSchema__);","import has from 'lodash/has';\nimport isSchema from './util/isSchema';\n\nclass Condition {\n  constructor(refs, options) {\n    this.refs = refs;\n    this.refs = refs;\n\n    if (typeof options === 'function') {\n      this.fn = options;\n      return;\n    }\n\n    if (!has(options, 'is')) throw new TypeError('`is:` is required for `when()` conditions');\n    if (!options.then && !options.otherwise) throw new TypeError('either `then:` or `otherwise:` is required for `when()` conditions');\n    let {\n      is,\n      then,\n      otherwise\n    } = options;\n    let check = typeof is === 'function' ? is : (...values) => values.every(value => value === is);\n\n    this.fn = function (...args) {\n      let options = args.pop();\n      let schema = args.pop();\n      let branch = check(...args) ? then : otherwise;\n      if (!branch) return undefined;\n      if (typeof branch === 'function') return branch(schema);\n      return schema.concat(branch.resolve(options));\n    };\n  }\n\n  resolve(base, options) {\n    let values = this.refs.map(ref => ref.getValue(options == null ? void 0 : options.value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context));\n    let schema = this.fn.apply(base, values.concat(base, options));\n    if (schema === undefined || schema === base) return base;\n    if (!isSchema(schema)) throw new TypeError('conditions must return a schema object');\n    return schema.resolve(options);\n  }\n\n}\n\nexport default Condition;","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeFunction from \"@babel/runtime/helpers/esm/isNativeFunction\";\nimport construct from \"@babel/runtime/helpers/esm/construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","export default function toArray(value) {\n  return value == null ? [] : [].concat(value);\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport printValue from './util/printValue';\nimport toArray from './util/toArray';\nlet strReg = /\\$\\{\\s*(\\w+)\\s*\\}/g;\nexport default class ValidationError extends Error {\n  static formatError(message, params) {\n    const path = params.label || params.path || 'this';\n    if (path !== params.path) params = _extends({}, params, {\n      path\n    });\n    if (typeof message === 'string') return message.replace(strReg, (_, key) => printValue(params[key]));\n    if (typeof message === 'function') return message(params);\n    return message;\n  }\n\n  static isError(err) {\n    return err && err.name === 'ValidationError';\n  }\n\n  constructor(errorOrErrors, value, field, type) {\n    super();\n    this.name = 'ValidationError';\n    this.value = value;\n    this.path = field;\n    this.type = type;\n    this.errors = [];\n    this.inner = [];\n    toArray(errorOrErrors).forEach(err => {\n      if (ValidationError.isError(err)) {\n        this.errors.push(...err.errors);\n        this.inner = this.inner.concat(err.inner.length ? err.inner : err);\n      } else {\n        this.errors.push(err);\n      }\n    });\n    this.message = this.errors.length > 1 ? `${this.errors.length} errors occurred` : this.errors[0];\n    if (Error.captureStackTrace) Error.captureStackTrace(this, ValidationError);\n  }\n\n}","import ValidationError from '../ValidationError';\n\nconst once = cb => {\n  let fired = false;\n  return (...args) => {\n    if (fired) return;\n    fired = true;\n    cb(...args);\n  };\n};\n\nexport default function runTests(options, cb) {\n  let {\n    endEarly,\n    tests,\n    args,\n    value,\n    errors,\n    sort,\n    path\n  } = options;\n  let callback = once(cb);\n  let count = tests.length;\n  const nestedErrors = [];\n  errors = errors ? errors : [];\n  if (!count) return errors.length ? callback(new ValidationError(errors, value, path)) : callback(null, value);\n\n  for (let i = 0; i < tests.length; i++) {\n    const test = tests[i];\n    test(args, function finishTestRun(err) {\n      if (err) {\n        // always return early for non validation errors\n        if (!ValidationError.isError(err)) {\n          return callback(err, value);\n        }\n\n        if (endEarly) {\n          err.value = value;\n          return callback(err, value);\n        }\n\n        nestedErrors.push(err);\n      }\n\n      if (--count <= 0) {\n        if (nestedErrors.length) {\n          if (sort) nestedErrors.sort(sort); //show parent errors after the nested ones: name.first, name\n\n          if (errors.length) nestedErrors.push(...errors);\n          errors = nestedErrors;\n        }\n\n        if (errors.length) {\n          callback(new ValidationError(errors, value, path), value);\n          return;\n        }\n\n        callback(null, value);\n      }\n    });\n  }\n}","import { getter } from 'property-expr';\nconst prefixes = {\n  context: '$',\n  value: '.'\n};\nexport function create(key, options) {\n  return new Reference(key, options);\n}\nexport default class Reference {\n  constructor(key, options = {}) {\n    if (typeof key !== 'string') throw new TypeError('ref must be a string, got: ' + key);\n    this.key = key.trim();\n    if (key === '') throw new TypeError('ref must be a non-empty string');\n    this.isContext = this.key[0] === prefixes.context;\n    this.isValue = this.key[0] === prefixes.value;\n    this.isSibling = !this.isContext && !this.isValue;\n    let prefix = this.isContext ? prefixes.context : this.isValue ? prefixes.value : '';\n    this.path = this.key.slice(prefix.length);\n    this.getter = this.path && getter(this.path, true);\n    this.map = options.map;\n  }\n\n  getValue(value, parent, context) {\n    let result = this.isContext ? context : this.isValue ? value : parent;\n    if (this.getter) result = this.getter(result || {});\n    if (this.map) result = this.map(result);\n    return result;\n  }\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {Object=} options.context\n   * @param {Object=} options.parent\n   */\n\n\n  cast(value, options) {\n    return this.getValue(value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context);\n  }\n\n  resolve() {\n    return this;\n  }\n\n  describe() {\n    return {\n      type: 'ref',\n      key: this.key\n    };\n  }\n\n  toString() {\n    return `Ref(${this.key})`;\n  }\n\n  static isRef(value) {\n    return value && value.__isYupRef;\n  }\n\n} // @ts-ignore\n\nReference.prototype.__isYupRef = true;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport mapValues from 'lodash/mapValues';\nimport ValidationError from '../ValidationError';\nimport Ref from '../Reference';\nexport default function createValidation(config) {\n  function validate(_ref, cb) {\n    let {\n      value,\n      path = '',\n      label,\n      options,\n      originalValue,\n      sync\n    } = _ref,\n        rest = _objectWithoutPropertiesLoose(_ref, [\"value\", \"path\", \"label\", \"options\", \"originalValue\", \"sync\"]);\n\n    const {\n      name,\n      test,\n      params,\n      message\n    } = config;\n    let {\n      parent,\n      context\n    } = options;\n\n    function resolve(item) {\n      return Ref.isRef(item) ? item.getValue(value, parent, context) : item;\n    }\n\n    function createError(overrides = {}) {\n      const nextParams = mapValues(_extends({\n        value,\n        originalValue,\n        label,\n        path: overrides.path || path\n      }, params, overrides.params), resolve);\n      const error = new ValidationError(ValidationError.formatError(overrides.message || message, nextParams), value, nextParams.path, overrides.type || name);\n      error.params = nextParams;\n      return error;\n    }\n\n    let ctx = _extends({\n      path,\n      parent,\n      type: name,\n      createError,\n      resolve,\n      options,\n      originalValue\n    }, rest);\n\n    if (!sync) {\n      try {\n        Promise.resolve(test.call(ctx, value, ctx)).then(validOrError => {\n          if (ValidationError.isError(validOrError)) cb(validOrError);else if (!validOrError) cb(createError());else cb(null, validOrError);\n        });\n      } catch (err) {\n        cb(err);\n      }\n\n      return;\n    }\n\n    let result;\n\n    try {\n      var _ref2;\n\n      result = test.call(ctx, value, ctx);\n\n      if (typeof ((_ref2 = result) == null ? void 0 : _ref2.then) === 'function') {\n        throw new Error(`Validation test of type: \"${ctx.type}\" returned a Promise during a synchronous validate. ` + `This test will finish after the validate call has returned`);\n      }\n    } catch (err) {\n      cb(err);\n      return;\n    }\n\n    if (ValidationError.isError(result)) cb(result);else if (!result) cb(createError());else cb(null, result);\n  }\n\n  validate.OPTIONS = config;\n  return validate;\n}","import { forEach } from 'property-expr';\n\nlet trim = part => part.substr(0, part.length - 1).substr(1);\n\nexport function getIn(schema, path, value, context = value) {\n  let parent, lastPart, lastPartDebug; // root path: ''\n\n  if (!path) return {\n    parent,\n    parentPath: path,\n    schema\n  };\n  forEach(path, (_part, isBracket, isArray) => {\n    let part = isBracket ? trim(_part) : _part;\n    schema = schema.resolve({\n      context,\n      parent,\n      value\n    });\n\n    if (schema.innerType) {\n      let idx = isArray ? parseInt(part, 10) : 0;\n\n      if (value && idx >= value.length) {\n        throw new Error(`Yup.reach cannot resolve an array item at index: ${_part}, in the path: ${path}. ` + `because there is no value at that index. `);\n      }\n\n      parent = value;\n      value = value && value[idx];\n      schema = schema.innerType;\n    } // sometimes the array index part of a path doesn't exist: \"nested.arr.child\"\n    // in these cases the current part is the next schema and should be processed\n    // in this iteration. For cases where the index signature is included this\n    // check will fail and we'll handle the `child` part on the next iteration like normal\n\n\n    if (!isArray) {\n      if (!schema.fields || !schema.fields[part]) throw new Error(`The schema does not contain the path: ${path}. ` + `(failed at: ${lastPartDebug} which is a type: \"${schema._type}\")`);\n      parent = value;\n      value = value && value[part];\n      schema = schema.fields[part];\n    }\n\n    lastPart = part;\n    lastPartDebug = isBracket ? '[' + _part + ']' : '.' + _part;\n  });\n  return {\n    schema,\n    parent,\n    parentPath: lastPart\n  };\n}\n\nconst reach = (obj, path, value, context) => getIn(obj, path, value, context).schema;\n\nexport default reach;","import Reference from '../Reference';\nexport default class ReferenceSet {\n  constructor() {\n    this.list = new Set();\n    this.refs = new Map();\n  }\n\n  get size() {\n    return this.list.size + this.refs.size;\n  }\n\n  describe() {\n    const description = [];\n\n    for (const item of this.list) description.push(item);\n\n    for (const [, ref] of this.refs) description.push(ref.describe());\n\n    return description;\n  }\n\n  toArray() {\n    return Array.from(this.list).concat(Array.from(this.refs.values()));\n  }\n\n  add(value) {\n    Reference.isRef(value) ? this.refs.set(value.key, value) : this.list.add(value);\n  }\n\n  delete(value) {\n    Reference.isRef(value) ? this.refs.delete(value.key) : this.list.delete(value);\n  }\n\n  has(value, resolve) {\n    if (this.list.has(value)) return true;\n    let item,\n        values = this.refs.values();\n\n    while (item = values.next(), !item.done) if (resolve(item.value) === value) return true;\n\n    return false;\n  }\n\n  clone() {\n    const next = new ReferenceSet();\n    next.list = new Set(this.list);\n    next.refs = new Map(this.refs);\n    return next;\n  }\n\n  merge(newItems, removeItems) {\n    const next = this.clone();\n    newItems.list.forEach(value => next.add(value));\n    newItems.refs.forEach(value => next.add(value));\n    removeItems.list.forEach(value => next.delete(value));\n    removeItems.refs.forEach(value => next.delete(value));\n    return next;\n  }\n\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n// @ts-ignore\nimport cloneDeep from 'nanoclone';\nimport { mixed as locale } from './locale';\nimport Condition from './Condition';\nimport runTests from './util/runTests';\nimport createValidation from './util/createValidation';\nimport printValue from './util/printValue';\nimport Ref from './Reference';\nimport { getIn } from './util/reach';\nimport toArray from './util/toArray';\nimport ValidationError from './ValidationError';\nimport ReferenceSet from './util/ReferenceSet';\nexport default class BaseSchema {\n  constructor(options) {\n    this.deps = [];\n    this.conditions = [];\n    this._whitelist = new ReferenceSet();\n    this._blacklist = new ReferenceSet();\n    this.exclusiveTests = Object.create(null);\n    this.tests = [];\n    this.transforms = [];\n    this.withMutation(() => {\n      this.typeError(locale.notType);\n    });\n    this.type = (options == null ? void 0 : options.type) || 'mixed';\n    this.spec = _extends({\n      strip: false,\n      strict: false,\n      abortEarly: true,\n      recursive: true,\n      nullable: false,\n      presence: 'optional'\n    }, options == null ? void 0 : options.spec);\n  } // TODO: remove\n\n\n  get _type() {\n    return this.type;\n  }\n\n  _typeCheck(_value) {\n    return true;\n  }\n\n  clone(spec) {\n    if (this._mutate) {\n      if (spec) Object.assign(this.spec, spec);\n      return this;\n    } // if the nested value is a schema we can skip cloning, since\n    // they are already immutable\n\n\n    const next = Object.create(Object.getPrototypeOf(this)); // @ts-expect-error this is readonly\n\n    next.type = this.type;\n    next._typeError = this._typeError;\n    next._whitelistError = this._whitelistError;\n    next._blacklistError = this._blacklistError;\n    next._whitelist = this._whitelist.clone();\n    next._blacklist = this._blacklist.clone();\n    next.exclusiveTests = _extends({}, this.exclusiveTests); // @ts-expect-error this is readonly\n\n    next.deps = [...this.deps];\n    next.conditions = [...this.conditions];\n    next.tests = [...this.tests];\n    next.transforms = [...this.transforms];\n    next.spec = cloneDeep(_extends({}, this.spec, spec));\n    return next;\n  }\n\n  label(label) {\n    var next = this.clone();\n    next.spec.label = label;\n    return next;\n  }\n\n  meta(...args) {\n    if (args.length === 0) return this.spec.meta;\n    let next = this.clone();\n    next.spec.meta = Object.assign(next.spec.meta || {}, args[0]);\n    return next;\n  } // withContext<TContext extends AnyObject>(): BaseSchema<\n  //   TCast,\n  //   TContext,\n  //   TOutput\n  // > {\n  //   return this as any;\n  // }\n\n\n  withMutation(fn) {\n    let before = this._mutate;\n    this._mutate = true;\n    let result = fn(this);\n    this._mutate = before;\n    return result;\n  }\n\n  concat(schema) {\n    if (!schema || schema === this) return this;\n    if (schema.type !== this.type && this.type !== 'mixed') throw new TypeError(`You cannot \\`concat()\\` schema's of different types: ${this.type} and ${schema.type}`);\n    let base = this;\n    let combined = schema.clone();\n\n    const mergedSpec = _extends({}, base.spec, combined.spec); // if (combined.spec.nullable === UNSET)\n    //   mergedSpec.nullable = base.spec.nullable;\n    // if (combined.spec.presence === UNSET)\n    //   mergedSpec.presence = base.spec.presence;\n\n\n    combined.spec = mergedSpec;\n    combined._typeError || (combined._typeError = base._typeError);\n    combined._whitelistError || (combined._whitelistError = base._whitelistError);\n    combined._blacklistError || (combined._blacklistError = base._blacklistError); // manually merge the blacklist/whitelist (the other `schema` takes\n    // precedence in case of conflicts)\n\n    combined._whitelist = base._whitelist.merge(schema._whitelist, schema._blacklist);\n    combined._blacklist = base._blacklist.merge(schema._blacklist, schema._whitelist); // start with the current tests\n\n    combined.tests = base.tests;\n    combined.exclusiveTests = base.exclusiveTests; // manually add the new tests to ensure\n    // the deduping logic is consistent\n\n    combined.withMutation(next => {\n      schema.tests.forEach(fn => {\n        next.test(fn.OPTIONS);\n      });\n    });\n    return combined;\n  }\n\n  isType(v) {\n    if (this.spec.nullable && v === null) return true;\n    return this._typeCheck(v);\n  }\n\n  resolve(options) {\n    let schema = this;\n\n    if (schema.conditions.length) {\n      let conditions = schema.conditions;\n      schema = schema.clone();\n      schema.conditions = [];\n      schema = conditions.reduce((schema, condition) => condition.resolve(schema, options), schema);\n      schema = schema.resolve(options);\n    }\n\n    return schema;\n  }\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {*=} options.parent\n   * @param {*=} options.context\n   */\n\n\n  cast(value, options = {}) {\n    let resolvedSchema = this.resolve(_extends({\n      value\n    }, options));\n\n    let result = resolvedSchema._cast(value, options);\n\n    if (value !== undefined && options.assert !== false && resolvedSchema.isType(result) !== true) {\n      let formattedValue = printValue(value);\n      let formattedResult = printValue(result);\n      throw new TypeError(`The value of ${options.path || 'field'} could not be cast to a value ` + `that satisfies the schema type: \"${resolvedSchema._type}\". \\n\\n` + `attempted value: ${formattedValue} \\n` + (formattedResult !== formattedValue ? `result of cast: ${formattedResult}` : ''));\n    }\n\n    return result;\n  }\n\n  _cast(rawValue, _options) {\n    let value = rawValue === undefined ? rawValue : this.transforms.reduce((value, fn) => fn.call(this, value, rawValue, this), rawValue);\n\n    if (value === undefined) {\n      value = this.getDefault();\n    }\n\n    return value;\n  }\n\n  _validate(_value, options = {}, cb) {\n    let {\n      sync,\n      path,\n      from = [],\n      originalValue = _value,\n      strict = this.spec.strict,\n      abortEarly = this.spec.abortEarly\n    } = options;\n    let value = _value;\n\n    if (!strict) {\n      // this._validating = true;\n      value = this._cast(value, _extends({\n        assert: false\n      }, options)); // this._validating = false;\n    } // value is cast, we can check if it meets type requirements\n\n\n    let args = {\n      value,\n      path,\n      options,\n      originalValue,\n      schema: this,\n      label: this.spec.label,\n      sync,\n      from\n    };\n    let initialTests = [];\n    if (this._typeError) initialTests.push(this._typeError);\n    if (this._whitelistError) initialTests.push(this._whitelistError);\n    if (this._blacklistError) initialTests.push(this._blacklistError);\n    runTests({\n      args,\n      value,\n      path,\n      sync,\n      tests: initialTests,\n      endEarly: abortEarly\n    }, err => {\n      if (err) return void cb(err, value);\n      runTests({\n        tests: this.tests,\n        args,\n        path,\n        sync,\n        value,\n        endEarly: abortEarly\n      }, cb);\n    });\n  }\n\n  validate(value, options, maybeCb) {\n    let schema = this.resolve(_extends({}, options, {\n      value\n    })); // callback case is for nested validations\n\n    return typeof maybeCb === 'function' ? schema._validate(value, options, maybeCb) : new Promise((resolve, reject) => schema._validate(value, options, (err, value) => {\n      if (err) reject(err);else resolve(value);\n    }));\n  }\n\n  validateSync(value, options) {\n    let schema = this.resolve(_extends({}, options, {\n      value\n    }));\n    let result;\n\n    schema._validate(value, _extends({}, options, {\n      sync: true\n    }), (err, value) => {\n      if (err) throw err;\n      result = value;\n    });\n\n    return result;\n  }\n\n  isValid(value, options) {\n    return this.validate(value, options).then(() => true, err => {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    });\n  }\n\n  isValidSync(value, options) {\n    try {\n      this.validateSync(value, options);\n      return true;\n    } catch (err) {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    }\n  }\n\n  _getDefault() {\n    let defaultValue = this.spec.default;\n\n    if (defaultValue == null) {\n      return defaultValue;\n    }\n\n    return typeof defaultValue === 'function' ? defaultValue.call(this) : cloneDeep(defaultValue);\n  }\n\n  getDefault(options) {\n    let schema = this.resolve(options || {});\n    return schema._getDefault();\n  }\n\n  default(def) {\n    if (arguments.length === 0) {\n      return this._getDefault();\n    }\n\n    let next = this.clone({\n      default: def\n    });\n    return next;\n  }\n\n  strict(isStrict = true) {\n    var next = this.clone();\n    next.spec.strict = isStrict;\n    return next;\n  }\n\n  _isPresent(value) {\n    return value != null;\n  }\n\n  defined(message = locale.defined) {\n    return this.test({\n      message,\n      name: 'defined',\n      exclusive: true,\n\n      test(value) {\n        return value !== undefined;\n      }\n\n    });\n  }\n\n  required(message = locale.required) {\n    return this.clone({\n      presence: 'required'\n    }).withMutation(s => s.test({\n      message,\n      name: 'required',\n      exclusive: true,\n\n      test(value) {\n        return this.schema._isPresent(value);\n      }\n\n    }));\n  }\n\n  notRequired() {\n    var next = this.clone({\n      presence: 'optional'\n    });\n    next.tests = next.tests.filter(test => test.OPTIONS.name !== 'required');\n    return next;\n  }\n\n  nullable(isNullable = true) {\n    var next = this.clone({\n      nullable: isNullable !== false\n    });\n    return next;\n  }\n\n  transform(fn) {\n    var next = this.clone();\n    next.transforms.push(fn);\n    return next;\n  }\n  /**\n   * Adds a test function to the schema's queue of tests.\n   * tests can be exclusive or non-exclusive.\n   *\n   * - exclusive tests, will replace any existing tests of the same name.\n   * - non-exclusive: can be stacked\n   *\n   * If a non-exclusive test is added to a schema with an exclusive test of the same name\n   * the exclusive test is removed and further tests of the same name will be stacked.\n   *\n   * If an exclusive test is added to a schema with non-exclusive tests of the same name\n   * the previous tests are removed and further tests of the same name will replace each other.\n   */\n\n\n  test(...args) {\n    let opts;\n\n    if (args.length === 1) {\n      if (typeof args[0] === 'function') {\n        opts = {\n          test: args[0]\n        };\n      } else {\n        opts = args[0];\n      }\n    } else if (args.length === 2) {\n      opts = {\n        name: args[0],\n        test: args[1]\n      };\n    } else {\n      opts = {\n        name: args[0],\n        message: args[1],\n        test: args[2]\n      };\n    }\n\n    if (opts.message === undefined) opts.message = locale.default;\n    if (typeof opts.test !== 'function') throw new TypeError('`test` is a required parameters');\n    let next = this.clone();\n    let validate = createValidation(opts);\n    let isExclusive = opts.exclusive || opts.name && next.exclusiveTests[opts.name] === true;\n\n    if (opts.exclusive) {\n      if (!opts.name) throw new TypeError('Exclusive tests must provide a unique `name` identifying the test');\n    }\n\n    if (opts.name) next.exclusiveTests[opts.name] = !!opts.exclusive;\n    next.tests = next.tests.filter(fn => {\n      if (fn.OPTIONS.name === opts.name) {\n        if (isExclusive) return false;\n        if (fn.OPTIONS.test === validate.OPTIONS.test) return false;\n      }\n\n      return true;\n    });\n    next.tests.push(validate);\n    return next;\n  }\n\n  when(keys, options) {\n    if (!Array.isArray(keys) && typeof keys !== 'string') {\n      options = keys;\n      keys = '.';\n    }\n\n    let next = this.clone();\n    let deps = toArray(keys).map(key => new Ref(key));\n    deps.forEach(dep => {\n      // @ts-ignore\n      if (dep.isSibling) next.deps.push(dep.key);\n    });\n    next.conditions.push(new Condition(deps, options));\n    return next;\n  }\n\n  typeError(message) {\n    var next = this.clone();\n    next._typeError = createValidation({\n      message,\n      name: 'typeError',\n\n      test(value) {\n        if (value !== undefined && !this.schema.isType(value)) return this.createError({\n          params: {\n            type: this.schema._type\n          }\n        });\n        return true;\n      }\n\n    });\n    return next;\n  }\n\n  oneOf(enums, message = locale.oneOf) {\n    var next = this.clone();\n    enums.forEach(val => {\n      next._whitelist.add(val);\n\n      next._blacklist.delete(val);\n    });\n    next._whitelistError = createValidation({\n      message,\n      name: 'oneOf',\n\n      test(value) {\n        if (value === undefined) return true;\n        let valids = this.schema._whitelist;\n        return valids.has(value, this.resolve) ? true : this.createError({\n          params: {\n            values: valids.toArray().join(', ')\n          }\n        });\n      }\n\n    });\n    return next;\n  }\n\n  notOneOf(enums, message = locale.notOneOf) {\n    var next = this.clone();\n    enums.forEach(val => {\n      next._blacklist.add(val);\n\n      next._whitelist.delete(val);\n    });\n    next._blacklistError = createValidation({\n      message,\n      name: 'notOneOf',\n\n      test(value) {\n        let invalids = this.schema._blacklist;\n        if (invalids.has(value, this.resolve)) return this.createError({\n          params: {\n            values: invalids.toArray().join(', ')\n          }\n        });\n        return true;\n      }\n\n    });\n    return next;\n  }\n\n  strip(strip = true) {\n    let next = this.clone();\n    next.spec.strip = strip;\n    return next;\n  }\n\n  describe() {\n    const next = this.clone();\n    const {\n      label,\n      meta\n    } = next.spec;\n    const description = {\n      meta,\n      label,\n      type: next.type,\n      oneOf: next._whitelist.describe(),\n      notOneOf: next._blacklist.describe(),\n      tests: next.tests.map(fn => ({\n        name: fn.OPTIONS.name,\n        params: fn.OPTIONS.params\n      })).filter((n, idx, list) => list.findIndex(c => c.name === n.name) === idx)\n    };\n    return description;\n  }\n\n}\n// @ts-expect-error\nBaseSchema.prototype.__isYupSchema__ = true;\n\nfor (const method of ['validate', 'validateSync']) BaseSchema.prototype[`${method}At`] = function (path, value, options = {}) {\n  const {\n    parent,\n    parentPath,\n    schema\n  } = getIn(this, path, value, options.context);\n  return schema[method](parent && parent[parentPath], _extends({}, options, {\n    parent,\n    path\n  }));\n};\n\nfor (const alias of ['equals', 'is']) BaseSchema.prototype[alias] = BaseSchema.prototype.oneOf;\n\nfor (const alias of ['not', 'nope']) BaseSchema.prototype[alias] = BaseSchema.prototype.notOneOf;\n\nBaseSchema.prototype.optional = BaseSchema.prototype.notRequired;","import BaseSchema from './schema';\nconst Mixed = BaseSchema;\nexport default Mixed;\nexport function create() {\n  return new Mixed();\n} // XXX: this is using the Base schema so that `addMethod(mixed)` works as a base class\n\ncreate.prototype = Mixed.prototype;","export default (value => value == null);","import BaseSchema from './schema';\nimport { boolean as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nexport function create() {\n  return new BooleanSchema();\n}\nexport default class BooleanSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'boolean'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (!this.isType(value)) {\n          if (/^(true|1)$/i.test(String(value))) return true;\n          if (/^(false|0)$/i.test(String(value))) return false;\n        }\n\n        return value;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    if (v instanceof Boolean) v = v.valueOf();\n    return typeof v === 'boolean';\n  }\n\n  isTrue(message = locale.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'true'\n      },\n\n      test(value) {\n        return isAbsent(value) || value === true;\n      }\n\n    });\n  }\n\n  isFalse(message = locale.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'false'\n      },\n\n      test(value) {\n        return isAbsent(value) || value === false;\n      }\n\n    });\n  }\n\n}\ncreate.prototype = BooleanSchema.prototype;","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import { string as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport BaseSchema from './schema'; // eslint-disable-next-line\n\nlet rEmail = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i; // eslint-disable-next-line\n\nlet rUrl = /^((https?|ftp):)?\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i; // eslint-disable-next-line\n\nlet rUUID = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\nlet isTrimmed = value => isAbsent(value) || value === value.trim();\n\nlet objStringTag = {}.toString();\nexport function create() {\n  return new StringSchema();\n}\nexport default class StringSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'string'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        if (Array.isArray(value)) return value;\n        const strValue = value != null && value.toString ? value.toString() : value;\n        if (strValue === objStringTag) return value;\n        return strValue;\n      });\n    });\n  }\n\n  _typeCheck(value) {\n    if (value instanceof String) value = value.valueOf();\n    return typeof value === 'string';\n  }\n\n  _isPresent(value) {\n    return super._isPresent(value) && !!value.length;\n  }\n\n  length(length, message = locale.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message = locale.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    return this.test({\n      name: 'max',\n      exclusive: true,\n      message,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  matches(regex, options) {\n    let excludeEmptyString = false;\n    let message;\n    let name;\n\n    if (options) {\n      if (typeof options === 'object') {\n        ({\n          excludeEmptyString = false,\n          message,\n          name\n        } = options);\n      } else {\n        message = options;\n      }\n    }\n\n    return this.test({\n      name: name || 'matches',\n      message: message || locale.matches,\n      params: {\n        regex\n      },\n      test: value => isAbsent(value) || value === '' && excludeEmptyString || value.search(regex) !== -1\n    });\n  }\n\n  email(message = locale.email) {\n    return this.matches(rEmail, {\n      name: 'email',\n      message,\n      excludeEmptyString: true\n    });\n  }\n\n  url(message = locale.url) {\n    return this.matches(rUrl, {\n      name: 'url',\n      message,\n      excludeEmptyString: true\n    });\n  }\n\n  uuid(message = locale.uuid) {\n    return this.matches(rUUID, {\n      name: 'uuid',\n      message,\n      excludeEmptyString: false\n    });\n  } //-- transforms --\n\n\n  ensure() {\n    return this.default('').transform(val => val === null ? '' : val);\n  }\n\n  trim(message = locale.trim) {\n    return this.transform(val => val != null ? val.trim() : val).test({\n      message,\n      name: 'trim',\n      test: isTrimmed\n    });\n  }\n\n  lowercase(message = locale.lowercase) {\n    return this.transform(value => !isAbsent(value) ? value.toLowerCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      test: value => isAbsent(value) || value === value.toLowerCase()\n    });\n  }\n\n  uppercase(message = locale.uppercase) {\n    return this.transform(value => !isAbsent(value) ? value.toUpperCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      test: value => isAbsent(value) || value === value.toUpperCase()\n    });\n  }\n\n}\ncreate.prototype = StringSchema.prototype; //\n// String Interfaces\n//","import { number as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport BaseSchema from './schema';\n\nlet isNaN = value => value != +value;\n\nexport function create() {\n  return new NumberSchema();\n}\nexport default class NumberSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'number'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        let parsed = value;\n\n        if (typeof parsed === 'string') {\n          parsed = parsed.replace(/\\s/g, '');\n          if (parsed === '') return NaN; // don't use parseFloat to avoid positives on alpha-numeric strings\n\n          parsed = +parsed;\n        }\n\n        if (this.isType(parsed)) return parsed;\n        return parseFloat(parsed);\n      });\n    });\n  }\n\n  _typeCheck(value) {\n    if (value instanceof Number) value = value.valueOf();\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  min(min, message = locale.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(max);\n      }\n\n    });\n  }\n\n  lessThan(less, message = locale.lessThan) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        less\n      },\n\n      test(value) {\n        return isAbsent(value) || value < this.resolve(less);\n      }\n\n    });\n  }\n\n  moreThan(more, message = locale.moreThan) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        more\n      },\n\n      test(value) {\n        return isAbsent(value) || value > this.resolve(more);\n      }\n\n    });\n  }\n\n  positive(msg = locale.positive) {\n    return this.moreThan(0, msg);\n  }\n\n  negative(msg = locale.negative) {\n    return this.lessThan(0, msg);\n  }\n\n  integer(message = locale.integer) {\n    return this.test({\n      name: 'integer',\n      message,\n      test: val => isAbsent(val) || Number.isInteger(val)\n    });\n  }\n\n  truncate() {\n    return this.transform(value => !isAbsent(value) ? value | 0 : value);\n  }\n\n  round(method) {\n    var _method;\n\n    var avail = ['ceil', 'floor', 'round', 'trunc'];\n    method = ((_method = method) == null ? void 0 : _method.toLowerCase()) || 'round'; // this exists for symemtry with the new Math.trunc\n\n    if (method === 'trunc') return this.truncate();\n    if (avail.indexOf(method.toLowerCase()) === -1) throw new TypeError('Only valid options for round() are: ' + avail.join(', '));\n    return this.transform(value => !isAbsent(value) ? Math[method](value) : value);\n  }\n\n}\ncreate.prototype = NumberSchema.prototype; //\n// Number Interfaces\n//","/* eslint-disable */\n\n/**\n *\n * Date.parse with progressive enhancement for ISO 8601 <https://github.com/csnover/js-iso8601>\n * NON-CONFORMANT EDITION.\n *  2011 Colin Snover <http://zetafleet.com>\n * Released under MIT license.\n */\n//              1 YYYY                 2 MM        3 DD              4 HH     5 mm        6 ss            7 msec         8 Z 9     10 tzHH    11 tzmm\nvar isoReg = /^(\\d{4}|[+\\-]\\d{6})(?:-?(\\d{2})(?:-?(\\d{2}))?)?(?:[ T]?(\\d{2}):?(\\d{2})(?::?(\\d{2})(?:[,\\.](\\d{1,}))?)?(?:(Z)|([+\\-])(\\d{2})(?::?(\\d{2}))?)?)?$/;\nexport default function parseIsoDate(date) {\n  var numericKeys = [1, 4, 5, 6, 7, 10, 11],\n      minutesOffset = 0,\n      timestamp,\n      struct;\n\n  if (struct = isoReg.exec(date)) {\n    // avoid NaN timestamps caused by undefined values being passed to Date.UTC\n    for (var i = 0, k; k = numericKeys[i]; ++i) struct[k] = +struct[k] || 0; // allow undefined days and months\n\n\n    struct[2] = (+struct[2] || 1) - 1;\n    struct[3] = +struct[3] || 1; // allow arbitrary sub-second precision beyond milliseconds\n\n    struct[7] = struct[7] ? String(struct[7]).substr(0, 3) : 0; // timestamps without timezone identifiers should be considered local time\n\n    if ((struct[8] === undefined || struct[8] === '') && (struct[9] === undefined || struct[9] === '')) timestamp = +new Date(struct[1], struct[2], struct[3], struct[4], struct[5], struct[6], struct[7]);else {\n      if (struct[8] !== 'Z' && struct[9] !== undefined) {\n        minutesOffset = struct[10] * 60 + struct[11];\n        if (struct[9] === '+') minutesOffset = 0 - minutesOffset;\n      }\n\n      timestamp = Date.UTC(struct[1], struct[2], struct[3], struct[4], struct[5] + minutesOffset, struct[6], struct[7]);\n    }\n  } else timestamp = Date.parse ? Date.parse(date) : NaN;\n\n  return timestamp;\n}","// @ts-ignore\nimport isoParse from './util/isodate';\nimport { date as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport Ref from './Reference';\nimport BaseSchema from './schema';\nlet invalidDate = new Date('');\n\nlet isDate = obj => Object.prototype.toString.call(obj) === '[object Date]';\n\nexport function create() {\n  return new DateSchema();\n}\nexport default class DateSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'date'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        value = isoParse(value); // 0 is a valid timestamp equivalent to 1970-01-01T00:00:00Z(unix epoch) or before.\n\n        return !isNaN(value) ? new Date(value) : invalidDate;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return isDate(v) && !isNaN(v.getTime());\n  }\n\n  prepareParam(ref, name) {\n    let param;\n\n    if (!Ref.isRef(ref)) {\n      let cast = this.cast(ref);\n      if (!this._typeCheck(cast)) throw new TypeError(`\\`${name}\\` must be a Date or a value that can be \\`cast()\\` to a Date`);\n      param = cast;\n    } else {\n      param = ref;\n    }\n\n    return param;\n  }\n\n  min(min, message = locale.min) {\n    let limit = this.prepareParam(min, 'min');\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(limit);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    var limit = this.prepareParam(max, 'max');\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(limit);\n      }\n\n    });\n  }\n\n}\nDateSchema.INVALID_DATE = invalidDate;\ncreate.prototype = DateSchema.prototype;\ncreate.INVALID_DATE = invalidDate;","import has from 'lodash/has'; // @ts-expect-error\n\nimport toposort from 'toposort';\nimport { split } from 'property-expr';\nimport Ref from '../Reference';\nimport isSchema from './isSchema';\nexport default function sortFields(fields, excludes = []) {\n  let edges = [];\n  let nodes = [];\n\n  function addNode(depPath, key) {\n    var node = split(depPath)[0];\n    if (!~nodes.indexOf(node)) nodes.push(node);\n    if (!~excludes.indexOf(`${key}-${node}`)) edges.push([key, node]);\n  }\n\n  for (const key in fields) if (has(fields, key)) {\n    let value = fields[key];\n    if (!~nodes.indexOf(key)) nodes.push(key);\n    if (Ref.isRef(value) && value.isSibling) addNode(value.path, key);else if (isSchema(value) && 'deps' in value) value.deps.forEach(path => addNode(path, key));\n  }\n\n  return toposort.array(nodes, edges).reverse();\n}","function findIndex(arr, err) {\n  let idx = Infinity;\n  arr.some((key, ii) => {\n    var _err$path;\n\n    if (((_err$path = err.path) == null ? void 0 : _err$path.indexOf(key)) !== -1) {\n      idx = ii;\n      return true;\n    }\n  });\n  return idx;\n}\n\nexport default function sortByKeyOrder(keys) {\n  return (a, b) => {\n    return findIndex(keys, a) - findIndex(keys, b);\n  };\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport has from 'lodash/has';\nimport snakeCase from 'lodash/snakeCase';\nimport camelCase from 'lodash/camelCase';\nimport mapKeys from 'lodash/mapKeys';\nimport mapValues from 'lodash/mapValues';\nimport { getter } from 'property-expr';\nimport { object as locale } from './locale';\nimport sortFields from './util/sortFields';\nimport sortByKeyOrder from './util/sortByKeyOrder';\nimport runTests from './util/runTests';\nimport ValidationError from './ValidationError';\nimport BaseSchema from './schema';\n\nlet isObject = obj => Object.prototype.toString.call(obj) === '[object Object]';\n\nfunction unknown(ctx, value) {\n  let known = Object.keys(ctx.fields);\n  return Object.keys(value).filter(key => known.indexOf(key) === -1);\n}\n\nconst defaultSort = sortByKeyOrder([]);\nexport default class ObjectSchema extends BaseSchema {\n  constructor(spec) {\n    super({\n      type: 'object'\n    });\n    this.fields = Object.create(null);\n    this._sortErrors = defaultSort;\n    this._nodes = [];\n    this._excludedEdges = [];\n    this.withMutation(() => {\n      this.transform(function coerce(value) {\n        if (typeof value === 'string') {\n          try {\n            value = JSON.parse(value);\n          } catch (err) {\n            value = null;\n          }\n        }\n\n        if (this.isType(value)) return value;\n        return null;\n      });\n\n      if (spec) {\n        this.shape(spec);\n      }\n    });\n  }\n\n  _typeCheck(value) {\n    return isObject(value) || typeof value === 'function';\n  }\n\n  _cast(_value, options = {}) {\n    var _options$stripUnknown;\n\n    let value = super._cast(_value, options); //should ignore nulls here\n\n\n    if (value === undefined) return this.getDefault();\n    if (!this._typeCheck(value)) return value;\n    let fields = this.fields;\n    let strip = (_options$stripUnknown = options.stripUnknown) != null ? _options$stripUnknown : this.spec.noUnknown;\n\n    let props = this._nodes.concat(Object.keys(value).filter(v => this._nodes.indexOf(v) === -1));\n\n    let intermediateValue = {}; // is filled during the transform below\n\n    let innerOptions = _extends({}, options, {\n      parent: intermediateValue,\n      __validating: options.__validating || false\n    });\n\n    let isChanged = false;\n\n    for (const prop of props) {\n      let field = fields[prop];\n      let exists = has(value, prop);\n\n      if (field) {\n        let fieldValue;\n        let inputValue = value[prop]; // safe to mutate since this is fired in sequence\n\n        innerOptions.path = (options.path ? `${options.path}.` : '') + prop; // innerOptions.value = value[prop];\n\n        field = field.resolve({\n          value: inputValue,\n          context: options.context,\n          parent: intermediateValue\n        });\n        let fieldSpec = 'spec' in field ? field.spec : undefined;\n        let strict = fieldSpec == null ? void 0 : fieldSpec.strict;\n\n        if (fieldSpec == null ? void 0 : fieldSpec.strip) {\n          isChanged = isChanged || prop in value;\n          continue;\n        }\n\n        fieldValue = !options.__validating || !strict ? // TODO: use _cast, this is double resolving\n        field.cast(value[prop], innerOptions) : value[prop];\n\n        if (fieldValue !== undefined) {\n          intermediateValue[prop] = fieldValue;\n        }\n      } else if (exists && !strip) {\n        intermediateValue[prop] = value[prop];\n      }\n\n      if (intermediateValue[prop] !== value[prop]) {\n        isChanged = true;\n      }\n    }\n\n    return isChanged ? intermediateValue : value;\n  }\n\n  _validate(_value, opts = {}, callback) {\n    let errors = [];\n    let {\n      sync,\n      from = [],\n      originalValue = _value,\n      abortEarly = this.spec.abortEarly,\n      recursive = this.spec.recursive\n    } = opts;\n    from = [{\n      schema: this,\n      value: originalValue\n    }, ...from]; // this flag is needed for handling `strict` correctly in the context of\n    // validation vs just casting. e.g strict() on a field is only used when validating\n\n    opts.__validating = true;\n    opts.originalValue = originalValue;\n    opts.from = from;\n\n    super._validate(_value, opts, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || abortEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !isObject(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value;\n\n      let tests = this._nodes.map(key => (_, cb) => {\n        let path = key.indexOf('.') === -1 ? (opts.path ? `${opts.path}.` : '') + key : `${opts.path || ''}[\"${key}\"]`;\n        let field = this.fields[key];\n\n        if (field && 'validate' in field) {\n          field.validate(value[key], _extends({}, opts, {\n            // @ts-ignore\n            path,\n            from,\n            // inner fields are always strict:\n            // 1. this isn't strict so the casting will also have cast inner values\n            // 2. this is strict in which case the nested values weren't cast either\n            strict: true,\n            parent: value,\n            originalValue: originalValue[key]\n          }), cb);\n          return;\n        }\n\n        cb(null);\n      });\n\n      runTests({\n        sync,\n        tests,\n        value,\n        errors,\n        endEarly: abortEarly,\n        sort: this._sortErrors,\n        path: opts.path\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.fields = _extends({}, this.fields);\n    next._nodes = this._nodes;\n    next._excludedEdges = this._excludedEdges;\n    next._sortErrors = this._sortErrors;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    let nextFields = next.fields;\n\n    for (let [field, schemaOrRef] of Object.entries(this.fields)) {\n      const target = nextFields[field];\n\n      if (target === undefined) {\n        nextFields[field] = schemaOrRef;\n      } else if (target instanceof BaseSchema && schemaOrRef instanceof BaseSchema) {\n        nextFields[field] = schemaOrRef.concat(target);\n      }\n    }\n\n    return next.withMutation(() => next.shape(nextFields));\n  }\n\n  getDefaultFromShape() {\n    let dft = {};\n\n    this._nodes.forEach(key => {\n      const field = this.fields[key];\n      dft[key] = 'default' in field ? field.getDefault() : undefined;\n    });\n\n    return dft;\n  }\n\n  _getDefault() {\n    if ('default' in this.spec) {\n      return super._getDefault();\n    } // if there is no default set invent one\n\n\n    if (!this._nodes.length) {\n      return undefined;\n    }\n\n    return this.getDefaultFromShape();\n  }\n\n  shape(additions, excludes = []) {\n    let next = this.clone();\n    let fields = Object.assign(next.fields, additions);\n    next.fields = fields;\n    next._sortErrors = sortByKeyOrder(Object.keys(fields));\n\n    if (excludes.length) {\n      if (!Array.isArray(excludes[0])) excludes = [excludes];\n      let keys = excludes.map(([first, second]) => `${first}-${second}`);\n      next._excludedEdges = next._excludedEdges.concat(keys);\n    }\n\n    next._nodes = sortFields(fields, next._excludedEdges);\n    return next;\n  }\n\n  pick(keys) {\n    const picked = {};\n\n    for (const key of keys) {\n      if (this.fields[key]) picked[key] = this.fields[key];\n    }\n\n    return this.clone().withMutation(next => {\n      next.fields = {};\n      return next.shape(picked);\n    });\n  }\n\n  omit(keys) {\n    const next = this.clone();\n    const fields = next.fields;\n    next.fields = {};\n\n    for (const key of keys) {\n      delete fields[key];\n    }\n\n    return next.withMutation(() => next.shape(fields));\n  }\n\n  from(from, to, alias) {\n    let fromGetter = getter(from, true);\n    return this.transform(obj => {\n      if (obj == null) return obj;\n      let newObj = obj;\n\n      if (has(obj, from)) {\n        newObj = _extends({}, obj);\n        if (!alias) delete newObj[from];\n        newObj[to] = fromGetter(obj);\n      }\n\n      return newObj;\n    });\n  }\n\n  noUnknown(noAllow = true, message = locale.noUnknown) {\n    if (typeof noAllow === 'string') {\n      message = noAllow;\n      noAllow = true;\n    }\n\n    let next = this.test({\n      name: 'noUnknown',\n      exclusive: true,\n      message: message,\n\n      test(value) {\n        if (value == null) return true;\n        const unknownKeys = unknown(this.schema, value);\n        return !noAllow || unknownKeys.length === 0 || this.createError({\n          params: {\n            unknown: unknownKeys.join(', ')\n          }\n        });\n      }\n\n    });\n    next.spec.noUnknown = noAllow;\n    return next;\n  }\n\n  unknown(allow = true, message = locale.noUnknown) {\n    return this.noUnknown(!allow, message);\n  }\n\n  transformKeys(fn) {\n    return this.transform(obj => obj && mapKeys(obj, (_, key) => fn(key)));\n  }\n\n  camelCase() {\n    return this.transformKeys(camelCase);\n  }\n\n  snakeCase() {\n    return this.transformKeys(snakeCase);\n  }\n\n  constantCase() {\n    return this.transformKeys(key => snakeCase(key).toUpperCase());\n  }\n\n  describe() {\n    let base = super.describe();\n    base.fields = mapValues(this.fields, value => value.describe());\n    return base;\n  }\n\n}\nexport function create(spec) {\n  return new ObjectSchema(spec);\n}\ncreate.prototype = ObjectSchema.prototype;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport isAbsent from './util/isAbsent';\nimport isSchema from './util/isSchema';\nimport printValue from './util/printValue';\nimport { array as locale } from './locale';\nimport runTests from './util/runTests';\nimport ValidationError from './ValidationError';\nimport BaseSchema from './schema';\nexport function create(type) {\n  return new ArraySchema(type);\n}\nexport default class ArraySchema extends BaseSchema {\n  constructor(type) {\n    super({\n      type: 'array'\n    }); // `undefined` specifically means uninitialized, as opposed to\n    // \"no subtype\"\n\n    this.innerType = type;\n    this.withMutation(() => {\n      this.transform(function (values) {\n        if (typeof values === 'string') try {\n          values = JSON.parse(values);\n        } catch (err) {\n          values = null;\n        }\n        return this.isType(values) ? values : null;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return Array.isArray(v);\n  }\n\n  get _subType() {\n    return this.innerType;\n  }\n\n  _cast(_value, _opts) {\n    const value = super._cast(_value, _opts); //should ignore nulls here\n\n\n    if (!this._typeCheck(value) || !this.innerType) return value;\n    let isChanged = false;\n    const castArray = value.map((v, idx) => {\n      const castElement = this.innerType.cast(v, _extends({}, _opts, {\n        path: `${_opts.path || ''}[${idx}]`\n      }));\n\n      if (castElement !== v) {\n        isChanged = true;\n      }\n\n      return castElement;\n    });\n    return isChanged ? castArray : value;\n  }\n\n  _validate(_value, options = {}, callback) {\n    var _options$abortEarly, _options$recursive;\n\n    let errors = [];\n    let sync = options.sync;\n    let path = options.path;\n    let innerType = this.innerType;\n    let endEarly = (_options$abortEarly = options.abortEarly) != null ? _options$abortEarly : this.spec.abortEarly;\n    let recursive = (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive;\n    let originalValue = options.originalValue != null ? options.originalValue : _value;\n\n    super._validate(_value, options, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || endEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !innerType || !this._typeCheck(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value; // #950 Ensure that sparse array empty slots are validated\n\n      let tests = new Array(value.length);\n\n      for (let idx = 0; idx < value.length; idx++) {\n        let item = value[idx];\n        let path = `${options.path || ''}[${idx}]`; // object._validate note for isStrict explanation\n\n        let innerOptions = _extends({}, options, {\n          path,\n          strict: true,\n          parent: value,\n          index: idx,\n          originalValue: originalValue[idx]\n        });\n\n        tests[idx] = (_, cb) => innerType.validate(item, innerOptions, cb);\n      }\n\n      runTests({\n        sync,\n        path,\n        value,\n        errors,\n        endEarly,\n        tests\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.innerType = this.innerType;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    next.innerType = this.innerType;\n    if (schema.innerType) next.innerType = next.innerType ? // @ts-expect-error Lazy doesn't have concat()\n    next.innerType.concat(schema.innerType) : schema.innerType;\n    return next;\n  }\n\n  of(schema) {\n    // FIXME: this should return a new instance of array without the default to be\n    let next = this.clone();\n    if (!isSchema(schema)) throw new TypeError('`array.of()` sub-schema must be a valid yup schema not: ' + printValue(schema)); // FIXME(ts):\n\n    next.innerType = schema;\n    return next;\n  }\n\n  length(length, message = locale.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message) {\n    message = message || locale.min;\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      // FIXME(ts): Array<typeof T>\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message) {\n    message = message || locale.max;\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  ensure() {\n    return this.default(() => []).transform((val, original) => {\n      // We don't want to return `null` for nullable schema\n      if (this._typeCheck(val)) return val;\n      return original == null ? [] : [].concat(original);\n    });\n  }\n\n  compact(rejector) {\n    let reject = !rejector ? v => !!v : (v, i, a) => !rejector(v, i, a);\n    return this.transform(values => values != null ? values.filter(reject) : values);\n  }\n\n  describe() {\n    let base = super.describe();\n    if (this.innerType) base.innerType = this.innerType.describe();\n    return base;\n  }\n\n  nullable(isNullable = true) {\n    return super.nullable(isNullable);\n  }\n\n  defined() {\n    return super.defined();\n  }\n\n  required(msg) {\n    return super.required(msg);\n  }\n\n}\ncreate.prototype = ArraySchema.prototype; //\n// Interfaces\n//","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  return (bth[buf[i + 0]] + bth[buf[i + 1]] + bth[buf[i + 2]] + bth[buf[i + 3]] + '-' + bth[buf[i + 4]] + bth[buf[i + 5]] + '-' + bth[buf[i + 6]] + bth[buf[i + 7]] + '-' + bth[buf[i + 8]] + bth[buf[i + 9]] + '-' + bth[buf[i + 10]] + bth[buf[i + 11]] + bth[buf[i + 12]] + bth[buf[i + 13]] + bth[buf[i + 14]] + bth[buf[i + 15]]).toLowerCase();\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  if (typeof options === 'string') {\n    buf = options === 'binary' ? new Uint8Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    var start = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[start + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return bytesToUuid(rnds);\n}\n\nexport default v4;"],"sourceRoot":""}